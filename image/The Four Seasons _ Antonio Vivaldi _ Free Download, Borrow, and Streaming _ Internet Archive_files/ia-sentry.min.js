// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var Nl=Object.defineProperty,lm=Object.defineProperties;var cm=Object.getOwnPropertyDescriptors;var sa=Object.getOwnPropertySymbols;var Ol=Object.prototype.hasOwnProperty,Ll=Object.prototype.propertyIsEnumerable;var Gi=(e,t,n)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))Ol.call(t,n)&&Gi(e,n,t[n]);if(sa)for(var n of sa(t))Ll.call(t,n)&&Gi(e,n,t[n]);return e},w=(e,t)=>lm(e,cm(t));var Bt=(e,t)=>{var n={};for(var r in e)Ol.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&sa)for(var r of sa(e))t.indexOf(r)<0&&Ll.call(e,r)&&(n[r]=e[r]);return n};var um=(e,t)=>{for(var n in t)Nl(e,n,{get:t[n],enumerable:!0})};var Ne=(e,t,n)=>(Gi(e,typeof t!="symbol"?t+"":t,n),n);var U=(e,t,n)=>new Promise((r,a)=>{var i=l=>{try{o(n.next(l))}catch(c){a(c)}},s=l=>{try{o(n.throw(l))}catch(c){a(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,s);o((n=n.apply(e,t)).next())});var Rl={};um(Rl,{BrowserClient:()=>Ih,OpenFeatureIntegrationHook:()=>sI,SDK_VERSION:()=>st,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>Te,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>ne,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>Nn,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Le,Scope:()=>Rt,WINDOW:()=>H,addBreadcrumb:()=>Je,addEventProcessor:()=>La,addIntegration:()=>Rr,breadcrumbsIntegration:()=>Nh,browserApiErrorsIntegration:()=>Oh,browserProfilingIntegration:()=>XT,browserSessionIntegration:()=>Lh,browserTracingIntegration:()=>Cl,buildLaunchDarklyFlagUsedHandler:()=>aI,captureConsoleIntegration:()=>ad,captureEvent:()=>Zt,captureException:()=>bt,captureFeedback:()=>Wa,captureMessage:()=>Cn,captureSession:()=>Ar,chromeStackLineParser:()=>xh,close:()=>Cu,consoleLoggingIntegration:()=>gd,contextLinesIntegration:()=>Kk,continueTrace:()=>_u,createTransport:()=>Da,createUserFeedbackEnvelope:()=>Jw,dedupeIntegration:()=>ja,defaultRequestInstrumentationOptions:()=>xl,defaultStackLineParsers:()=>Ah,defaultStackParser:()=>Rh,diagnoseSdkConnectivity:()=>uI,endSession:()=>Pa,eventFiltersIntegration:()=>Ks,eventFromException:()=>kh,eventFromMessage:()=>Th,exceptionFromError:()=>zi,extraErrorDataIntegration:()=>od,featureFlagsIntegration:()=>fd,feedbackAsyncIntegration:()=>cw,feedbackIntegration:()=>uw,feedbackSyncIntegration:()=>uw,flush:()=>xu,forceLoad:()=>xk,functionToStringIntegration:()=>$a,geckoStackLineParser:()=>Ch,getActiveSpan:()=>le,getClient:()=>T,getCurrentScope:()=>j,getDefaultIntegrations:()=>Uh,getFeedback:()=>Wf,getGlobalScope:()=>Mn,getIsolationScope:()=>be,getReplay:()=>uf,getRootSpan:()=>fe,getSpanDescendants:()=>kn,getSpanStatusFromHttpCode:()=>Ms,getTraceData:()=>Nr,globalHandlersIntegration:()=>Ph,graphqlClientIntegration:()=>aT,httpClientIntegration:()=>Dk,httpContextIntegration:()=>Fh,inboundFiltersIntegration:()=>Ua,init:()=>Il,instrumentOutgoingRequests:()=>Gh,instrumentSupabaseClient:()=>Xs,isEnabled:()=>qs,isInitialized:()=>Au,lastEventId:()=>Oa,launchDarklyIntegration:()=>rI,lazyLoadIntegration:()=>Sh,linkedErrorsIntegration:()=>$h,logger:()=>Eh,makeBrowserOfflineTransport:()=>AT,makeFetchTransport:()=>Tl,makeMultiplexedTransport:()=>Gu,moduleMetadataIntegration:()=>rd,onLoad:()=>Ck,openFeatureIntegration:()=>iI,opera10StackLineParser:()=>Ww,opera11StackLineParser:()=>Yw,parameterize:()=>Js,registerSpanErrorInstrumentation:()=>xa,registerWebWorker:()=>fI,replayCanvasIntegration:()=>If,replayIntegration:()=>cf,reportingObserverIntegration:()=>Ok,rewriteFramesIntegration:()=>ld,sendFeedback:()=>cl,setContext:()=>Ma,setCurrentClient:()=>Vs,setExtra:()=>ku,setExtras:()=>wu,setHttpStatus:()=>un,setMeasurement:()=>Aa,setTag:()=>Na,setTags:()=>Tu,setUser:()=>Iu,showReportDialog:()=>Ak,spanToBaggageHeader:()=>fu,spanToJSON:()=>F,spanToTraceHeader:()=>Ps,spotlightBrowserIntegration:()=>tI,startBrowserTracingNavigationSpan:()=>Xh,startBrowserTracingPageLoadSpan:()=>Kh,startInactiveSpan:()=>ht,startNewTrace:()=>vu,startSession:()=>Cr,startSpan:()=>Ln,startSpanManual:()=>gu,statsigIntegration:()=>cI,supabaseIntegration:()=>ud,suppressTracing:()=>yu,thirdPartyErrorFilterIntegration:()=>pd,unleashIntegration:()=>oI,updateSpanName:()=>ou,webWorkerIntegration:()=>pI,winjsStackLineParser:()=>Hw,withActiveSpan:()=>dn,withIsolationScope:()=>qc,withScope:()=>Ue,zodErrorsIntegration:()=>dd});var wn=typeof Reflect=="object"?Reflect:null,Pl=wn&&typeof wn.apply=="function"?wn.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},oa;wn&&typeof wn.ownKeys=="function"?oa=wn.ownKeys:Object.getOwnPropertySymbols?oa=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:oa=function(e){return Object.getOwnPropertyNames(e)};function dm(e){console&&console.warn&&console.warn(e)}var Bl=Number.isNaN||function(e){return e!==e};function ie(){jl.call(this)}ie.EventEmitter=ie,ie.prototype._events=void 0,ie.prototype._eventsCount=0,ie.prototype._maxListeners=void 0;var Dl=10;function la(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ie,"defaultMaxListeners",{enumerable:!0,get:function(){return Dl},set:function(e){if(typeof e!="number"||e<0||Bl(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Dl=e}});function jl(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}ie.init=jl,ie.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Bl(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Hl(e){return e._maxListeners===void 0?ie.defaultMaxListeners:e._maxListeners}ie.prototype.getMaxListeners=function(){return Hl(this)},ie.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",a=this._events;if(a!==void 0)r=r&&a.error===void 0;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var o=a[e];if(o===void 0)return!1;if(typeof o=="function")Pl(o,this,t);else for(var l=o.length,c=zl(o,l),n=0;n<l;++n)Pl(c[n],this,t);return!0};function Fl(e,t,n,r){var a,i,s;if(la(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),s===void 0)s=i[t]=n,++e._eventsCount;else if(typeof s=="function"?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),a=Hl(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,dm(o)}return e}ie.prototype.addListener=function(e,t){return Fl(this,e,t,!1)},ie.prototype.on=ie.prototype.addListener,ie.prototype.prependListener=function(e,t){return Fl(this,e,t,!0)};function pm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=pm.bind(r);return a.listener=n,r.wrapFn=a,a}ie.prototype.once=function(e,t){return la(t),this.on(e,$l(this,e,t)),this},ie.prototype.prependOnceListener=function(e,t){return la(t),this.prependListener(e,$l(this,e,t)),this},ie.prototype.removeListener=function(e,t){var n,r,a,i,s;if(la(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,a=i;break}if(a<0)return this;a===0?n.shift():hm(n,a),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},ie.prototype.off=ie.prototype.removeListener,ie.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var a=Object.keys(n),i;for(r=0;r<a.length;++r)i=a[r],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function Ul(e,t,n){var r=e._events;if(r===void 0)return[];var a=r[t];return a===void 0?[]:typeof a=="function"?n?[a.listener||a]:[a]:n?mm(a):zl(a,a.length)}ie.prototype.listeners=function(e){return Ul(this,e,!0)},ie.prototype.rawListeners=function(e){return Ul(this,e,!1)};function fm(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):ie.prototype.listenerCount.call(e,t)}ie.listenerCount=fm,ie.prototype.listenerCount=function(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0},ie.prototype.eventNames=function(){return this._eventsCount>0?oa(this._events):[]};function zl(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function hm(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function mm(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Yi(e){let t=performance.now(),n=Math.floor(t/1e3),r=Math.floor(t*1e6-n*1e9);if(!e)return[n,r];let[a,i]=e;return[n-a,r-i]}Yi.bigint=function(){let[e,t]=Yi();return BigInt(e)*BigInt(1e9)+BigInt(t)};var Ji=class extends ie{constructor(){super();Ne(this,"title","browser");Ne(this,"browser",!0);Ne(this,"env",{});Ne(this,"argv",[]);Ne(this,"pid",0);Ne(this,"arch","unknown");Ne(this,"platform","browser");Ne(this,"version","");Ne(this,"versions",{});Ne(this,"emitWarning",()=>{throw new Error("process.emitWarning is not supported")});Ne(this,"binding",()=>{throw new Error("process.binding is not supported")});Ne(this,"cwd",()=>{throw new Error("process.cwd is not supported")});Ne(this,"chdir",n=>{throw new Error("process.chdir is not supported")});Ne(this,"umask",()=>18);Ne(this,"nextTick",(n,...r)=>queueMicrotask(()=>n(...r)));Ne(this,"hrtime",Yi)}},He=new Ji;if(typeof Deno<"u"){He.name="deno",He.browser=!1,He.pid=Deno.pid,He.cwd=()=>Deno.cwd(),He.chdir=t=>Deno.chdir(t),He.arch=Deno.build.arch,He.platform=Deno.build.os,He.version="v18.12.1",He.versions=h({node:"18.12.1",uv:"1.43.0",zlib:"1.2.11",brotli:"1.0.9",ares:"1.18.1",modules:"108",nghttp2:"1.47.0",napi:"8",llhttp:"6.0.10",openssl:"3.0.7+quic",cldr:"41.0",icu:"71.1",tz:"2022b",unicode:"14.0",ngtcp2:"0.8.1",nghttp3:"0.7.0"},Deno.version),He.env=new Proxy({},{get(t,n){return Deno.env.get(String(n))},ownKeys:()=>Reflect.ownKeys(Deno.env.toObject()),getOwnPropertyDescriptor:(t,n)=>{let r=Deno.env.toObject();if(n in Deno.env.toObject()){let a={enumerable:!0,configurable:!0};return typeof n=="string"&&(a.value=r[n]),a}},set(t,n,r){return Deno.env.set(String(n),String(r)),r}});let e=["","",...Deno.args];Object.defineProperty(e,"0",{get:Deno.execPath}),Object.defineProperty(e,"1",{get:()=>Deno.mainModule.startsWith("file:")?new URL(Deno.mainModule).pathname:join(Deno.cwd(),"$deno$node.js")}),He.argv=e}else{let e="/";He.cwd=()=>e,He.chdir=t=>e=t}var Ki=He;var ql=globalThis||(typeof window!="undefined"?window:self),C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$=globalThis,st="9.43.0";function Nt(){return mr($),$}function mr(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||st,t[st]=t[st]||{}}function gr(e,t,n=$){let r=n.__SENTRY__=n.__SENTRY__||{},a=r[st]=r[st]||{};return a[e]||(a[e]=t())}var vs=["debug","info","warn","error","log","assert","trace"],gm="Sentry Logger ",ya={};function St(e){if(!("console"in $))return e();let t=$.console,n={},r=Object.keys(ya);r.forEach(a=>{let i=ya[a];n[a]=t[a],t[a]=i});try{return e()}finally{r.forEach(a=>{t[a]=n[a]})}}function _m(){Ss().enabled=!0}function ym(){Ss().enabled=!1}function Oc(){return Ss().enabled}function vm(...e){bs("log",...e)}function bm(...e){bs("warn",...e)}function Sm(...e){bs("error",...e)}function bs(e,...t){C&&Oc()&&St(()=>{$.console[e](`${gm}[${e}]:`,...t)})}function Ss(){return C?gr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}var _={enable:_m,disable:ym,isEnabled:Oc,log:vm,warn:bm,error:Sm},tt="?",Wl=/\(error: (.*)\)/,Vl=/captureMessage|captureException/;function Es(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,a=0)=>{let i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){let l=s[o];if(l.length>1024)continue;let c=Wl.test(l)?l.replace(Wl,"$1"):l;if(!c.match(/\S*Error: /)){for(let d of t){let u=d(c);if(u){i.push(u);break}}if(i.length>=50+a)break}}return Em(i.slice(a))}}function Lc(e){return Array.isArray(e)?Es(...e):e}function Em(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(ca(t).function||"")&&t.pop(),t.reverse(),Vl.test(ca(t).function||"")&&(t.pop(),Vl.test(ca(t).function||"")&&t.pop()),t.slice(0,50).map(n=>w(h({},n),{filename:n.filename||ca(t).filename,function:n.function||tt}))}function ca(e){return e[e.length-1]||{}}var Xi="<anonymous>";function ct(e){try{return!e||typeof e!="function"?Xi:e.name||Xi}catch(t){return Xi}}function os(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch(r){return}}}var ma={},Gl={};function ut(e,t){ma[e]=ma[e]||[],ma[e].push(t)}function dt(e,t){if(!Gl[e]){Gl[e]=!0;try{t()}catch(n){C&&_.error(`Error while instrumenting ${e}`,n)}}}function Fe(e,t){let n=e&&ma[e];if(n)for(let r of n)try{r(t)}catch(a){C&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ct(r)}
Error:`,a)}}var Zi=null;function ws(e){let t="error";ut(t,e),dt(t,wm)}function wm(){Zi=$.onerror,$.onerror=function(e,t,n,r,a){return Fe("error",{column:r,error:a,line:n,msg:e,url:t}),Zi?Zi.apply(this,arguments):!1},$.onerror.__SENTRY_INSTRUMENTED__=!0}var Qi=null;function ks(e){let t="unhandledrejection";ut(t,e),dt(t,km)}function km(){Qi=$.onunhandledrejection,$.onunhandledrejection=function(e){return Fe("unhandledrejection",e),Qi?Qi.apply(this,arguments):!0},$.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}var Pc=Object.prototype.toString;function Ct(e){switch(Pc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return At(e,Error)}}function Rn(e,t){return Pc.call(e)===`[object ${t}]`}function Ts(e){return Rn(e,"ErrorEvent")}function Is(e){return Rn(e,"DOMError")}function Dc(e){return Rn(e,"DOMException")}function qe(e){return Rn(e,"String")}function _r(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Wt(e){return e===null||_r(e)||typeof e!="object"&&typeof e!="function"}function ot(e){return Rn(e,"Object")}function yr(e){return typeof Event<"u"&&At(e,Event)}function Tm(e){return typeof Element<"u"&&At(e,Element)}function Im(e){return Rn(e,"RegExp")}function vr(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function xm(e){return ot(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function At(e,t){try{return e instanceof t}catch(n){return!1}}function Fc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function $c(e){return typeof Request<"u"&&At(e,Request)}var xs=$,Cm=80;function Ae(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,a=[],i=0,s=0,o=" > ",l=o.length,c,d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||Cm;for(;n&&i++<r&&(c=Am(n,d),!(c==="html"||i>1&&s+a.length*l+c.length>=u));)a.push(c),s+=c.length,n=n.parentNode;return a.reverse().join(o)}catch(n){return"<unknown>"}}function Am(e,t){let n=e,r=[];if(!(n!=null&&n.tagName))return"";if(xs.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let a=t!=null&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(a!=null&&a.length)a.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let s=n.className;if(s&&qe(s)){let o=s.split(/\s+/);for(let l of o)r.push(`.${l}`)}}let i=["aria-label","type","name","title","alt"];for(let s of i){let o=n.getAttribute(s);o&&r.push(`[${s}="${o}"]`)}return r.join("")}function We(){try{return xs.document.location.href}catch(e){return""}}function Ia(e){if(!xs.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Tn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function es(e,t){let n=e,r=n.length;if(r<=150)return n;t>r&&(t=r);let a=Math.max(t-60,0);a<5&&(a=0);let i=Math.min(a+140,r);return i>r-5&&(i=r),i===r&&(a=Math.max(i-140,0)),n=n.slice(a,i),a>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function pr(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let a=e[r];try{Fc(a)?n.push("[VueViewModel]"):n.push(String(a))}catch(i){n.push("[value cannot be serialized]")}}return n.join(t)}function Rm(e,t,n=!1){return qe(e)?Im(t)?t.test(e):qe(t)?n?e===t:e.includes(t):!1:!1}function $e(e,t=[],n=!1){return t.some(r=>Rm(e,r,n))}function Ie(e,t,n){if(!(t in e))return;let r=e[t];if(typeof r!="function")return;let a=n(r);typeof a=="function"&&Cs(a,r);try{e[t]=a}catch(i){C&&_.log(`Failed to replace method "${t}" in object`,e)}}function Oe(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){C&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Cs(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Oe(e,"__sentry_original__",t)}catch(n){}}function br(e){return e.__sentry_original__}function Uc(e){if(Ct(e))return h({message:e.message,name:e.name,stack:e.stack},Jl(e));if(yr(e)){let t=h({type:e.type,target:Yl(e.target),currentTarget:Yl(e.currentTarget)},Jl(e));return typeof CustomEvent<"u"&&At(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Yl(e){try{return Tm(e)?Ae(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function Jl(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Bc(e,t=40){let n=Object.keys(Uc(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Tn(r,t);for(let a=n.length;a>0;a--){let i=n.slice(0,a).join(", ");if(!(i.length>t))return a===n.length?i:Tn(i,t)}return""}function Mm(){let e=$;return e.crypto||e.msCrypto}function Ce(e=Mm()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{let n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch(n){}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function jc(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Ht(e){let{message:t,event_id:n}=e;if(t)return t;let r=jc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Sr(e,t,n){let r=e.exception=e.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function pt(e,t){let n=jc(e);if(!n)return;let r={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism=h(h(h({},r),a),t),t&&"data"in t){let i=h(h({},a==null?void 0:a.data),t.data);n.mechanism.data=i}}function Hc(e,t,n=5){if(t.lineno===void 0)return;let r=e.length,a=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,a-n),a).map(s=>es(s,0));let i=Math.min(r-1,a);t.context_line=es(e[i],t.colno||0),t.post_context=e.slice(Math.min(a+1,r),a+1+n).map(s=>es(s,0))}function Kl(e){if(Nm(e))return!0;try{Oe(e,"__sentry_captured__",!0)}catch(t){}return!1}function Nm(e){try{return e.__sentry_captured__}catch(t){}}var zc=1e3;function Vt(){return Date.now()/zc}function Om(){let{performance:e}=$;if(!(e!=null&&e.now)||!e.timeOrigin)return Vt;let t=e.timeOrigin;return()=>(t+e.now())/zc}var ua;function pe(){return(ua!=null?ua:ua=Om())()}var ts;function Lm(){var c;let{performance:e}=$;if(!(e!=null&&e.now))return[void 0,"none"];let t=3600*1e3,n=e.now(),r=Date.now(),a=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=a<t,s=(c=e.timing)==null?void 0:c.navigationStart,o=typeof s=="number"?Math.abs(s+n-r):t,l=o<t;return i||l?a<=o?[e.timeOrigin,"timeOrigin"]:[s,"navigationStart"]:[r,"dateNow"]}function ge(){return ts||(ts=Lm()),ts[0]}function Pm(e){let t=pe(),n={sid:Ce(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Fm(n)};return e&&In(n,e),n}function In(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||pe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Ce()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Dm(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),In(e,n)}function Fm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Er(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;let r=h({},e);for(let a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=Er(r[a],t[a],n-1));return r}function yt(){return Ce()}function wr(){return Ce().substring(16)}var ls="_sentrySpan";function cn(e,t){t?Oe(e,ls,t):delete e[ls]}function fr(e){return e[ls]}var $m=100,Rt=class cs{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:yt(),sampleRand:Math.random()}}clone(){let t=new cs;return t._breadcrumbs=[...this._breadcrumbs],t._tags=h({},this._tags),t._extra=h({},this._extra),t._contexts=h({},this._contexts),this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata=h({},this._sdkProcessingMetadata),t._propagationContext=h({},this._propagationContext),t._client=this._client,t._lastEventId=this._lastEventId,cn(t,fr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&In(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags=h(h({},this._tags),t),this._notifyScopeListeners(),this}setTag(t,n){return this._tags=w(h({},this._tags),{[t]:n}),this._notifyScopeListeners(),this}setExtras(t){return this._extra=h(h({},this._extra),t),this._notifyScopeListeners(),this}setExtra(t,n){return this._extra=w(h({},this._extra),{[t]:n}),this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,r=n instanceof cs?n.getScopeData():ot(n)?t:void 0,{tags:a,extra:i,user:s,contexts:o,level:l,fingerprint:c=[],propagationContext:d}=r||{};return this._tags=h(h({},this._tags),a),this._extra=h(h({},this._extra),i),this._contexts=h(h({},this._contexts),o),s&&Object.keys(s).length&&(this._user=s),l&&(this._level=l),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,cn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:yt(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var i;let r=typeof n=="number"?n:$m;if(r<=0)return this;let a=w(h({timestamp:Vt()},t),{message:t.message?Tn(t.message,2048):t.message});return this._breadcrumbs.push(a),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(i=this._client)==null||i.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:fr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Er(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=(n==null?void 0:n.event_id)||Ce();if(!this._client)return C&&_.warn("No client configured on scope - will not capture exception!"),r;let a=new Error("Sentry syntheticException");return this._client.captureException(t,w(h({originalException:t,syntheticException:a},n),{event_id:r}),this),r}captureMessage(t,n,r){let a=(r==null?void 0:r.event_id)||Ce();if(!this._client)return C&&_.warn("No client configured on scope - will not capture message!"),a;let i=new Error(t);return this._client.captureMessage(t,n,w(h({originalException:t,syntheticException:i},r),{event_id:a}),this),a}captureEvent(t,n){let r=(n==null?void 0:n.event_id)||Ce();return this._client?(this._client.captureEvent(t,w(h({},n),{event_id:r}),this),r):(C&&_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}};function Um(){return gr("defaultCurrentScope",()=>new Rt)}function Bm(){return gr("defaultIsolationScope",()=>new Rt)}var jm=class{constructor(e,t){let n;e?n=e:n=new Rt;let r;t?r=t:r=new Rt,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t=this._pushScope(),n;try{n=e(t)}catch(r){throw this._popScope(),r}return vr(n)?n.then(r=>(this._popScope(),r),r=>{throw this._popScope(),r}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function xn(){let e=Nt(),t=mr(e);return t.stack=t.stack||new jm(Um(),Bm())}function Hm(e){return xn().withScope(e)}function zm(e,t){let n=xn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Xl(e){return xn().withScope(()=>e(xn().getIsolationScope()))}function qm(){return{withIsolationScope:Xl,withScope:Hm,withSetScope:zm,withSetIsolationScope:(e,t)=>Xl(t),getCurrentScope:()=>xn().getScope(),getIsolationScope:()=>xn().getIsolationScope()}}function Gt(e){let t=mr(e);return t.acs?t.acs:qm()}function j(){let e=Nt();return Gt(e).getCurrentScope()}function be(){let e=Nt();return Gt(e).getIsolationScope()}function Mn(){return gr("globalScope",()=>new Rt)}function Ue(...e){let t=Nt(),n=Gt(t);if(e.length===2){let[r,a]=e;return r?n.withSetScope(r,a):n.withScope(a)}return n.withScope(e[0])}function qc(...e){let t=Nt(),n=Gt(t);if(e.length===2){let[r,a]=e;return r?n.withSetIsolationScope(r,a):n.withIsolationScope(a)}return n.withIsolationScope(e[0])}function T(){return j().getClient()}function Wc(e){let t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:a}=t,i={trace_id:n,span_id:a||wr()};return r&&(i.parent_span_id=r),i}var Le="sentry.source",Nn="sentry.sample_rate",As="sentry.previous_trace_sample_rate",Te="sentry.op",ne="sentry.origin",hr="sentry.idle_span_finish_reason",Yt="sentry.measurement_unit",Jt="sentry.measurement_value",us="sentry.custom_span_name",Rs="sentry.profile_id",Ot="sentry.exclusive_time";var Vc="http.request.method",Gc="url.full",Yc="sentry.link.type";var Jc=2;function Ms(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function un(e,t){e.setAttribute("http.response.status_code",t);let n=Ms(t);n.message!=="unknown_error"&&e.setStatus(n)}var Kc="_sentryScope",Xc="_sentryIsolationScope";function Wm(e,t,n){e&&(Oe(e,Xc,n),Oe(e,Kc,t))}function va(e){return{scope:e[Kc],isolationScope:e[Xc]}}var Ns="sentry-",Vm=/^sentry-/,Gm=8192;function Zc(e){let t=Ym(e);if(!t)return;let n=Object.entries(t).reduce((r,[a,i])=>{if(a.match(Vm)){let s=a.slice(Ns.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Qc(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,a])=>(a&&(n[`${Ns}${r}`]=a),n),{});return Jm(t)}function Ym(e){if(!(!e||!qe(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=Zl(n);return Object.entries(r).forEach(([a,i])=>{t[a]=i}),t},{}):Zl(e)}function Zl(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch(r){return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Jm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],a)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=a===0?i:`${t},${i}`;return s.length>Gm?(C&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):s},"")}function zt(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}var eu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Km(e){if(!e)return;let t=e.match(eu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Os(e,t){let n=Km(e),r=Zc(t);if(!(n!=null&&n.traceId))return{traceId:yt(),sampleRand:Math.random()};let a=Xm(n,r);r&&(r.sample_rand=a.toString());let{traceId:i,parentSpanId:s,parentSampled:o}=n;return{traceId:i,parentSpanId:s,sampled:o,dsc:r||{},sampleRand:a}}function tu(e=yt(),t=wr(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Xm(e,t){let n=zt(t==null?void 0:t.sample_rand);if(n!==void 0)return n;let r=zt(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}var nu=0,Ls=1,Ql=!1;function Zm(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:a,parent_span_id:i,status:s,origin:o,links:l}=F(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:a,status:s,origin:o,links:l}}function ru(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),a=r?t:F(e).parent_span_id,i=va(e).scope,s=r?(i==null?void 0:i.getPropagationContext().propagationSpanId)||wr():t;return{parent_span_id:a,span_id:s,trace_id:n}}function Ps(e){let{traceId:t,spanId:n}=e.spanContext(),r=Kt(e);return tu(t,n,r)}function au(e){if(e&&e.length>0)return e.map(s=>{var o=s,{context:l}=o,c=l,{spanId:t,traceId:n,traceFlags:r}=c,a=Bt(c,["spanId","traceId","traceFlags"]),{attributes:i}=o;return h({span_id:t,trace_id:n,sampled:r===Ls,attributes:i},a)})}function on(e){return typeof e=="number"?ec(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?ec(e.getTime()):pe()}function ec(e){return e>9999999999?e/1e3:e}function F(e){var r;if(eg(e))return e.getSpanJSON();let{spanId:t,traceId:n}=e.spanContext();if(Qm(e)){let{attributes:a,startTime:i,name:s,endTime:o,status:l,links:c}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:a,description:s,parent_span_id:d,start_timestamp:on(i),timestamp:on(o)||void 0,status:iu(l),op:a[Te],origin:a[ne],links:au(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Qm(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function eg(e){return typeof e.getSpanJSON=="function"}function Kt(e){let{traceFlags:t}=e.spanContext();return t===Ls}function iu(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var ln="_sentryChildSpans",ds="_sentryRootSpan";function su(e,t){let n=e[ds]||e;Oe(t,ds,n),e[ln]?e[ln].add(t):Oe(e,ln,new Set([t]))}function tg(e,t){e[ln]&&e[ln].delete(t)}function kn(e){let t=new Set;function n(r){if(!t.has(r)&&Kt(r)){t.add(r);let a=r[ln]?Array.from(r[ln]):[];for(let i of a)n(i)}}return n(e),Array.from(t)}function fe(e){return e[ds]||e}function le(){let e=Nt(),t=Gt(e);return t.getActiveSpan?t.getActiveSpan():fr(j())}function ps(){Ql||(St(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Ql=!0)}function ou(e,t){e.updateName(t),e.setAttributes({[Le]:"custom",[us]:t})}var tc=!1;function xa(){if(tc)return;function e(){let t=le(),n=t&&fe(t);if(n){let r="internal_error";C&&_.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:2,message:r})}}e.tag="sentry_tracingErrorCallback",tc=!0,ws(e),ks(e)}function Mt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=e||((n=T())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}var kr="production",ng=/^o(\d+)\./,rg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ag(e){return e==="http"||e==="https"}function Xt(e,t=!1){let{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:l}=e;return`${o}://${l}${t&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function lu(e){let t=rg.exec(e);if(!t){St(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,a="",i="",s="",o=""]=t.slice(1),l="",c=o,d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){let u=c.match(/^\d+/);u&&(c=u[0])}return cu({host:i,pass:a,path:l,projectId:c,port:s,protocol:n,publicKey:r})}function cu(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function ig(e){if(!C)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(_.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?ag(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function sg(e){var t;return(t=e.match(ng))==null?void 0:t[1]}function uu(e){let t=typeof e=="string"?lu(e):cu(e);if(!(!t||!ig(t)))return t}var du="_frozenDsc";function ga(e,t){Oe(e,du,t)}function pu(e,t){let n=t.getOptions(),{publicKey:r,host:a}=t.getDsn()||{},i;n.orgId?i=String(n.orgId):a&&(i=sg(a));let s={environment:n.environment||kr,release:n.release,public_key:r,trace_id:e,org_id:i};return t.emit("createDsc",s),s}function Ds(e,t){let n=t.getPropagationContext();return n.dsc||pu(n.traceId,e)}function Ye(e){var m,g,y,v;let t=T();if(!t)return{};let n=fe(e),r=F(n),a=r.data,i=n.spanContext().traceState,s=(g=(m=i==null?void 0:i.get("sentry.sample_rate"))!=null?m:a[Nn])!=null?g:a[As];function o(E){return(typeof s=="number"||typeof s=="string")&&(E.sample_rate=`${s}`),E}let l=n[du];if(l)return o(l);let c=i==null?void 0:i.get("sentry.dsc"),d=c&&Zc(c);if(d)return o(d);let u=pu(e.spanContext().traceId,t),p=a[Le],f=r.description;return p!=="url"&&f&&(u.transaction=f),Mt()&&(u.sampled=String(Kt(n)),u.sample_rand=(v=i==null?void 0:i.get("sentry.sample_rand"))!=null?v:(y=va(n).scope)==null?void 0:y.getPropagationContext().sampleRand.toString()),o(u),t.emit("createDsc",u,n),u}function fu(e){let t=Ye(e);return Qc(t)}var vt=class{constructor(e={}){this._traceId=e.traceId||yt(),this._spanId=e.spanId||wr()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:nu}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}};function ze(e,t=100,n=1/0){try{return fs("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Fs(e,t=3,n=100*1024){let r=ze(e,t);return ug(r)>n?Fs(e,t-1,n):r}function fs(e,t,n=1/0,r=1/0,a=dg()){let[i,s]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let o=og(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;let l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(i(t))return"[Circular ~]";let c=t;if(c&&typeof c.toJSON=="function")try{let f=c.toJSON();return fs("",f,l-1,r,a)}catch(f){}let d=Array.isArray(t)?[]:{},u=0,p=Uc(t);for(let f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(u>=r){d[f]="[MaxProperties ~]";break}let m=p[f];d[f]=fs(f,m,l-1,r,a),u++}return s(t),d}function og(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof ql<"u"&&t===ql)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Fc(t))return"[VueViewModel]";if(xm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ct(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=lg(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function lg(e){let t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function cg(e){return~-encodeURI(e).split(/%..|./).length}function ug(e){return cg(JSON.stringify(e))}function dg(){let e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ft(e,t=[]){return[e,t]}function pg(e,t){let[n,r]=e;return[n,[...r,t]]}function qt(e,t){let n=e[1];for(let r of n){let a=r[0].type;if(t(r,a))return!0}return!1}function nc(e,t){return qt(e,(n,r)=>t.includes(r))}function ba(e){let t=mr($);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function fg(e){let t=mr($);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function On(e){let[t,n]=e,r=JSON.stringify(t);function a(i){typeof r=="string"?r=typeof i=="string"?r+i:[ba(r),i]:r.push(typeof i=="string"?ba(i):i)}for(let i of n){let[s,o]=i;if(a(`
${JSON.stringify(s)}
`),typeof o=="string"||o instanceof Uint8Array)a(o);else{let l;try{l=JSON.stringify(o)}catch(c){l=JSON.stringify(ze(o))}a(l)}}return typeof r=="string"?r:hg(r)}function hg(e){let t=e.reduce((a,i)=>a+i.length,0),n=new Uint8Array(t),r=0;for(let a of e)n.set(a,r),r+=a.length;return n}function hu(e){let t=typeof e=="string"?ba(e):e;function n(s){let o=t.subarray(0,s);return t=t.subarray(s+1),o}function r(){let s=t.indexOf(10);return s<0&&(s=t.length),JSON.parse(fg(n(s)))}let a=r(),i=[];for(;t.length;){let s=r(),o=typeof s.length=="number"?s.length:void 0;i.push([s,o?n(o):r()])}return[a,i]}function mg(e){return[{type:"span"},e]}function gg(e){let t=typeof e.data=="string"?ba(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}var _g={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function rc(e){return _g[e]}function Ca(e){if(!(e!=null&&e.sdk))return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function $s(e,t,n,r){var i;let a=(i=e.sdkProcessingMetadata)==null?void 0:i.dynamicSamplingContext;return h(h(h({event_id:e.event_id,sent_at:new Date().toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:Xt(r)}),a&&{trace:a})}function yg(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function vg(e,t,n,r){let a=Ca(n),i=h(h({sent_at:new Date().toISOString()},a&&{sdk:a}),!!r&&t&&{dsn:Xt(t)}),s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ft(i,[s])}function bg(e,t,n,r){let a=Ca(n),i=e.type&&e.type!=="replay_event"?e.type:"event";yg(e,n==null?void 0:n.sdk);let s=$s(e,a,r,t);return delete e.sdkProcessingMetadata,ft(s,[[{type:i},e]])}function Sg(e,t){function n(d){return!!d.trace_id&&!!d.public_key}let r=Ye(e[0]),a=t==null?void 0:t.getDsn(),i=t==null?void 0:t.getOptions().tunnel,s=h(h({sent_at:new Date().toISOString()},n(r)&&{trace:r}),!!i&&a&&{dsn:Xt(a)}),o=t==null?void 0:t.getOptions().beforeSendSpan,l=o?d=>{let u=F(d);return o(u)||(ps(),u)}:F,c=[];for(let d of e){let u=l(d);u&&c.push(mg(u))}return ft(s,c)}function Eg(e){if(!C)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=F(e),{spanId:a}=e.spanContext(),i=Kt(e),s=fe(e),o=s===e,l=`[Tracing] Starting ${i?"sampled":"unsampled"} ${o?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${a}`];if(r&&c.push(`parent ID: ${r}`),!o){let{op:d,description:u}=F(s);c.push(`root ID: ${s.spanContext().spanId}`),d&&c.push(`root op: ${d}`),u&&c.push(`root description: ${u}`)}_.log(`${l}
  ${c.join(`
  `)}`)}function wg(e){if(!C)return;let{description:t="< unknown name >",op:n="< unknown op >"}=F(e),{spanId:r}=e.spanContext(),a=fe(e)===e,i=`[Tracing] Finishing "${n}" ${a?"root ":""}span "${t}" with ID ${r}`;_.log(i)}function Aa(e,t,n,r=le()){let a=r&&fe(r);a&&(C&&_.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),a.addEvent(e,{[Jt]:t,[Yt]:n}))}function ac(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},a=r[Yt],i=r[Jt];typeof a=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:a})}),t}var ic=1e3,Ra=class{constructor(e={}){this._traceId=e.traceId||yt(),this._spanId=e.spanId||wr(),this._startTime=e.startTimestamp||pe(),this._links=e.links,this._attributes={},this.setAttributes(h({[ne]:"manual",[Te]:e.op},e.attributes)),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?Ls:nu}}setAttribute(e,t){return t===void 0?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=on(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Le,"custom"),this}end(e){this._endTime||(this._endTime=on(e),wg(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Te],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:iu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ne],profile_id:this._attributes[Rs],exclusive_time:this._attributes[Ot],measurements:ac(this._events),is_segment:this._isStandaloneSpan&&fe(this)===this||void 0,segment_id:this._isStandaloneSpan?fe(this).spanContext().spanId:void 0,links:au(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){C&&_.log("[Tracing] Adding an event to span:",e);let r=sc(t)?t:n||pe(),a=sc(t)?{}:t||{},i={name:e,time:on(r),attributes:a};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=T();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===fe(this)))return;if(this._isStandaloneSpan){this._sampled?Tg(Sg([this],e)):(C&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&(va(this).scope||j()).captureEvent(t)}_convertSpanToTransaction(){var o;if(!oc(F(this)))return;this._name||(C&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=va(this),n=(o=e==null?void 0:e.getScopeData().sdkProcessingMetadata)==null?void 0:o.normalizedRequest;if(this._sampled!==!0)return;let r=kn(this).filter(l=>l!==this&&!kg(l)).map(l=>F(l)).filter(oc),a=this._attributes[Le];delete this._attributes[us],r.forEach(l=>{delete l.data[us]});let i=h({contexts:{trace:Zm(this)},spans:r.length>ic?r.sort((l,c)=>l.start_timestamp-c.start_timestamp).slice(0,ic):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,dynamicSamplingContext:Ye(this)},request:n},a&&{transaction_info:{source:a}}),s=ac(this._events);return s&&Object.keys(s).length&&(C&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(s,void 0,2)),i.measurements=s),i}};function sc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function oc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function kg(e){return e instanceof Ra&&e.isStandaloneSpan()}function Tg(e){let t=T();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function mu(e,t,n=()=>{}){let r;try{r=e()}catch(a){throw t(a),n(),a}return Ig(r,t,n)}function Ig(e,t,n){return vr(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function xg(e,t,n){if(!Mt(e))return[!1];let r,a;typeof e.tracesSampler=="function"?(a=e.tracesSampler(w(h({},t),{inheritOrSampleWith:o=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):o})),r=!0):t.parentSampled!==void 0?a=t.parentSampled:typeof e.tracesSampleRate<"u"&&(a=e.tracesSampleRate,r=!0);let i=zt(a);if(i===void 0)return C&&_.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),[!1];if(!i)return C&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];let s=n<i;return s||C&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(a)})`),[s,i,r]}var Sa="__SENTRY_SUPPRESS_TRACING__";function Ln(e,t){let n=Tr();if(n.startSpan)return n.startSpan(e,t);let r=Bs(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return Ue(o,()=>bu(i)(()=>{let l=j(),c=js(l,i),d=e.onlyIfParent&&!c?new vt:Us({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return cn(l,d),mu(()=>t(d),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})},()=>{d.end()})}))}function gu(e,t){let n=Tr();if(n.startSpanManual)return n.startSpanManual(e,t);let r=Bs(e),{forceTransaction:a,parentSpan:i,scope:s}=e,o=s==null?void 0:s.clone();return Ue(o,()=>bu(i)(()=>{let l=j(),c=js(l,i),d=e.onlyIfParent&&!c?new vt:Us({parentSpan:c,spanArguments:r,forceTransaction:a,scope:l});return cn(l,d),mu(()=>t(d,()=>d.end()),()=>{let{status:u}=F(d);d.isRecording()&&(!u||u==="ok")&&d.setStatus({code:2,message:"internal_error"})})}))}function ht(e){let t=Tr();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Bs(e),{forceTransaction:r,parentSpan:a}=e;return(e.scope?i=>Ue(e.scope,i):a!==void 0?i=>dn(a,i):i=>i())(()=>{let i=j(),s=js(i,a);return e.onlyIfParent&&!s?new vt:Us({parentSpan:s,spanArguments:n,forceTransaction:r,scope:i})})}var _u=(e,t)=>{let n=Nt(),r=Gt(n);if(r.continueTrace)return r.continueTrace(e,t);let{sentryTrace:a,baggage:i}=e;return Ue(s=>{let o=Os(a,i);return s.setPropagationContext(o),t()})};function dn(e,t){let n=Tr();return n.withActiveSpan?n.withActiveSpan(e,t):Ue(r=>(cn(r,e||void 0),t(r)))}function yu(e){let t=Tr();return t.suppressTracing?t.suppressTracing(e):Ue(n=>{n.setSDKProcessingMetadata({[Sa]:!0});let r=e();return n.setSDKProcessingMetadata({[Sa]:void 0}),r})}function vu(e){return Ue(t=>(t.setPropagationContext({traceId:yt(),sampleRand:Math.random()}),C&&_.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),dn(null,e)))}function Us({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Mt()){let s=new vt;if(n||!e){let o=h({sampled:"false",sample_rate:"0",transaction:t.name},Ye(s));ga(s,o)}return s}let a=be(),i;if(e&&!n)i=Cg(e,r,t),su(e,i);else if(e){let s=Ye(e),{traceId:o,spanId:l}=e.spanContext(),c=Kt(e);i=lc(h({traceId:o,parentSpanId:l},t),r,c),ga(i,s)}else{let{traceId:s,dsc:o,parentSpanId:l,sampled:c}=h(h({},a.getPropagationContext()),r.getPropagationContext());i=lc(h({traceId:s,parentSpanId:l},t),r,c),o&&ga(i,o)}return Eg(i),Wm(i,r,a),i}function Bs(e){let t=h({isStandalone:(e.experimental||{}).standalone},e);if(e.startTime){let n=h({},t);return n.startTimestamp=on(e.startTime),delete n.startTime,n}return t}function Tr(){let e=Nt();return Gt(e)}function lc(e,t,n){var m,g;let r=T(),a=(r==null?void 0:r.getOptions())||{},{name:i=""}=e,s={spanAttributes:h({},e.attributes),spanName:i,parentSampled:n};r==null||r.emit("beforeSampling",s,{decision:!1});let o=(m=s.parentSampled)!=null?m:n,l=s.spanAttributes,c=t.getPropagationContext(),[d,u,p]=t.getScopeData().sdkProcessingMetadata[Sa]?[!1]:xg(a,{name:i,parentSampled:o,attributes:l,parentSampleRate:zt((g=c.dsc)==null?void 0:g.sample_rate)},c.sampleRand),f=new Ra(w(h({},e),{attributes:h({[Le]:"custom",[Nn]:u!==void 0&&p?u:void 0},l),sampled:d}));return!d&&r&&(C&&_.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Cg(e,t,n){let{spanId:r,traceId:a}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Sa]?!1:Kt(e),s=i?new Ra(w(h({},n),{parentSpanId:r,traceId:a,sampled:i})):new vt({traceId:a});su(e,s);let o=T();return o&&(o.emit("spanStart",s),n.endTimestamp&&o.emit("spanEnd",s)),s}function js(e,t){if(t)return t;if(t===null)return;let n=fr(e);if(!n)return;let r=T();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?fe(n):n}function bu(e){return e!==void 0?t=>dn(e,t):t=>t()}var dr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Ag="heartbeatFailed",Rg="idleTimeout",Mg="finalTimeout",Ng="externalFinish";function Hs(e,t={}){let n=new Map,r=!1,a,i=Ng,s=!t.disableAutoFinish,o=[],{idleTimeout:l=dr.idleTimeout,finalTimeout:c=dr.finalTimeout,childSpanTimeout:d=dr.childSpanTimeout,beforeSpanEnd:u}=t,p=T();if(!p||!Mt()){let b=new vt,k=h({sample_rate:"0",sampled:"false"},Ye(b));return ga(b,k),b}let f=j(),m=le(),g=Og(e);g.end=new Proxy(g.end,{apply(b,k,W){if(u&&u(g),k instanceof vt)return;let[S,...A]=W,P=S||pe(),I=on(P),R=kn(g).filter(D=>D!==g);if(!R.length)return O(I),Reflect.apply(b,k,[I,...A]);let Y=R.map(D=>F(D).timestamp).filter(D=>!!D),L=Y.length?Math.max(...Y):void 0,M=F(g).start_timestamp,B=Math.min(M?M+c/1e3:1/0,Math.max(M||-1/0,Math.min(I,L||1/0)));return O(B),Reflect.apply(b,k,[B,...A])}});function y(){a&&(clearTimeout(a),a=void 0)}function v(b){y(),a=setTimeout(()=>{!r&&n.size===0&&s&&(i=Rg,g.end(b))},l)}function E(b){a=setTimeout(()=>{!r&&s&&(i=Ag,g.end(b))},d)}function x(b){y(),n.set(b,!0);let k=pe();E(k+d/1e3)}function N(b){if(n.has(b)&&n.delete(b),n.size===0){let k=pe();v(k+l/1e3)}}function O(b){r=!0,n.clear(),o.forEach(P=>P()),cn(f,m);let k=F(g),{start_timestamp:W}=k;if(!W)return;k.data[hr]||g.setAttribute(hr,i),_.log(`[Tracing] Idle span "${k.op}" finished`);let S=kn(g).filter(P=>P!==g),A=0;S.forEach(P=>{P.isRecording()&&(P.setStatus({code:2,message:"cancelled"}),P.end(b),C&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(P,void 0,2)));let I=F(P),{timestamp:R=0,start_timestamp:Y=0}=I,L=Y<=b,M=(c+l)/1e3,B=R-Y<=M;if(C){let D=JSON.stringify(P,void 0,2);L?B||_.log("[Tracing] Discarding span since it finished after idle span final timeout",D):_.log("[Tracing] Discarding span since it happened after idle span was finished",D)}(!B||!L)&&(tg(g,P),A++)}),A>0&&g.setAttribute("sentry.idle_span_discarded_spans",A)}return o.push(p.on("spanStart",b=>{r||b===g||F(b).timestamp||b instanceof Ra&&b.isStandaloneSpan()||kn(g).includes(b)&&x(b.spanContext().spanId)})),o.push(p.on("spanEnd",b=>{r||N(b.spanContext().spanId)})),o.push(p.on("idleSpanEnableAutoFinish",b=>{b===g&&(s=!0,v(),n.size&&E())})),t.disableAutoFinish||v(),setTimeout(()=>{r||(g.setStatus({code:2,message:"deadline_exceeded"}),i=Mg,g.end())},c),g}function Og(e){let t=ht(e);return cn(j(),t),C&&_.log("[Tracing] Started span is an idle span"),t}var ns=0,cc=1,uc=2;function lt(e){return new xr(t=>{t(e)})}function Ir(e){return new xr((t,n)=>{n(e)})}var xr=class hs{constructor(t){this._state=ns,this._handlers=[],this._runExecutor(t)}then(t,n){return new hs((r,a)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(s){a(s)}},i=>{if(!n)a(i);else try{r(n(i))}catch(s){a(s)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new hs((n,r)=>{let a,i;return this.then(s=>{i=!1,a=s,t&&t()},s=>{i=!0,a=s,t&&t()}).then(()=>{if(i){r(a);return}n(a)})})}_executeHandlers(){if(this._state===ns)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===cc&&n[1](this._value),this._state===uc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){let n=(i,s)=>{if(this._state===ns){if(vr(s)){s.then(r,a);return}this._state=i,this._value=s,this._executeHandlers()}},r=i=>{n(cc,i)},a=i=>{n(uc,i)};try{t(r,a)}catch(i){a(i)}}};function ms(e,t,n,r=0){return new xr((a,i)=>{let s=e[r];if(t===null||typeof s!="function")a(t);else{let o=s(h({},t),n);C&&s.id&&o===null&&_.log(`Event processor "${s.id}" dropped event`),vr(o)?o.then(l=>ms(e,l,n,r+1).then(a)).then(null,i):ms(e,o,n,r+1).then(a).then(null,i)}})}function Lg(e,t){let{fingerprint:n,span:r,breadcrumbs:a,sdkProcessingMetadata:i}=t;Pg(e,t),r&&$g(e,r),Ug(e,n),Dg(e,a),Fg(e,i)}function Ea(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:f,span:m}=t;da(e,"extra",n),da(e,"tags",r),da(e,"user",a),da(e,"contexts",i),e.sdkProcessingMetadata=Er(e.sdkProcessingMetadata,o,2),s&&(e.level=s),f&&(e.transactionName=f),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext=h(h({},e.propagationContext),p)}function da(e,t,n){e[t]=Er(e[t],n,1)}function Pg(e,t){let{extra:n,tags:r,user:a,contexts:i,level:s,transactionName:o}=t;Object.keys(n).length&&(e.extra=h(h({},n),e.extra)),Object.keys(r).length&&(e.tags=h(h({},r),e.tags)),Object.keys(a).length&&(e.user=h(h({},a),e.user)),Object.keys(i).length&&(e.contexts=h(h({},i),e.contexts)),s&&(e.level=s),o&&e.type!=="transaction"&&(e.transaction=o)}function Dg(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Fg(e,t){e.sdkProcessingMetadata=h(h({},e.sdkProcessingMetadata),t)}function $g(e,t){e.contexts=h({trace:ru(t)},e.contexts),e.sdkProcessingMetadata=h({dynamicSamplingContext:Ye(t)},e.sdkProcessingMetadata);let n=fe(t),r=F(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Ug(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}var pa,dc,rs;function Su(e){let t=$._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return rs&&n.length===dc||(dc=n.length,rs=n.reduce((r,a)=>{var s;pa||(pa={});let i=pa[a];if(i)r[i[0]]=i[1];else{let o=e(a);for(let l=o.length-1;l>=0;l--){let c=(s=o[l])==null?void 0:s.filename,d=t[a];if(c&&d){r[c]=d,pa[a]=[c,d];break}}}return r},{})),rs}function Eu(e,t){let n=Su(e);if(!n)return[];let r=[];for(let a of t)a&&n[a]&&r.push({type:"sourcemap",code_file:a,debug_id:n[a]});return r}function zs(e,t,n,r,a,i){let{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=e,l=w(h({},t),{event_id:t.event_id||n.event_id||Ce(),timestamp:t.timestamp||Vt()}),c=n.integrations||e.integrations.map(g=>g.name);Bg(l,e),zg(l,c),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&jg(l,e.stackParser);let d=Wg(r,n.captureContext);n.mechanism&&pt(l,n.mechanism);let u=a?a.getEventProcessors():[],p=Mn().getScopeData();if(i){let g=i.getScopeData();Ea(p,g)}if(d){let g=d.getScopeData();Ea(p,g)}let f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Lg(l,p);let m=[...u,...p.eventProcessors];return ms(m,l,n).then(g=>(g&&Hg(g),typeof s=="number"&&s>0?qg(g,s,o):g))}function Bg(e,t){let{environment:n,release:r,dist:a,maxValueLength:i=250}=t;e.environment=e.environment||n||kr,!e.release&&r&&(e.release=r),!e.dist&&a&&(e.dist=a);let s=e.request;s!=null&&s.url&&(s.url=Tn(s.url,i))}function jg(e,t){var r,a;let n=Su(t);(a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function Hg(e){var r,a;let t={};if((a=(r=e.exception)==null?void 0:r.values)==null||a.forEach(i=>{var s,o;(o=(s=i.stacktrace)==null?void 0:s.frames)==null||o.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([i,s])=>{n.push({type:"sourcemap",code_file:i,debug_id:s})})}function zg(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function qg(e,t,n){var a,i;if(!e)return null;let r=h(h(h(h(h({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>h(h({},s),s.data&&{data:ze(s.data,t,n)}))}),e.user&&{user:ze(e.user,t,n)}),e.contexts&&{contexts:ze(e.contexts,t,n)}),e.extra&&{extra:ze(e.extra,t,n)});return(a=e.contexts)!=null&&a.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ze(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>h(h({},s),s.data&&{data:ze(s.data,t,n)}))),(i=e.contexts)!=null&&i.flags&&r.contexts&&(r.contexts.flags=ze(e.contexts.flags,3,n)),r}function Wg(e,t){if(!t)return e;let n=e?e.clone():new Rt;return n.update(t),n}function Vg(e){if(e)return Gg(e)?{captureContext:e}:Jg(e)?{captureContext:e}:e}function Gg(e){return e instanceof Rt||typeof e=="function"}var Yg=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Jg(e){return Object.keys(e).some(t=>Yg.includes(t))}function bt(e,t){return j().captureException(e,Vg(t))}function Cn(e,t){let n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return j().captureMessage(e,n,r)}function Zt(e,t){return j().captureEvent(e,t)}function Ma(e,t){be().setContext(e,t)}function wu(e){be().setExtras(e)}function ku(e,t){be().setExtra(e,t)}function Tu(e){be().setTags(e)}function Na(e,t){be().setTag(e,t)}function Iu(e){be().setUser(e)}function Oa(){return be().lastEventId()}function xu(e){return U(this,null,function*(){let t=T();return t?t.flush(e):(C&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function Cu(e){return U(this,null,function*(){let t=T();return t?t.close(e):(C&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function Au(){return!!T()}function qs(){let e=T();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function La(e){be().addEventProcessor(e)}function Cr(e){let t=be(),n=j(),{userAgent:r}=$.navigator||{},a=Pm(h(h({user:n.getUser()||t.getUser()},r&&{userAgent:r}),e)),i=t.getSession();return(i==null?void 0:i.status)==="ok"&&In(i,{status:"exited"}),Pa(),t.setSession(a),a}function Pa(){let e=be(),t=j().getSession()||e.getSession();t&&Dm(t),Ru(),e.setSession()}function Ru(){let e=be(),t=T(),n=e.getSession();n&&t&&t.captureSession(n)}function Ar(e=!1){if(e){Pa();return}Ru()}var Kg="7";function Mu(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Xg(e){return`${Mu(e)}${e.projectId}/envelope/`}function Zg(e,t){let n={sentry_version:Kg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Nu(e,t,n){return t||`${Xg(e)}?${Zg(e,n)}`}function Ou(e,t){let n=uu(e);if(!n)return"";let r=`${Mu(n)}embed/error-page/`,a=`dsn=${Xt(n)}`;for(let i in t)if(i!=="dsn"&&i!=="onClose")if(i==="user"){let s=t.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`;return`${r}?${a}`}var pc=[];function Qg(e){let t={};return e.forEach(n=>{let{name:r}=n,a=t[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Lu(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let a=n(t);r=Array.isArray(a)?a:[a]}else r=t;return Qg(r)}function e_(e,t){let n={};return t.forEach(r=>{r&&Pu(e,r,n)}),n}function fc(e,t){for(let n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Pu(e,t,n){if(n[t.name]){C&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,pc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),pc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>r(a,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),a=Object.assign((i,s)=>r(i,s,e),{id:t.name});e.addEventProcessor(a)}C&&_.log(`Integration installed: ${t.name}`)}function Rr(e){let t=T();if(!t){C&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function t_(e,t,n){let r=[{type:"client_report"},{timestamp:n||Vt(),discarded_events:e}];return ft(t?{dsn:t}:{},[r])}function Du(e){let t=[];e.message&&t.push(e.message);try{let n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch(n){}return t}function n_(e){var l,c,d;let{trace_id:t,parent_span_id:n,span_id:r,status:a,origin:i,data:s,op:o}=(c=(l=e.contexts)==null?void 0:l.trace)!=null?c:{};return{data:s!=null?s:{},description:e.transaction,op:o,parent_span_id:n,span_id:r!=null?r:"",start_timestamp:(d=e.start_timestamp)!=null?d:0,status:a,timestamp:e.timestamp,trace_id:t!=null?t:"",origin:i,profile_id:s==null?void 0:s[Rs],exclusive_time:s==null?void 0:s[Ot],measurements:e.measurements,is_segment:!0}}function r_(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:h(h(h({},e.data),e.profile_id&&{[Rs]:e.profile_id}),e.exclusive_time&&{[Ot]:e.exclusive_time})}},measurements:e.measurements}}var hc="Not capturing exception because it's already been captured.",mc="Discarded session because of missing or non-string release",Fu=Symbol.for("SentryInternalError"),$u=Symbol.for("SentryDoNotSendEventError");function _a(e){return{message:e,[Fu]:!0}}function as(e){return{message:e,[$u]:!0}}function gc(e){return!!e&&typeof e=="object"&&Fu in e}function _c(e){return!!e&&typeof e=="object"&&$u in e}var Uu=class{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=uu(e.dsn):C&&_.warn("No DSN provided, client will not send events."),this._dsn){let t=Nu(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport(w(h({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},e.transportOptions),{url:t}))}}captureException(e,t,n){let r=Ce();if(Kl(e))return C&&_.log(hc),r;let a=h({event_id:r},t);return this._process(this.eventFromException(e,a).then(i=>this._captureEvent(i,a,n))),a.event_id}captureMessage(e,t,n,r){let a=h({event_id:Ce()},n),i=_r(e)?e:String(e),s=Wt(e)?this.eventFromMessage(i,t,a):this.eventFromException(e,a);return this._process(s.then(o=>this._captureEvent(o,a,r))),a.event_id}captureEvent(e,t,n){let r=Ce();if(t!=null&&t.originalException&&Kl(t.originalException))return C&&_.log(hc),r;let a=h({event_id:r},t),i=e.sdkProcessingMetadata||{},s=i.capturedSpanScope,o=i.capturedSpanIsolationScope;return this._process(this._captureEvent(e,a,s||n,o)),a.event_id}captureSession(e){this.sendSession(e),In(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(r=>n&&r))):lt(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];Pu(this,e,this._integrations),t||fc(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=bg(e,this._dsn,this._options._metadata,this._options.tunnel);for(let a of t.attachments||[])n=pg(n,gg(a));let r=this.sendEnvelope(n);r&&r.then(a=>this.emit("afterSendEvent",e,a),null)}sendSession(e){let{release:t,environment:n=kr}=this._options;if("aggregates"in e){let a=e.attrs||{};if(!a.release&&!t){C&&_.warn(mc);return}a.release=a.release||t,a.environment=a.environment||n,e.attrs=a}else{if(!e.release&&!t){C&&_.warn(mc);return}e.release=e.release||t,e.environment=e.environment||n}this.emit("beforeSendSession",e);let r=vg(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(e,t,n=1){if(this._options.sendClientReports){let r=`${e}:${t}`;C&&_.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let r=n.indexOf(t);r>-1&&n.splice(r,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(r=>r(...t))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,t=>(C&&_.error("Error while sending envelope:",t),t)):(C&&_.error("Transport disabled"),lt({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=e_(this,e),fc(this,e)}_updateSessionFromEvent(e,t){var s,o;let n=t.level==="fatal",r=!1,a=(s=t.exception)==null?void 0:s.values;if(a){r=!0;for(let l of a)if(((o=l.mechanism)==null?void 0:o.handled)===!1){n=!0;break}}let i=e.status==="ok";(i&&e.errors===0||i&&n)&&(In(e,w(h({},n&&{status:"crashed"}),{errors:e.errors||Number(r||n)})),this.captureSession(e))}_isClientDoneProcessing(e){return new xr(t=>{let n=0,r=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),t(!0)):(n+=r,e&&n>=e&&(clearInterval(a),t(!1)))},r)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,t,n,r){let a=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&(i!=null&&i.length)&&(t.integrations=i),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),zs(a,e,t,n,this,r).then(s=>{if(s===null)return s;this.emit("postprocessEvent",s,t),s.contexts=h({trace:Wc(n)},s.contexts);let o=Ds(this,n);return s.sdkProcessingMetadata=h({dynamicSamplingContext:o},s.sdkProcessingMetadata),s})}_captureEvent(e,t={},n=j(),r=be()){return C&&gs(e)&&_.log(`Captured error event \`${Du(e)[0]||"<unknown>"}\``),this._processEvent(e,t,n,r).then(a=>a.event_id,a=>{C&&(_c(a)?_.log(a.message):gc(a)?_.warn(a.message):_.warn(a))})}_processEvent(e,t,n,r){let a=this.getOptions(),{sampleRate:i}=a,s=Bu(e),o=gs(e),l=e.type||"error",c=`before send for type \`${l}\``,d=typeof i>"u"?void 0:zt(i);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Ir(as(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));let u=l==="replay_event"?"replay":l;return this._prepareEvent(e,t,n,r).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",u),as("An event processor returned `null`, will not send event.");if(t.data&&t.data.__sentry__===!0)return p;let f=i_(this,a,p,t);return a_(f,c)}).then(p=>{var g;if(p===null){if(this.recordDroppedEvent("before_send",u),s){let y=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw as(`${c} returned \`null\`, will not send event.`)}let f=n.getSession()||r.getSession();if(o&&f&&this._updateSessionFromEvent(f,p),s){let y=((g=p.sdkProcessingMetadata)==null?void 0:g.spanCountBeforeProcessing)||0,v=p.spans?p.spans.length:0,E=y-v;E>0&&this.recordDroppedEvent("before_send","span",E)}let m=p.transaction_info;if(s&&m&&p.transaction!==e.transaction){let y="custom";p.transaction_info=w(h({},m),{source:y})}return this.sendEvent(p,t),p}).then(null,p=>{throw _c(p)||gc(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),_a(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([t,n])=>{let[r,a]=t.split(":");return{reason:r,category:a,quantity:n}})}_flushOutcomes(){C&&_.log("Flushing outcomes...");let e=this._clearOutcomes();if(e.length===0){C&&_.log("No outcomes to send");return}if(!this._dsn){C&&_.log("No dsn provided, will not send outcomes");return}C&&_.log("Sending outcomes:",e);let t=t_(e,this._options.tunnel&&Xt(this._dsn));this.sendEnvelope(t)}};function a_(e,t){let n=`${t} must return \`null\` or a valid event.`;if(vr(e))return e.then(r=>{if(!ot(r)&&r!==null)throw _a(n);return r},r=>{throw _a(`${t} rejected with ${r}`)});if(!ot(e)&&e!==null)throw _a(n);return e}function i_(e,t,n,r){let{beforeSend:a,beforeSendTransaction:i,beforeSendSpan:s}=t,o=n;if(gs(o)&&a)return a(o,r);if(Bu(o)){if(s){let l=s(n_(o));if(l?o=Er(n,r_(l)):ps(),o.spans){let c=[];for(let d of o.spans){let u=s(d);u?c.push(u):(ps(),c.push(d))}o.spans=c}}if(i){if(o.spans){let l=o.spans.length;o.sdkProcessingMetadata=w(h({},n.sdkProcessingMetadata),{spanCountBeforeProcessing:l})}return i(o,r)}}return o}function gs(e){return e.type===void 0}function Bu(e){return e.type==="transaction"}function s_(e,t){return t?Ue(t,()=>{let n=le(),r=n?ru(n):Wc(t);return[n?Ye(n):Ds(e,t),r]}):[void 0,void 0]}var o_={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function l_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function c_(e,t,n,r){let a={};return t!=null&&t.sdk&&(a.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(a.dsn=Xt(r)),ft(a,[l_(e)])}var u_=100;function d_(e){var t;switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let n="";try{n=(t=JSON.stringify(e))!=null?t:""}catch(r){}return{value:n,type:"string"}}}}function jt(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function p_(e,t){let n=Ws(),r=ju(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=u_&&Mr(e,r))}function wa(e,t=T(),n=j(),r=p_){var A,P;if(!t){C&&_.warn("No client available to capture log.");return}let{release:a,environment:i,enableLogs:s,beforeSendLog:o,_experiments:l}=t.getOptions();if(!(s!=null?s:l!=null&&l.enableLogs)){C&&_.warn("logging option not enabled, log will not be captured.");return}let c=o!=null?o:l==null?void 0:l.beforeSendLog,[,d]=s_(t,n),u=h({},e.attributes),{user:{id:p,email:f,username:m}}=f_(n);jt(u,"user.id",p,!1),jt(u,"user.email",f,!1),jt(u,"user.name",m,!1),jt(u,"sentry.release",a),jt(u,"sentry.environment",i);let{name:g,version:y}=(P=(A=t.getSdkMetadata())==null?void 0:A.sdk)!=null?P:{};jt(u,"sentry.sdk.name",g),jt(u,"sentry.sdk.version",y);let v=e.message;if(_r(v)){let{__sentry_template_string__:I,__sentry_template_values__:R=[]}=v;u["sentry.message.template"]=I,R.forEach((Y,L)=>{u[`sentry.message.parameter.${L}`]=Y})}let E=fr(n);jt(u,"sentry.trace.parent_span_id",E==null?void 0:E.spanContext().spanId);let x=w(h({},e),{attributes:u});t.emit("beforeCaptureLog",x);let N=c?St(()=>c(x)):x;if(!N){t.recordDroppedEvent("before_send","log_item",1),C&&_.warn("beforeSendLog returned null, log will not be captured.");return}let{level:O,message:b,attributes:k={},severityNumber:W}=N,S={timestamp:pe(),level:O,body:b,trace_id:d==null?void 0:d.trace_id,severity_number:W!=null?W:o_[O],attributes:Object.keys(k).reduce((I,R)=>(I[R]=d_(k[R]),I),{})};r(t,S),t.emit("afterCaptureLog",N)}function Mr(e,t){var i;let n=(i=t!=null?t:ju(e))!=null?i:[];if(n.length===0)return;let r=e.getOptions(),a=c_(n,r._metadata,r.tunnel,e.getDsn());Ws().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(a)}function ju(e){return Ws().get(e)}function f_(e){let t=Mn().getScopeData();return Ea(t,be().getScopeData()),Ea(t,e.getScopeData()),t}function Ws(){return gr("clientToLogBufferMap",()=>new WeakMap)}function Hu(e,t){t.debug===!0&&(C?_.enable():St(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),j().update(t.initialScope);let n=new e(t);return Vs(n),n.init(),n}function Vs(e){j().setClient(e)}var zu=Symbol.for("SentryBufferFullError");function h_(e){let t=[];function n(){return e===void 0||t.length<e}function r(s){return t.splice(t.indexOf(s),1)[0]||Promise.resolve(void 0)}function a(s){if(!n())return Ir(zu);let o=s();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new xr((o,l)=>{let c=t.length;if(!c)return o(!0);let d=setTimeout(()=>{s&&s>0&&o(!1)},s);t.forEach(u=>{lt(u).then(()=>{--c||(clearTimeout(d),o(!0))},l)})})}return{$:t,add:a,drain:i}}function qu(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function m_(e,t){return e[t]||e.all||0}function Gs(e,t,n=Date.now()){return m_(e,t)>n}function Ys(e,{statusCode:t,headers:n},r=Date.now()){let a=h({},e),i=n==null?void 0:n["x-sentry-rate-limits"],s=n==null?void 0:n["retry-after"];if(i)for(let o of i.trim().split(",")){let[l,c,,,d]=o.split(":",5),u=parseInt(l,10),p=(isNaN(u)?60:u)*1e3;if(!c)a.all=r+p;else for(let f of c.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(a[f]=r+p):a[f]=r+p}else s?a.all=r+qu(s,r):t===429&&(a.all=r+60*1e3);return a}var g_=64;function Da(e,t,n=h_(e.bufferSize||g_)){let r={},a=s=>n.drain(s);function i(s){let o=[];if(qt(s,(u,p)=>{let f=rc(p);Gs(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):o.push(u)}),o.length===0)return lt({});let l=ft(s[0],o),c=u=>{qt(l,(p,f)=>{e.recordDroppedEvent(u,rc(f))})},d=()=>t({body:On(l)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&C&&_.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),r=Ys(r,u),u),u=>{throw c("network_error"),C&&_.error("Encountered error running transport request:",u),u});return n.add(d).then(u=>u,u=>{if(u===zu)return C&&_.error("Skipped sending event because buffer is full."),c("queue_overflow"),lt({});throw u})}return{send:i,flush:a}}var is=100,ss=5e3,__=36e5;function Wu(e){function t(...n){C&&_.log("[Offline]:",...n)}return n=>{let r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");let a=n.createStore(n),i=ss,s;function o(u,p,f){return nc(u,["client_report"])?!1:n.shouldStore?n.shouldStore(u,p,f):!0}function l(u){s&&clearTimeout(s),s=setTimeout(()=>U(this,null,function*(){s=void 0;let p=yield a.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))}),u),typeof s!="number"&&s.unref&&s.unref()}function c(){s||(l(i),i=Math.min(i*2,__))}function d(u,p=!1){return U(this,null,function*(){var f,m;if(!p&&nc(u,["replay_event","replay_recording"]))return yield a.push(u),l(is),{};try{if(n.shouldSend&&(yield n.shouldSend(u))===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");let g=yield r.send(u),y=is;if(g){if((f=g.headers)!=null&&f["retry-after"])y=qu(g.headers["retry-after"]);else if((m=g.headers)!=null&&m["x-sentry-rate-limits"])y=6e4;else if((g.statusCode||0)>=400)return g}return l(y),i=ss,g}catch(g){if(yield o(u,g,i))return p?yield a.unshift(u):yield a.push(u),c(),t("Error sending. Event queued.",g),{};throw g}})}return n.flushAtStartup&&c(),{send:d,flush:u=>(u===void 0&&(i=ss,l(is)),r.flush(u))}}}function Vu(e,t){let n;return qt(e,(r,a)=>(t.includes(a)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function y_(e,t){return n=>{let r=e(n);return w(h({},r),{send:a=>U(this,null,function*(){let i=Vu(a,["event","transaction","profile","replay_event"]);return i&&(i.release=t),r.send(a)})})}}function v_(e,t){return ft(t?w(h({},e[0]),{dsn:t}):e[0],e[1])}function Gu(e,t){return n=>{let r=e(n),a=new Map;function i(l,c){let d=c?`${l}:${c}`:l,u=a.get(d);if(!u){let p=lu(l);if(!p)return;let f=Nu(p,n.tunnel);u=c?y_(e,c)(w(h({},n),{url:f})):e(w(h({},n),{url:f})),a.set(d,u)}return[l,u]}function s(l){return U(this,null,function*(){function c(p){let f=p!=null&&p.length?p:["event"];return Vu(l,f)}let d=t({envelope:l,getEvent:c}).map(p=>typeof p=="string"?i(p,void 0):i(p.dsn,p.release)).filter(p=>!!p),u=d.length?d:[["",r]];return(yield Promise.all(u.map(([p,f])=>f.send(v_(l,p)))))[0]})}function o(l){return U(this,null,function*(){let c=[...a.values(),r];return(yield Promise.all(c.map(d=>d.flush(l)))).every(d=>d)})}return{send:s,flush:o}}}function Fa(e,t){let n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return S_(e,n)||b_(e,r)}function b_(e,t){return t?yc(e)===yc(t):!1}function S_(e,t){return t?e.includes(t.host):!1}function yc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Js(e,...t){let n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}var Yu=Js;function Ju(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user=w(h({},e.user),{ip_address:"{{auto}}"}))}function Ku(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs=w(h({},e.attrs),{ip_address:"{{auto}}"})):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Xu(e,t,n=[t],r="npm"){let a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:st})),version:st}),e._metadata=a}function Nr(e={}){let t=e.client||T();if(!qs()||!t)return{};let n=Nt(),r=Gt(n);if(r.getTraceData)return r.getTraceData(e);let a=e.scope||j(),i=e.span||le(),s=i?Ps(i):E_(a),o=i?Ye(i):Ds(t,a),l=Qc(o);return eu.test(s)?{"sentry-trace":s,baggage:l}:(_.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function E_(e){let{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return tu(t,r,n)}function Zu(e,t,n){let r,a,i,s=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,o=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function l(){return c(),r=e(),r}function c(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function d(){return a!==void 0||i!==void 0?l():r}function u(){return a&&clearTimeout(a),a=o(l,t),s&&i===void 0&&(i=o(l,s)),r}return u.cancel=c,u.flush=d,u}var w_=100;function Je(e,t){let n=T(),r=be();if(!n)return;let{beforeBreadcrumb:a=null,maxBreadcrumbs:i=w_}=n.getOptions();if(i<=0)return;let s=h({timestamp:Vt()},e),o=a?St(()=>a(s,t)):s;o!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,i))}var vc,k_="FunctionToString",bc=new WeakMap,T_=()=>({name:k_,setupOnce(){vc=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=br(this),n=bc.has(T())&&t!==void 0?t:this;return vc.apply(n,e)}}catch(e){}},setup(e){bc.set(e,!0)}}),$a=T_,I_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],x_="EventFilters",Ks=(e={})=>{let t;return{name:x_,setup(n){let r=n.getOptions();t=Sc(e,r)},processEvent(n,r,a){if(!t){let i=a.getOptions();t=Sc(e,i)}return C_(n,t)?null:n}}},Ua=(e={})=>w(h({},Ks(e)),{name:"InboundFilters"});function Sc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:I_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function C_(e,t){if(e.type){if(e.type==="transaction"&&R_(e,t.ignoreTransactions))return C&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ht(e)}`),!0}else{if(A_(e,t.ignoreErrors))return C&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ht(e)}`),!0;if(L_(e))return C&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ht(e)}`),!0;if(M_(e,t.denyUrls))return C&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ht(e)}.
Url: ${ka(e)}`),!0;if(!N_(e,t.allowUrls))return C&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ht(e)}.
Url: ${ka(e)}`),!0}return!1}function A_(e,t){return t!=null&&t.length?Du(e).some(n=>$e(n,t)):!1}function R_(e,t){if(!(t!=null&&t.length))return!1;let n=e.transaction;return n?$e(n,t):!1}function M_(e,t){if(!(t!=null&&t.length))return!1;let n=ka(e);return n?$e(n,t):!1}function N_(e,t){if(!(t!=null&&t.length))return!0;let n=ka(e);return n?$e(n,t):!0}function O_(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ka(e){var t,n,r,a;try{let i=(a=(r=[...(n=(t=e.exception)==null?void 0:t.values)!=null?n:[]].reverse().find(s=>{var o,l,c;return((o=s.mechanism)==null?void 0:o.parent_id)===void 0&&((c=(l=s.stacktrace)==null?void 0:l.frames)==null?void 0:c.length)}))==null?void 0:r.stacktrace)==null?void 0:a.frames;return i?O_(i):null}catch(i){return C&&_.error(`Cannot extract url for event ${Ht(e)}`),null}}function L_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Qu(e,t,n,r,a,i){var o;if(!((o=a.exception)!=null&&o.values)||!i||!At(i.originalException,Error))return;let s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=_s(e,t,r,i.originalException,n,a.exception.values,s,0))}function _s(e,t,n,r,a,i,s,o){if(i.length>=n+1)return i;let l=[...i];if(At(r[a],Error)){Ec(s,o);let c=e(t,r[a]),d=l.length;wc(c,a,d,o),l=_s(e,t,n,r[a],a,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(At(c,Error)){Ec(s,o);let u=e(t,c),p=l.length;wc(u,`errors[${d}]`,p,o),l=_s(e,t,n,c,a,[u,...l],u,p)}}),l}function Ec(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=w(h(h({},e.mechanism),e.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:t})}function wc(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=w(h({},e.mechanism),{type:"chained",source:t,exception_id:n,parent_id:r})}var ed=new Map,kc=new Set;function P_(e){if($._sentryModuleMetadata)for(let t of Object.keys($._sentryModuleMetadata)){let n=$._sentryModuleMetadata[t];if(kc.has(t))continue;kc.add(t);let r=e(t);for(let a of r.reverse())if(a.filename){ed.set(a.filename,n);break}}}function D_(e,t){return P_(e),ed.get(t)}function td(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(let r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;let a=D_(e,r.filename);a&&(r.module_metadata=a)}})}catch(n){}}function nd(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(let n of t.stacktrace.frames||[])delete n.module_metadata})}catch(t){}}var rd=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{qt(t,(n,r)=>{if(r==="event"){let a=Array.isArray(n)?n[1]:void 0;a&&(nd(a),n[1]=a)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;let n=e.getOptions().stackParser;td(n,t)})}});function Ba(e){let t="console";ut(t,e),dt(t,F_)}function F_(){"console"in $&&vs.forEach(function(e){e in $.console&&Ie($.console,e,function(t){return ya[e]=t,function(...n){var r;Fe("console",{args:n,level:e}),(r=ya[e])==null||r.apply($.console,n)}})})}function Or(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var $_="CaptureConsole",U_=(e={})=>{var r;let t=e.levels||vs,n=(r=e.handled)!=null?r:!0;return{name:$_,setup(a){"console"in $&&Ba(({args:i,level:s})=>{T()!==a||!t.includes(s)||B_(i,s,n)})}}},ad=U_;function B_(e,t,n){let r={level:Or(t),extra:{arguments:e}};Ue(a=>{if(a.addEventProcessor(o=>(o.logger="console",pt(o,{handled:n,type:"console"}),o)),t==="assert"){if(!e[0]){let o=`Assertion failed: ${pr(e.slice(1)," ")||"console.assert"}`;a.setExtra("arguments",e.slice(1)),Cn(o,r)}return}let i=e.find(o=>o instanceof Error);if(i){bt(i,r);return}let s=pr(e," ");Cn(s,r)})}var j_="Dedupe",H_=()=>{let e;return{name:j_,processEvent(t){if(t.type)return t;try{if(z_(t,e))return C&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}},ja=H_;function z_(e,t){return t?!!(q_(e,t)||W_(e,t)):!1}function q_(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sd(e,t)||!id(e,t))}function W_(e,t){let n=Tc(t),r=Tc(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sd(e,t)||!id(e,t))}function id(e,t){let n=os(e),r=os(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){let i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function sd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch(a){return!1}}function Tc(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}var V_="ExtraErrorData",G_=(e={})=>{let{depth:t=3,captureErrorCause:n=!0}=e;return{name:V_,processEvent(r,a,i){let{maxValueLength:s=250}=i.getOptions();return Y_(r,a,t,n,s)}}},od=G_;function Y_(e,t={},n,r,a){if(!t.originalException||!Ct(t.originalException))return e;let i=t.originalException.name||t.originalException.constructor.name,s=J_(t.originalException,r,a);if(s){let o=h({},e.contexts),l=ze(s,n);return ot(l)&&(Oe(l,"__sentry_skip_normalization__",!0),o[i]=l),w(h({},e),{contexts:o})}return e}function J_(e,t,n){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],a={};for(let i of Object.keys(e)){if(r.indexOf(i)!==-1)continue;let s=e[i];a[i]=Ct(s)||typeof s=="string"?Tn(`${s}`,n):s}if(t&&e.cause!==void 0&&(a.cause=Ct(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){let i=e.toJSON();for(let s of Object.keys(i)){let o=i[s];a[s]=Ct(o)?o.toString():o}}return a}catch(r){C&&_.error("Unable to extract extra data from the Error object:",r)}return null}function K_(e,t){let n=0;for(let r=e.length-1;r>=0;r--){let a=e[r];a==="."?e.splice(r,1):a===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var X_=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Z_(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=X_.exec(t);return n?n.slice(1):[]}function Ic(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let a=r>=0?e[r]:"/";a&&(t=`${a}/${t}`,n=a.charAt(0)==="/")}return t=K_(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function xc(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Q_(e,t){e=Ic(e).slice(1),t=Ic(t).slice(1);let n=xc(e.split("/")),r=xc(t.split("/")),a=Math.min(n.length,r.length),i=a;for(let o=0;o<a;o++)if(n[o]!==r[o]){i=o;break}let s=[];for(let o=i;o<n.length;o++)s.push("..");return s=s.concat(r.slice(i)),s.join("/")}function ey(e,t){let n=Z_(e)[2]||"";return t&&n.slice(t.length*-1)===t&&(n=n.slice(0,n.length-t.length)),n}var ty="RewriteFrames",ld=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in $&&!!$.window,a=e.iteratee||ny({isBrowser:r,root:t,prefix:n});function i(o){try{return w(h({},o),{exception:w(h({},o.exception),{values:o.exception.values.map(l=>h(h({},l),l.stacktrace&&{stacktrace:s(l.stacktrace)}))})})}catch(l){return o}}function s(o){var l;return w(h({},o),{frames:(l=o==null?void 0:o.frames)==null?void 0:l.map(c=>a(c))})}return{name:ty,processEvent(o){let l=o;return o.exception&&Array.isArray(o.exception.values)&&(l=i(l)),l}}};function ny({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let a=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),i=/^\//.test(r.filename);if(e){if(t){let s=r.filename;s.indexOf(t)===0&&(r.filename=s.replace(t,n))}}else if(a||i){let s=a?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,o=t?Q_(t,s):ey(s);r.filename=`${n}${o}`}return r}}var ry=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],ay=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],iy={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},cd=["select","insert","upsert","update","delete"];function Ha(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch(t){}}function za(e){try{return e.__SENTRY_INSTRUMENTED__}catch(t){return!1}}function sy(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function oy(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;let[n,...r]=t.split("."),a;return n!=null&&n.startsWith("fts")?a="textSearch":n!=null&&n.startsWith("plfts")?a="textSearch[plain]":n!=null&&n.startsWith("phfts")?a="textSearch[phrase]":n!=null&&n.startsWith("wfts")?a="textSearch[websearch]":a=n&&iy[n]||"filter",`${a}(${e}, ${r.join(".")})`}function Cc(e,t=!1){return new Proxy(e,{apply(n,r,a){return Ln({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[ne]:"auto.db.supabase",[Te]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},i=>Reflect.apply(n,r,a).then(s=>(s&&typeof s=="object"&&"error"in s&&s.error?(i.setStatus({code:2}),bt(s.error,{mechanism:{handled:!1}})):i.setStatus({code:1}),i.end(),s)).catch(s=>{throw i.setStatus({code:2}),i.end(),bt(s,{mechanism:{handled:!1}}),s}).then(...a))}})}function ly(e){let t=e.auth;if(!(!t||za(e.auth))){for(let n of ry){let r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Cc(r))}for(let n of ay){let r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Cc(r,!0))}Ha(e.auth)}}function cy(e){za(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){let a=Reflect.apply(t,n,r),i=a.constructor;return dy(i),a}}),Ha(e.prototype.from))}function uy(e){za(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var f;let a=cd,i=n,s=sy(i.method,i.headers);if(!a.includes(s)||!((f=i==null?void 0:i.url)!=null&&f.pathname)||typeof i.url.pathname!="string")return Reflect.apply(t,n,r);let o=i.url.pathname.split("/"),l=o.length>0?o[o.length-1]:"",c=[];for(let[m,g]of i.url.searchParams.entries())c.push(oy(m,g));let d=Object.create(null);if(ot(i.body))for(let[m,g]of Object.entries(i.body))d[m]=g;let u=`${s==="select"?"":`${s}${d?"(...) ":""}`}${c.join(" ")} from(${l})`,p={"db.table":l,"db.schema":i.schema,"db.url":i.url.origin,"db.sdk":i.headers["X-Client-Info"],"db.system":"postgresql","db.operation":s,[ne]:"auto.db.supabase",[Te]:"db"};return c.length&&(p["db.query"]=c),Object.keys(d).length&&(p["db.body"]=d),Ln({name:u,attributes:p},m=>Reflect.apply(t,n,[]).then(g=>{if(m&&(g&&typeof g=="object"&&"status"in g&&un(m,g.status||500),m.end()),g.error){let E=new Error(g.error.message);g.error.code&&(E.code=g.error.code),g.error.details&&(E.details=g.error.details);let x={};c.length&&(x.query=c),Object.keys(d).length&&(x.body=d),bt(E,{contexts:{supabase:x}})}let y={type:"supabase",category:`db.${s}`,message:u},v={};return c.length&&(v.query=c),Object.keys(d).length&&(v.body=d),Object.keys(v).length&&(y.data=v),Je(y),g},g=>{throw m&&(un(m,500),m.end()),g}).then(...r))}}),Ha(e.prototype.then))}function dy(e){for(let t of cd)za(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,a){let i=Reflect.apply(n,r,a),s=i.constructor;return C&&_.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),uy(s),i}}),Ha(e.prototype[t]))}var Xs=e=>{if(!e){C&&_.warn("Supabase integration was not installed because no Supabase client was provided.");return}let t=e.constructor===Function?e:e.constructor;cy(t),ly(e)},py="Supabase",fy=e=>({setupOnce(){Xs(e)},name:py}),ud=e=>fy(e.supabaseClient),hy=10,my="ZodErrors";function gy(e){return Ct(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function _y(e){return w(h({},e),{path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0})}function yy(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function vy(e){let t=new Set;for(let r of e.issues){let a=yy(r.path);a.length>0&&t.add(a)}let n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){let a=e.issues[0];a!==void 0&&"expected"in a&&typeof a.expected=="string"&&(r=a.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Tn(n.join(", "),100)}`}function by(e,t=!1,n,r){var a;if(!((a=n.exception)!=null&&a.values)||!r.originalException||!gy(r.originalException)||r.originalException.issues.length===0)return n;try{let i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(_y);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),w(h({},n),{exception:w(h({},n.exception),{values:[w(h({},n.exception.values[0]),{value:vy(r.originalException)}),...n.exception.values.slice(1)]}),extra:w(h({},n.extra),{"zoderror.issues":i.slice(0,e)})})}catch(i){return w(h({},n),{extra:w(h({},n.extra),{"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:i instanceof Error?`${i.name}: ${i.message}
${i.stack}`:"unknown"}})})}}var Sy=(e={})=>{var n;let t=(n=e.limit)!=null?n:hy;return{name:my,processEvent(r,a){return by(t,e.saveZodIssuesAsAttachment,r,a)}}},dd=Sy,pd=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{qt(n,(r,a)=>{if(a==="event"){let i=Array.isArray(r)?r[1]:void 0;i&&(nd(i),r[1]=i)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;let r=t.getOptions().stackParser;td(r,n)})},processEvent(t){let n=Ey(t);if(n){let r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](a=>!a.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags=w(h({},t.tags),{third_party_code:!0})}}return t}});function Ey(e){let t=os(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(Ac)).map(r=>r.slice(Ac.length)):[])}var Ac="_sentryBundlerPluginAppKey:";var wy=100,ky=10,fa="flag.evaluation.";function Lt(e){let t=j().getScopeData().contexts.flags,n=t?t.values:[];return n.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...n]}),e}function Et(e,t,n=wy){let r=j().getScopeData().contexts;r.flags||(r.flags={values:[]});let a=r.flags.values;Ty(a,e,t,n)}function Ty(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){C&&_.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}let a=e.findIndex(i=>i.flag===t);a!==-1&&e.splice(a,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function wt(e,t,n=ky){if(typeof t!="boolean")return;let r=le();if(!r)return;let a=F(r).data;if(`${fa}${e}`in a){r.setAttribute(`${fa}${e}`,t);return}Object.keys(a).filter(i=>i.startsWith(fa)).length<n&&r.setAttribute(`${fa}${e}`,t)}var fd=()=>({name:"FeatureFlags",processEvent(e,t,n){return Lt(e)},addFeatureFlag(e,t){Et(e,t),wt(e,t)}});var Iy="thismessage:/";function hd(e){return"isRelative"in e}function Zs(e,t){let n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=t!=null?t:n?Iy:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;let a=new URL(e,r);return n?{isRelative:n,pathname:a.pathname,search:a.search,hash:a.hash}:a}catch(a){}}function xy(e){if(hd(e))return e.pathname;let t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function kt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function qa(e){return e.split(/[?#]/,1)[0]}function md(e,t,n,r,a="auto.http.browser"){if(!e.fetchData)return;let{method:i,url:s}=e.fetchData,o=Mt()&&t(s);if(e.endTimestamp&&o){let u=e.fetchData.__span;if(!u)return;let p=r[u];p&&(Ay(p,e),delete r[u]);return}let l=!!le(),c=o&&l?ht(My(s,i,a)):new vt;if(e.fetchData.__span=c.spanContext().spanId,r[c.spanContext().spanId]=c,n(e.fetchData.url)){let u=e.args[0],p=e.args[1]||{},f=Cy(u,p,Mt()&&l?c:void 0);f&&(e.args[1]=p,p.headers=f)}let d=T();if(d){let u={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",c,u)}return c}function Cy(e,t,n){let r=Nr({span:n}),a=r["sentry-trace"],i=r.baggage;if(!a)return;let s=t.headers||($c(e)?e.headers:void 0);if(s)if(Ry(s)){let o=new Headers(s);if(o.get("sentry-trace")||o.set("sentry-trace",a),i){let l=o.get("baggage");l?ha(l)||o.set("baggage",`${l},${i}`):o.set("baggage",i)}return o}else if(Array.isArray(s)){let o=[...s];s.find(c=>c[0]==="sentry-trace")||o.push(["sentry-trace",a]);let l=s.find(c=>c[0]==="baggage"&&ha(c[1]));return i&&!l&&o.push(["baggage",i]),o}else{let o="sentry-trace"in s?s["sentry-trace"]:void 0,l="baggage"in s?s.baggage:void 0,c=l?Array.isArray(l)?[...l]:[l]:[],d=l&&(Array.isArray(l)?l.find(u=>ha(u)):ha(l));return i&&!d&&c.push(i),w(h({},s),{"sentry-trace":o!=null?o:a,baggage:c.length>0?c.join(","):void 0})}else return h({},r)}function Ay(e,t){var n,r;if(t.response){un(e,t.response.status);let a=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(a){let i=parseInt(a);i>0&&e.setAttribute("http.response_content_length",i)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ha(e){return e.split(",").some(t=>t.trim().startsWith(Ns))}function Ry(e){return typeof Headers<"u"&&At(e,Headers)}function My(e,t,n){let r=Zs(e);return{name:r?`${t} ${xy(r)}`:t,attributes:Ny(e,r,t,n)}}function Ny(e,t,n,r){let a={url:e,type:"fetch","http.method":n,[ne]:r,[Te]:"http.client"};return t&&(hd(t)||(a["http.url"]=t.href,a["server.address"]=t.host),t.search&&(a["http.query"]=t.search),t.hash&&(a["http.fragment"]=t.hash)),a}function Wa(e,t={},n=j()){let{message:r,name:a,email:i,url:s,source:o,associatedEventId:l,tags:c}=e,d={contexts:{feedback:{contact_email:i,name:a,message:r,url:s,source:o,associated_event_id:l}},type:"feedback",level:"info",tags:c},u=(n==null?void 0:n.getClient())||T();return u&&u.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}var Oy="ConsoleLogs",Rc={[ne]:"auto.console.logging"},Ly=(e={})=>{let t=e.levels||vs;return{name:Oy,setup(n){let{enableLogs:r,_experiments:a,normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=n.getOptions();if(!(r!=null?r:a!=null&&a.enableLogs)){C&&_.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Ba(({args:o,level:l})=>{if(T()!==n||!t.includes(l))return;if(l==="assert"){if(!o[0]){let d=o.slice(1),u=d.length>0?`Assertion failed: ${Mc(d,i,s)}`:"Assertion failed";wa({level:"error",message:u,attributes:Rc})}return}let c=l==="log";wa({level:c?"info":l,message:Mc(o,i,s),severityNumber:c?10:void 0,attributes:Rc})})}}},gd=Ly;function Mc(e,t,n){return"util"in $&&typeof $.util.format=="function"?$.util.format(...e):Py(e,t,n)}function Py(e,t,n){return e.map(r=>Wt(r)?String(r):JSON.stringify(ze(r,t,n))).join(" ")}function Qs(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var An=$;function _d(){return"history"in An&&!!An.history}function Dy(){if(!("fetch"in An))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Ta(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function eo(){var n;if(typeof EdgeRuntime=="string")return!0;if(!Dy())return!1;if(Ta(An.fetch))return!0;let e=!1,t=An.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Ta(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){C&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function yd(){return"ReportingObserver"in An}function Pn(e,t){let n="fetch";ut(n,e),dt(n,()=>bd(void 0,t))}function vd(e){let t="fetch-body-resolved";ut(t,e),dt(t,()=>bd($y))}function bd(e,t=!1){t&&!eo()||Ie($,"fetch",function(n){return function(...r){let a=new Error,{method:i,url:s}=Uy(r),o={args:r,fetchData:{method:i,url:s},startTimestamp:pe()*1e3,virtualError:a,headers:By(r)};return e||Fe("fetch",h({},o)),n.apply($,r).then(l=>U(this,null,function*(){return e?e(l):Fe("fetch",w(h({},o),{endTimestamp:pe()*1e3,response:l})),l}),l=>{if(Fe("fetch",w(h({},o),{endTimestamp:pe()*1e3,error:l})),Ct(l)&&l.stack===void 0&&(l.stack=a.stack,Oe(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{let c=new URL(o.fetchData.url);l.message=`${l.message} (${c.host})`}catch(c){}throw l})}})}function Fy(e,t){return U(this,null,function*(){if(e!=null&&e.body){let n=e.body,r=n.getReader(),a=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let s;try{s=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:o}=yield r.read();clearTimeout(s),o&&(t(),i=!1)}catch(o){i=!1}finally{clearTimeout(s)}}clearTimeout(a),r.releaseLock(),n.cancel().then(null,()=>{})}})}function $y(e){let t;try{t=e.clone()}catch(n){return}Fy(t,()=>{Fe("fetch-body-resolved",{endTimestamp:pe()*1e3,response:e})})}function ys(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Nc(e){return typeof e=="string"?e:e?ys(e,"url")?e.url:e.toString?e.toString():"":""}function Uy(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:Nc(n),method:ys(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:Nc(t),method:ys(t,"method")?String(t.method).toUpperCase():"GET"}}function By(e){let[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if($c(t))return new Headers(t.headers)}catch(r){}}function jy(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Sd(){return"npm"}function Hy(){return!jy()&&Object.prototype.toString.call(typeof Ki<"u"?Ki:0)==="[object process]"}function Lr(){return typeof window<"u"&&(!Hy()||zy())}function zy(){var e;return((e=$.process)==null?void 0:e.type)==="renderer"}var Fn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,V=$,qy=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",$n=(e,t,n,r)=>{let a,i;return s=>{t.value>=0&&(s||r)&&(i=t.value-(a!=null?a:0),(i||a===void 0)&&(a=t.value,t.delta=i,t.rating=qy(t.value,n),e(t)))}},Wy=()=>`v5-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,Fr=(e=!0)=>{var n,r;let t=(r=(n=V.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Un=()=>{var e,t;return(t=(e=Fr())==null?void 0:e.activationStart)!=null?t:0},Bn=(e,t=-1)=>{var a,i;let n=Fr(),r="navigate";return n&&((a=V.document)!=null&&a.prerendering||Un()>0?r="prerender":(i=V.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Wy(),navigationType:r}},to=new WeakMap;function ho(e,t){return to.get(e)||to.set(e,new t),to.get(e)}var Vy=class oo{constructor(){oo.prototype.__init.call(this),oo.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var a;if(t.hadRecentInput)return;let n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(a=this._onAfterProcessingUnexpectedShift)==null||a.call(this,t)}},pn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(a=>{Promise.resolve().then(()=>{t(a.getEntries())})});return r.observe(h({type:e,buffered:!0},n)),r}}catch(r){}},Qa=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Pr=-1,Gy=()=>{var e,t;return((e=V.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=V.document)!=null&&t.prerendering)?0:1/0},Xa=e=>{V.document.visibilityState==="hidden"&&Pr>-1&&(Pr=e.type==="visibilitychange"?e.timeStamp:0,Jy())},Yy=()=>{addEventListener("visibilitychange",Xa,!0),addEventListener("prerenderingchange",Xa,!0)},Jy=()=>{removeEventListener("visibilitychange",Xa,!0),removeEventListener("prerenderingchange",Xa,!0)},ei=()=>{var e,t;if(V.document&&Pr<0){let n=Un();Pr=(t=V.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>n)[0])==null?void 0:e.startTime)!=null?t:Gy(),Yy()}return{get firstHiddenTime(){return Pr}}},$r=e=>{var t;(t=V.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Ky=[1800,3e3],Xy=(e,t={})=>{$r(()=>{let n=ei(),r=Bn("FCP"),a,i=pn("paint",s=>{for(let o of s)o.name==="first-contentful-paint"&&(i.disconnect(),o.startTime<n.firstHiddenTime&&(r.value=Math.max(o.startTime-Un(),0),r.entries.push(o),a(!0)))});i&&(a=$n(e,r,Ky,t.reportAllChanges))})},Zy=[.1,.25],Qy=(e,t={})=>{Xy(Qa(()=>{var o,l;let n=Bn("CLS",0),r,a=ho(t,Vy),i=c=>{for(let d of c)a._processEntry(d);a._sessionValue>n.value&&(n.value=a._sessionValue,n.entries=a._sessionEntries,r())},s=pn("layout-shift",i);s&&(r=$n(e,n,Zy,t.reportAllChanges),(o=V.document)==null||o.addEventListener("visibilitychange",()=>{var c;((c=V.document)==null?void 0:c.visibilityState)==="hidden"&&(i(s.takeRecords()),r(!0))}),(l=V==null?void 0:V.setTimeout)==null||l.call(V,r))}))},ti=e=>{let t=n=>{var r;(n.type==="pagehide"||((r=V.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};V.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},ev=[100,300],tv=(e,t={})=>{$r(()=>{let n=ei(),r=Bn("FID"),a,i=l=>{l.startTime<n.firstHiddenTime&&(r.value=l.processingStart-l.startTime,r.entries.push(l),a(!0))},s=l=>{l.forEach(i)},o=pn("first-input",s);a=$n(e,r,ev,t.reportAllChanges),o&&ti(Qa(()=>{s(o.takeRecords()),o.disconnect()}))})},Id=0,no=1/0,Va=0,nv=e=>{e.forEach(t=>{t.interactionId&&(no=Math.min(no,t.interactionId),Va=Math.max(Va,t.interactionId),Id=Va?(Va-no)/7+1:0)})},lo,xd=()=>lo?Id:performance.interactionCount||0,rv=()=>{"interactionCount"in performance||lo||(lo=pn("event",nv,{type:"event",buffered:!0,durationThreshold:0}))},ro=10,Cd=0,av=()=>xd()-Cd,iv=class co{constructor(){co.prototype.__init.call(this),co.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Cd=xd(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){let t=Math.min(this._longestInteractionList.length-1,Math.floor(av()/50));return this._longestInteractionList[t]}_processEntry(t){var a,i;if((a=this._onBeforeProcessingEntry)==null||a.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;let n=this._longestInteractionList.at(-1),r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<ro||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,o)=>o._latency-s._latency),this._longestInteractionList.length>ro){let s=this._longestInteractionList.splice(ro);for(let o of s)this._longestInteractionMap.delete(o.id)}(i=this._onAfterProcessingINPCandidate)==null||i.call(this,r)}}},Ad=e=>{var n;let t=V.requestIdleCallback||V.setTimeout;((n=V.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Qa(e),t(e),ti(e))},sv=[200,500],ov=40,lv=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&$r(()=>{var o;rv();let n=Bn("INP"),r,a=ho(t,iv),i=l=>{Ad(()=>{for(let d of l)a._processEntry(d);let c=a._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},s=pn("event",i,{durationThreshold:(o=t.durationThreshold)!=null?o:ov});r=$n(e,n,sv,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),ti(()=>{i(s.takeRecords()),r(!0)}))})},cv=class{_processEntry(e){var t;(t=this._onBeforeProcessingEntry)==null||t.call(this,e)}},uv=[2500,4e3],dv=(e,t={})=>{$r(()=>{let n=ei(),r=Bn("LCP"),a,i=ho(t,cv),s=l=>{t.reportAllChanges||(l=l.slice(-1));for(let c of l)i._processEntry(c),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Un(),0),r.entries=[c],a())},o=pn("largest-contentful-paint",s);if(o){a=$n(e,r,uv,t.reportAllChanges);let l=Qa(()=>{s(o.takeRecords()),o.disconnect(),a(!0)});for(let c of["keydown","click","visibilitychange"])V.document&&addEventListener(c,()=>Ad(l),{capture:!0,once:!0})}})},pv=[800,1800],uo=e=>{var t,n;(t=V.document)!=null&&t.prerendering?$r(()=>uo(e)):((n=V.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>uo(e),!0):setTimeout(e)},fv=(e,t={})=>{let n=Bn("TTFB"),r=$n(e,n,pv,t.reportAllChanges);uo(()=>{let a=Fr();a&&(n.value=Math.max(a.responseStart-Un(),0),n.entries=[a],r(!0))})},Dr={},Za={},Rd,Md,Nd,Od,Ld;function ni(e,t=!1){return Ur("cls",e,mv,Rd,t)}function ri(e,t=!1){return Ur("lcp",e,_v,Nd,t)}function mo(e){return Ur("fid",e,gv,Md)}function hv(e){return Ur("ttfb",e,yv,Od)}function go(e){return Ur("inp",e,vv,Ld)}function Pt(e,t){return Pd(e,t),Za[e]||(bv(e),Za[e]=!0),Dd(e,t)}function jn(e,t){let n=Dr[e];if(n!=null&&n.length)for(let r of n)try{r(t)}catch(a){Fn&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ct(r)}
Error:`,a)}}function mv(){return Qy(e=>{jn("cls",{metric:e}),Rd=e},{reportAllChanges:!0})}function gv(){return tv(e=>{jn("fid",{metric:e}),Md=e})}function _v(){return dv(e=>{jn("lcp",{metric:e}),Nd=e},{reportAllChanges:!0})}function yv(){return fv(e=>{jn("ttfb",{metric:e}),Od=e})}function vv(){return lv(e=>{jn("inp",{metric:e}),Ld=e})}function Ur(e,t,n,r,a=!1){Pd(e,t);let i;return Za[e]||(i=n(),Za[e]=!0),r&&t({metric:r}),Dd(e,t,a?i:void 0)}function bv(e){let t={};e==="event"&&(t.durationThreshold=0),pn(e,n=>{jn(e,{entries:n})},t)}function Pd(e,t){Dr[e]=Dr[e]||[],Dr[e].push(t)}function Dd(e,t,n){return()=>{n&&n();let r=Dr[e];if(!r)return;let a=r.indexOf(t);a!==-1&&r.splice(a,1)}}function Sv(e){return"duration"in e}function ao(e){return typeof e=="number"&&isFinite(e)}function Dt(e,t,n,a){var r=Bt(a,[]);let i=F(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),dn(e,()=>{let s=ht(h({startTime:t},r));return s&&s.end(n),s})}function _o(e){var g,y;let t=T();if(!t)return;let{name:n,transaction:r,attributes:a,startTime:i}=e,{release:s,environment:o,sendDefaultPii:l}=t.getOptions(),c=(g=t.getIntegrationByName("Replay"))==null?void 0:g.getReplayId(),d=j(),u=d.getUser(),p=u!==void 0?u.email||u.id||u.ip_address:void 0,f;try{f=d.getScopeData().contexts.profile.profile_id}catch(v){}let m=h({release:s,environment:o,user:p||void 0,profile_id:f||void 0,replay_id:c||void 0,transaction:r,"user_agent.original":(y=V.navigator)==null?void 0:y.userAgent,"client.address":l?"{{auto}}":void 0},a);return ht({name:n,attributes:m,startTime:i,experimental:{standalone:!0}})}function ai(){return V.addEventListener&&V.performance}function _e(e){return e/1e3}function yo(e){let t="unknown",n="unknown",r="";for(let a of e){if(a==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(a))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=a}return r===e&&(t=r),{name:t,version:n}}function Fd(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch(t){return!1}}function $d(e,t){let n,r=!1;function a(o){!r&&n&&t(o,n),r=!0}ti(()=>{a("pagehide")});let i=e.on("beforeStartNavigationSpan",(o,l)=>{l!=null&&l.isRedirect||(a("navigation"),i==null||i(),s==null||s())}),s=e.on("afterStartPageLoadSpan",o=>{n=o.spanContext().spanId,s==null||s()})}function Ev(e){let t=0,n;if(!Fd("layout-shift"))return;let r=ni(({metric:a})=>{let i=a.entries[a.entries.length-1];i&&(t=a.value,n=i)},!0);$d(e,(a,i)=>{wv(t,n,i,a),r()})}function wv(e,t,n,r){var c;Fn&&_.log(`Sending CLS span (${e})`);let a=_e((ge()||0)+((t==null?void 0:t.startTime)||0)),i=j().getScopeData().transactionName,s=t?Ae((c=t.sources[0])==null?void 0:c.node):"Layout shift",o={[ne]:"auto.http.browser.cls",[Te]:"ui.webvital.cls",[Ot]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,u)=>{o[`cls.source.${u+1}`]=Ae(d.node)});let l=_o({name:s,transaction:i,attributes:o,startTime:a});l&&(l.addEvent("cls",{[Yt]:"",[Jt]:e}),l.end(a))}function kv(e){let t=0,n;if(!Fd("largest-contentful-paint"))return;let r=ri(({metric:a})=>{let i=a.entries[a.entries.length-1];i&&(t=a.value,n=i)},!0);$d(e,(a,i)=>{Tv(t,n,i,a),r()})}function Tv(e,t,n,r){Fn&&_.log(`Sending LCP span (${e})`);let a=_e((ge()||0)+((t==null?void 0:t.startTime)||0)),i=j().getScopeData().transactionName,s=t?Ae(t.element):"Largest contentful paint",o={[ne]:"auto.http.browser.lcp",[Te]:"ui.webvital.lcp",[Ot]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(o["lcp.element"]=Ae(t.element)),t.id&&(o["lcp.id"]=t.id),t.url&&(o["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(o["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(o["lcp.renderTime"]=t.renderTime),t.size!=null&&(o["lcp.size"]=t.size));let l=_o({name:s,transaction:i,attributes:o,startTime:a});l&&(l.addEvent("lcp",{[Yt]:"millisecond",[Jt]:e}),l.end(a))}var Iv=2147483647,Ed=0,Pe={},Ve,Dn;function Ud({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){let r=ai();if(r&&ge()){r.mark&&V.performance.mark("sentry-tracing-init");let a=Av(),i=t?kv(n):Cv(),s=Rv(),o=e?Ev(n):xv();return()=>{a(),i==null||i(),s(),o==null||o()}}return()=>{}}function Bd(){Pt("longtask",({entries:e})=>{let t=le();if(!t)return;let{op:n,start_timestamp:r}=F(t);for(let a of e){let i=_e(ge()+a.startTime),s=_e(a.duration);n==="navigation"&&r&&i<r||Dt(t,i,i+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[ne]:"auto.ui.browser.metrics"}})}})}function jd(){new PerformanceObserver(e=>{let t=le();if(t)for(let n of e.getEntries()){if(!n.scripts[0])continue;let r=_e(ge()+n.startTime),{start_timestamp:a,op:i}=F(t);if(i==="navigation"&&a&&r<a)continue;let s=_e(n.duration),o={[ne]:"auto.ui.browser.metrics"},l=n.scripts[0],{invoker:c,invokerType:d,sourceURL:u,sourceFunctionName:p,sourceCharPosition:f}=l;o["browser.script.invoker"]=c,o["browser.script.invoker_type"]=d,u&&(o["code.filepath"]=u),p&&(o["code.function"]=p),f!==-1&&(o["browser.script.source_char_position"]=f),Dt(t,r,r+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:o})}}).observe({type:"long-animation-frame",buffered:!0})}function Hd(){Pt("event",({entries:e})=>{let t=le();if(t){for(let n of e)if(n.name==="click"){let r=_e(ge()+n.startTime),a=_e(n.duration),i={name:Ae(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[ne]:"auto.ui.browser.metrics"}},s=Ia(n.target);s&&(i.attributes["ui.component_name"]=s),Dt(t,r,r+a,i)}}})}function xv(){return ni(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Pe.cls={value:e.value,unit:""},Dn=t)},!0)}function Cv(){return ri(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Pe.lcp={value:e.value,unit:"millisecond"},Ve=t)},!0)}function Av(){return mo(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=_e(ge()),r=_e(t.startTime);Pe.fid={value:e.value,unit:"millisecond"},Pe["mark.fid"]={value:n+r,unit:"second"}})}function Rv(){return hv(({metric:e})=>{e.entries[e.entries.length-1]&&(Pe.ttfb={value:e.value,unit:"millisecond"})})}function zd(e,t){let n=ai(),r=ge();if(!(n!=null&&n.getEntries)||!r)return;let a=_e(r),i=n.getEntries(),{op:s,start_timestamp:o}=F(e);if(i.slice(Ed).forEach(l=>{let c=_e(l.startTime),d=_e(Math.max(0,l.duration));if(!(s==="navigation"&&o&&a+c<o))switch(l.entryType){case"navigation":{Ov(e,l,a);break}case"mark":case"paint":case"measure":{Mv(e,l,c,d,a,t.ignorePerformanceApiSpans);let u=ei(),p=l.startTime<u.firstHiddenTime;l.name==="first-paint"&&p&&(Pe.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&p&&(Pe.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{Dv(e,l,l.name,c,d,a,t.ignoreResourceSpans);break}}}),Ed=Math.max(i.length-1,0),Fv(e),s==="pageload"){Uv(Pe);let l=Pe["mark.fid"];l&&Pe.fid&&(Dt(e,l.value,l.value+_e(Pe.fid.value),{name:"first input delay",op:"ui.action",attributes:{[ne]:"auto.ui.browser.metrics"}}),delete Pe["mark.fid"]),t.recordClsOnPageloadSpan||delete Pe.cls,t.recordLcpOnPageloadSpan||delete Pe.lcp,Object.entries(Pe).forEach(([c,d])=>{Aa(c,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",a),e.setAttribute("performance.activationStart",Un()),$v(e,t)}Ve=void 0,Dn=void 0,Pe={}}function Mv(e,t,n,r,a,i){if(["mark","measure"].includes(t.entryType)&&$e(t.name,i))return;let s=Fr(!1),o=_e(s?s.requestStart:0),l=a+Math.max(n,o),c=a+n,d=c+r,u={[ne]:"auto.resource.browser.metrics"};l!==c&&(u["sentry.browser.measure_happened_before_request"]=!0,u["sentry.browser.measure_start_time"]=l),Nv(u,t),l<=d&&Dt(e,l,d,{name:t.name,op:t.entryType,attributes:u})}function Nv(e,t){try{let n=t.detail;if(!n)return;if(typeof n=="object"){for(let[r,a]of Object.entries(n))if(a&&Wt(a))e[`sentry.browser.measure.detail.${r}`]=a;else if(a!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(a)}catch(i){}return}if(Wt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch(r){}}catch(n){}}function Ov(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Ga(e,t,r,n)}),Ga(e,t,"secureConnection",n,"TLS/SSL"),Ga(e,t,"fetch",n,"cache"),Ga(e,t,"domainLookup",n,"DNS"),Pv(e,t,n)}function Ga(e,t,n,r,a=n){let i=Lv(n),s=t[i],o=t[`${n}Start`];!o||!s||Dt(e,r+_e(o),r+_e(s),{op:`browser.${a}`,name:t.name,attributes:h({[ne]:"auto.ui.browser.metrics"},n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{})})}function Lv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Pv(e,t,n){let r=n+_e(t.requestStart),a=n+_e(t.responseEnd),i=n+_e(t.responseStart);t.responseEnd&&(Dt(e,r,a,{op:"browser.request",name:t.name,attributes:{[ne]:"auto.ui.browser.metrics"}}),Dt(e,i,a,{op:"browser.response",name:t.name,attributes:{[ne]:"auto.ui.browser.metrics"}}))}function Dv(e,t,n,r,a,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let o=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(s!=null&&s.includes(o))return;let l=kt(n),c={[ne]:"auto.resource.browser.metrics"};io(c,t,"transferSize","http.response_transfer_size"),io(c,t,"encodedBodySize","http.response_content_length"),io(c,t,"decodedBodySize","http.decoded_response_content_length");let d=t.deliveryType;d!=null&&(c["http.response_delivery_type"]=d);let u=t.renderBlockingStatus;if(u&&(c["resource.render_blocking_status"]=u),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(V.location.origin),t.nextHopProtocol!=null){let{name:m,version:g}=yo(t.nextHopProtocol);c["network.protocol.name"]=m,c["network.protocol.version"]=g}let p=i+r,f=p+a;Dt(e,p,f,{name:n.replace(V.location.origin,""),op:o,attributes:c})}function Fv(e){let t=V.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),ao(n.rtt)&&(Pe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),ao(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),ao(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function $v(e,t){Ve&&t.recordLcpOnPageloadSpan&&(Ve.element&&e.setAttribute("lcp.element",Ae(Ve.element)),Ve.id&&e.setAttribute("lcp.id",Ve.id),Ve.url&&e.setAttribute("lcp.url",Ve.url.trim().slice(0,200)),Ve.loadTime!=null&&e.setAttribute("lcp.loadTime",Ve.loadTime),Ve.renderTime!=null&&e.setAttribute("lcp.renderTime",Ve.renderTime),e.setAttribute("lcp.size",Ve.size)),Dn!=null&&Dn.sources&&t.recordClsOnPageloadSpan&&Dn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ae(n.node)))}function io(e,t,n,r){let a=t[n];a!=null&&a<Iv&&(e[r]=a)}function Uv(e){let t=Fr(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function qd(){return ai()&&ge()?Pt("element",Bv):()=>{}}var Bv=({entries:e})=>{let t=le(),n=t?fe(t):void 0,r=n?F(n).description:j().getScopeData().transactionName;e.forEach(a=>{var f,m;let i=a;if(!i.identifier)return;let s=i.name,o=i.renderTime,l=i.loadTime,[c,d]=l?[_e(l),"load-time"]:o?[_e(o),"render-time"]:[pe(),"entry-emission"],u=s==="image-paint"?_e(Math.max(0,(o!=null?o:0)-(l!=null?l:0))):0,p={[ne]:"auto.ui.browser.elementtiming",[Te]:"ui.elementtiming",[Le]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":((m=(f=i.element)==null?void 0:f.tagName)==null?void 0:m.toLowerCase())||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":o,"element.load_time":l,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":s};Ln({name:`element[${i.identifier}]`,attributes:p,startTime:c,onlyIfParent:!0},g=>{g.end(c+u)})})},jv=1e3,wd,po,fo;function ii(e){let t="dom";ut(t,e),dt(t,Hv)}function Hv(){if(!V.document)return;let e=Fe.bind(null,"dom"),t=kd(e,!0);V.document.addEventListener("click",t,!1),V.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var a,i;let r=(a=V[n])==null?void 0:a.prototype;(i=r==null?void 0:r.hasOwnProperty)!=null&&i.call(r,"addEventListener")&&(Ie(r,"addEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},u=d[o]=d[o]||{refCount:0};if(!u.handler){let p=kd(e);u.handler=p,s.call(this,o,p,c)}u.refCount++}catch(d){}return s.call(this,o,l,c)}}),Ie(r,"removeEventListener",function(s){return function(o,l,c){if(o==="click"||o=="keypress")try{let d=this.__sentry_instrumentation_handlers__||{},u=d[o];u&&(u.refCount--,u.refCount<=0&&(s.call(this,o,u.handler,c),u.handler=void 0,delete d[o]),Object.keys(d).length===0&&delete this.__sentry_instrumentation_handlers__)}catch(d){}return s.call(this,o,l,c)}}))})}function zv(e){if(e.type!==po)return!1;try{if(!e.target||e.target._sentryId!==fo)return!1}catch(t){}return!0}function qv(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function kd(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=Wv(n);if(qv(n.type,r))return;Oe(n,"_sentryCaptured",!0),r&&!r._sentryId&&Oe(r,"_sentryId",Ce());let a=n.type==="keypress"?"input":n.type;zv(n)||(e({event:n,name:a,global:t}),po=n.type,fo=r?r._sentryId:void 0),clearTimeout(wd),wd=V.setTimeout(()=>{fo=void 0,po=void 0},jv)}}function Wv(e){try{return e.target}catch(t){return null}}var Ya;function Qt(e){let t="history";ut(t,e),dt(t,Vv)}function Vv(){if(V.addEventListener("popstate",()=>{let t=V.location.href,n=Ya;Ya=t,n!==t&&Fe("history",{from:n,to:t})}),!_d())return;function e(t){return function(...n){let r=n.length>2?n[2]:void 0;if(r){let a=Ya,i=Gv(String(r));if(Ya=i,a===i)return t.apply(this,n);Fe("history",{from:a,to:i})}return t.apply(this,n)}}Ie(V.history,"pushState",e),Ie(V.history,"replaceState",e)}function Gv(e){try{return new URL(e,V.location.origin).toString()}catch(t){return e}}var Ja={};function Br(e){let t=Ja[e];if(t)return t;let n=V[e];if(Ta(n))return Ja[e]=n.bind(V);let r=V.document;if(r&&typeof r.createElement=="function")try{let a=r.createElement("iframe");a.hidden=!0,r.head.appendChild(a);let i=a.contentWindow;i!=null&&i[e]&&(n=i[e]),r.head.removeChild(a)}catch(a){Fn&&_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,a)}return n&&(Ja[e]=n.bind(V))}function vo(e){Ja[e]=void 0}function Hn(...e){return Br("setTimeout")(...e)}var Ge="__sentry_xhr_v3__";function zn(e){let t="xhr";ut(t,e),dt(t,Yv)}function Yv(){if(!V.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let a=new Error,i=pe()*1e3,s=qe(r[0])?r[0].toUpperCase():void 0,o=Jv(r[1]);if(!s||!o)return t.apply(n,r);n[Ge]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let l=()=>{let c=n[Ge];if(c&&n.readyState===4){try{c.status_code=n.status}catch(u){}let d={endTimestamp:pe()*1e3,startTimestamp:i,xhr:n,virtualError:a};Fe("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,d,u){return l(),c.apply(d,u)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,u){let[p,f]=u,m=d[Ge];return m&&qe(p)&&qe(f)&&(m.request_headers[p.toLowerCase()]=f),c.apply(d,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let a=n[Ge];if(!a)return t.apply(n,r);r[0]!==void 0&&(a.body=r[0]);let i={startTimestamp:pe()*1e3,xhr:n};return Fe("xhr",i),t.apply(n,r)}})}function Jv(e){if(qe(e))return e;try{return e.toString()}catch(t){}}function bo(e){return new URLSearchParams(e).toString()}function qn(e,t=_){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[bo(e)];if(!e)return[void 0]}catch(n){return Fn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Fn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function jr(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}var so=[],Ka=new Map,Kv=60;function Wd(){if(ai()&&ge()){let e=Xv();return()=>{e()}}return()=>{}}var Td={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Xv(){return go(Zv)}var Zv=({metric:e})=>{if(e.value==null)return;let t=_e(e.value);if(t>Kv)return;let n=e.entries.find(f=>f.duration===e.value&&Td[f.name]);if(!n)return;let{interactionId:r}=n,a=Td[n.name],i=_e(ge()+n.startTime),s=le(),o=s?fe(s):void 0,l=(r!=null?Ka.get(r):void 0)||o,c=l?F(l).description:j().getScopeData().transactionName,d=Ae(n.target),u={[ne]:"auto.http.browser.inp",[Te]:`ui.interaction.${a}`,[Ot]:n.duration},p=_o({name:d,transaction:c,attributes:u,startTime:i});p&&(p.addEvent("inp",{[Yt]:"millisecond",[Jt]:e.value}),p.end(i+t))};function Vd(){let e=({entries:t})=>{let n=le(),r=n&&fe(n);t.forEach(a=>{if(!Sv(a)||!r)return;let i=a.interactionId;if(i!=null&&!Ka.has(i)){if(so.length>10){let s=so.shift();Ka.delete(s)}so.push(i),Ka.set(i,r)}})};Pt("event",e),Pt("first-input",e)}var me=$,Lo="sentryReplaySession",Qv="replay_event",Po="Unable to send Replay",eb=3e5,tb=9e5,nb=5e3,rb=5500,ab=6e4,ib=5e3,sb=3,Gd=15e4,si=5e3,ob=3e3,lb=300,Do=2e7,cb=4999,ub=15e3,Yd=36e5,db=Object.defineProperty,pb=(e,t,n)=>t in e?db(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Jd=(e,t,n)=>pb(e,typeof t!="symbol"?t+"":t,n),Re=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Re||{});function fb(e){return e.nodeType===e.ELEMENT_NODE}function qr(e){var t;return((t=e==null?void 0:e.host)==null?void 0:t.shadowRoot)===e}function Wr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function hb(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function mb(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function di(e){try{let t=e.rules||e.cssRules;return t?hb(Array.from(t,vp).join("")):null}catch(t){return null}}function gb(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,a=r[n],i=r.getPropertyPriority(a);t+=`${a}:${r.getPropertyValue(a)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function vp(e){let t;if(yb(e))try{t=di(e.styleSheet)||mb(e)}catch(n){}else if(vb(e)){let n=e.cssText,r=e.selectorText.includes(":"),a=typeof e.style.all=="string"&&e.style.all;if(a&&(n=gb(e)),r&&(n=_b(n)),r||a)return n}return t||e.cssText}function _b(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function yb(e){return"styleSheet"in e}function vb(e){return"selectorText"in e}var bp=class{constructor(){Jd(this,"idNodeMap",new Map),Jd(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function bb(){return new bp}function bi({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Gr({isMasked:e,element:t,value:n,maskInputFn:r}){let a=n||"";return e?(r&&(a=r(a,t)),"*".repeat(a.length)):a}function Xn(e){return e.toLowerCase()}function To(e){return e.toUpperCase()}var Kd="__rrweb_original__";function Sb(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let a=0;a<e.height;a+=n){let i=t.getImageData,s=Kd in i?i[Kd]:i;if(new Uint32Array(s.call(t,r,a,Math.min(n,e.width-r),Math.min(n,e.height-a)).data.buffer).some(o=>o!==0))return!1}return!0}function Fo(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Xn(t):null}function pi(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Sp(e,t){var a,i;let n;try{n=new URL(e,t!=null?t:window.location.href)}catch(s){return null}let r=/\.([0-9a-z]+)(?:$)/i;return(i=(a=n.pathname.match(r))==null?void 0:a[1])!=null?i:null}var Xd={};function Ep(e){let t=Xd[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return Xd[e]=r.bind(window)}function Io(...e){return Ep("setTimeout")(...e)}function wp(...e){return Ep("clearTimeout")(...e)}function kp(e){try{return e.contentDocument}catch(t){}}var Eb=1,wb=new RegExp("[^a-z0-9-_:]"),Yr=-2;function $o(){return Eb++}function kb(e){if(e instanceof HTMLFormElement)return"form";let t=Xn(e.tagName);return wb.test(t)?"div":t}function Tb(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var Wn,Zd,Ib=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,xb=/^(?:[a-z+]+:)?\/\//i,Cb=/^www\..*/i,Ab=/^(data:)([^,]*),(.*)/i;function fi(e,t){return(e||"").replace(Ib,(n,r,a,i,s,o)=>{let l=a||s||o,c=r||i||"";if(!l)return n;if(xb.test(l)||Cb.test(l))return`url(${c}${l}${c})`;if(Ab.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${Tb(t)+l}${c})`;let d=t.split("/"),u=l.split("/");d.pop();for(let p of u)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${c}${d.join("/")}${c})`})}var Rb=/^[^ \t\n\r\u000c]+/,Mb=/^[, \t\n\r\u000c]+/;function Nb(e,t){if(t.trim()==="")return t;let n=0;function r(i){let s,o=i.exec(t.substring(n));return o?(s=o[0],n+=s.length,s):""}let a=[];for(;r(Mb),!(n>=t.length);){let i=r(Rb);if(i.slice(-1)===",")i=hi(e,i.substring(0,i.length-1)),a.push(i);else{let s="";i=hi(e,i);let o=!1;for(;;){let l=t.charAt(n);if(l===""){a.push((i+s).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,a.push((i+s).trim());break}else l==="("&&(o=!0);s+=l,n+=1}}}return a.join(", ")}var Qd=new WeakMap;function hi(e,t){return!t||t.trim()===""?t:Si(e,t)}function Ob(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Si(e,t){let n=Qd.get(e);if(n||(n=e.createElement("a"),Qd.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Tp(e,t,n,r,a,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?hi(e,r):n==="srcset"?Nb(e,r):n==="style"?fi(r,Si(e)):t==="object"&&n==="data"?hi(e,r):typeof i=="function"?i(n,r,a):r)}function Ip(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function xp(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let a=e.classList.length;a--;){let i=e.classList[a];if(t.test(i))return!0}if(n)return e.matches(n)}catch(a){}return!1}function Lb(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function fn(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:fn(e.parentNode,t,n,r+1)}function Yn(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Lb(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}function Zn(e,t,n,r,a,i){try{let s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(s===null)return!1;if(s.tagName==="INPUT"){let c=s.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let o=-1,l=-1;if(i){if(l=fn(s,Yn(r,a)),l<0)return!0;o=fn(s,Yn(t,n),l>=0?l:1/0)}else{if(o=fn(s,Yn(t,n)),o<0)return!1;l=fn(s,Yn(r,a),o>=0?o:1/0)}return o>=0?l>=0?o<=l:!0:l>=0?!1:!!i}catch(s){}return!!i}function Pb(e,t,n){let r=e.contentWindow;if(!r)return;let a=!1,i;try{i=r.document.readyState}catch(o){return}if(i!=="complete"){let o=Io(()=>{a||(t(),a=!0)},n);e.addEventListener("load",()=>{wp(o),a=!0,t()});return}let s="about:blank";if(r.location.href!==s||e.src===s||e.src==="")return Io(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Db(e,t,n){let r=!1,a;try{a=e.sheet}catch(s){return}if(a)return;let i=Io(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{wp(i),r=!0,t()})}function Fb(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:m={},maskTextFn:g,maskInputFn:y,dataURLOptions:v={},inlineImages:E,recordCanvas:x,keepIframeSrcFn:N,newlyAddedElement:O=!1}=t,b=$b(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Re.Document,childNodes:[],compatMode:e.compatMode}:{type:Re.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Re.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return Bb(e,{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,inlineStylesheet:f,maskAttributeFn:l,maskInputOptions:m,maskInputFn:y,dataURLOptions:v,inlineImages:E,recordCanvas:x,keepIframeSrcFn:N,newlyAddedElement:O,rootId:b,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p});case e.TEXT_NODE:return Ub(e,{doc:n,maskAllText:o,maskTextClass:c,unmaskTextClass:d,maskTextSelector:u,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:m,maskInputFn:y,rootId:b});case e.CDATA_SECTION_NODE:return{type:Re.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Re.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function $b(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function Ub(e,t){var v;let{maskAllText:n,maskTextClass:r,unmaskTextClass:a,maskTextSelector:i,unmaskTextSelector:s,maskTextFn:o,maskInputOptions:l,maskInputFn:c,rootId:d}=t,u=e.parentNode&&e.parentNode.tagName,p=e.textContent,f=u==="STYLE"?!0:void 0,m=u==="SCRIPT"?!0:void 0,g=u==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(v=e.parentNode.sheet)!=null&&v.cssRules&&(p=di(e.parentNode.sheet))}catch(E){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${E}`,e)}p=fi(p,Si(t.doc))}m&&(p="SCRIPT_PLACEHOLDER");let y=Zn(e,r,i,a,s,n);if(!f&&!m&&!g&&p&&y&&(p=o?o(p,e.parentElement):p.replace(/[\S]/g,"*")),g&&p&&(l.textarea||y)&&(p=c?c(p,e.parentNode):p.replace(/[\S]/g,"*")),u==="OPTION"&&p){let E=bi({type:null,tagName:u,maskInputOptions:l});p=Gr({isMasked:Zn(e,r,i,a,s,E),element:e,value:p,maskInputFn:c})}return{type:Re.Text,textContent:p||"",isStyle:f,rootId:d}}function Bb(e,t){let{doc:n,blockClass:r,blockSelector:a,unblockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:d={},inlineImages:u,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:m=!1,rootId:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:E,unmaskTextSelector:x}=t,N=xp(e,r,a,i),O=kb(e),b={},k=e.attributes.length;for(let S=0;S<k;S++){let A=e.attributes[S];A.name&&!Ip(O,A.name,A.value)&&(b[A.name]=Tp(n,O,Xn(A.name),A.value,e,l))}if(O==="link"&&s){let S=Array.from(n.styleSheets).find(P=>P.href===e.href),A=null;S&&(A=di(S)),A&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=fi(A,S.href))}if(O==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let S=di(e.sheet);S&&(b._cssText=fi(S,Si(n)))}if(O==="input"||O==="textarea"||O==="select"||O==="option"){let S=e,A=Fo(S),P=pi(S,To(O),A),I=S.checked;if(A!=="submit"&&A!=="button"&&P){let R=Zn(S,y,E,v,x,bi({type:A,tagName:To(O),maskInputOptions:o}));b.value=Gr({isMasked:R,element:S,value:P,maskInputFn:c})}I&&(b.checked=I)}if(O==="option"&&(e.selected&&!o.select?b.selected=!0:delete b.selected),O==="canvas"&&p){if(e.__context==="2d")Sb(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let S=e.toDataURL(d.type,d.quality),A=n.createElement("canvas");A.width=e.width,A.height=e.height;let P=A.toDataURL(d.type,d.quality);S!==P&&(b.rr_dataURL=S)}}if(O==="img"&&u){Wn||(Wn=n.createElement("canvas"),Zd=Wn.getContext("2d"));let S=e,A=S.currentSrc||S.getAttribute("src")||"<unknown-src>",P=S.crossOrigin,I=()=>{S.removeEventListener("load",I);try{Wn.width=S.naturalWidth,Wn.height=S.naturalHeight,Zd.drawImage(S,0,0),b.rr_dataURL=Wn.toDataURL(d.type,d.quality)}catch(R){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?I():S.addEventListener("load",I);return}else console.warn(`Cannot inline img src=${A}! Error: ${R}`)}S.crossOrigin==="anonymous"&&(P?b.crossOrigin=P:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?I():S.addEventListener("load",I)}if((O==="audio"||O==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),N){let{width:S,height:A}=e.getBoundingClientRect();b={class:b.class,rr_width:`${S}px`,rr_height:`${A}px`}}O==="iframe"&&!f(b.src)&&(!N&&!kp(e)&&(b.rr_src=b.src),delete b.src);let W;try{customElements.get(O)&&(W=!0)}catch(S){}return{type:Re.Element,tagName:O,attributes:b,childNodes:[],isSVG:Ob(e)||void 0,needBlock:N,rootId:g,isCustom:W}}function he(e){return e==null?"":e.toLowerCase()}function jb(e,t){return!!(t.comment&&e.type===Re.Comment||e.type===Re.Element&&(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Sp(e.attributes.href)==="js")||t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(he(e.attributes.name).match(/^msapplication-tile(image|color)$/)||he(e.attributes.name)==="application-name"||he(e.attributes.rel)==="icon"||he(e.attributes.rel)==="apple-touch-icon"||he(e.attributes.rel)==="shortcut icon"))||e.tagName==="meta"&&(t.headMetaDescKeywords&&he(e.attributes.name).match(/^description|keywords$/)||t.headMetaSocial&&(he(e.attributes.property).match(/^(og|twitter|fb):/)||he(e.attributes.name).match(/^(og|twitter):/)||he(e.attributes.name)==="pinterest")||t.headMetaRobots&&(he(e.attributes.name)==="robots"||he(e.attributes.name)==="googlebot"||he(e.attributes.name)==="bingbot")||t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0||t.headMetaAuthorship&&(he(e.attributes.name)==="author"||he(e.attributes.name)==="generator"||he(e.attributes.name)==="framework"||he(e.attributes.name)==="publisher"||he(e.attributes.name)==="progid"||he(e.attributes.property).match(/^article:/)||he(e.attributes.property).match(/^product:/))||t.headMetaVerification&&(he(e.attributes.name)==="google-site-verification"||he(e.attributes.name)==="yandex-verification"||he(e.attributes.name)==="csrf-token"||he(e.attributes.name)==="p:domain_verify"||he(e.attributes.name)==="verify-v1"||he(e.attributes.name)==="verification"||he(e.attributes.name)==="shopify-checkout-api-token"))))}function Jn(e,t){let{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:E,dataURLOptions:x={},inlineImages:N=!1,recordCanvas:O=!1,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:W=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:P=()=>!1,newlyAddedElement:I=!1}=t,{preserveWhiteSpace:R=!0}=t,Y=Fb(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,dataURLOptions:x,inlineImages:N,recordCanvas:O,keepIframeSrcFn:P,newlyAddedElement:I});if(!Y)return console.warn(e,"not serialized"),null;let L;r.hasNode(e)?L=r.getId(e):jb(Y,E)||!R&&Y.type===Re.Text&&!Y.isStyle&&!Y.textContent.replace(/^\s+|\s+$/gm,"").length?L=Yr:L=$o();let M=Object.assign(Y,{id:L});if(r.add(e,M),L===Yr)return null;b&&b(e);let B=!p;if(M.type===Re.Element){B=B&&!M.needBlock,delete M.needBlock;let D=e.shadowRoot;D&&Wr(D)&&(M.isShadowHost=!0)}if((M.type===Re.Document||M.type===Re.Element)&&B){E.headWhitespace&&M.type===Re.Element&&M.tagName==="head"&&(R=!1);let D={doc:n,mirror:r,blockClass:a,blockSelector:i,maskAllText:o,unblockSelector:s,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:p,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:E,dataURLOptions:x,inlineImages:N,recordCanvas:O,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:A,keepIframeSrcFn:P};for(let Z of Array.from(e.childNodes)){let Q=Jn(Z,D);Q&&M.childNodes.push(Q)}if(fb(e)&&e.shadowRoot)for(let Z of Array.from(e.shadowRoot.childNodes)){let Q=Jn(Z,D);Q&&(Wr(e.shadowRoot)&&(Q.isShadow=!0),M.childNodes.push(Q))}}return e.parentNode&&qr(e.parentNode)&&Wr(e.parentNode)&&(M.isShadow=!0),M.type===Re.Element&&M.tagName==="iframe"&&!xp(e,a,i,s)&&Pb(e,()=>{let D=kp(e);if(D&&k){let Z=Jn(D,{doc:D,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:E,dataURLOptions:x,inlineImages:N,recordCanvas:O,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:A,keepIframeSrcFn:P});Z&&k(e,Z)}},W),M.type===Re.Element&&M.tagName==="link"&&typeof M.attributes.rel=="string"&&(M.attributes.rel==="stylesheet"||M.attributes.rel==="preload"&&typeof M.attributes.href=="string"&&Sp(M.attributes.href)==="css")&&Db(e,()=>{if(S){let D=Jn(e,{doc:n,mirror:r,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:f,maskInputOptions:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:E,dataURLOptions:x,inlineImages:N,recordCanvas:O,preserveWhiteSpace:R,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:W,onStylesheetLoad:S,stylesheetLoadTimeout:A,keepIframeSrcFn:P});D&&S(e,D)}},A),M}function Hb(e,t){let{mirror:n=new bp,blockClass:r="rr-block",blockSelector:a=null,unblockSelector:i=null,maskAllText:s=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:d=null,inlineStylesheet:u=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOM:E=!1,dataURLOptions:x,preserveWhiteSpace:N,onSerialize:O,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:W,stylesheetLoadTimeout:S,keepIframeSrcFn:A=()=>!1}=t||{};return Jn(e,{doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,maskAllText:s,maskTextClass:o,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:y,maskInputFn:v,slimDOMOptions:E===!0||E==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:E==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:E===!1?{}:E,dataURLOptions:x,inlineImages:p,recordCanvas:f,preserveWhiteSpace:N,onSerialize:O,onIframeLoad:b,iframeLoadTimeout:k,onStylesheetLoad:W,stylesheetLoadTimeout:S,keepIframeSrcFn:A,newlyAddedElement:!1})}function je(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var Vn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,ep={map:{},getId(){return console.error(Vn),-1},getNode(){return console.error(Vn),null},removeNodeFromMap(){console.error(Vn)},has(){return console.error(Vn),!1},reset(){console.error(Vn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ep=new Proxy(ep,{get(e,t,n){return t==="map"&&console.error(Vn),Reflect.get(e,t,n)}}));function Jr(e,t,n={}){let r=null,a=0;return function(...i){let s=Date.now();!a&&n.leading===!1&&(a=s);let o=t-(s-a),l=this;o<=0||o>t?(r&&(Jb(r),r=null),a=s,e.apply(l,i)):!r&&n.trailing!==!1&&(r=Ei(()=>{a=n.leading===!1?0:Date.now(),r=null,e.apply(l,i)},o))}}function Cp(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){Ei(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Cp(e,t,i||{},!0)}function Uo(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}var mi=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(mi=()=>new Date().getTime());function Ap(e){var n,r,a,i,s,o;let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((a=t==null?void 0:t.body)==null?void 0:a.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((s=(i=t==null?void 0:t.body)==null?void 0:i.parentElement)==null?void 0:s.scrollTop)||((o=t==null?void 0:t.body)==null?void 0:o.scrollTop)||0}}function Rp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Mp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Np(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function Ke(e,t,n,r,a){if(!e)return!1;let i=Np(e);if(!i)return!1;let s=Yn(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=fn(i,s),l=-1;return o<0?!1:(r&&(l=fn(i,Yn(null,r))),o>-1&&l<0?!0:o<l)}function zb(e,t){return t.getId(e)!==-1}function So(e,t){return t.getId(e)===Yr}function Op(e,t){if(qr(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Op(e.parentNode,t):!0:!0}function xo(e){return!!e.changedTouches}function qb(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Lp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Pp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Co(e){return!!(e!=null&&e.shadowRoot)}var Wb=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return(t=this.styleIDMap.get(e))!=null?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return t===void 0?n=this.id++:n=t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Dp(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Vb(e){let t=e,n;for(;n=Dp(t);)t=n;return t}function Gb(e){let t=e.ownerDocument;if(!t)return!1;let n=Vb(e);return t.contains(n)}function Fp(e){let t=e.ownerDocument;return t?t.contains(e)||Gb(e):!1}var tp={};function Bo(e){let t=tp[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return tp[e]=r.bind(window)}function Yb(...e){return Bo("requestAnimationFrame")(...e)}function Ei(...e){return Bo("setTimeout")(...e)}function Jb(...e){return Bo("clearTimeout")(...e)}var J=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(J||{}),G=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(G||{}),Be=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Be||{}),Ft=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ft||{}),Gn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Gn||{});function jo(e){try{return e.contentDocument}catch(t){}}function Kb(e){try{return e.contentWindow}catch(t){}}function np(e){return"__ln"in e}var Xb=class{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=(t==null?void 0:t.next)||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&np(e.previousSibling)){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&np(e.nextSibling)&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;t.next===null&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}},rp=(e,t)=>`${e}@${t}`,Zb=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new Xb,r=o=>{let l=o,c=Yr;for(;c===Yr;)l=l&&l.nextSibling,c=l&&this.mirror.getId(l);return c},a=o=>{if(!o.parentNode||!Fp(o))return;let l=qr(o.parentNode)?this.mirror.getId(Dp(o)):this.mirror.getId(o.parentNode),c=r(o);if(l===-1||c===-1)return n.addNode(o);let d=Jn(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:u=>{Lp(u,this.mirror)&&!Ke(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(u),Pp(u,this.mirror)&&this.stylesheetManager.trackLinkElement(u),Co(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(u,p)=>{Ke(u,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(u,p),u.contentWindow&&this.canvasManager.addWindow(u.contentWindow),this.shadowDomManager.observeAttachShadow(u))},onStylesheetLoad:(u,p)=>{this.stylesheetManager.attachLinkElement(u,p)}});d&&(e.push({parentId:l,nextId:c,node:d}),t.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let o of this.movedSet)ap(this.removes,o,this.mirror)&&!this.movedSet.has(o.parentNode)||a(o);for(let o of this.addedSet)!ip(this.droppedSet,o)&&!ap(this.removes,o,this.mirror)||ip(this.movedSet,o)?a(o):this.droppedSet.add(o);let i=null;for(;n.length;){let o=null;if(i){let l=this.mirror.getId(i.value.parentNode),c=r(i.value);l!==-1&&c!==-1&&(o=i)}if(!o){let l=n.tail;for(;l;){let c=l;if(l=l.previous,c){let d=this.mirror.getId(c.value.parentNode);if(r(c.value)===-1)continue;if(d!==-1){o=c;break}else{let u=c.value;if(u.parentNode&&u.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let p=u.parentNode.host;if(this.mirror.getId(p)!==-1){o=c;break}}}}}}if(!o){for(;n.head;)n.removeNode(n.head.value);break}i=o.previous,n.removeNode(o.value),a(o.value)}let s={texts:this.texts.map(o=>({id:this.mirror.getId(o.node),value:o.value})).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),attributes:this.attributes.map(o=>{let{attributes:l}=o;if(typeof l.style=="string"){let c=JSON.stringify(o.styleDiff),d=JSON.stringify(o._unchangedStyles);c.length<l.style.length&&(c+d).split("var(").length===l.style.split("var(").length&&(l.style=o.styleDiff)}return{id:this.mirror.getId(o.node),attributes:l}}).filter(o=>!t.has(o.id)).filter(o=>this.mirror.has(o.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!So(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;!Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&t!==e.oldValue&&this.texts.push({value:Zn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Np(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if(n==="value"){let i=Fo(t),s=t.tagName;r=pi(t,s,i);let o=bi({maskInputOptions:this.maskInputOptions,tagName:s,type:i}),l=Zn(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,o);r=Gr({isMasked:l,element:t,value:r,maskInputFn:this.maskInputFn})}if(Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let a=this.attributeMap.get(e.target);if(t.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(r))if(!jo(t))n="rr_src";else return;if(a||(a={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(e.target,a)),n==="type"&&t.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&t.setAttribute("data-rr-is-password","true"),!Ip(t.tagName,n)&&(a.attributes[n]=Tp(this.doc,Xn(t.tagName),Xn(n),r,t,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(s){this.unattachedDoc=this.doc}let i=this.unattachedDoc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue);for(let s of Array.from(t.style)){let o=t.style.getPropertyValue(s),l=t.style.getPropertyPriority(s);o!==i.style.getPropertyValue(s)||l!==i.style.getPropertyPriority(s)?l===""?a.styleDiff[s]=o:a.styleDiff[s]=[o,l]:a._unchangedStyles[s]=[o,l]}for(let s of Array.from(i.style))t.style.getPropertyValue(s)===""&&(a.styleDiff[s]=!1)}break}case"childList":{if(Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=qr(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Ke(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||So(t,this.mirror)||!zb(t,this.mirror)||(this.addedSet.has(t)?(Ao(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&n===-1||Op(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[rp(n,r)]?Ao(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:qr(e.target)&&Wr(e.target)?!0:void 0})),this.mapRemoves.push(t))});break}}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(So(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&n!==-1&&(this.movedMap[rp(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Ke(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(n=>this.genAdds(n)),Co(e)&&e.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function Ao(e,t){e.delete(t),t.childNodes.forEach(n=>Ao(e,n))}function ap(e,t,n){return e.length===0?!1:Qb(e,t,n)}function Qb(e,t,n){let r=t.parentNode;for(;r;){let a=n.getId(r);if(e.some(i=>i.id===a))return!0;r=r.parentNode}return!1}function ip(e,t){return e.size===0?!1:$p(e,t)}function $p(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:$p(e,n):!1}var Vr;function e0(e){Vr=e}function t0(){Vr=void 0}var te=e=>Vr?(...t)=>{try{return e(...t)}catch(n){if(Vr&&Vr(n)===!0)return()=>{};throw n}}:e,Kn=[];function Xr(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function Up(e,t){var s,o;let n=new Zb;Kn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,a=(o=(s=window==null?void 0:window.Zone)==null?void 0:s.__symbol__)==null?void 0:o.call(s,"MutationObserver");a&&window[a]&&(r=window[a]);let i=new r(te(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function n0({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let a=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,s=[],o,l=Jr(te(u=>{let p=Date.now()-o;e(s.map(f=>(f.timeOffset-=p,f)),u),s=[],o=null}),i),c=te(Jr(te(u=>{let p=Xr(u),{clientX:f,clientY:m}=xo(u)?u.changedTouches[0]:u;o||(o=mi()),s.push({x:f,y:m,id:r.getId(p),timeOffset:mi()-o}),l(typeof DragEvent<"u"&&u instanceof DragEvent?G.Drag:u instanceof MouseEvent?G.MouseMove:G.TouchMove)}),a,{trailing:!1})),d=[je("mousemove",c,n),je("touchmove",c,n),je("drag",c,n)];return te(()=>{d.forEach(u=>u())})}function r0({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};let o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[],c=null,d=u=>p=>{let f=Xr(p);if(Ke(f,r,a,i,!0))return;let m=null,g=u;if("pointerType"in p){switch(p.pointerType){case"mouse":m=Ft.Mouse;break;case"touch":m=Ft.Touch;break;case"pen":m=Ft.Pen;break}m===Ft.Touch?Be[u]===Be.MouseDown?g="TouchStart":Be[u]===Be.MouseUp&&(g="TouchEnd"):Ft.Pen}else xo(p)&&(m=Ft.Touch);m!==null?(c=m,(g.startsWith("Touch")&&m===Ft.Touch||g.startsWith("Mouse")&&m===Ft.Mouse)&&(m=null)):Be[u]===Be.Click&&(m=c,c=null);let y=xo(p)?p.changedTouches[0]:p;if(!y)return;let v=n.getId(f),{clientX:E,clientY:x}=y;te(e)(h({type:Be[g],id:v,x:E,y:x},m!==null&&{pointerType:m}))};return Object.keys(Be).filter(u=>Number.isNaN(Number(u))&&!u.endsWith("_Departed")&&o[u]!==!1).forEach(u=>{let p=Xn(u),f=d(u);if(window.PointerEvent)switch(Be[u]){case Be.MouseDown:case Be.MouseUp:p=p.replace("mouse","pointer");break;case Be.TouchStart:case Be.TouchEnd:return}l.push(je(p,f,t))}),te(()=>{l.forEach(u=>u())})}function Bp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){let o=te(Jr(te(l=>{let c=Xr(l);if(!c||Ke(c,r,a,i,!0))return;let d=n.getId(c);if(c===t&&t.defaultView){let u=Ap(t.defaultView);e({id:d,x:u.left,y:u.top})}else e({id:d,x:c.scrollLeft,y:c.scrollTop})}),s.scroll||100));return je("scroll",o,t)}function a0({viewportResizeCb:e},{win:t}){let n=-1,r=-1,a=te(Jr(te(()=>{let i=Rp(),s=Mp();(n!==i||r!==s)&&(e({width:Number(s),height:Number(i)}),n=i,r=s)}),200));return je("resize",a,t)}var i0=["INPUT","TEXTAREA","SELECT"],sp=new WeakMap;function s0({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:u,maskTextClass:p,unmaskTextClass:f,maskTextSelector:m,unmaskTextSelector:g}){function y(b){let k=Xr(b),W=b.isTrusted,S=k&&To(k.tagName);if(S==="OPTION"&&(k=k.parentElement),!k||!S||i0.indexOf(S)<0||Ke(k,r,a,i,!0))return;let A=k;if(A.classList.contains(s)||o&&A.matches(o))return;let P=Fo(k),I=pi(A,S,P),R=!1,Y=bi({maskInputOptions:l,tagName:S,type:P}),L=Zn(k,p,m,f,g,Y);(P==="radio"||P==="checkbox")&&(R=k.checked),I=Gr({isMasked:L,element:k,value:I,maskInputFn:c}),v(k,u?{text:I,isChecked:R,userTriggered:W}:{text:I,isChecked:R});let M=k.name;P==="radio"&&M&&R&&t.querySelectorAll(`input[type="radio"][name="${M}"]`).forEach(B=>{if(B!==k){let D=Gr({isMasked:L,element:B,value:pi(B,S,P),maskInputFn:c});v(B,u?{text:D,isChecked:!R,userTriggered:!1}:{text:D,isChecked:!R})}})}function v(b,k){let W=sp.get(b);if(!W||W.text!==k.text||W.isChecked!==k.isChecked){sp.set(b,k);let S=n.getId(b);te(e)(w(h({},k),{id:S}))}}let E=(d.input==="last"?["change"]:["input","change"]).map(b=>je(b,te(y),t)),x=t.defaultView;if(!x)return()=>{E.forEach(b=>b())};let N=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),O=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return N&&N.set&&E.push(...O.map(b=>Cp(b[0],b[1],{set(){te(y)({target:this,isTrusted:!1})}},!1,x))),te(()=>{E.forEach(b=>b())})}function gi(e){let t=[];function n(r,a){if(oi("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||oi("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||oi("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||oi("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let i=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(i)}else if(r.parentStyleSheet){let i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(i)}return a}return n(e,t)}function en(e,t,n){let r,a;return e?(e.ownerNode?r=t.getId(e.ownerNode):a=n.getId(e),{styleId:a,id:r}):{}}function o0({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:te((d,u,p)=>{let[f,m]=p,{id:g,styleId:y}=en(u,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:f,index:m}]}),d.apply(u,p)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:te((d,u,p)=>{let[f]=p,{id:m,styleId:g}=en(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:f}]}),d.apply(u,p)})});let s;r.CSSStyleSheet.prototype.replace&&(s=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:te((d,u,p)=>{let[f]=p,{id:m,styleId:g}=en(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:f}),d.apply(u,p)})}));let o;r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:te((d,u,p)=>{let[f]=p,{id:m,styleId:g}=en(u,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:f}),d.apply(u,p)})}));let l={};li("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(li("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),li("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),li("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let c={};return Object.entries(l).forEach(([d,u])=>{c[d]={insertRule:u.prototype.insertRule,deleteRule:u.prototype.deleteRule},u.prototype.insertRule=new Proxy(c[d].insertRule,{apply:te((p,f,m)=>{let[g,y]=m,{id:v,styleId:E}=en(f.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||E&&E!==-1)&&e({id:v,styleId:E,adds:[{rule:g,index:[...gi(f),y||0]}]}),p.apply(f,m)})}),u.prototype.deleteRule=new Proxy(c[d].deleteRule,{apply:te((p,f,m)=>{let[g]=m,{id:y,styleId:v}=en(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,removes:[{index:[...gi(f),g]}]}),p.apply(f,m)})})}),te(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=i,s&&(r.CSSStyleSheet.prototype.replace=s),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(l).forEach(([d,u])=>{u.prototype.insertRule=c[d].insertRule,u.prototype.deleteRule=c[d].deleteRule})})}function jp({mirror:e,stylesheetManager:t},n){var s,o,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let a=n.nodeName==="#document"?(s=n.defaultView)==null?void 0:s.Document:(l=(o=n.ownerDocument)==null?void 0:o.defaultView)==null?void 0:l.ShadowRoot,i=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!a||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){var c;return(c=i.get)==null?void 0:c.call(this)},set(c){var u;let d=(u=i.set)==null?void 0:u.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch(p){}return d}}),te(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function l0({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:a}){let i=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:te((o,l,c)=>{var g;let[d,u,p]=c;if(n.has(d))return i.apply(l,[d,u,p]);let{id:f,styleId:m}=en((g=l.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||m&&m!==-1)&&e({id:f,styleId:m,set:{property:d,value:u,priority:p},index:gi(l.parentRule)}),o.apply(l,c)})});let s=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(s,{apply:te((o,l,c)=>{var f;let[d]=c;if(n.has(d))return s.apply(l,[d]);let{id:u,styleId:p}=en((f=l.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(u&&u!==-1||p&&p!==-1)&&e({id:u,styleId:p,remove:{property:d},index:gi(l.parentRule)}),o.apply(l,c)})}),te(()=>{a.CSSStyleDeclaration.prototype.setProperty=i,a.CSSStyleDeclaration.prototype.removeProperty=s})}function c0({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:a,sampling:i,doc:s}){let o=te(c=>Jr(te(d=>{let u=Xr(d);if(!u||Ke(u,t,n,r,!0))return;let{currentTime:p,volume:f,muted:m,playbackRate:g}=u;e({type:c,id:a.getId(u),currentTime:p,volume:f,muted:m,playbackRate:g})}),i.media||500)),l=[je("play",o(Gn.Play),s),je("pause",o(Gn.Pause),s),je("seeked",o(Gn.Seeked),s),je("volumechange",o(Gn.VolumeChange),s),je("ratechange",o(Gn.RateChange),s)];return te(()=>{l.forEach(c=>c())})}function u0({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],a=new WeakMap,i=n.FontFace;n.FontFace=function(o,l,c){let d=new i(o,l,c);return a.set(d,{family:o,buffer:typeof l!="string",descriptors:c,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),d};let s=Uo(t.fonts,"add",function(o){return function(l){return Ei(te(()=>{let c=a.get(l);c&&(e(c),a.delete(l))}),0),o.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(s),te(()=>{r.forEach(o=>o())})}function d0(e){let{doc:t,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,selectionCb:s}=e,o=!0,l=te(()=>{let c=t.getSelection();if(!c||o&&(c!=null&&c.isCollapsed))return;o=c.isCollapsed||!1;let d=[],u=c.rangeCount||0;for(let p=0;p<u;p++){let f=c.getRangeAt(p),{startContainer:m,startOffset:g,endContainer:y,endOffset:v}=f;Ke(m,r,a,i,!0)||Ke(y,r,a,i,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(y),endOffset:v})}s({ranges:d})});return l(),je("selectionchange",l)}function p0({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:Uo(n.customElements,"define",function(r){return function(a,i,s){try{t({define:{name:a}})}catch(o){}return r.apply(this,[a,i,s])}})}function f0(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Up(e,e.doc));let a=n0(e),i=r0(e),s=Bp(e),o=a0(e,{win:n}),l=s0(e),c=c0(e),d=()=>{},u=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=o0(e,{win:n}),u=jp(e,e.doc),p=l0(e,{win:n}),e.collectFonts&&(f=u0(e)));let m=d0(e),g=p0(e),y=[];for(let v of e.plugins)y.push(v.observer(v.callback,n,v.options));return te(()=>{Kn.forEach(v=>v.reset()),r==null||r.disconnect(),a(),i(),s(),o(),l(),c(),d(),u(),p(),f(),m(),g(),y.forEach(v=>v())})}function oi(e){return typeof window[e]<"u"}function li(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Ro=class{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){let a=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e),s=a.get(t);return s||(s=this.generateIdFn(),a.set(t,s),i.set(s,t)),s}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(a=>this.getId(e,a,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);return typeof t!="number"?t:r.get(t)||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(r=>this.getRemoteId(e,r,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}},h0=class{constructor(){this.crossOriginIframeMirror=new Ro($o),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},m0=class{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ro($o),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ro(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){var r,a;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((r=e.contentWindow)==null||r.addEventListener("message",this.handleMessage.bind(this))),(a=this.loadListener)==null||a.call(this,e);let n=jo(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){let t=e;if(t.data.type!=="rrweb"||t.origin!==t.data.origin||!e.source)return;let n=this.crossOriginIframeMap.get(e.source);if(!n)return;let r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){var n;switch(t.type){case J.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let r=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,r),this.patchRootIdOnNode(t.data.node,r),{timestamp:t.timestamp,type:J.IncrementalSnapshot,data:{source:G.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case J.Meta:case J.Load:case J.DomContentLoaded:return!1;case J.Plugin:return t;case J.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case J.IncrementalSnapshot:switch(t.data.source){case G.Mutation:return t.data.adds.forEach(r=>{this.replaceIds(r,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,e);let a=this.crossOriginIframeRootIdMap.get(e);a&&this.patchRootIdOnNode(r.node,a)}),t.data.removes.forEach(r=>{this.replaceIds(r,e,["parentId","id"])}),t.data.attributes.forEach(r=>{this.replaceIds(r,e,["id"])}),t.data.texts.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case G.Drag:case G.TouchMove:case G.MouseMove:return t.data.positions.forEach(r=>{this.replaceIds(r,e,["id"])}),t;case G.ViewportResize:return!1;case G.MediaInteraction:case G.MouseInteraction:case G.Scroll:case G.CanvasMutation:case G.Input:return this.replaceIds(t.data,e,["id"]),t;case G.StyleSheetRule:case G.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case G.Font:return t;case G.Selection:return t.data.ranges.forEach(r=>{this.replaceIds(r,e,["start","end"])}),t;case G.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),(n=t.data.styles)==null||n.forEach(r=>{this.replaceStyleIds(r,e,["styleId"])}),t}}return!1}replace(e,t,n,r){for(let a of r)!Array.isArray(t[a])&&typeof t[a]!="number"||(Array.isArray(t[a])?t[a]=e.getIds(n,t[a]):t[a]=e.getId(n,t[a]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(n=>{this.replaceIdOnNode(n,t)})}patchRootIdOnNode(e,t){e.type!==Re.Document&&!e.rootId&&(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(n=>{this.patchRootIdOnNode(n,t)})}},g0=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},_0=class{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Wr(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=Up(w(h({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(Bp(w(h({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),Ei(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(jp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=jo(e),n=Kb(e);!t||!n||this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(Uo(e.prototype,"attachShadow",function(r){return function(a){let i=r.call(this,a);return this.shadowRoot&&Fp(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},op="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Hr=0;Hr<op.length;Hr++)y0[op.charCodeAt(Hr)]=Hr;var Hr,lp=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},v0=class{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Wb,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(e.length===0)return;let n={id:t,styleIds:[]},r=[];for(let a of e){let i;this.styleMirror.has(a)?i=this.styleMirror.getId(a):(i=this.styleMirror.add(a),r.push({styleId:i,rules:Array.from(a.rules||CSSRule,(s,o)=>({rule:vp(s),index:o}))})),n.styleIds.push(i)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}},b0=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(r=>r!==t)}add(e,t){this.active||(this.active=!0,Yb(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}},we,_i,yp;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((yp=e.contentWindow)==null?void 0:yp.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var mt=bb();function $t(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:u=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:v,maskAttributeFn:E,maskInputFn:x,maskTextFn:N,maxCanvasSize:O=null,packFn:b,sampling:k={},dataURLOptions:W={},mousemoveWait:S,recordDOM:A=!0,recordCanvas:P=!1,recordCrossOriginIframes:I=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Y=!1,collectFonts:L=!1,inlineImages:M=!1,plugins:B,keepIframeSrcFn:D=()=>!1,ignoreCSSAttributes:Z=new Set([]),errorHandler:Q,onMutation:ye,getCanvasManager:Ze}=e;e0(Q);let ve=I?window.parent===window:!0,Ee=!1;if(!ve)try{window.parent.document&&(Ee=!1)}catch(re){Ee=!0}if(ve&&!t)throw new Error("emit function is required");if(!ve&&!Ee)return()=>{};S!==void 0&&k.mousemove===void 0&&(k.mousemove=S),mt.reset();let at=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},vn=v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:v==="all",headMetaDescKeywords:v==="all"}:v||{};qb();let bn,Sn=0,En=re=>{for(let it of B||[])it.eventProcessor&&(re=it.eventProcessor(re));return b&&!Ee&&(re=b(re)),re};we=(re,it)=>{var et;let ee=re;if(ee.timestamp=mi(),(et=Kn[0])!=null&&et.isFrozen()&&ee.type!==J.FullSnapshot&&!(ee.type===J.IncrementalSnapshot&&ee.data.source===G.Mutation)&&Kn.forEach(_t=>_t.unfreeze()),ve)t==null||t(En(ee),it);else if(Ee){let _t={type:"rrweb",event:En(ee),origin:window.location.origin,isCheckout:it};window.parent.postMessage(_t,"*")}if(ee.type===J.FullSnapshot)bn=ee,Sn=0;else if(ee.type===J.IncrementalSnapshot){if(ee.data.source===G.Mutation&&ee.data.isAttachIframe)return;Sn++;let _t=r&&Sn>=r,oe=n&&bn&&ee.timestamp-bn.timestamp>n;(_t||oe)&&Wi(!0)}};let ia=re=>{we({type:J.IncrementalSnapshot,data:h({source:G.Mutation},re)})},ae=re=>we({type:J.IncrementalSnapshot,data:h({source:G.Scroll},re)}),xe=re=>we({type:J.IncrementalSnapshot,data:h({source:G.CanvasMutation},re)}),Qe=re=>we({type:J.IncrementalSnapshot,data:h({source:G.AdoptedStyleSheet},re)}),ke=new v0({mutationCb:ia,adoptedStyleSheetCb:Qe}),se=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new h0:new m0({mirror:mt,mutationCb:ia,stylesheetManager:ke,recordCrossOriginIframes:I,wrappedEmit:we});for(let re of B||[])re.getMirror&&re.getMirror({nodeMirror:mt,crossOriginIframeMirror:se.crossOriginIframeMirror,crossOriginIframeStyleMirror:se.crossOriginIframeStyleMirror});let Me=new b0,sn=E0(Ze,{mirror:mt,win:window,mutationCb:re=>we({type:J.IncrementalSnapshot,data:h({source:G.CanvasMutation},re)}),recordCanvas:P,blockClass:a,blockSelector:i,unblockSelector:s,maxCanvasSize:O,sampling:k.canvas,dataURLOptions:W,errorHandler:Q}),xt=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new g0:new _0({mutationCb:ia,scrollCb:ae,bypassOptions:{onMutation:ye,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskInputOptions:at,dataURLOptions:W,maskAttributeFn:E,maskTextFn:N,maskInputFn:x,recordCanvas:P,inlineImages:M,sampling:k,slimDOMOptions:vn,iframeManager:se,stylesheetManager:ke,canvasManager:sn,keepIframeSrcFn:D,processedNodeManager:Me},mirror:mt}),Wi=(re=!1)=>{if(!A)return;we({type:J.Meta,data:{href:window.location.href,width:Mp(),height:Rp()}},re),ke.reset(),xt.init(),Kn.forEach(ee=>ee.lock());let it=Hb(document,{mirror:mt,blockClass:a,blockSelector:i,unblockSelector:s,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:m,maskAllInputs:at,maskAttributeFn:E,maskInputFn:x,maskTextFn:N,slimDOM:vn,dataURLOptions:W,recordCanvas:P,inlineImages:M,onSerialize:ee=>{Lp(ee,mt)&&se.addIframe(ee),Pp(ee,mt)&&ke.trackLinkElement(ee),Co(ee)&&xt.addShadowRoot(ee.shadowRoot,document)},onIframeLoad:(ee,et)=>{se.attachIframe(ee,et),ee.contentWindow&&sn.addWindow(ee.contentWindow),xt.observeAttachShadow(ee)},onStylesheetLoad:(ee,et)=>{ke.attachLinkElement(ee,et)},keepIframeSrcFn:D});if(!it)return console.warn("Failed to snapshot the document");we({type:J.FullSnapshot,data:{node:it,initialOffset:Ap(window)}}),Kn.forEach(ee=>ee.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ke.adoptStyleSheets(document.adoptedStyleSheets,mt.getId(document))};_i=Wi;try{let re=[],it=et=>{var _t;return te(f0)({onMutation:ye,mutationCb:ia,mousemoveCb:(oe,Vi)=>we({type:J.IncrementalSnapshot,data:{source:Vi,positions:oe}}),mouseInteractionCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.MouseInteraction},oe)}),scrollCb:ae,viewportResizeCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.ViewportResize},oe)}),inputCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.Input},oe)}),mediaInteractionCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.MediaInteraction},oe)}),styleSheetRuleCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.StyleSheetRule},oe)}),styleDeclarationCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.StyleDeclaration},oe)}),canvasMutationCb:xe,fontCb:oe=>we({type:J.IncrementalSnapshot,data:h({source:G.Font},oe)}),selectionCb:oe=>{we({type:J.IncrementalSnapshot,data:h({source:G.Selection},oe)})},customElementCb:oe=>{we({type:J.IncrementalSnapshot,data:h({source:G.CustomElement},oe)})},blockClass:a,ignoreClass:o,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:u,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:at,inlineStylesheet:m,sampling:k,recordDOM:A,recordCanvas:P,inlineImages:M,userTriggeredOnInput:Y,collectFonts:L,doc:et,maskAttributeFn:E,maskInputFn:x,maskTextFn:N,keepIframeSrcFn:D,blockSelector:i,unblockSelector:s,slimDOMOptions:vn,dataURLOptions:W,mirror:mt,iframeManager:se,stylesheetManager:ke,shadowDomManager:xt,processedNodeManager:Me,canvasManager:sn,ignoreCSSAttributes:Z,plugins:((_t=B==null?void 0:B.filter(oe=>oe.observer))==null?void 0:_t.map(oe=>({observer:oe.observer,options:oe.options,callback:Vi=>we({type:J.Plugin,data:{plugin:oe.name,payload:Vi}})})))||[]},{})};se.addLoadListener(et=>{try{re.push(it(et.contentDocument))}catch(_t){console.warn(_t)}});let ee=()=>{Wi(),re.push(it(document))};return document.readyState==="interactive"||document.readyState==="complete"?ee():(re.push(je("DOMContentLoaded",()=>{we({type:J.DomContentLoaded,data:{}}),R==="DOMContentLoaded"&&ee()})),re.push(je("load",()=>{we({type:J.Load,data:{}}),R==="load"&&ee()},window))),()=>{re.forEach(et=>et()),Me.destroy(),_i=void 0,t0()}}catch(re){console.warn(re)}}function S0(e){if(!_i)throw new Error("please take full snapshot after start recording");_i(e)}$t.mirror=mt;$t.takeFullSnapshot=S0;function E0(e,t){try{return e?e(t):new lp}catch(n){return console.warn("Unable to initialize CanvasManager"),new lp}}var cp;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(cp||(cp={}));var w0=3,k0=5;function Ho(e){return e>9999999999?e:e*1e3}function Eo(e){return e>9999999999?e/1e3:e}function Zr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:J.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ze(t,10,1e3)}}),t.category==="console")))}var T0="button,a";function Hp(e){return e.closest(T0)||e}function zp(e){let t=qp(e);return!t||!(t instanceof Element)?t:Hp(t)}function qp(e){return I0(e)?e.target:e}function I0(e){return typeof e=="object"&&!!e&&"target"in e}var tn;function x0(e){return tn||(tn=[],C0()),tn.push(e),()=>{let t=tn?tn.indexOf(e):-1;t>-1&&tn.splice(t,1)}}function C0(){Ie(me,"open",function(e){return function(...t){if(tn)try{tn.forEach(n=>n())}catch(n){}return e.apply(me,t)}})}var A0=new Set([G.Mutation,G.StyleSheetRule,G.StyleDeclaration,G.AdoptedStyleSheet,G.CanvasMutation,G.Selection,G.MediaInteraction]);function R0(e,t,n){e.handleClick(t,n)}var M0=class{constructor(e,t,n=Zr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let e=x0(()=>{this._lastMutation=up()});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(O0(t,this._ignoreSelector)||!L0(e))return;let n={timestamp:Eo(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(r=>r.node===n.node&&Math.abs(r.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Eo(e)}registerScroll(e=Date.now()){this._lastScroll=Eo(e)}registerClick(e){let t=Hp(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(t=>{t.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=up();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)});for(let n of e){let r=this._clicks.indexOf(n);r>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(r,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,a=!n&&!r,{clickCount:i,clickBreadcrumb:s}=e;if(a){let o=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,l=o<this._timeout*1e3?"mutation":"timeout",c={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:w(h({},s.data),{url:me.location.href,route:t.getCurrentRoute(),timeAfterClickMs:o,endReason:l,clickCount:i||1})};this._addBreadcrumbEvent(t,c);return}if(i>1){let o={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:w(h({},s.data),{url:me.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0})};this._addBreadcrumbEvent(t,o)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Hn(()=>this._checkClicks(),1e3)}},N0=["A","BUTTON","INPUT"];function O0(e,t){return!!(!N0.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function L0(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function up(){return Date.now()/1e3}function P0(e,t){try{if(!D0(t))return;let{source:n}=t.data;if(A0.has(n)&&e.registerMutation(t.timestamp),n===G.Scroll&&e.registerScroll(t.timestamp),F0(t)){let{type:r,id:a}=t.data,i=$t.mirror.getNode(a);i instanceof HTMLElement&&r===Be.Click&&e.registerClick(i)}}catch(n){}}function D0(e){return e.type===w0}function F0(e){return e.data.source===G.MouseInteraction}function Tt(e){return h({timestamp:Date.now()/1e3,type:"default"},e)}var zo=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(zo||{}),$0=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function U0(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if($0.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var B0=e=>t=>{if(!e.isEnabled())return;let n=j0(t);if(!n)return;let r=t.name==="click",a=r?t.event:void 0;r&&e.clickDetector&&(a!=null&&a.target)&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&R0(e.clickDetector,n,zp(t.event)),Zr(e,n)};function Wp(e,t){let n=$t.mirror.getId(e),r=n&&$t.mirror.getNode(n),a=r&&$t.mirror.getMeta(r),i=a&&z0(a)?a:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(s=>s.type===zo.Text&&s.textContent).filter(Boolean).map(s=>s.trim()).join(""),attributes:U0(i.attributes)}}:{}}}function j0(e){let{target:t,message:n}=H0(e);return Tt(h({category:`ui.${e.name}`},Wp(t,n)))}function H0(e){let t=e.name==="click",n,r=null;try{r=t?zp(e.event):qp(e.event),n=Ae(r,{maxStringLength:200})||"<unknown>"}catch(a){n="<unknown>"}return{target:r,message:n}}function z0(e){return e.type===zo.Element}function q0(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=W0(t);n&&Zr(e,n)}function W0(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i,target:s}=e;if(!s||V0(s)||!i)return null;let o=t||r||a,l=i.length===1;if(!o&&l)return null;let c=Ae(s,{maxStringLength:200})||"<unknown>",d=Wp(s,c);return Tt({category:"ui.keyDown",message:c,data:w(h({},d.data),{metaKey:t,shiftKey:n,ctrlKey:r,altKey:a,key:i})})}function V0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var G0={resource:Z0,paint:K0,navigation:X0};function ci(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Y0(e){return e.map(J0).filter(Boolean)}function J0(e){let t=G0[e.entryType];return t?t(e):null}function Qn(e){return((ge()||me.performance.timeOrigin)+e)/1e3}function K0(e){let{duration:t,entryType:n,name:r,startTime:a}=e,i=Qn(a);return{type:n,name:r,start:i,end:i+t,data:void 0}}function X0(e){let{entryType:t,name:n,decodedBodySize:r,duration:a,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:d,loadEventEnd:u,redirectCount:p,startTime:f,transferSize:m,type:g}=e;return a===0?null:{type:`${t}.${g}`,start:Qn(f),end:Qn(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:a,domInteractive:c,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:u,domComplete:i,redirectCount:p}}}function Z0(e){let{entryType:t,initiatorType:n,name:r,responseEnd:a,startTime:i,decodedBodySize:s,encodedBodySize:o,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Qn(i),end:Qn(a),name:r,data:{size:c,statusCode:l,decodedBodySize:s,encodedBodySize:o}}}function Q0(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return wi(e,"largest-contentful-paint",n)}function eS(e){return e.sources!==void 0}function tS(e){let t=[],n=[];for(let r of e.entries)if(eS(r)){let a=[];for(let i of r.sources)if(i.node){n.push(i.node);let s=$t.mirror.getId(i.node);s&&a.push(s)}t.push({value:r.value,nodeIds:a.length?a:void 0})}return wi(e,"cumulative-layout-shift",n,t)}function nS(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return wi(e,"first-input-delay",n)}function rS(e){let t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return wi(e,"interaction-to-next-paint",n)}function wi(e,t,n,r){let a=e.value,i=e.rating,s=Qn(a);return{type:"web-vital",name:t,start:s,end:s,data:{value:a,size:a,rating:i,nodeIds:n?n.map(o=>$t.mirror.getId(o)):void 0,attributions:r}}}function aS(e){function t(a){e.performanceEntries.includes(a)||e.performanceEntries.push(a)}function n({entries:a}){a.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(a=>{r.push(Pt(a,n))}),r.push(ri(ci(Q0,e)),ni(ci(tS,e)),mo(ci(nS,e)),go(ci(rS,e))),()=>{r.forEach(a=>a())}}var z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,iS='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function sS(){let e=new Blob([iS]);return URL.createObjectURL(e)}var dp=["log","warn","error"],ui="[Replay] ";function wo(e,t="info"){Je({category:"console",data:{logger:"replay"},level:t,message:`${ui}${e}`},{level:t})}function oS(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return z?(dp.forEach(r=>{n[r]=(...a)=>{_[r](ui,...a),t&&wo(a.join(""),Or(r))}}),n.exception=(r,...a)=>{a.length&&n.error&&n.error(...a),_.error(ui,r),e?bt(r):t&&wo(r,"error")},n.infoTick=(...r)=>{_.log(ui,...r),t&&setTimeout(()=>wo(r[0]),0)}):dp.forEach(r=>{n[r]=()=>{}}),n}var q=oS(),qo=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Do}.`)}},Vp=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(e){return U(this,null,function*(){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>Do)throw new qo;this.events.push(e)})}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(t=>t.timestamp).sort()[0];return e?Ho(e):null}},lS=class{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",n=>{t(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){z&&q.log("Destroying compression worker"),this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,a)=>{let i=({data:s})=>{let o=s;if(o.method===e&&o.id===n){if(this._worker.removeEventListener("message",i),!o.success){z&&q.error("Error in compression worker: ",o.response),a(new Error("Error in compression worker"));return}r(o.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}},cS=class{constructor(e){this._worker=new lS(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=Ho(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Do?Promise.reject(new qo):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{z&&q.exception(e,'Sending "clear" message to worker failed',e)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}_finishRequest(){return U(this,null,function*(){let e=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e})}},uS=class{constructor(e){this._fallback=new Vp,this._compression=new cS(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}finish(){return U(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return U(this,null,function*(){try{yield this._compression.ensureReady()}catch(e){z&&q.exception(e,"Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return U(this,null,function*(){let{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(let a of e)r.push(this._compression.addEvent(a));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{yield Promise.all(r),this._fallback.clear()}catch(a){z&&q.exception(a,"Failed to add events when switching buffers.")}})}};function dS({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=pS(t);if(n)return n}return z&&q.log("Using simple buffer"),new Vp}function pS(e){try{let t=e||fS();if(!t)return;z&&q.log(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new uS(n)}catch(t){z&&q.exception(t,"Failed to create compression worker")}}function fS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?sS():""}function Wo(){try{return"sessionStorage"in me&&!!me.sessionStorage}catch(e){return!1}}function hS(e){mS(),e.session=void 0}function mS(){if(Wo())try{me.sessionStorage.removeItem(Lo)}catch(e){}}function Gp(e){return e===void 0?!1:Math.random()<e}function Vo(e){if(Wo())try{me.sessionStorage.setItem(Lo,JSON.stringify(e))}catch(t){}}function Yp(e){let t=Date.now(),n=e.id||Ce(),r=e.started||t,a=e.lastActivity||t,i=e.segmentId||0,s=e.sampled,o=e.previousSessionId;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s,previousSessionId:o}}function gS(e,t){return Gp(e)?"session":t?"buffer":!1}function pp({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let a=gS(e,t),i=Yp({sampled:a,previousSessionId:r});return n&&Vo(i),i}function _S(){if(!Wo())return null;try{let e=me.sessionStorage.getItem(Lo);if(!e)return null;let t=JSON.parse(e);return z&&q.infoTick("Loading existing session"),Yp(t)}catch(e){return null}}function Mo(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Jp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Mo(e.started,t,r)||Mo(e.lastActivity,n,r)}function Kp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Jp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function ko({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let a=r.stickySession&&_S();return a?Kp(a,{sessionIdleExpire:e,maxReplayDuration:t})?(z&&q.infoTick("Session in sessionStorage is expired, creating new one..."),pp(r,{previousSessionId:a.id})):a:(z&&q.infoTick("Creating new session"),pp(r,{previousSessionId:n}))}function yS(e){return e.type===J.Custom}function Go(e,t,n){return Zp(e,t)?(Xp(e,t,n),!0):!1}function vS(e,t,n){return Zp(e,t)?Xp(e,t,n):Promise.resolve(null)}function Xp(e,t,n){return U(this,null,function*(){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let a=e.recordingMode==="buffer";try{n&&a&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),s=bS(t,i.beforeAddRecordingEvent);return s?yield r.addEvent(s):void 0}catch(i){let s=i&&i instanceof qo,o=s?"addEventSizeExceeded":"addEvent";if(s&&a)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),yield e.stop({reason:o});let l=T();l&&l.recordDroppedEvent("internal_sdk_error","replay")}})}function Zp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=Ho(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(z&&q.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function bS(e,t){try{if(typeof t=="function"&&yS(e))return t(e)}catch(n){return z&&q.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Yo(e){return!e.type}function No(e){return e.type==="transaction"}function SS(e){return e.type==="replay_event"}function fp(e){return e.type==="feedback"}function ES(e){return(t,n)=>{if(!e.isEnabled()||!Yo(t)&&!No(t))return;let r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(No(t)){wS(e,t);return}kS(e,t)}}}function wS(e,t){var r,a;let n=e.getContext();(a=(r=t.contexts)==null?void 0:r.trace)!=null&&a.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function kS(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Hn(()=>U(this,null,function*(){try{yield e.sendBufferedReplayOrFlush()}catch(a){e.handleException(a)}}))}function TS(e){return t=>{!e.isEnabled()||!Yo(t)||IS(e,t)}}function IS(e,t){var r,a,i;let n=(i=(a=(r=t.exception)==null?void 0:r.values)==null?void 0:a[0])==null?void 0:i.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let s=Tt({category:"replay.hydrate-error",data:{url:We()}});Zr(e,s)}}function xS(e){let t=T();t&&t.on("beforeAddBreadcrumb",n=>CS(e,n))}function CS(e,t){if(!e.isEnabled()||!Qp(t))return;let n=AS(t);n&&Zr(e,n)}function AS(e){return!Qp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?RS(e):Tt(e)}function RS(e){var a;let t=(a=e.data)==null?void 0:a.arguments;if(!Array.isArray(t)||t.length===0)return Tt(e);let n=!1,r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>si?(n=!0,`${i.slice(0,si)}\u2026`):i;if(typeof i=="object")try{let s=ze(i,7);return JSON.stringify(s).length>si?(n=!0,`${JSON.stringify(s,null,2).slice(0,si)}\u2026`):s}catch(s){}return i});return Tt(w(h({},e),{data:h(w(h({},e.data),{arguments:r}),n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function Qp(e){return!!e.category}function MS(e,t){var n,r,a;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((a=t.originalException)!=null&&a.__rrweb__)}function ef(){let e=j().getPropagationContext().dsc;e&&delete e.replay_id;let t=le();if(t){let n=Ye(t);delete n.replay_id}}function NS(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:J.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function OS(e,t){return e.recordingMode!=="buffer"||t.message===Po||!t.exception||t.type?!1:Gp(e.getOptions().errorSampleRate)}function LS(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:SS(t)?(delete t.breadcrumbs,t):!Yo(t)&&!No(t)&&!fp(t)?t:e.checkAndHandleExpiredSession()?fp(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),NS(e,t),t):MS(t,n)&&!e.getOptions()._experiments.captureExceptions?(z&&q.log("Ignoring error from rrweb internals",t),null):((OS(e,t)||e.recordingMode==="session")&&(t.tags=w(h({},t.tags),{replayId:e.getSessionId()})),t):(ef(),t),{id:"Replay"})}function ki(e,t){return t.map(({type:n,start:r,end:a,name:i,data:s})=>{let o=e.throttledAddEvent({type:J.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}});return typeof o=="string"?Promise.resolve(null):o})}function PS(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function DS(e){return t=>{if(!e.isEnabled())return;let n=PS(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ki(e,[n]),!1)))}}function FS(e,t){return z&&e.getOptions()._experiments.traceInternals?!1:Fa(t,T())}function tf(e,t){e.isEnabled()&&t!==null&&(FS(e,t.name)||e.addUpdate(()=>(ki(e,[t]),!0)))}function Ti(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=bo(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(n){}}function nf(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function yi(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n=h({},e._meta),r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function rf(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:a,method:i,statusCode:s,request:o,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:a,data:{method:i,statusCode:s,request:o,response:l}}}function Kr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function nn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:a,warnings:i}=$S(n);return r.body=a,i!=null&&i.length&&(r._meta={warnings:i}),r}function Oo(e,t){return Object.entries(e).reduce((n,[r,a])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=a),n},{})}function $S(e){if(!e||typeof e!="string")return{body:e};let t=e.length>Gd,n=US(e);if(t){let r=e.slice(0,Gd);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(r){}return{body:e}}function US(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function vi(e,t){let n=BS(e);return $e(n,t)}function BS(e,t=me.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(me.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}function jS(e,t,n){return U(this,null,function*(){try{let r=yield zS(e,t,n),a=rf("resource.fetch",r);tf(n.replay,a)}catch(r){z&&q.exception(r,"Failed to capture fetch breadcrumb")}})}function HS(e,t){let{input:n,response:r}=t,a=n?jr(n):void 0,i=Ti(a),s=r?nf(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function zS(e,t,n){return U(this,null,function*(){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r}=t,{url:s,method:o,status_code:l=0,request_body_size:c,response_body_size:d}=e.data,u=vi(s,n.networkDetailAllowUrls)&&!vi(s,n.networkDetailDenyUrls),p=u?qS(n,t.input,c):Kr(c),f=yield WS(u,n,t.response,d);return{startTimestamp:a,endTimestamp:i,url:s,method:o,statusCode:l,request:p,response:f}})}function qS({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let a=n?YS(n,t):{};if(!e)return nn(a,r,void 0);let i=jr(n),[s,o]=qn(i,q),l=nn(a,r,s);return o?yi(l,o):l}function WS(i,s,o,l){return U(this,arguments,function*(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,a){if(!e&&a!==void 0)return Kr(a);let c=r?af(r.headers,n):{};if(!r||!t&&a!==void 0)return nn(c,a,void 0);let[d,u]=yield GS(r),p=VS(d,{networkCaptureBodies:t,responseBodySize:a,captureDetails:e,headers:c});return u?yi(p,u):p})}function VS(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:a}){try{let i=e!=null&&e.length&&n===void 0?Ti(e):n;return r?t?nn(a,i,e):nn(a,i,void 0):Kr(i)}catch(i){return z&&q.exception(i,"Failed to serialize response body"),nn(a,n,void 0)}}function GS(e){return U(this,null,function*(){let t=JS(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[yield KS(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(z&&q.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(z&&q.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}})}function af(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function YS(e,t){return e.length===1&&typeof e[0]!="string"?hp(e[0],t):e.length===2?hp(e[1],t):{}}function hp(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?af(n,t):Array.isArray(n)?{}:Oo(n,t):{}}function JS(e){try{return e.clone()}catch(t){z&&q.exception(t,"Failed to clone response body")}}function KS(e){return new Promise((t,n)=>{let r=Hn(()=>n(new Error("Timeout while trying to read response body")),500);XS(e).then(a=>t(a),a=>n(a)).finally(()=>clearTimeout(r))})}function XS(e){return U(this,null,function*(){return yield e.text()})}function ZS(e,t,n){return U(this,null,function*(){try{let r=e1(e,t,n),a=rf("resource.xhr",r);tf(n.replay,a)}catch(r){z&&q.exception(r,"Failed to capture xhr breadcrumb")}})}function QS(e,t){let{xhr:n,input:r}=t;if(!n)return;let a=Ti(r),i=n.getResponseHeader("content-length")?nf(n.getResponseHeader("content-length")):a1(n.response,n.responseType);a!==void 0&&(e.data.request_body_size=a),i!==void 0&&(e.data.response_body_size=i)}function e1(e,t,n){let r=Date.now(),{startTimestamp:a=r,endTimestamp:i=r,input:s,xhr:o}=t,{url:l,method:c,status_code:d=0,request_body_size:u,response_body_size:p}=e.data;if(!l)return null;if(!o||!vi(l,n.networkDetailAllowUrls)||vi(l,n.networkDetailDenyUrls)){let b=Kr(u),k=Kr(p);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:b,response:k}}let f=o[Ge],m=f?Oo(f.request_headers,n.networkRequestHeaders):{},g=Oo(t1(o),n.networkResponseHeaders),[y,v]=n.networkCaptureBodies?qn(s,q):[void 0],[E,x]=n.networkCaptureBodies?n1(o):[void 0],N=nn(m,u,y),O=nn(g,p,E);return{startTimestamp:a,endTimestamp:i,url:l,method:c,statusCode:d,request:v?yi(N,v):N,response:x?yi(O,x):O}}function t1(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return i&&(n[a.toLowerCase()]=i),n},{}):{}}function n1(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return r1(e.response,e.responseType)}catch(n){t.push(n)}return z&&q.warn("Failed to get xhr response body",...t),[void 0]}function r1(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return z&&q.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return z&&q.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function a1(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Ti(n)}catch(n){return}}function i1(e){let t=T();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:a,networkRequestHeaders:i,networkResponseHeaders:s};t&&t.on("beforeAddBreadcrumb",(l,c)=>s1(o,l,c))}catch(n){}}function s1(e,t,n){if(t.data)try{o1(t)&&c1(n)&&(QS(t,n),ZS(t,n,e)),l1(t)&&u1(n)&&(HS(t,n),jS(t,n,e))}catch(r){z&&q.exception(r,"Error when enriching network breadcrumb")}}function o1(e){return e.category==="xhr"}function l1(e){return e.category==="fetch"}function c1(e){return e==null?void 0:e.xhr}function u1(e){return e==null?void 0:e.response}function d1(e,{autoFlushOnFeedback:t}){let n=T();ii(B0(e)),Qt(DS(e)),xS(e),i1(e);let r=LS(e);La(r),n&&(n.on("beforeSendEvent",TS(e)),n.on("afterSendEvent",ES(e)),n.on("createDsc",a=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(a.replay_id=i)}),n.on("spanStart",a=>{e.lastActiveSpan=a}),n.on("spanEnd",a=>{e.lastActiveSpan=a}),n.on("beforeSendFeedback",(a,i)=>U(this,null,function*(){var o;let s=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&s&&((o=a.contexts)!=null&&o.feedback)&&(a.contexts.feedback.source==="api"&&t&&(yield e.flush()),a.contexts.feedback.replay_id=s)})),t&&n.on("openFeedbackWidget",()=>U(this,null,function*(){yield e.flush()})))}function p1(e){return U(this,null,function*(){try{return Promise.all(ki(e,[f1(me.performance.memory)]))}catch(t){return[]}})}function f1(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function h1(e,t,n){return Zu(e,t,w(h({},n),{setTimeoutImpl:Hn}))}var nt=$.navigator;function m1(){var e,t;return/iPhone|iPad|iPod/i.test((e=nt==null?void 0:nt.userAgent)!=null?e:"")||/Macintosh/i.test((t=nt==null?void 0:nt.userAgent)!=null?t:"")&&(nt!=null&&nt.maxTouchPoints)&&(nt==null?void 0:nt.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function g1(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){z&&q.warn("Received replay event after session expired.");return}let a=r||!t;t=!0,e.clickDetector&&P0(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&a&&e.setInitialState(),!Go(e,n,a))return!0;if(!a)return!1;let i=e.session;if(y1(e,a),e.recordingMode==="buffer"&&i&&e.eventBuffer){let s=e.eventBuffer.getEarliestTimestamp();s&&(z&&q.log(`Updating session start time to earliest event in buffer to ${new Date(s)}`),i.started=s,e.getOptions().stickySession&&Vo(i))}return i!=null&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function _1(e){let t=e.getOptions();return{type:J.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function y1(e,t){!t||!e.session||e.session.segmentId!==0||Go(e,_1(e),!1)}function v1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function b1(e,t,n,r){return ft($s(e,Ca(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function S1({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let a=new TextEncoder().encode(r);n=new Uint8Array(a.length+e.length),n.set(a),n.set(e,a.length)}return n}function E1(a){return U(this,arguments,function*({client:e,scope:t,replayId:n,event:r}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);let o=yield zs(e.getOptions(),r,s,t,e,be());if(!o)return null;e.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";let l=e.getSdkMetadata(),{name:c,version:d}=(l==null?void 0:l.sdk)||{};return o.sdk=w(h({},o.sdk),{name:c||"sentry.javascript.unknown",version:d||"0.0.0"}),o})}function w1(s){return U(this,arguments,function*({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:a,session:i}){let o=S1({recordingData:e,headers:{segment_id:n}}),{urls:l,errorIds:c,traceIds:d,initialTimestamp:u}=r,p=T(),f=j(),m=p==null?void 0:p.getTransport(),g=p==null?void 0:p.getDsn();if(!p||!m||!g||!i.sampled)return lt({});let y={type:Qv,replay_start_timestamp:u/1e3,timestamp:a/1e3,error_ids:c,trace_ids:d,urls:l,replay_id:t,segment_id:n,replay_type:i.sampled},v=yield E1({scope:f,client:p,replayId:t,event:y});if(!v)return p.recordDroppedEvent("event_processor","replay"),z&&q.log("An event processor returned `null`, will not send event."),lt({});delete v.sdkProcessingMetadata;let E=b1(v,o,g,p.getOptions().tunnel),x;try{x=yield m.send(E)}catch(O){let b=new Error(Po);try{b.cause=O}catch(k){}throw b}if(typeof x.statusCode=="number"&&(x.statusCode<200||x.statusCode>=300))throw new sf(x.statusCode);let N=Ys({},x);if(Gs(N,"replay"))throw new Jo(N);return x})}var sf=class extends Error{constructor(e){super(`Transport returned status code ${e}`)}},Jo=class extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}};function of(n){return U(this,arguments,function*(e,t={count:0,interval:ib}){let{recordingData:r,onError:a}=e;if(r.length)try{return yield w1(e),!0}catch(i){if(i instanceof sf||i instanceof Jo)throw i;if(Ma("Replays",{_retryCount:t.count}),a&&a(i),t.count>=sb){let s=new Error(`${Po} - max retries exceeded`);try{s.cause=i}catch(o){}throw s}return t.interval*=++t.count,new Promise((s,o)=>{Hn(()=>U(this,null,function*(){try{yield of(e,t),s(!0)}catch(l){o(l)}}),t.interval)})}})}var lf="__THROTTLED",k1="__SKIPPED";function T1(e,t,n){let r=new Map,a=o=>{let l=o-n;r.forEach((c,d)=>{d<l&&r.delete(d)})},i=()=>[...r.values()].reduce((o,l)=>o+l,0),s=!1;return(...o)=>{let l=Math.floor(Date.now()/1e3);if(a(l),i()>=t){let d=s;return s=!0,d?k1:lf}s=!1;let c=r.get(l)||0;return r.set(l,c+1),e(...o)}}var I1=class{constructor({options:e,recordingOptions:t}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:eb,sessionIdleExpire:tb},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=h1(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=T1((i,s)=>vS(this,i,s),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),a=n?{threshold:Math.min(ob,n),timeout:n,scrollTimeout:lb,ignoreSelector:r?r.join(","):""}:void 0;if(a&&(this.clickDetector=new M0(this,a)),z){let i=e._experiments;q.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{me.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{let i=Tt({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{let i=Tt({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{q0(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){z&&q.exception(e),this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r){if(this._initializeSessionForSampling(e),!this.session){z&&q.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",z&&q.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){z&&q.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){z&&q.log("Buffering is in progress, call `flush()` to save the replay");return}z&&q.infoTick("Starting replay in session mode"),this._updateUserActivity();let e=ko({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){z&&q.log("Buffering is in progress, call `flush()` to save the replay");return}z&&q.infoTick("Starting replay in buffer mode");let e=ko({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let e=this._canvas;this._stopRecording=$t(h(w(h(w(h(h({},this._recordingOptions),this.recordingMode==="buffer"?{checkoutEveryNms:ab}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),{emit:g1(this)}),m1()),{onMutation:this._onMutationHandler.bind(this)}),e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}))}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}stop(){return U(this,arguments,function*({forceFlush:e=!1,reason:t}={}){var n;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{z&&q.log(`Stopping Replay${t?` triggered by ${t}`:""}`),ef(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(yield this._flush({force:!0})),(n=this.eventBuffer)==null||n.destroy(),this.eventBuffer=null,hS(this)}catch(r){this.handleException(r)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),z&&q.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),z&&q.log("Resuming replay"))}sendBufferedReplayOrFlush(){return U(this,arguments,function*({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let t=Date.now();z&&q.log("Converting buffer to session"),yield this.flushImmediate();let n=this.stopRecording();!e||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())})}addUpdate(e){let t=e();this.recordingMode==="buffer"||!this._isEnabled||t!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var e;return(e=this.session)==null?void 0:e.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Mo(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${me.location.pathname}${me.location.hash}${me.location.search}`,t=`${me.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===lf){let r=Tt({category:"replay.throttled"});this.addUpdate(()=>!Go(this,{type:k0,timestamp:r.timestamp||0,data:{tag:"breadcrumb",payload:r,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||le(),t=e&&fe(e),n=(t&&F(t).data||{})[Le];if(!(!t||!n||!["route","custom"].includes(n)))return F(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=dS({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=ko({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return Kp(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(e),!1):!0}_refreshSession(e){return U(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(e.id))})}_addListeners(){try{me.document.addEventListener("visibilitychange",this._handleVisibilityChange),me.addEventListener("blur",this._handleWindowBlur),me.addEventListener("focus",this._handleWindowFocus),me.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(d1(this,{autoFlushOnFeedback:this._options._experiments.autoFlushOnFeedback}),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=aS(this)}_removeListeners(){try{me.document.removeEventListener("visibilitychange",this._handleVisibilityChange),me.removeEventListener("blur",this._handleWindowBlur),me.removeEventListener("focus",this._handleWindowFocus),me.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}_doChangeToBackgroundTasks(e){!this.session||Jp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session){if(!this.checkAndHandleExpiredSession()){z&&q.log("Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:J.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=Y0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(n=>n.start>=t)}return Promise.all(ki(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}_runFlush(){return U(this,null,function*(){var t;let e=this.getSessionId();if(!this.session||!this.eventBuffer||!e){z&&q.error("No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!!((t=this.eventBuffer)!=null&&t.hasEvents)&&(yield p1(this),!!this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),a=this.session.segmentId++;this._maybeSaveSession();let i=yield this.eventBuffer.finish();yield of({replayId:e,recordingData:i,segmentId:a,eventContext:r,session:this.session,timestamp:n,onError:s=>this.handleException(s)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=T();if(r){let a=n instanceof Jo?"ratelimit_backoff":"send_error";r.recordDroppedEvent(a,"replay")}}})}_flush(){return U(this,arguments,function*({force:e=!1}={}){if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){z&&q.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,a=n>this._options.maxReplayDuration+5e3;if(r||a){z&&q.log(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),r&&this._debouncedFlush();return}let i=this.eventBuffer;i&&this.session.segmentId===0&&!i.hasCheckout&&z&&q.log("Flushing initial segment without checkout.");let s=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{yield this._flushLock}catch(o){this.handleException(o)}finally{this._flushLock=void 0,s&&this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Vo(this.session)}_onMutationHandler(e){let{ignoreMutations:t}=this._options._experiments;if(t!=null&&t.length&&e.some(s=>{let o=v1(s.target),l=t.join(",");return o==null?void 0:o.matches(l)}))return!1;let n=e.length,r=this._options.mutationLimit,a=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>a||i){let s=Tt({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}};function zr(e,t){return[...e,...t].join(",")}function x1({mask:e,unmask:t,block:n,unblock:r,ignore:a}){let i=["base","iframe[srcdoc]:not([src])"],s=zr(e,[".sentry-mask","[data-sentry-mask]"]),o=zr(t,[]);return{maskTextSelector:s,unmaskTextSelector:o,blockSelector:zr(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:zr(r,[]),ignoreSelector:zr(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function C1({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:a,value:i}){return!r||a.unmaskTextSelector&&e.matches(a.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var mp='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',A1=["content-length","content-type","accept"],gp=!1,cf=e=>new R1(e),R1=class{constructor({flushMinDelay:e=nb,flushMaxDelay:t=rb,minReplayDuration:n=cb,maxReplayDuration:r=Yd,stickySession:a=!0,useCompression:i=!0,workerUrl:s,_experiments:o={},maskAllText:l=!0,maskAllInputs:c=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:u=750,mutationLimit:p=1e4,slowClickTimeout:f=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:E=[],networkResponseHeaders:x=[],mask:N=[],maskAttributes:O=["title","placeholder","aria-label"],unmask:b=[],block:k=[],unblock:W=[],ignore:S=[],maskFn:A,beforeAddRecordingEvent:P,beforeErrorSampling:I,onError:R}={}){this.name="Replay";let Y=x1({mask:N,unmask:b,block:k,unblock:W,ignore:S});if(this._recordingOptions=w(h({maskAllInputs:c,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(L,M,B)=>C1({maskAttributes:O,maskAllText:l,privacyOptions:Y,key:L,value:M,el:B})},Y),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:L=>{try{L.__rrweb__=!0}catch(M){}},recordCrossOriginIframes:!!o.recordCrossOriginIframes}),this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,ub),maxReplayDuration:Math.min(r,Yd),stickySession:a,useCompression:i,workerUrl:s,blockAllMedia:d,maskAllInputs:c,maskAllText:l,mutationBreadcrumbLimit:u,mutationLimit:p,slowClickTimeout:f,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:_p(E),networkResponseHeaders:_p(x),beforeAddRecordingEvent:P,beforeErrorSampling:I,onError:R,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${mp}`:mp),this._isInitialized&&Lr())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return gp}set _isInitialized(e){gp=e}afterAllSetup(e){!Lr()||this._replay||(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var e;if((e=this._replay)!=null&&e.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){let t=M1(this._initialOptions,e);this._replay=new I1({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(t){}}};function M1(e,t){let n=t.getOptions(),r=h({sessionSampleRate:0,errorSampleRate:0},e),a=zt(n.replaysSessionSampleRate),i=zt(n.replaysOnErrorSampleRate);return a==null&&i==null&&St(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),a!=null&&(r.sessionSampleRate=a),i!=null&&(r.errorSampleRate=i),r}function _p(e){return[...A1,...e.map(t=>t.toLowerCase())]}function uf(){var e;return(e=T())==null?void 0:e.getIntegrationByName("Replay")}var N1=Object.defineProperty,O1=(e,t,n)=>t in e?N1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,df=(e,t,n)=>O1(e,typeof t!="symbol"?t+"":t,n),L1=class{constructor(){df(this,"idNodeMap",new Map),df(this,"nodeMetaMap",new WeakMap)}getId(e){var t,n;return e&&(n=(t=this.getMeta(e))==null?void 0:t.id)!=null?n:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function P1(){return new L1}function D1(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function Xo(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Xo(e.parentNode,t,n,r+1)}function pf(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(D1(r,e))return!0}return!!(t&&r.matches(t))}catch(a){return!1}}}var er=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,ff={map:{},getId(){return console.error(er),-1},getNode(){return console.error(er),null},removeNodeFromMap(){console.error(er)},has(){return console.error(er),!1},reset(){console.error(er)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ff=new Proxy(ff,{get(e,t,n){return t==="map"&&console.error(er),Reflect.get(e,t,n)}}));function Zo(e,t,n,r,a=window){let i=a.Object.getOwnPropertyDescriptor(e,t);return a.Object.defineProperty(e,t,r?n:{set(s){Ef(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>Zo(e,t,i||{},!0)}function Qo(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=a,()=>{e[t]=r}}catch(r){return()=>{}}}Date.now().toString();function F1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch(t){return null}}function Ai(e,t,n,r,a){if(!e)return!1;let i=F1(e);if(!i)return!1;let s=pf(t,n);if(!a){let c=r&&i.matches(r);return s(i)&&!c}let o=Xo(i,s),l=-1;return o<0?!1:(r&&(l=Xo(i,pf(null,r))),o>-1&&l<0?!0:o<l)}var hf={};function Sf(e){let t=hf[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let a=n.createElement("iframe");a.hidden=!0,n.head.appendChild(a);let i=a.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(a)}catch(a){}return hf[e]=r.bind(window)}function hn(...e){return Sf("requestAnimationFrame")(...e)}function Ef(...e){return Sf("setTimeout")(...e)}var nr=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(nr||{}),xi;function $1(e){xi=e}var Ko=e=>xi?(...t)=>{try{return e(...t)}catch(n){if(xi&&xi(n)===!0)return()=>{};throw n}}:e,tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(Qr=0;Qr<tr.length;Qr++)U1[tr.charCodeAt(Qr)]=Qr;var Qr,B1=function(e){var t=new Uint8Array(e),n,r=t.length,a="";for(n=0;n<r;n+=3)a+=tr[t[n]>>2],a+=tr[(t[n]&3)<<4|t[n+1]>>4],a+=tr[(t[n+1]&15)<<2|t[n+2]>>6],a+=tr[t[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a},mf=new Map;function j1(e,t){let n=mf.get(e);return n||(n=new Map,mf.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}var wf=(e,t,n)=>{if(!e||!(Tf(e,t)||typeof e=="object"))return;let r=e.constructor.name,a=j1(n,r),i=a.indexOf(e);return i===-1&&(i=a.length,a.push(e)),i};function Ci(e,t,n){if(e instanceof Array)return e.map(r=>Ci(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){let r=e.constructor.name,a=B1(e);return{rr_type:r,base64:a}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Ci(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){let r=e.constructor.name,{src:a}=e;return{rr_type:r,src:a}}else if(e instanceof HTMLCanvasElement){let r="HTMLImageElement",a=e.toDataURL();return{rr_type:r,src:a}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Ci(e.data,t,n),e.width,e.height]};if(Tf(e,t)||typeof e=="object"){let r=e.constructor.name,a=wf(e,t,n);return{rr_type:r,index:a}}}}return e}var kf=(e,t,n)=>e.map(r=>Ci(r,t,n)),Tf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(n=>typeof t[n]=="function").find(n=>e instanceof t[n]);function H1(e,t,n,r,a){let i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(let o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;let l=Qo(t.CanvasRenderingContext2D.prototype,o,function(c){return function(...d){return Ai(this.canvas,n,r,a,!0)||Ef(()=>{let u=kf(d,t,this);e(this.canvas,{type:nr["2D"],property:o,args:u})},0),c.apply(this,d)}});i.push(l)}catch(l){let c=Zo(t.CanvasRenderingContext2D.prototype,o,{set(d){e(this.canvas,{type:nr["2D"],property:o,args:[d],setter:!0})}});i.push(c)}return()=>{i.forEach(o=>o())}}function z1(e){return e==="experimental-webgl"?"webgl":e}function gf(e,t,n,r,a){let i=[];try{let s=Qo(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(l,...c){if(!Ai(this,t,n,r,!0)){let d=z1(l);if("__context"in this||(this.__context=d),a&&["webgl","webgl2"].includes(d))if(c[0]&&typeof c[0]=="object"){let u=c[0];u.preserveDrawingBuffer||(u.preserveDrawingBuffer=!0)}else c.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[l,...c])}});i.push(s)}catch(s){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function _f(e,t,n,r,a,i,s,o){let l=[],c=Object.getOwnPropertyNames(e);for(let d of c)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;let u=Qo(e,d,function(p){return function(...f){let m=p.apply(this,f);if(wf(m,o,this),"tagName"in this.canvas&&!Ai(this.canvas,r,a,i,!0)){let g=kf(f,o,this),y={type:t,property:d,args:g};n(this.canvas,y)}return m}});l.push(u)}catch(u){let p=Zo(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});l.push(p)}return l}function q1(e,t,n,r,a,i){let s=[];return s.push(..._f(t.WebGLRenderingContext.prototype,nr.WebGL,e,n,r,a,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(..._f(t.WebGL2RenderingContext.prototype,nr.WebGL2,e,n,r,a,i,t)),()=>{s.forEach(o=>o())}}var W1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function V1(){let e=new Blob([W1]);return URL.createObjectURL(e)}var G1=class{constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(d,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(d)||this.pendingCanvasMutations.set(d,[]),this.pendingCanvasMutations.get(d).push(u)};let{sampling:t="all",win:n,blockClass:r,blockSelector:a,unblockSelector:i,maxCanvasSize:s,recordCanvas:o,dataURLOptions:l,errorHandler:c}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,c&&$1(c),(o&&typeof t=="number"||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),!e.enableManualSnapshot&&Ko(()=>{o&&t==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof t=="number"&&this.initCanvasFPSObserver(t,r,a,i,s,{dataURLOptions:l})})()}reset(){var e;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch(n){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(e=this.worker)==null||e.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(e){let{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:a,recordCanvas:i,enableManualSnapshot:s}=this.options;if(!this.windowsSet.has(e)){if(s){this.windowsSet.add(e),this.windows.push(new WeakRef(e));return}Ko(()=>{if(i&&t==="all"&&this.initCanvasMutationObserver(e,n,r,a),i&&typeof t=="number"){let o=gf(e,n,r,a,!0);this.restoreHandlers.push(()=>{o()})}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e))}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e))}resetShadowRoots(){this.shadowDoms=new Set}initFPSWorker(){let e=new Worker(V1());return e.onmessage=t=>{let n=t.data,{id:r}=n;if(this.snapshotInProgressMap.set(r,!1),!("base64"in n))return;let{base64:a,type:i,width:s,height:o}=n;this.mutationCb({id:r,type:nr["2D"],commands:[{property:"clearRect",args:[0,0,s,o]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:a}],type:i}]},0,0,s,o]}]})},e}initCanvasFPSObserver(e,t,n,r,a,i){let s=this.takeSnapshot(!1,e,t,n,r,a,i.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(s)})}initCanvasMutationObserver(e,t,n,r){let a=gf(e,t,n,r,!1),i=H1(this.processMutation.bind(this),e,t,n,r),s=q1(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{a(),i(),s()})}snapshot(e){let{options:t}=this,n=this.takeSnapshot(!0,t.sampling==="all"?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n)})}takeSnapshot(e,t,n,r,a,i,s,o){let l=1e3/t,c,d=p=>{if(p)return[p];let f=[],m=g=>{g.querySelectorAll("canvas").forEach(y=>{Ai(y,n,r,a,!0)||f.push(y)})};for(let g of this.windows){let y=g.deref(),v;try{v=y&&y.document}catch(E){}v&&m(v)}for(let g of this.shadowDoms){let y=g.deref();y&&m(y)}return f},u=p=>{if(this.windows.length){if(this.lastSnapshotTime&&p-this.lastSnapshotTime<l){c=hn(u);return}this.lastSnapshotTime=p,d(o).forEach(f=>{var g;if(!this.mirror.hasNode(f))return;let m=this.mirror.getId(f);if(!this.snapshotInProgressMap.get(m)&&!(!f.width||!f.height)){if(this.snapshotInProgressMap.set(m,!0),!e&&["webgl","webgl2"].includes(f.__context)){let y=f.getContext(f.__context);((g=y==null?void 0:y.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(f).then(y=>{var v;(v=this.worker)==null||v.postMessage({id:m,bitmap:y,width:f.width,height:f.height,dataURLOptions:s,maxCanvasSize:i},[y])}).catch(y=>{Ko(()=>{throw y})()})}}),e||(c=hn(u))}};return c=hn(u),c}startPendingCanvasMutationFlusher(){hn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let e=t=>{this.rafStamps.latestId=t,hn(e)};hn(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{let n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)}),hn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;let n=this.pendingCanvasMutations.get(e);if(!n||t===-1)return;let r=n.map(i=>{let l=i,{type:s}=l;return Bt(l,["type"])}),{type:a}=n[0];this.mutationCb({id:t,type:a,commands:r}),this.pendingCanvasMutations.delete(e)}},bf;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=((bf=e.contentWindow)==null?void 0:bf.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}P1();var yf;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(yf||(yf={}));var vf={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Y1="ReplayCanvas",Ii=1280,J1=(e={})=>{let[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Ii):Ii,n?Math.min(n,Ii):Ii]},a,i=new Promise(o=>a=o);return{name:Y1,getOptions(){let{quality:o,enableManualSnapshot:l,maxCanvasSize:c}=r;return h({enableManualSnapshot:l,recordCanvas:!0,getCanvasManager:d=>{let u=new G1(w(h({},d),{enableManualSnapshot:l,maxCanvasSize:c,errorHandler:p=>{try{typeof p=="object"&&(p.__rrweb__=!0)}catch(f){}}}));return a(u),u}},vf[o]||vf.medium)},snapshot(o){return U(this,null,function*(){(yield i).snapshot(o)})}}},If=J1;var gt=$,ce=gt.document,ea=gt.navigator,zf="Report a Bug",K1="Cancel",X1="Send Bug Report",Z1="Confirm",Q1="Report a Bug",eE="your.email@example.org",tE="Email",nE="What's the bug? What did you expect?",rE="Description",aE="Your Name",iE="Name",sE="Thank you for your report!",oE="(required)",lE="Add a screenshot",cE="Remove screenshot",uE="widget",dE="api",pE=5e3,cl=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");let n=T();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&j().setTags(e.tags);let r=Wa(h({source:dE,url:We()},e),t);return new Promise((a,i)=>{let s=setTimeout(()=>i("Unable to determine if Feedback was correctly sent."),3e4),o=n.on("afterSendEvent",(l,c)=>{if(l.event_id===r)return clearTimeout(s),o(),c&&typeof c.statusCode=="number"&&c.statusCode>=200&&c.statusCode<300?a(r):c&&typeof c.statusCode=="number"&&c.statusCode===0?i("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):c&&typeof c.statusCode=="number"&&c.statusCode===403?i("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):i("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Oi=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function fE(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ea.userAgent)||/Macintosh/i.test(ea.userAgent)&&ea.maxTouchPoints&&ea.maxTouchPoints>1||!isSecureContext)}function Ri(e,t){return w(h(h({},e),t),{tags:h(h({},e.tags),t.tags),onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:(n,r)=>{var a,i;(a=t.onSubmitSuccess)==null||a.call(t,n,r),(i=e.onSubmitSuccess)==null||i.call(e,n,r)},onSubmitError:n=>{var r,a;(r=t.onSubmitError)==null||r.call(t,n),(a=e.onSubmitError)==null||a.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:h(h({},e.themeDark),t.themeDark),themeLight:h(h({},e.themeLight),t.themeLight)})}function hE(e){let t=ce.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Xe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}var rr=20,mE="http://www.w3.org/2000/svg";function gE(){let e=o=>gt.document.createElementNS(mE,o),t=Xe(e("svg"),{width:`${rr}`,height:`${rr}`,viewBox:`0 0 ${rr} ${rr}`,fill:"var(--actor-color, var(--foreground))"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);let a=e("defs"),i=Xe(e("clipPath"),{id:"clip0_57_80"}),s=Xe(e("rect"),{width:`${rr}`,height:`${rr}`,fill:"white"});return i.appendChild(s),a.appendChild(i),t.appendChild(a).appendChild(i).appendChild(s),t}function _E({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){let a=ce.createElement("button");if(a.type="button",a.className="widget__actor",a.ariaHidden="false",a.ariaLabel=t||e||zf,a.appendChild(gE()),e){let s=ce.createElement("span");s.appendChild(ce.createTextNode(e)),a.appendChild(s)}let i=hE(r);return{el:a,appendToDom(){n.appendChild(i),n.appendChild(a)},removeFromDom(){a.remove(),i.remove()},show(){a.ariaHidden="false"},hide(){a.ariaHidden="true"}}}var qf="rgba(88, 74, 192, 1)",yE={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:qf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},xf={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:qf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Cf(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function vE({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){let a=ce.createElement("style");return a.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Cf(e==="dark"?h(h({},xf),t):h(h({},yE),n))}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Cf(h(h({},xf),t))}
  }
}`:""}
}
`,r&&a.setAttribute("nonce",r),a}var Ui=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:a=!0,showBranding:i=!0,isEmailRequired:s=!1,isNameRequired:o=!1,showEmail:l=!0,showName:c=!0,enableScreenshot:d=!0,useSentryUser:u={email:"email",name:"username"},tags:p,styleNonce:f,scriptNonce:m,colorScheme:g="system",themeLight:y={},themeDark:v={},addScreenshotButtonLabel:E=lE,cancelButtonLabel:x=K1,confirmButtonLabel:N=Z1,emailLabel:O=tE,emailPlaceholder:b=eE,formTitle:k=Q1,isRequiredLabel:W=oE,messageLabel:S=rE,messagePlaceholder:A=nE,nameLabel:P=iE,namePlaceholder:I=aE,removeScreenshotButtonLabel:R=cE,submitButtonLabel:Y=X1,successMessageText:L=sE,triggerLabel:M=zf,triggerAriaLabel:B="",onFormOpen:D,onFormClose:Z,onSubmitSuccess:Q,onSubmitError:ye,onFormSubmitted:Ze}={})=>{let ve={id:r,autoInject:a,showBranding:i,isEmailRequired:s,isNameRequired:o,showEmail:l,showName:c,enableScreenshot:d,useSentryUser:u,tags:p,styleNonce:f,scriptNonce:m,colorScheme:g,themeDark:v,themeLight:y,triggerLabel:M,triggerAriaLabel:B,cancelButtonLabel:x,submitButtonLabel:Y,confirmButtonLabel:N,formTitle:k,emailLabel:O,emailPlaceholder:b,messageLabel:S,messagePlaceholder:A,nameLabel:P,namePlaceholder:I,successMessageText:L,isRequiredLabel:W,addScreenshotButtonLabel:E,removeScreenshotButtonLabel:R,onFormClose:Z,onFormOpen:D,onSubmitError:ye,onSubmitSuccess:Q,onFormSubmitted:Ze},Ee=null,at=[],vn=ae=>{if(!Ee){let xe=ce.createElement("div");xe.id=String(ae.id),ce.body.appendChild(xe),Ee=xe.attachShadow({mode:"open"}),Ee.appendChild(vE(ae))}return Ee},bn=ae=>U(void 0,null,function*(){let xe=ae.enableScreenshot&&fE(),Qe,ke;try{Qe=(t?t():yield e("feedbackModalIntegration",m))(),Rr(Qe)}catch(Me){throw Oi&&_.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{let Me=xe?n?n():yield e("feedbackScreenshotIntegration",m):void 0;Me&&(ke=Me(),Rr(ke))}catch(Me){Oi&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}let se=Qe.createDialog({options:w(h({},ae),{onFormClose:()=>{var Me;se==null||se.close(),(Me=ae.onFormClose)==null||Me.call(ae)},onFormSubmitted:()=>{var Me;se==null||se.close(),(Me=ae.onFormSubmitted)==null||Me.call(ae)}}),screenshotIntegration:ke,sendFeedback:cl,shadow:vn(ae)});return se}),Sn=(ae,xe={})=>{let Qe=Ri(ve,xe),ke=typeof ae=="string"?ce.querySelector(ae):typeof ae.addEventListener=="function"?ae:null;if(!ke)throw Oi&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let se=null,Me=()=>U(void 0,null,function*(){se||(se=yield bn(w(h({},Qe),{onFormSubmitted:()=>{var xt;se==null||se.removeFromDom(),(xt=Qe.onFormSubmitted)==null||xt.call(Qe)}}))),se.appendToDom(),se.open()});ke.addEventListener("click",Me);let sn=()=>{at=at.filter(xt=>xt!==sn),se==null||se.removeFromDom(),se=null,ke.removeEventListener("click",Me)};return at.push(sn),sn},En=(ae={})=>{let xe=Ri(ve,ae),Qe=vn(xe),ke=_E({triggerLabel:xe.triggerLabel,triggerAriaLabel:xe.triggerAriaLabel,shadow:Qe,styleNonce:f});return Sn(ke.el,w(h({},xe),{onFormOpen(){ke.hide()},onFormClose(){ke.show()},onFormSubmitted(){ke.show()}})),ke};return{name:"Feedback",setupOnce(){!Lr()||!ve.autoInject||(ce.readyState==="loading"?ce.addEventListener("DOMContentLoaded",()=>En().appendToDom()):En().appendToDom())},attachTo:Sn,createWidget(ae={}){let xe=En(Ri(ve,ae));return xe.appendToDom(),xe},createForm(){return U(this,arguments,function*(ae={}){return bn(Ri(ve,ae))})},remove(){var ae;Ee&&((ae=Ee.parentElement)==null||ae.remove(),Ee=null),at.forEach(xe=>xe()),at=[]}}};function Wf(){var e;return(e=T())==null?void 0:e.getIntegrationByName("Feedback")}var Bi,de,Vf,mn,Af,Gf,il,ta={},ul=[],bE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dl=Array.isArray;function an(e,t){for(var n in t)e[n]=t[n];return e}function Yf(e){var t=e.parentNode;t&&t.removeChild(e)}function K(e,t,n){var r,a,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?a=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Bi.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Li(e,s,r,a,null)}function Li(e,t,n,r,a){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:a!=null?a:++Vf,__i:-1,__u:0};return a==null&&de.vnode!=null&&de.vnode(i),i}function na(e){return e.children}function Pi(e,t){this.props=e,this.context=t}function ir(e,t){if(t==null)return e.__?ir(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ir(e):null}function SE(e,t,n){var r,a=e.__v,i=a.__e,s=e.__P;if(s)return(r=an({},a)).__v=a.__v+1,de.vnode&&de.vnode(r),pl(s,r,a,e.__n,s.ownerSVGElement!==void 0,32&a.__u?[i]:null,t,i!=null?i:ir(a),!!(32&a.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=i&&Jf(r),r}function Jf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Jf(e)}}function Rf(e){(!e.__d&&(e.__d=!0)&&mn.push(e)&&!$i.__r++||Af!==de.debounceRendering)&&((Af=de.debounceRendering)||Gf)($i)}function $i(){var e,t,n,r=[],a=[];for(mn.sort(il);e=mn.shift();)e.__d&&(n=mn.length,t=SE(e,r,a)||t,n===0||mn.length>n?(sl(r,t,a),a.length=r.length=0,t=void 0,mn.sort(il)):t&&de.__c&&de.__c(t,ul));t&&sl(r,t,a),$i.__r=0}function Kf(e,t,n,r,a,i,s,o,l,c,d){var u,p,f,m,g,y=r&&r.__k||ul,v=t.length;for(n.__d=l,EE(n,t,y),l=n.__d,u=0;u<v;u++)(f=n.__k[u])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?ta:y[f.__i]||ta,f.__i=u,pl(e,f,p,a,i,s,o,l,c,d),m=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&fl(p.ref,null,f),d.push(f.ref,f.__c||m,f)),g==null&&m!=null&&(g=m),65536&f.__u||p.__k===f.__k?l=Xf(f,l,e):typeof f.type=="function"&&f.__d!==void 0?l=f.__d:m&&(l=m.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=l,n.__e=g}function EE(e,t,n){var r,a,i,s,o,l=t.length,c=n.length,d=c,u=0;for(e.__k=[],r=0;r<l;r++)(a=e.__k[r]=(a=t[r])==null||typeof a=="boolean"||typeof a=="function"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Li(null,a,null,null,a):dl(a)?Li(na,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Li(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a)!=null?(a.__=e,a.__b=e.__b+1,o=wE(a,n,s=r+u,d),a.__i=o,i=null,o!==-1&&(d--,(i=n[o])&&(i.__u|=131072)),i==null||i.__v===null?(o==-1&&u--,typeof a.type!="function"&&(a.__u|=65536)):o!==s&&(o===s+1?u++:o>s?d>l-s?u+=o-s:u--:u=o<s&&o==s-1?o-s:0,o!==r+u&&(a.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==e.__d&&(e.__d=ir(i)),ol(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<c;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=ir(i)),ol(i,i))}function Xf(e,t,n){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=Xf(r[a],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function wE(e,t,n,r){var a=e.key,i=e.type,s=n-1,o=n+1,l=t[n];if(l===null||l&&a==l.key&&i===l.type)return n;if(r>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||o<t.length;){if(s>=0){if((l=t[s])&&!(131072&l.__u)&&a==l.key&&i===l.type)return s;s--}if(o<t.length){if((l=t[o])&&!(131072&l.__u)&&a==l.key&&i===l.type)return o;o++}}return-1}function Mf(e,t,n){t[0]==="-"?e.setProperty(t,n!=null?n:""):e[t]=n==null?"":typeof n!="number"||bE.test(t)?n:n+"px"}function Mi(e,t,n,r,a){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Mf(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Mf(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,i?Of:Nf,i)):e.removeEventListener(t,i?Of:Nf,i);else{if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n!=null?n:"";break e}catch(s){}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Nf(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(de.event?de.event(e):e)}}function Of(e){if(this.l)return this.l[e.type+!0](de.event?de.event(e):e)}function pl(e,t,n,r,a,i,s,o,l,c){var d,u,p,f,m,g,y,v,E,x,N,O,b,k,W,S=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[o=t.__e=n.__e]),(d=de.__b)&&d(t);e:if(typeof S=="function")try{if(v=t.props,E=(d=S.contextType)&&r[d.__c],x=d?E?E.props.value:d.__:r,n.__c?y=(u=t.__c=n.__c).__=u.__E:("prototype"in S&&S.prototype.render?t.__c=u=new S(v,x):(t.__c=u=new Pi(v,x),u.constructor=S,u.render=TE),E&&E.sub(u),u.props=v,u.state||(u.state={}),u.context=x,u.__n=r,p=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),S.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=an({},u.__s)),an(u.__s,S.getDerivedStateFromProps(v,u.__s))),f=u.props,m=u.state,u.__v=t,p)S.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(S.getDerivedStateFromProps==null&&v!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(v,x),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(v,u.__s,x)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=v,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(A){A&&(A.__=t)}),N=0;N<u._sb.length;N++)u.__h.push(u._sb[N]);u._sb=[],u.__h.length&&s.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(v,u.__s,x),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,m,g)})}if(u.context=x,u.props=v,u.__P=e,u.__e=!1,O=de.__r,b=0,"prototype"in S&&S.prototype.render){for(u.state=u.__s,u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),k=0;k<u._sb.length;k++)u.__h.push(u._sb[k]);u._sb=[]}else do u.__d=!1,O&&O(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++b<25);u.state=u.__s,u.getChildContext!=null&&(r=an(an({},r),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(g=u.getSnapshotBeforeUpdate(f,m)),Kf(e,dl(W=d!=null&&d.type===na&&d.key==null?d.props.children:d)?W:[W],t,n,r,a,i,s,o,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&s.push(u),y&&(u.__E=u.__=null)}catch(A){t.__v=null,l||i!=null?(t.__e=o,t.__u|=l?160:32,i[i.indexOf(o)]=null):(t.__e=n.__e,t.__k=n.__k),de.__e(A,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=kE(n.__e,t,n,r,a,i,s,l,c);(d=de.diffed)&&d(t)}function sl(e,t,n){for(var r=0;r<n.length;r++)fl(n[r],n[++r],n[++r]);de.__c&&de.__c(t,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(i){i.call(a)})}catch(i){de.__e(i,a.__v)}})}function kE(e,t,n,r,a,i,s,o,l){var c,d,u,p,f,m,g,y=n.props,v=t.props,E=t.type;if(E==="svg"&&(a=!0),i!=null){for(c=0;c<i.length;c++)if((f=i[c])&&"setAttribute"in f==!!E&&(E?f.localName===E:f.nodeType===3)){e=f,i[c]=null;break}}if(e==null){if(E===null)return document.createTextNode(v);e=a?document.createElementNS("http://www.w3.org/2000/svg",E):document.createElement(E,v.is&&v),i=null,o=!1}if(E===null)y===v||o&&e.data===v||(e.data=v);else{if(i=i&&Bi.call(e.childNodes),y=n.props||ta,!o&&i!=null)for(y={},c=0;c<e.attributes.length;c++)y[(f=e.attributes[c]).name]=f.value;for(c in y)f=y[c],c=="children"||(c=="dangerouslySetInnerHTML"?u=f:c==="key"||c in v||Mi(e,c,null,f,a));for(c in v)f=v[c],c=="children"?p=f:c=="dangerouslySetInnerHTML"?d=f:c=="value"?m=f:c=="checked"?g=f:c==="key"||o&&typeof f!="function"||y[c]===f||Mi(e,c,f,y[c],a);if(d)o||u&&(d.__html===u.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),Kf(e,dl(p)?p:[p],t,n,r,a&&E!=="foreignObject",i,s,i?i[0]:n.__k&&ir(n,0),o,l),i!=null)for(c=i.length;c--;)i[c]!=null&&Yf(i[c]);o||(c="value",m!==void 0&&(m!==e[c]||E==="progress"&&!m||E==="option"&&m!==y[c])&&Mi(e,c,m,y[c],!1),c="checked",g!==void 0&&g!==e[c]&&Mi(e,c,g,y[c],!1))}return e}function fl(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){de.__e(r,n)}}function ol(e,t,n){var r,a;if(de.unmount&&de.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||fl(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){de.__e(i,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&ol(r[a],t,n||typeof e.type!="function");n||e.__e==null||Yf(e.__e),e.__=e.__e=e.__d=void 0}function TE(e,t,n){return this.constructor(e,n)}function IE(e,t,n){var r,a,i,s;de.__&&de.__(e,t),a=(r=!1)?null:t.__k,i=[],s=[],pl(t,e=t.__k=K(na,null,[e]),a||ta,ta,t.ownerSVGElement!==void 0,a?null:t.firstChild?Bi.call(t.childNodes):null,i,a?a.__e:t.firstChild,r,s),e.__d=void 0,sl(i,e,s)}Bi=ul.slice,de={__e:function(e,t,n,r){for(var a,i,s;t=t.__;)if((a=t.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(e)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,r||{}),s=a.__d),s)return a.__E=a}catch(o){e=o}throw e}},Vf=0,Pi.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=an({},this.state),typeof e=="function"&&(e=e(an({},n),this.props)),e&&an(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Rf(this))},Pi.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Rf(this))},Pi.prototype.render=na,mn=[],Gf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,il=function(e,t){return e.__v.__b-t.__v.__b},$i.__r=0;var Ut,ue,el,Lf,sr=0,Zf=[],Di=[],Se=de,Pf=Se.__b,Df=Se.__r,Ff=Se.diffed,$f=Se.__c,Uf=Se.unmount,Bf=Se.__;function _n(e,t){Se.__h&&Se.__h(ue,e,sr||t),sr=0;var n=ue.__H||(ue.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Di}),n.__[e]}function gn(e){return sr=1,Qf(th,e)}function Qf(e,t,n){var r=_n(Ut++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):th(void 0,t),function(o){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,o);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=ue,!ue.u)){var a=function(o,l,c){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,o,l,c);var u=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(u=!0)}}),!(!u&&r.__c.props===o)&&(!i||i.call(this,o,l,c))};ue.u=!0;var i=ue.shouldComponentUpdate,s=ue.componentWillUpdate;ue.componentWillUpdate=function(o,l,c){if(this.__e){var d=i;i=void 0,a(o,l,c),i=d}s&&s.call(this,o,l,c)},ue.shouldComponentUpdate=a}return r.__N||r.__}function xE(e,t){var n=_n(Ut++,3);!Se.__s&&hl(n.__H,t)&&(n.__=e,n.i=t,ue.__H.__h.push(n))}function eh(e,t){var n=_n(Ut++,4);!Se.__s&&hl(n.__H,t)&&(n.__=e,n.i=t,ue.__h.push(n))}function CE(e){return sr=5,ra(function(){return{current:e}},[])}function AE(e,t,n){sr=6,eh(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function ra(e,t){var n=_n(Ut++,7);return hl(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ar(e,t){return sr=8,ra(function(){return e},t)}function RE(e){var t=ue.context[e.__c],n=_n(Ut++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ue)),t.props.value):e.__}function ME(e,t){Se.useDebugValue&&Se.useDebugValue(t?t(e):e)}function NE(e){var t=_n(Ut++,10),n=gn();return t.__=e,ue.componentDidCatch||(ue.componentDidCatch=function(r,a){t.__&&t.__(r,a),n[1](r)}),[n[0],function(){n[1](void 0)}]}function OE(){var e=_n(Ut++,11);if(!e.__){for(var t=ue.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function LE(){for(var e;e=Zf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Fi),e.__H.__h.forEach(ll),e.__H.__h=[]}catch(t){e.__H.__h=[],Se.__e(t,e.__v)}}Se.__b=function(e){ue=null,Pf&&Pf(e)},Se.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Bf&&Bf(e,t)},Se.__r=function(e){Df&&Df(e),Ut=0;var t=(ue=e.__c).__H;t&&(el===ue?(t.__h=[],ue.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Di,n.__N=n.i=void 0})):(t.__h.forEach(Fi),t.__h.forEach(ll),t.__h=[],Ut=0)),el=ue},Se.diffed=function(e){Ff&&Ff(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Zf.push(t)!==1&&Lf===Se.requestAnimationFrame||((Lf=Se.requestAnimationFrame)||PE)(LE)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Di&&(n.__=n.__V),n.i=void 0,n.__V=Di})),el=ue=null},Se.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Fi),n.__h=n.__h.filter(function(r){return!r.__||ll(r)})}catch(r){t.some(function(a){a.__h&&(a.__h=[])}),t=[],Se.__e(r,n.__v)}}),$f&&$f(e,t)},Se.unmount=function(e){Uf&&Uf(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Fi(r)}catch(a){t=a}}),n.__H=void 0,t&&Se.__e(t,n.__v))};var jf=typeof requestAnimationFrame=="function";function PE(e){var t,n=function(){clearTimeout(r),jf&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);jf&&(t=requestAnimationFrame(n))}function Fi(e){var t=ue,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ue=t}function ll(e){var t=ue;e.__c=e.__(),ue=t}function hl(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function th(e,t){return typeof t=="function"?t(e):t}var DE=Object.defineProperty({__proto__:null,useCallback:ar,useContext:RE,useDebugValue:ME,useEffect:xE,useErrorBoundary:NE,useId:OE,useImperativeHandle:AE,useLayoutEffect:eh,useMemo:ra,useReducer:Qf,useRef:CE,useState:gn},Symbol.toStringTag,{value:"Module"}),FE="http://www.w3.org/2000/svg";function $E(){let e=r=>ce.createElementNS(FE,r),t=Xe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Xe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function UE({options:e}){let t=ra(()=>({__html:$E().outerHTML}),[]);return K("h2",{class:"dialog__header"},K("span",{class:"dialog__title"},e.formTitle),e.showBranding?K("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function BE(e,t){let n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function tl(e,t){let n=e.get(t);return typeof n=="string"?n.trim():""}function jE({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:a,onSubmitSuccess:i,onSubmitError:s,showEmail:o,showName:l,screenshotInput:c}){let{tags:d,addScreenshotButtonLabel:u,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:m,emailPlaceholder:g,isEmailRequired:y,isNameRequired:v,messageLabel:E,messagePlaceholder:x,nameLabel:N,namePlaceholder:O,submitButtonLabel:b,isRequiredLabel:k}=e,[W,S]=gn(!1),[A,P]=gn(null),[I,R]=gn(!1),Y=c==null?void 0:c.input,[L,M]=gn(null),B=ar(Q=>{M(Q),R(!1)},[]),D=ar(Q=>{let ye=BE(Q,{emailLabel:m,isEmailRequired:y,isNameRequired:v,messageLabel:E,nameLabel:N});return ye.length>0?P(`Please enter in the following required fields: ${ye.join(", ")}`):P(null),ye.length===0},[m,y,v,E,N]),Z=ar(Q=>U(this,null,function*(){S(!0);try{if(Q.preventDefault(),!(Q.target instanceof HTMLFormElement))return;let ye=new FormData(Q.target),Ze=yield c&&I?c.value():void 0,ve={name:tl(ye,"name"),email:tl(ye,"email"),message:tl(ye,"message"),attachments:Ze?[Ze]:void 0};if(!D(ve))return;try{let Ee=yield a({name:ve.name,email:ve.email,message:ve.message,source:uE,tags:d},{attachments:ve.attachments});i(ve,Ee)}catch(Ee){Oi&&_.error(Ee),P(Ee),s(Ee)}}finally{S(!1)}}),[c&&I,i,s]);return K("form",{class:"form",onSubmit:Z},Y&&I?K(Y,{onError:B}):null,K("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:W},K("div",{class:"form__top"},A?K("div",{class:"form__error-container"},A):null,l?K("label",{for:"name",class:"form__label"},K(nl,{label:N,isRequiredLabel:k,isRequired:v}),K("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:O,required:v,type:"text"})):K("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),o?K("label",{for:"email",class:"form__label"},K(nl,{label:m,isRequiredLabel:k,isRequired:y}),K("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:y,type:"email"})):K("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),K("label",{for:"message",class:"form__label"},K(nl,{label:E,isRequiredLabel:k,isRequired:!0}),K("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:x,required:!0,rows:5})),Y?K("label",{for:"screenshot",class:"form__label"},K("button",{class:"btn btn--default",disabled:W,type:"button",onClick:()=>{M(null),R(Q=>!Q)}},I?p:u),L?K("div",{class:"form__error-container"},L.message):null):null),K("div",{class:"btn-group"},K("button",{class:"btn btn--primary",disabled:W,type:"submit"},b),K("button",{class:"btn btn--default",disabled:W,type:"button",onClick:r},f))))}function nl({label:e,isRequired:t,isRequiredLabel:n}){return K("span",{class:"form__label__text"},e,t&&K("span",{class:"form__label__text--required"},n))}var Ni=16,Hf=17,HE="http://www.w3.org/2000/svg";function zE(){let e=l=>gt.document.createElementNS(HE,l),t=Xe(e("svg"),{width:`${Ni}`,height:`${Hf}`,viewBox:`0 0 ${Ni} ${Hf}`,fill:"inherit"}),n=Xe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Xe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),a=Xe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(a,r);let i=e("defs"),s=Xe(e("clipPath"),{id:"clip0_57_156"}),o=Xe(e("rect"),{width:`${Ni}`,height:`${Ni}`,fill:"white",transform:"translate(0 0.5)"});return s.appendChild(o),i.appendChild(s),t.appendChild(i).appendChild(s).appendChild(o),t}function qE(r){var a=r,{open:e,onFormSubmitted:t}=a,n=Bt(a,["open","onFormSubmitted"]);let i=n.options,s=ra(()=>({__html:zE().outerHTML}),[]),[o,l]=gn(null),c=ar(()=>{o&&(clearTimeout(o),l(null)),t()},[o]),d=ar((u,p)=>{n.onSubmitSuccess(u,p),l(setTimeout(()=>{t(),l(null)},pE))},[t]);return K(na,null,o?K("div",{class:"success__position",onClick:c},K("div",{class:"success__content"},i.successMessageText,K("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):K("dialog",{class:"dialog",onClick:i.onFormClose,open:e},K("div",{class:"dialog__position"},K("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},K(UE,{options:i}),K(jE,w(h({},n),{onSubmitSuccess:d}))))))}var WE=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,VE=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,GE=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,YE=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,JE=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function KE(e){let t=ce.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${WE}
${VE}
${GE}
${YE}
${JE}
`,e&&t.setAttribute("nonce",e),t}function XE(){let e=j().getUser(),t=be().getUser(),n=Mn().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}var nh=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{let a=r,i=e.useSentryUser,s=XE(),o=ce.createElement("div"),l=KE(e.styleNonce),c="",d={get el(){return o},appendToDom(){!a.contains(l)&&!a.contains(o)&&(a.appendChild(l),a.appendChild(o))},removeFromDom(){o.remove(),l.remove(),ce.body.style.overflow=c},open(){var f,m;p(!0),(f=e.onFormOpen)==null||f.call(e),(m=T())==null||m.emit("openFeedbackWidget"),c=ce.body.style.overflow,ce.body.style.overflow="hidden"},close(){p(!1),ce.body.style.overflow=c}},u=t==null?void 0:t.createInput({h:K,hooks:DE,dialog:d,options:e}),p=f=>{IE(K(qE,{options:e,screenshotInput:u,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:i&&(s==null?void 0:s[i.name])||"",defaultEmail:i&&(s==null?void 0:s[i.email])||"",onFormClose:()=>{var m;p(!1),(m=e.onFormClose)==null||m.call(e)},onSubmit:n,onSubmitSuccess:(m,g)=>{var y;p(!1),(y=e.onSubmitSuccess)==null||y.call(e,m,g)},onSubmitError:m=>{var g;(g=e.onSubmitError)==null||g.call(e,m)},onFormSubmitted:()=>{var m;(m=e.onFormSubmitted)==null||m.call(e)},open:f}),o)};return d}});function ZE({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function QE(e){let t=ce.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function ew({h:e}){return function({action:t,setAction:n}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${t==="highlight"?"editor__tool--active":""}`,onClick:()=>{n(t==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${t==="hide"?"editor__tool--active":""}`,onClick:()=>{n(t==="hide"?"":"hide")}},"Hide")))}}function tw({hooks:e}){function t(){var a;let[n,r]=e.useState((a=gt.devicePixelRatio)!=null?a:1);return e.useEffect(()=>{let i=()=>{r(gt.devicePixelRatio)},s=matchMedia(`(resolution: ${gt.devicePixelRatio}dppx)`);return s.addEventListener("change",i),()=>{s.removeEventListener("change",i)}},[]),n}return function({onBeforeScreenshot:n,onScreenshot:r,onAfterScreenshot:a,onError:i}){let s=t();e.useEffect(()=>{U(this,null,function*(){n();let o=yield ea.mediaDevices.getDisplayMedia({video:{width:gt.innerWidth*s,height:gt.innerHeight*s},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),l=ce.createElement("video");yield new Promise((c,d)=>{l.srcObject=o,l.onloadedmetadata=()=>{r(l,s),o.getTracks().forEach(u=>u.stop()),c()},l.play().catch(d)}),a()}).catch(i)},[])}}function nw(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function rn(e,t,n){if(!e)return;let r=e.getContext("2d",t);r&&n(e,r)}function rl(e,t){rn(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function al(e,t,n){rn(e,{alpha:!0},(r,a)=>{n.length&&(a.fillStyle="rgba(0, 0, 0, 0.25)",a.fillRect(0,0,r.width,r.height)),n.forEach(i=>{nw(i,a,t)})})}function rw({h:e,hooks:t,outputBuffer:n,dialog:r,options:a}){let i=tw({hooks:t}),s=ew({h:e}),o=ZE({h:e}),l={__html:QE(a.styleNonce).innerText},c=r.el.style,d=({screenshot:u})=>{let[p,f]=t.useState("highlight"),[m,g]=t.useState([]),y=t.useRef(null),v=t.useRef(null),E=t.useRef(null),x=t.useRef(null),[N,O]=t.useState(1),b=t.useMemo(()=>{let I=ce.getElementById(a.id);if(!I)return"white";let R=getComputedStyle(I);return R.getPropertyValue("--button-primary-background")||R.getPropertyValue("--accent-background")},[a.id]);t.useLayoutEffect(()=>{let I=()=>{let R=y.current;R&&(rn(u.canvas,{alpha:!1},Y=>{let L=Math.min(R.clientWidth/Y.width,R.clientHeight/Y.height);O(L)}),(R.clientHeight===0||R.clientWidth===0)&&setTimeout(I,0))};return I(),gt.addEventListener("resize",I),()=>{gt.removeEventListener("resize",I)}},[u]);let k=t.useCallback((I,R)=>{rn(I,{alpha:!0},(Y,L)=>{L.scale(R,R),Y.width=u.canvas.width,Y.height=u.canvas.height})},[u]);t.useEffect(()=>{k(v.current,u.dpi),rl(v.current,u.canvas)},[u]),t.useEffect(()=>{k(E.current,u.dpi),rn(E.current,{alpha:!0},(I,R)=>{R.clearRect(0,0,I.width,I.height)}),al(E.current,b,m)},[m,b]),t.useEffect(()=>{k(n,u.dpi),rl(n,u.canvas),rn(ce.createElement("canvas"),{alpha:!0},(I,R)=>{R.scale(u.dpi,u.dpi),I.width=u.canvas.width,I.height=u.canvas.height,al(I,b,m),rl(n,I)})},[m,u,b]);let W=I=>{if(!p||!x.current)return;let R=x.current.getBoundingClientRect(),Y={type:p,x:I.offsetX/N,y:I.offsetY/N},L=(D,Z)=>{let Q=(Z.clientX-R.x)/N,ye=(Z.clientY-R.y)/N;return{type:D.type,x:Math.min(D.x,Q),y:Math.min(D.y,ye),w:Math.abs(Q-D.x),h:Math.abs(ye-D.y)}},M=D=>{rn(E.current,{alpha:!0},(Z,Q)=>{Q.clearRect(0,0,Z.width,Z.height)}),al(E.current,b,[...m,L(Y,D)])},B=D=>{let Z=L(Y,D);Z.w*N>=1&&Z.h*N>=1&&g(Q=>[...Q,Z]),ce.removeEventListener("mousemove",M),ce.removeEventListener("mouseup",B)};ce.addEventListener("mousemove",M),ce.addEventListener("mouseup",B)},S=t.useCallback(I=>R=>{R.preventDefault(),R.stopPropagation(),g(Y=>{let L=[...Y];return L.splice(I,1),L})},[]),A={width:`${u.canvas.width*N}px`,height:`${u.canvas.height*N}px`},P=I=>{I.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:a.styleNonce,dangerouslySetInnerHTML:l}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:y},e("canvas",{ref:v,id:"background",style:A}),e("canvas",{ref:E,id:"foreground",style:A}),e("div",{ref:x,onMouseDown:W,style:A},m.map((I,R)=>e("div",{key:R,class:"editor__rect",style:{top:`${I.y*N}px`,left:`${I.x*N}px`,width:`${I.w*N}px`,height:`${I.h*N}px`}},e("button",{"aria-label":"Remove",onClick:S(R),onMouseDown:P,onMouseUp:P,type:"button"},e(o,null))))))),e(s,{action:p,setAction:f}))};return function({onError:u}){let[p,f]=t.useState();return i({onBeforeScreenshot:t.useCallback(()=>{c.display="none"},[]),onScreenshot:t.useCallback((m,g)=>{rn(ce.createElement("canvas"),{alpha:!1},(y,v)=>{v.scale(g,g),y.width=m.videoWidth,y.height=m.videoHeight,v.drawImage(m,0,0,y.width,y.height),f({canvas:y,dpi:g})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{c.display="block"},[]),onError:t.useCallback(m=>{c.display="block",u(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}var rh=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{let a=ce.createElement("canvas");return{input:rw({h:e,hooks:t,outputBuffer:a,dialog:n,options:r}),value:()=>U(void 0,null,function*(){let i=yield new Promise(s=>{a.toBlob(s,"image/png")});if(i)return{data:new Uint8Array(yield i.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});var aw=Object.defineProperty,iw=(e,t)=>{for(var n in t)aw(e,n,{get:t[n],enumerable:!0})},H=$,yl=0;function bh(){return yl>0}function sw(){yl++,setTimeout(()=>{yl--})}function or(e,t={}){function n(a){return typeof a=="function"}if(!n(e))return e;try{let a=e.__sentry_wrapped__;if(a)return typeof a=="function"?a:e;if(br(e))return e}catch(a){return e}let r=function(...a){try{let i=a.map(s=>or(s,t));return e.apply(this,i)}catch(i){throw sw(),Ue(s=>{s.addEventProcessor(o=>(t.mechanism&&(Sr(o,void 0,void 0),pt(o,t.mechanism)),o.extra=w(h({},o.extra),{arguments:a}),o)),bt(i)}),i}};try{for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}catch(a){}Cs(r,e),Oe(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch(a){}return r}function El(){let e=We(),{referrer:t}=H.document||{},{userAgent:n}=H.navigator||{},r=h(h({},t&&{Referer:t}),n&&{"User-Agent":n});return{url:e,headers:r}}var ow={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},ah=H;function Sh(e,t){return U(this,null,function*(){let n=ow[e],r=ah.Sentry=ah.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);let a=r[e];if(typeof a=="function"&&!("_isShim"in a))return a;let i=lw(n),s=H.document.createElement("script");s.src=i,s.crossOrigin="anonymous",s.referrerPolicy="strict-origin",t&&s.setAttribute("nonce",t);let o=new Promise((u,p)=>{s.addEventListener("load",()=>u()),s.addEventListener("error",p)}),l=H.document.currentScript,c=H.document.body||H.document.head||(l==null?void 0:l.parentElement);if(c)c.appendChild(s);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{yield o}catch(u){throw new Error(`Error when loading integration: ${e}`)}let d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d})}function lw(e){var n,r;let t=((r=(n=T())==null?void 0:n.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${st}/${e}.min.js`,t).toString()}var cw=Ui({lazyLoadIntegration:Sh}),uw=Ui({getModalIntegration:()=>nh,getScreenshotIntegration:()=>rh}),Eh={};iw(Eh,{debug:()=>pw,error:()=>mw,fatal:()=>gw,fmt:()=>Yu,info:()=>fw,trace:()=>dw,warn:()=>hw});function ur(e,t,n,r){wa({level:e,message:t,attributes:n,severityNumber:r})}function dw(e,t){ur("trace",e,t)}function pw(e,t){ur("debug",e,t)}function fw(e,t){ur("info",e,t)}function hw(e,t){ur("warn",e,t)}function mw(e,t){ur("error",e,t)}function gw(e,t){ur("fatal",e,t)}function zi(e,t){let n=wl(e,t),r={type:Sw(t),value:Ew(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _w(e,t,n,r){var l;let a=(l=T())==null?void 0:l.getOptions().normalizeDepth,i=Tw(t),s={__serialized__:Fs(t,a)};if(i)return{exception:{values:[zi(e,i)]},extra:s};let o={exception:{values:[{type:yr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ww(t,{isUnhandledRejection:r})}]},extra:s};if(n){let c=wl(e,n);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function ml(e,t){return{exception:{values:[zi(e,t)]}}}function wl(e,t){let n=t.stacktrace||t.stack||"",r=vw(t),a=bw(t);try{return e(n,r,a)}catch(i){}return[]}var yw=/Minified React error #\d+;/i;function vw(e){return e&&yw.test(e.message)?1:0}function bw(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function wh(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Sw(e){let t=e==null?void 0:e.name;return!t&&wh(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Ew(e){let t=e==null?void 0:e.message;return wh(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function kh(e,t,n,r){let a=(n==null?void 0:n.syntheticException)||void 0,i=kl(e,t,a,r);return pt(i),i.level="error",n!=null&&n.event_id&&(i.event_id=n.event_id),lt(i)}function Th(e,t,n="info",r,a){let i=(r==null?void 0:r.syntheticException)||void 0,s=vl(e,t,i,a);return s.level=n,r!=null&&r.event_id&&(s.event_id=r.event_id),lt(s)}function kl(e,t,n,r,a){let i;if(Ts(t)&&t.error)return ml(e,t.error);if(Is(t)||Dc(t)){let s=t;if("stack"in t)i=ml(e,t);else{let o=s.name||(Is(s)?"DOMError":"DOMException"),l=s.message?`${o}: ${s.message}`:o;i=vl(e,l,n,r),Sr(i,l)}return"code"in s&&(i.tags=w(h({},i.tags),{"DOMException.code":`${s.code}`})),i}return Ct(t)?ml(e,t):ot(t)||yr(t)?(i=_w(e,t,n,a),pt(i,{synthetic:!0}),i):(i=vl(e,t,n,r),Sr(i,`${t}`,void 0),pt(i,{synthetic:!0}),i)}function vl(e,t,n,r){let a={};if(r&&n){let i=wl(e,n);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),pt(a,{synthetic:!0})}if(_r(t)){let{__sentry_template_string__:i,__sentry_template_values__:s}=t;return a.logentry={message:i,params:s},a}return a.message=t,a}function ww(e,{isUnhandledRejection:t}){let n=Bc(e),r=t?"promise rejection":"exception";return Ts(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:yr(e)?`Event \`${kw(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function kw(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}function Tw(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}var Iw=5e3,Ih=class extends Uu{constructor(e){let t=xw(e),n=H.SENTRY_SDK_SOURCE||Sd();Xu(t,"browser",["browser"],n),super(t);let{sendDefaultPii:r,sendClientReports:a,enableLogs:i,_experiments:s}=this._options,o=i!=null?i:s==null?void 0:s.enableLogs;H.document&&(a||o)&&H.document.addEventListener("visibilitychange",()=>{H.document.visibilityState==="hidden"&&(a&&this._flushOutcomes(),o&&Mr(this))}),o&&(this.on("flush",()=>{Mr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Mr(this)},Iw)})),r&&(this.on("postprocessEvent",Ju),this.on("beforeSendSession",Ku))}eventFromException(e,t){return kh(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Th(this._options.stackParser,e,t,n,this._options.attachStacktrace)}_prepareEvent(e,t,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n,r)}};function xw(e){var t;return h({release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=H.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0},e)}function Tl(e,t=Br("fetch")){let n=0,r=0;function a(i){let s=i.body.length;n+=s,r++;let o=h({body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);if(!t)return vo("fetch"),Ir("No fetch implementation available");try{return t(e.url,o).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return vo("fetch"),n-=s,r--,Ir(l)}}return Da(e,a)}var Cw=10,Aw=20,Rw=30,Mw=40,Nw=50;function lr(e,t,n,r){let a={filename:e,function:t==="<anonymous>"?tt:t,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}var Ow=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Lw=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pw=/\((\S*)(?::(\d+))(?::(\d+))\)/,Dw=e=>{let t=Ow.exec(e);if(t){let[,r,a,i]=t;return lr(r,tt,+a,+i)}let n=Lw.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let i=Pw.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}let[r,a]=Mh(n[1]||tt,n[2]);return lr(a,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},xh=[Rw,Dw],Fw=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,$w=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Uw=e=>{let t=Fw.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let a=$w.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],r=t[1]||tt;return[r,n]=Mh(r,n),lr(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Ch=[Nw,Uw],Bw=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,jw=e=>{let t=Bw.exec(e);return t?lr(t[2],t[1]||tt,+t[3],t[4]?+t[4]:void 0):void 0},Hw=[Mw,jw],zw=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,qw=e=>{let t=zw.exec(e);return t?lr(t[2],t[3]||tt,+t[1]):void 0},Ww=[Cw,qw],Vw=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Gw=e=>{let t=Vw.exec(e);return t?lr(t[5],t[3]||t[4]||tt,+t[1],+t[2]):void 0},Yw=[Aw,Gw],Ah=[xh,Ch],Rh=Es(...Ah),Mh=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:tt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Jw(e,{metadata:t,tunnel:n,dsn:r}){let a=h(h({event_id:e.event_id,sent_at:new Date().toISOString()},(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),!!n&&!!r&&{dsn:Xt(r)}),i=Kw(e);return ft(a,[i])}function Kw(e){return[{type:"user_report"},e]}var X=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ji=1024,Xw="Breadcrumbs",Zw=(e={})=>{let t=h({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e);return{name:Xw,setup(n){t.console&&Ba(tk(n)),t.dom&&ii(ek(n,t.dom)),t.xhr&&zn(nk(n)),t.fetch&&Pn(rk(n)),t.history&&Qt(ak(n)),t.sentry&&n.on("beforeSendEvent",Qw(n))}}},Nh=Zw;function Qw(e){return function(t){T()===e&&Je({category:`sentry.${t.type==="transaction"?"transaction":"event"}`,event_id:t.event_id,level:t.level,message:Ht(t)},{event:t})}}function ek(e,t){return function(n){if(T()!==e)return;let r,a,i=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>ji&&(X&&_.warn(`\`dom.maxStringLength\` cannot exceed ${ji}, but a value of ${s} was configured. Sentry will use ${ji} instead.`),s=ji),typeof i=="string"&&(i=[i]);try{let l=n.event,c=ik(l)?l.target:l;r=Ae(c,{keyAttrs:i,maxStringLength:s}),a=Ia(c)}catch(l){r="<unknown>"}if(r.length===0)return;let o={category:`ui.${n.name}`,message:r};a&&(o.data={"ui.component_name":a}),Je(o,{event:n.event,name:n.name,global:n.global})}}function tk(e){return function(t){if(T()!==e)return;let n={category:"console",data:{arguments:t.args,logger:"console"},level:Or(t.level),message:pr(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)n.message=`Assertion failed: ${pr(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1);else return;Je(n,{input:t.args,level:t.level})}}function nk(e){return function(t){if(T()!==e)return;let{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[Ge];if(!n||!r||!a)return;let{method:i,url:s,status_code:o,body:l}=a,c={method:i,url:s,status_code:o},d={xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:r},u={category:"xhr",data:c,type:"http",level:Qs(o)};e.emit("beforeOutgoingRequestBreadcrumb",u,d),Je(u,d)}}function rk(e){return function(t){if(T()!==e)return;let{startTimestamp:n,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.fetchData.method,t.fetchData.url,t.error){let a=t.fetchData,i={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r},s={category:"fetch",data:a,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",s,i),Je(s,i)}else{let a=t.response,i=w(h({},t.fetchData),{status_code:a==null?void 0:a.status});t.fetchData.request_body_size,t.fetchData.response_body_size,a==null||a.status;let s={input:t.args,response:a,startTimestamp:n,endTimestamp:r},o={category:"fetch",data:i,type:"http",level:Qs(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",o,s),Je(o,s)}}}function ak(e){return function(t){if(T()!==e)return;let n=t.from,r=t.to,a=kt(H.location.href),i=n?kt(n):void 0,s=kt(r);i!=null&&i.path||(i=a),a.protocol===s.protocol&&a.host===s.host&&(r=s.relative),a.protocol===i.protocol&&a.host===i.host&&(n=i.relative),Je({category:"navigation",data:{from:n,to:r}})}}function ik(e){return!!e&&!!e.target}var sk=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ok="BrowserApiErrors",lk=(e={})=>{let t=h({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1},e);return{name:ok,setupOnce(){t.setTimeout&&Ie(H,"setTimeout",ih),t.setInterval&&Ie(H,"setInterval",ih),t.requestAnimationFrame&&Ie(H,"requestAnimationFrame",ck),t.XMLHttpRequest&&"XMLHttpRequest"in H&&Ie(XMLHttpRequest.prototype,"send",uk);let n=t.eventTarget;n&&(Array.isArray(n)?n:sk).forEach(r=>dk(r,t))}}},Oh=lk;function ih(e){return function(...t){let n=t[0];return t[0]=or(n,{mechanism:{data:{function:ct(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function ck(e){return function(t){return e.apply(this,[or(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ct(e)},handled:!1,type:"instrument"}})])}}function uk(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&Ie(n,r,function(a){let i={mechanism:{data:{function:r,handler:ct(a)},handled:!1,type:"instrument"}},s=br(a);return s&&(i.mechanism.data.handler=ct(s)),or(a,i)})}),e.apply(this,t)}}function dk(e,t){var r,a;let n=(r=H[e])==null?void 0:r.prototype;(a=n==null?void 0:n.hasOwnProperty)!=null&&a.call(n,"addEventListener")&&(Ie(n,"addEventListener",function(i){return function(s,o,l){try{pk(o)&&(o.handleEvent=or(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ct(o),target:e},handled:!1,type:"instrument"}}))}catch(c){}return t.unregisterOriginalCallbacks&&fk(this,s,o),i.apply(this,[s,or(o,{mechanism:{data:{function:"addEventListener",handler:ct(o),target:e},handled:!1,type:"instrument"}}),l])}}),Ie(n,"removeEventListener",function(i){return function(s,o,l){try{let c=o.__sentry_wrapped__;c&&i.call(this,s,c,l)}catch(c){}return i.call(this,s,o,l)}}))}function pk(e){return typeof e.handleEvent=="function"}function fk(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}var Lh=()=>({name:"BrowserSession",setupOnce(){if(typeof H.document>"u"){X&&_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Cr({ignoreDuration:!0}),Ar(),Qt(({from:e,to:t})=>{e!==void 0&&e!==t&&(Cr({ignoreDuration:!0}),Ar())})}}),hk="GlobalHandlers",mk=(e={})=>{let t=h({onerror:!0,onunhandledrejection:!0},e);return{name:hk,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(gk(n),sh("onerror")),t.onunhandledrejection&&(_k(n),sh("onunhandledrejection"))}}},Ph=mk;function gk(e){ws(t=>{let{stackParser:n,attachStacktrace:r}=Dh();if(T()!==e||bh())return;let{msg:a,url:i,line:s,column:o,error:l}=t,c=bk(kl(n,l||a,void 0,r,!1),i,s,o);c.level="error",Zt(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})}function _k(e){ks(t=>{let{stackParser:n,attachStacktrace:r}=Dh();if(T()!==e||bh())return;let a=yk(t),i=Wt(a)?vk(a):kl(n,a,void 0,r,!0);i.level="error",Zt(i,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function yk(e){if(Wt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(t){}return e}function vk(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function bk(e,t,n,r){let a=e.exception=e.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},l=o.frames=o.frames||[],c=r,d=n,u=qe(t)&&t.length>0?t:We();return l.length===0&&l.push({colno:c,filename:u,function:tt,in_app:!0,lineno:d}),e}function sh(e){X&&_.log(`Global Handler attached: ${e}`)}function Dh(){var e;return((e=T())==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}var Fh=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!H.navigator&&!H.location&&!H.document)return;let t=El(),n=h(h({},t.headers),(r=e.request)==null?void 0:r.headers);e.request=w(h(h({},t),e.request),{headers:n})}}),Sk="cause",Ek=5,wk="LinkedErrors",kk=(e={})=>{let t=e.limit||Ek,n=e.key||Sk;return{name:wk,preprocessEvent(r,a,i){let s=i.getOptions();Qu(zi,s.stackParser,n,t,r,a)}}},$h=kk;function Tk(){return Ik()?(X&&St(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Ik(){var r,a;if(typeof H.window>"u")return!1;let e=H;if(e.nw||!((a=(r=e.chrome||e.browser)==null?void 0:r.runtime)!=null&&a.id))return!1;let t=We(),n=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(H===H.top&&n.some(i=>t.startsWith(`${i}://`)))}function Uh(e){return[Ua(),$a(),Oh(),Nh(),Ph(),$h(),ja(),Fh(),Lh()]}function Il(e={}){let t=!e.skipBrowserExtensionCheck&&Tk(),n=w(h({},e),{enabled:t?!1:e.enabled,stackParser:Lc(e.stackParser||Rh),integrations:Lu({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Uh():e.defaultIntegrations}),transport:e.transport||Tl});return Hu(Ih,n)}function xk(){}function Ck(e){e()}function Ak(e={}){var c;let t=H.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){X&&_.error("[showReportDialog] Global document not defined");return}let r=j(),a=(c=T())==null?void 0:c.getDsn();if(!a){X&&_.error("[showReportDialog] DSN not configured");return}let i=w(h({},e),{user:h(h({},r.getUser()),e.user),eventId:e.eventId||Oa()}),s=H.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=Ou(a,i);let{onLoad:o,onClose:l}=i;if(o&&(s.onload=o),l){let d=u=>{if(u.data==="__sentry_reportdialog_closed__")try{l()}finally{H.removeEventListener("message",d)}};H.addEventListener("message",d)}n.appendChild(s)}var Rk=$,Mk="ReportingObserver",oh=new WeakMap,Nk=(e={})=>{let t=e.types||["crash","deprecation","intervention"];function n(r){if(oh.has(T()))for(let a of r)Ue(i=>{i.setExtra("url",a.url);let s=`ReportingObserver [${a.type}]`,o="No details available";if(a.body){let l={};for(let c in a.body)l[c]=a.body[c];if(i.setExtra("body",l),a.type==="crash"){let c=a.body;o=[c.crashId||"",c.reason||""].join(" ").trim()||o}else o=a.body.message||o}Cn(`${s}: ${o}`)})}return{name:Mk,setupOnce(){yd()&&new Rk.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){oh.set(r,!0)}}},Ok=Nk,Lk="HttpClient",Pk=(e={})=>{let t=h({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},e);return{name:Lk,setup(n){qk(n,t),Wk(n,t)}}},Dk=Pk;function Fk(e,t,n,r,a){if(jh(e,n.status,n.url)){let i=Vk(t,r),s,o,l,c;zh()&&([s,l]=lh("Cookie",i),[o,c]=lh("Set-Cookie",n));let d=Hh({url:i.url,method:i.method,status:n.status,requestHeaders:s,responseHeaders:o,requestCookies:l,responseCookies:c,error:a});Zt(d)}}function lh(e,t){let n=Bk(t.headers),r;try{let a=n[e]||n[e.toLowerCase()]||void 0;a&&(r=Bh(a))}catch(a){}return[n,r]}function $k(e,t,n,r,a){if(jh(e,t.status,t.responseURL)){let i,s,o;if(zh()){try{let c=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;c&&(s=Bh(c))}catch(c){}try{o=jk(t)}catch(c){}i=r}let l=Hh({url:t.responseURL,method:n,status:t.status,requestHeaders:i,responseHeaders:o,responseCookies:s,error:a});Zt(l)}}function Uk(e){if(e){let t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Bh(e){return e.split("; ").reduce((t,n)=>{let[r,a]=n.split("=");return r&&a&&(t[r]=a),t},{})}function Bk(e){let t={};return e.forEach((n,r)=>{t[r]=n}),t}function jk(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[a,i]=r.split(": ");return a&&i&&(n[a]=i),n},{}):{}}function Hk(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function zk(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function qk(e,t){eo()&&Pn(n=>{if(T()!==e)return;let{response:r,args:a,error:i,virtualError:s}=n,[o,l]=a;r&&Fk(t,o,r,l,i||s)},!1)}function Wk(e,t){"XMLHttpRequest"in $&&zn(n=>{if(T()!==e)return;let{error:r,virtualError:a}=n,i=n.xhr,s=i[Ge];if(!s)return;let{method:o,request_headers:l}=s;try{$k(t,i,o,l,r||a)}catch(c){X&&_.warn("Error while extracting response event form XHR response",c)}})}function jh(e,t,n){return zk(e.failedRequestStatusCodes,t)&&Hk(e.failedRequestTargets,n)&&!Fa(n,T())}function Hh(e){let t=T(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,a=`HTTP Client Error with status code: ${e.status}`,i={message:a,exception:{values:[{type:"Error",value:a,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Uk(e.responseHeaders)}}};return pt(i,{type:"http.client",handled:!1}),i}function Vk(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function zh(){let e=T();return e?!!e.getOptions().sendDefaultPii:!1}var gl=$,Gk=7,Yk="ContextLines",Jk=(e={})=>{let t=e.frameContextLines!=null?e.frameContextLines:Gk;return{name:Yk,processEvent(n){return Xk(n,t)}}},Kk=Jk;function Xk(e,t){var o;let n=gl.document,r=gl.location&&qa(gl.location.href);if(!n||!r)return e;let a=(o=e.exception)==null?void 0:o.values;if(!(a!=null&&a.length))return e;let i=n.documentElement.innerHTML;if(!i)return e;let s=["<!DOCTYPE html>","<html>",...i.split(`
`),"</html>"];return a.forEach(l=>{let c=l.stacktrace;c!=null&&c.frames&&(c.frames=c.frames.map(d=>Zk(d,s,r,t)))}),e}function Zk(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Hc(t,e,r),e}var Qk="GraphQLClient",eT=e=>({name:Qk,setup(t){tT(t,e),nT(t,e)}});function tT(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{let a=F(n).data||{};if(a[Te]!=="http.client")return;let i=a[Gc]||a["http.url"],s=a[Vc]||a["http.method"];if(!qe(i)||!qe(s))return;let{endpoints:o}=t,l=$e(i,o),c=Wh(r);if(l&&c){let d=Vh(c);if(d){let u=qh(d);n.updateName(`${s} ${i} (${u})`),n.setAttribute("graphql.document",c)}}})}function nT(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{let{category:a,type:i,data:s}=n;if(i==="http"&&(a==="fetch"||a==="xhr")){let o=s==null?void 0:s.url,{endpoints:l}=t,c=$e(o,l),d=Wh(r);if(c&&s&&d){let u=Vh(d);if(!s.graphql&&u){let p=qh(u);s["graphql.document"]=u.query,s["graphql.operation"]=p}}}})}function qh(e){let{query:t,operationName:n}=e,{operationName:r=n,operationType:a}=rT(t);return r?`${a} ${r}`:`${a}`}function Wh(e){let t="xhr"in e,n;if(t){let r=e.xhr[Ge];n=r&&qn(r.body)[0]}else{let r=jr(e.input);n=qn(r)[0]}return n}function rT(e){let t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};let a=e.match(n);return a?{operationType:a[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function Vh(e){let t;try{let n=JSON.parse(e);n.query&&(t=n)}finally{return t}}var aT=eT;function It(e=0){return((ge()||performance.timeOrigin)+e)/1e3}function iT(e){let t=[];if(e.nextHopProtocol!=null){let{name:n,version:r}=yo(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return ge()?[...t,["http.request.redirect_start",It(e.redirectStart)],["http.request.fetch_start",It(e.fetchStart)],["http.request.domain_lookup_start",It(e.domainLookupStart)],["http.request.domain_lookup_end",It(e.domainLookupEnd)],["http.request.connect_start",It(e.connectStart)],["http.request.secure_connection_start",It(e.secureConnectionStart)],["http.request.connection_end",It(e.connectEnd)],["http.request.request_start",It(e.requestStart)],["http.request.response_start",It(e.responseStart)],["http.request.response_end",It(e.responseEnd)]]:t}var ch=new WeakMap,_l=new Map,xl={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function Gh(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:a,shouldCreateSpanForRequest:i,enableHTTPTimings:s,tracePropagationTargets:o,onRequestSpanStart:l}=h(h({},xl),t),c=typeof i=="function"?i:p=>!0,d=p=>oT(p,o),u={};n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(f=>{if(f.op==="http.client"){let m=_l.get(f.span_id);m&&(f.timestamp=m/1e3,_l.delete(f.span_id))}}),p)),a&&vd(p=>{if(p.response){let f=ch.get(p.response);f&&p.endTimestamp&&_l.set(f,p.endTimestamp)}}),Pn(p=>{let f=md(p,c,d,u);if(p.response&&p.fetchData.__span&&ch.set(p.response,p.fetchData.__span),f){let m=Yh(p.fetchData.url),g=m?kt(m).host:void 0;f.setAttributes({"http.url":m,"server.address":g}),s&&uh(f),l==null||l(f,{headers:p.headers})}})),r&&zn(p=>{var m;let f=lT(p,c,d,u);if(f){s&&uh(f);let g;try{g=new Headers((m=p.xhr.__sentry_xhr_v3__)==null?void 0:m.request_headers)}catch(y){}l==null||l(f,{headers:g})}})}function sT(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function uh(e){let{url:t}=F(e).data;if(!t||typeof t!="string")return;let n=Pt("resource",({entries:r})=>{r.forEach(a=>{sT(a)&&a.name.endsWith(t)&&(iT(a).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function oT(e,t){let n=We();if(n){let r,a;try{r=new URL(e,n),a=new URL(n).origin}catch(s){return!1}let i=r.origin===a;return t?$e(r.toString(),t)||i&&$e(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?$e(e,t):r}}function lT(e,t,n,r){let a=e.xhr,i=a==null?void 0:a[Ge];if(!a||a.__sentry_own_request__||!i)return;let{url:s,method:o}=i,l=Mt()&&t(s);if(e.endTimestamp&&l){let g=a.__sentry_xhr_span_id__;if(!g)return;let y=r[g];y&&i.status_code!==void 0&&(un(y,i.status_code),y.end(),delete r[g]);return}let c=Yh(s),d=c?kt(c):kt(s),u=qa(s),p=!!le(),f=l&&p?ht({name:`${o} ${u}`,attributes:h(h({url:s,type:"xhr","http.method":o,"http.url":c,"server.address":d==null?void 0:d.host,[ne]:"auto.http.browser",[Te]:"http.client"},(d==null?void 0:d.search)&&{"http.query":d==null?void 0:d.search}),(d==null?void 0:d.hash)&&{"http.fragment":d==null?void 0:d.hash})}):new vt;a.__sentry_xhr_span_id__=f.spanContext().spanId,r[a.__sentry_xhr_span_id__]=f,n(s)&&cT(a,Mt()&&p?f:void 0);let m=T();return m&&m.emit("beforeOutgoingRequestSpan",f,e),f}function cT(e,t){let{"sentry-trace":n,baggage:r}=Nr({span:t});n&&uT(e,n,r)}function uT(e,t,n){var a;let r=(a=e.__sentry_xhr_v3__)==null?void 0:a.request_headers;if(!(r!=null&&r["sentry-trace"]))try{if(e.setRequestHeader("sentry-trace",t),n){let i=r==null?void 0:r.baggage;(!i||!dT(i))&&e.setRequestHeader("baggage",n)}}catch(i){}}function dT(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Yh(e){try{return new URL(e,H.location.origin).href}catch(t){return}}function pT(){H.document?H.document.addEventListener("visibilitychange",()=>{let e=le();if(!e)return;let t=fe(e);if(H.document.hidden&&t){let n="cancelled",{op:r,status:a}=F(t);X&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),a||t.setStatus({code:Jc,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):X&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var fT=3600,Jh="sentry_previous_trace",hT="sentry.previous_trace";function mT(e,{linkPreviousTrace:t,consistentTraceSampling:n}){let r=t==="session-storage",a=r?yT():void 0;e.on("spanStart",s=>{if(fe(s)!==s)return;let o=j().getPropagationContext();a=gT(a,s,o),r&&_T(a)});let i=!0;n&&e.on("beforeSampling",s=>{if(!a)return;let o=j(),l=o.getPropagationContext();if(i&&l.parentSpanId){i=!1;return}o.setPropagationContext(w(h({},l),{dsc:w(h({},l.dsc),{sample_rate:String(a.sampleRate),sampled:String(bl(a.spanContext))}),sampleRand:a.sampleRand})),s.parentSampled=bl(a.spanContext),s.parentSampleRate=a.sampleRate,s.spanAttributes=w(h({},s.spanAttributes),{[As]:a.sampleRate})})}function gT(e,t,n){let r=F(t);function a(){var o,l,c;try{return(c=Number((o=n.dsc)==null?void 0:o.sample_rate))!=null?c:Number((l=r.data)==null?void 0:l[Nn])}catch(d){return 0}}let i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:a(),sampleRand:n.sampleRand};if(!e)return i;let s=e.spanContext;return s.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=fT&&(X&&_.log(`Adding previous_trace ${s} link to span ${h({op:r.op},t.spanContext())}`),t.addLink({context:s,attributes:{[Yc]:"previous_trace"}}),t.setAttribute(hT,`${s.traceId}-${s.spanId}-${bl(s)?1:0}`)),i)}function _T(e){try{H.sessionStorage.setItem(Jh,JSON.stringify(e))}catch(t){X&&_.warn("Could not store previous trace in sessionStorage",t)}}function yT(){var e;try{let t=(e=H.sessionStorage)==null?void 0:e.getItem(Jh);return JSON.parse(t)}catch(t){return}}function bl(e){return e.traceFlags===1}var vT="BrowserTracing",bT=h(w(h({},dr),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{}}),xl),Cl=(e={})=>{let t={name:void 0,source:void 0},n=H.document,{enableInp:r,enableElementTiming:a,enableLongTask:i,enableLongAnimationFrame:s,_experiments:{enableInteractions:o,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:c},beforeStartSpan:d,idleTimeout:u,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:g,traceXHR:y,trackFetchStreamPerformance:v,shouldCreateSpanForRequest:E,enableHTTPTimings:x,ignoreResourceSpans:N,ignorePerformanceApiSpans:O,instrumentPageLoad:b,instrumentNavigation:k,detectRedirects:W,linkPreviousTrace:S,consistentTraceSampling:A,onRequestSpanStart:P}=h(h({},bT),e),I,R;function Y(L,M,B=!0){let D=M.op==="pageload",Z=d?d(M):M,Q=Z.attributes||{};if(M.name!==Z.name&&(Q[Le]="custom",Z.attributes=Q),!B){let ve=Vt();ht(w(h({},Z),{startTime:ve})).end(ve);return}t.name=Z.name,t.source=Q[Le];let ye=Hs(Z,{idleTimeout:u,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:D,beforeSpanEnd:ve=>{I==null||I(),zd(ve,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!c,ignoreResourceSpans:N,ignorePerformanceApiSpans:O}),ph(L,void 0);let Ee=j(),at=Ee.getPropagationContext();Ee.setPropagationContext(w(h({},at),{traceId:ye.spanContext().traceId,sampled:Kt(ye),dsc:Ye(ve)}))}});ph(L,ye);function Ze(){n&&["interactive","complete"].includes(n.readyState)&&L.emit("idleSpanEnableAutoFinish",ye)}D&&n&&(n.addEventListener("readystatechange",()=>{Ze()}),Ze())}return{name:vT,setup(L){if(xa(),I=Ud({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:c||!1,client:L}),r&&Wd(),a&&qd(),s&&$.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?jd():i&&Bd(),o&&Hd(),W&&n){let B=()=>{R=pe()};addEventListener("click",B,{capture:!0}),addEventListener("keydown",B,{capture:!0,passive:!0})}function M(){let B=aa(L);B&&!F(B).timestamp&&(X&&_.log(`[Tracing] Finishing current active span with op: ${F(B).op}`),B.setAttribute(hr,"cancelled"),B.end())}L.on("startNavigationSpan",(B,D)=>{if(T()!==L)return;if(D!=null&&D.isRedirect){X&&_.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Y(L,h({op:"navigation.redirect"},B),!1);return}M(),be().setPropagationContext({traceId:yt(),sampleRand:Math.random()});let Z=j();Z.setPropagationContext({traceId:yt(),sampleRand:Math.random()}),Z.setSDKProcessingMetadata({normalizedRequest:void 0}),Y(L,h({op:"navigation"},B))}),L.on("startPageLoadSpan",(B,D={})=>{if(T()!==L)return;M();let Z=D.sentryTrace||dh("sentry-trace"),Q=D.baggage||dh("baggage"),ye=Os(Z,Q),Ze=j();Ze.setPropagationContext(ye),Ze.setSDKProcessingMetadata({normalizedRequest:El()}),Y(L,h({op:"pageload"},B))})},afterAllSetup(L){let M=We();if(S!=="off"&&mT(L,{linkPreviousTrace:S,consistentTraceSampling:A}),H.location){if(b){let B=ge();Kh(L,{name:H.location.pathname,startTime:B?B/1e3:void 0,attributes:{[Le]:"url",[ne]:"auto.pageload.browser"}})}k&&Qt(({to:B,from:D})=>{if(D===void 0&&(M==null?void 0:M.indexOf(B))!==-1){M=void 0;return}M=void 0;let Z=Zs(B),Q=aa(L),ye=Q&&W&&ET(Q,R);Xh(L,{name:(Z==null?void 0:Z.pathname)||H.location.pathname,attributes:{[Le]:"url",[ne]:"auto.navigation.browser"}},{url:B,isRedirect:ye})})}m&&pT(),o&&ST(L,u,p,f,t),r&&Vd(),Gh(L,{traceFetch:g,traceXHR:y,trackFetchStreamPerformance:v,tracePropagationTargets:L.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:E,enableHTTPTimings:x,onRequestSpanStart:P})}}};function Kh(e,t,n){e.emit("startPageLoadSpan",t,n),j().setTransactionName(t.name);let r=aa(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function Xh(e,t,n){let{url:r,isRedirect:a}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:a}),e.emit("startNavigationSpan",t,{isRedirect:a});let i=j();return i.setTransactionName(t.name),r&&!a&&i.setSDKProcessingMetadata({normalizedRequest:w(h({},El()),{url:r})}),aa(e)}function dh(e){var t,n;return((n=(t=H.document)==null?void 0:t.querySelector(`meta[name=${e}]`))==null?void 0:n.getAttribute("content"))||void 0}function ST(e,t,n,r,a){let i=H.document,s,o=()=>{let l="ui.action.click",c=aa(e);if(c){let d=F(c).op;if(["navigation","pageload"].includes(d)){X&&_.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(hr,"interactionInterrupted"),s.end(),s=void 0),!a.name){X&&_.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}s=Hs({name:a.name,op:l,attributes:{[Le]:a.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",o,{capture:!0})}var Zh="_sentry_idleSpan";function aa(e){return e[Zh]}function ph(e,t){Oe(e,Zh,t)}var fh=.3;function ET(e,t){let n=F(e),r=Vt(),a=n.start_timestamp;return!(r-a>fh||t&&r-t<=fh)}function cr(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function wT(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let r=cr(n);return a=>r.then(i=>a(i.transaction(t,"readwrite").objectStore(t)))}function Al(e){return cr(e.getAllKeys())}function kT(e,t,n){return e(r=>Al(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.max(...a,0)+1),cr(r.transaction)}))}function TT(e,t,n){return e(r=>Al(r).then(a=>{if(!(a.length>=n))return r.put(t,Math.min(...a,0)-1),cr(r.transaction)}))}function IT(e){return e(t=>Al(t).then(n=>{let r=n[0];if(r!=null)return cr(t.get(r)).then(a=>(t.delete(r),cr(t.transaction).then(()=>a)))}))}function xT(e){let t;function n(){return t==null&&(t=wT(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:r=>U(this,null,function*(){try{let a=yield On(r);yield kT(n(),a,e.maxQueueSize||30)}catch(a){}}),unshift:r=>U(this,null,function*(){try{let a=yield On(r);yield TT(n(),a,e.maxQueueSize||30)}catch(a){}}),shift:()=>U(this,null,function*(){try{let r=yield IT(n());if(r)return hu(r)}catch(r){}})}}function CT(e){return t=>{let n=e(w(h({},t),{createStore:xT}));return H.addEventListener("online",r=>U(this,null,function*(){yield n.flush()})),n}}function AT(e=Tl){return CT(Wu(e))}var hh=1e6,Hi=String(0),RT="main",rt=H.navigator,Qh="",em="",tm="",Sl=(rt==null?void 0:rt.userAgent)||"",nm="",vh,MT=(rt==null?void 0:rt.language)||((vh=rt==null?void 0:rt.languages)==null?void 0:vh[0])||"";function NT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}var mh=rt==null?void 0:rt.userAgentData;NT(mh)&&mh.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(Qh=e.platform||"",tm=e.architecture||"",nm=e.model||"",em=e.platformVersion||"",(t=e.fullVersionList)==null?void 0:t.length){let n=e.fullVersionList[e.fullVersionList.length-1];Sl=`${n.brand} ${n.version}`}}).catch(e=>{});function OT(e){return!("thread_metadata"in e)}function LT(e){return OT(e)?FT(e):e}function PT(e){var n,r;let t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&X&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function DT(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);let a=PT(r),i=LT(n),s=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:pe()*1e3),o=typeof r.timestamp=="number"?r.timestamp*1e3:pe()*1e3;return{event_id:e,timestamp:new Date(s).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||kr,runtime:{name:"javascript",version:H.navigator.userAgent},os:{name:Qh,version:em,build_number:Sl},device:{locale:MT,model:nm,manufacturer:Sl,architecture:tm,is_emulator:!1},debug_meta:{images:BT(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||Ce(),trace_id:a,active_thread_id:Hi,relative_start_ns:"0",relative_end_ns:((o-s)*1e6).toFixed(0)}]}}function rm(e){return F(e).op==="pageload"}function FT(e){let t,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:{[Hi]:{name:RT}}},a=e.samples[0];if(!a)return r;let i=a.timestamp,s=ge(),o=typeof performance.timeOrigin=="number"?performance.timeOrigin:s||0,l=o-(s||o);return e.samples.forEach((c,d)=>{if(c.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((c.timestamp+l-i)*hh).toFixed(0),stack_id:t,thread_id:Hi};return}let u=e.stacks[c.stackId],p=[];for(;u;){p.push(u.frameId);let m=e.frames[u.frameId];m&&r.frames[u.frameId]===void 0&&(r.frames[u.frameId]={function:m.name,abs_path:typeof m.resourceId=="number"?e.resources[m.resourceId]:void 0,lineno:m.line,colno:m.column}),u=u.parentId===void 0?void 0:e.stacks[u.parentId]}let f={elapsed_since_start_ns:((c.timestamp+l-i)*hh).toFixed(0),stack_id:n,thread_id:Hi};r.stacks[n]=p,r.samples[d]=f,n++}),r}function $T(e,t){if(!t.length)return e;for(let n of t)e[1].push([{type:"profile"},n]);return e}function UT(e){let t=[];return qt(e,(n,r)=>{var a,i,s;if(r==="transaction")for(let o=1;o<n.length;o++)(s=(i=(a=n[o])==null?void 0:a.contexts)==null?void 0:i.profile)!=null&&s.profile_id&&t.push(n[o])}),t}function BT(e){var n,r;let t=(r=(n=T())==null?void 0:n.getOptions())==null?void 0:r.stackParser;return t?Eu(t,e):[]}function jT(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(X&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(X&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function HT(e){return e.samples.length<2?(X&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(X&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}var am=!1,im=3e4;function zT(e){return typeof e=="function"}function qT(){let e=H.Profiler;if(!zT(e)){X&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}let t=10,n=Math.floor(im/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch(r){X&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),am=!0}}function gh(e){var r;if(am)return X&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return X&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;let t=(r=T())==null?void 0:r.getOptions();if(!t)return X&&_.log("[Profiling] Profiling disabled, no options found."),!1;let n=t.profilesSampleRate;return jT(n)?n?n===!0||Math.random()<n?!0:(X&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(n)})`),!1):(X&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(X&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function WT(e,t,n,r){return HT(n)?DT(e,t,n,r):null}var yn=new Map;function VT(){return yn.size}function GT(e){let t=yn.get(e);return t&&yn.delete(e),t}function YT(e,t){if(yn.set(e,t),yn.size>30){let n=yn.keys().next().value;yn.delete(n)}}function _h(e){let t;rm(e)&&(t=pe()*1e3);let n=qT();if(!n)return;X&&_.log(`[Profiling] started profiling span: ${F(e).description}`);let r=Ce();j().setContext("profile",{profile_id:r,start_timestamp:t});function a(){return U(this,null,function*(){if(e&&n)return n.stop().then(l=>{if(i&&(H.clearTimeout(i),i=void 0),X&&_.log(`[Profiling] stopped profiling of span: ${F(e).description}`),!l){X&&_.log(`[Profiling] profiler returned null profile for: ${F(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}YT(r,l)}).catch(l=>{X&&_.log("[Profiling] error while stopping profiler:",l)})})}let i=H.setTimeout(()=>{X&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",F(e).description),a()},im),s=e.end.bind(e);function o(){return e?(a().then(()=>{s()},()=>{s()}),e):s()}e.end=o}var JT="BrowserProfiling",KT=()=>({name:JT,setup(e){let t=le(),n=t&&fe(t);n&&rm(n)&&gh(n)&&_h(n),e.on("spanStart",r=>{r===fe(r)&&gh(r)&&_h(r)}),e.on("beforeEnvelope",r=>{var s,o;if(!VT())return;let a=UT(r);if(!a.length)return;let i=[];for(let l of a){let c=l==null?void 0:l.contexts,d=(s=c==null?void 0:c.profile)==null?void 0:s.profile_id,u=(o=c==null?void 0:c.profile)==null?void 0:o.start_timestamp;if(typeof d!="string"){X&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){X&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}c!=null&&c.profile&&delete c.profile;let p=GT(d);if(!p){X&&_.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}let f=WT(d,u,p,l);f&&i.push(f)}$T(r,i)})}}),XT=KT,ZT="SpotlightBrowser",QT=(e={})=>{let t=e.sidecarUrl||"http://localhost:8969/stream";return{name:ZT,setup:()=>{X&&_.log("Using Sidecar URL",t)},processEvent:n=>nI(n)?null:n,afterAllSetup:n=>{eI(n,t)}}};function eI(e,t){let n=Br("fetch"),r=0;e.on("beforeEnvelope",a=>{if(r>3){_.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:On(a),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(i=>{i.status>=200&&i.status<400&&(r=0)},i=>{r++,_.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",i)})})}var tI=QT;function nI(e){var t;return!!(e.type==="transaction"&&e.spans&&((t=e.contexts)!=null&&t.trace)&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:n})=>n==null?void 0:n.includes("#sentry-spotlight")))}var rI=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Lt(e)}});function aI(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Et(e,t.value),wt(e,t.value)}}}var iI=()=>({name:"OpenFeature",processEvent(e,t,n){return Lt(e)}}),sI=class{after(e,t){Et(t.flagKey,t.value),wt(t.flagKey,t.value)}error(e,t,n){Et(e.flagKey,e.defaultValue),wt(e.flagKey,e.defaultValue)}},oI=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){let t=e.prototype;Ie(t,"isEnabled",lI)},processEvent(t,n,r){return Lt(t)}});function lI(e){return function(...t){let n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(Et(n,r),wt(n,r)):X&&_.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}var cI=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{Et(n.gate.name,n.gate.value),wt(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Lt(t)}});function uI(){return U(this,null,function*(){let e=T();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{yield fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch(t){return"sentry-unreachable"}})}var dI="WebWorker",pI=({worker:e})=>({name:dI,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>yh(t))},addWorker:t=>yh(t)});function yh(e){e.addEventListener("message",t=>{hI(t.data)&&(t.stopImmediatePropagation(),X&&_.log("Sentry debugId web worker message received",t.data),H._sentryDebugIds=h(h({},t.data._sentryDebugIds),H._sentryDebugIds))})}function fI({self:e}){var t;e.postMessage({_sentryMessage:!0,_sentryDebugIds:(t=e._sentryDebugIds)!=null?t:void 0})}function hI(e){return ot(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(ot(e._sentryDebugIds)||e._sentryDebugIds===void 0)}var om=/(\.dev|www-[a-z0-9]+)\.archive\.org$/.test(window.location.origin)?"development":"production",Ml=document.querySelector("head"),mI=Ml.getAttribute("data-release")||"unset",gI=Ml.getAttribute("data-node")||"unknown",_I="https://1975dc711a374a438885e671105ce869@sink.archive.org/6",qi=om==="production",yI=qi?.001:1,vI=qi?.05:1;function sm(e){let t=e.split("/").slice(1);if(/^\/(details|download)\/.+/.test(e)){let n=Ml.querySelector('meta[property="mediatype"]').getAttribute("content");return`/${t[0]}/<${n}>`}return/^\/post\/\d+/.test(e)?`/${t[0]}/<id>`:e}Il({dsn:_I,attachStacktrace:!0,autoSessionTracking:!qi,debug:!qi,environment:om,release:mI,tracesSampleRate:yI,integrations:[Cl({beforeStartSpan:e=>w(h({},e),{name:sm(location.pathname)})})],tracePropagationTargets:["https://archive.org"],beforeSend(e){let t=sm(location.pathname);return t!==location.pathname&&(e.transaction=t),e},sampleRate:vI});Na("server_name",gI);window.Sentry=Rl;})();
// @license-end
//# sourceMappingURL=ia-sentry.min.js.map
