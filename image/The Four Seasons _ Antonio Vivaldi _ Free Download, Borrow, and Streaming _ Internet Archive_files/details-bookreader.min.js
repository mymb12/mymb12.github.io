// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(()=>{var e0=Object.defineProperty,s5=Object.defineProperties;var l5=Object.getOwnPropertyDescriptors;var ud=Object.getOwnPropertySymbols;var t0=Object.prototype.hasOwnProperty,i0=Object.prototype.propertyIsEnumerable;var fp=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),On=Math.pow,mp=(e,t,r)=>t in e?e0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rr=(e,t)=>{for(var r in t||(t={}))t0.call(t,r)&&mp(e,r,t[r]);if(ud)for(var r of ud(t))i0.call(t,r)&&mp(e,r,t[r]);return e},rn=(e,t)=>s5(e,l5(t));var nn=(e,t)=>{var r={};for(var s in e)t0.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&ud)for(var s of ud(e))t.indexOf(s)<0&&i0.call(e,s)&&(r[s]=e[s]);return r};var si=(e,t)=>()=>(e&&(t=e(e=0)),t);var Fn=(e,t)=>{for(var r in t)e0(e,r,{get:t[r],enumerable:!0})};var r0=(e,t,r)=>(mp(e,typeof t!="symbol"?t+"":t,r),r);var vi=(e,t,r)=>new Promise((s,l)=>{var o=u=>{try{n(r.next(u))}catch(h){l(h)}},c=u=>{try{n(r.throw(u))}catch(h){l(h)}},n=u=>u.done?s(u.value):Promise.resolve(u.value).then(o,c);n((r=r.apply(e,t)).next())}),c5=function(e,t){this[0]=e,this[1]=t};var dd=e=>{var t=e[fp("asyncIterator")],r=!1,s,l={};return t==null?(t=e[fp("iterator")](),s=o=>l[o]=c=>t[o](c)):(t=t.call(e),s=o=>l[o]=c=>{if(r){if(r=!1,o==="throw")throw c;return c}return r=!0,{done:!1,value:new c5(new Promise(n=>{var u=t[o](c);if(!(u instanceof Object))throw TypeError("Object expected");n(u)}),1)}}),l[fp("iterator")]=()=>l,s("next"),"throw"in t?s("throw"):l.throw=o=>{throw o},"return"in t&&s("return"),l};function ae(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o}function As(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Mo(e,t,r,s){function l(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function n(g){try{h(s.next(g))}catch(m){c(m)}}function u(g){try{h(s.throw(g))}catch(m){c(m)}}function h(g){g.done?o(g.value):l(g.value).then(n,u)}h((s=s.apply(e,t||[])).next())})}var vr=si(()=>{});function Fl(e,t,r){var s=r||{},l=s.noTrailing,o=l===void 0?!1:l,c=s.noLeading,n=c===void 0?!1:c,u=s.debounceMode,h=u===void 0?void 0:u,g,m=!1,y=0;function _(){g&&clearTimeout(g)}function w(A){var L=A||{},T=L.upcomingOnly,E=T===void 0?!1:T;_(),m=!E}function k(){for(var A=arguments.length,L=new Array(A),T=0;T<A;T++)L[T]=arguments[T];var E=this,a=Date.now()-y;if(m)return;function p(){y=Date.now(),t.apply(E,L)}function v(){g=void 0}!n&&h&&!g&&p(),_(),h===void 0&&a>e?n?(y=Date.now(),o||(g=setTimeout(h?v:p,e))):p():o!==!0&&(g=setTimeout(h?v:p,h===void 0?e-a:e))}return k.cancel=w,k}var zc=si(()=>{});var hd,pd,gp,n0,vp,o0,dt,yp,fd,bp=si(()=>{hd=window,pd=hd.ShadowRoot&&(hd.ShadyCSS===void 0||hd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,gp=Symbol(),n0=new WeakMap,vp=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==gp)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(pd&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=n0.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&n0.set(t,e))}return e}toString(){return this.cssText}},o0=e=>new vp(typeof e=="string"?e:e+"",void 0,gp),dt=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((s,l,o)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new vp(r,e,gp)},yp=(e,t)=>{pd?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let s=document.createElement("style"),l=hd.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)})},fd=pd?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return o0(r)})(e):e;});var wp,md,a0,u5,xp,kp,s0,_p,Sp,Cs,Uc=si(()=>{bp();bp();md=window,a0=md.trustedTypes,u5=a0?a0.emptyScript:"",xp=md.reactiveElementPolyfillSupport,kp={toAttribute(e,t){switch(t){case Boolean:e=e?u5:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},s0=(e,t)=>t!==e&&(t==t||e==e),_p={attribute:!0,type:String,converter:kp,reflect:!1,hasChanged:s0},Sp="finalized",Cs=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let s=this._$Ep(r,t);s!==void 0&&(this._$Ev.set(s,r),e.push(s))}),e}static createProperty(e,t=_p){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,r,t);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(s){let l=this[e];this[t]=s,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||_p}static finalize(){if(this.hasOwnProperty(Sp))return!1;this[Sp]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let s of r)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(fd(s))}else e!==void 0&&t.push(fd(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return yp(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=_p){var s;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:kp).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let s=this.constructor,l=s._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=s.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:kp;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let s=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||s0)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}_$Ej(){return vi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,l)=>this[l]=s),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(s=>{var l;return(l=s.hostUpdate)===null||l===void 0?void 0:l.call(s)}),this.update(r)):this._$Ek()}catch(s){throw t=!1,this._$Ek(),s}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};Cs[Sp]=!0,Cs.elementProperties=new Map,Cs.elementStyles=[],Cs.shadowRootOptions={mode:"open"},xp==null||xp({ReactiveElement:Cs}),((wp=md.reactiveElementVersions)!==null&&wp!==void 0?wp:md.reactiveElementVersions=[]).push("1.6.3");});function y0(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return l0!==void 0?l0.createHTML(t):t}function Ul(e,t,r=e,s){var l,o,c,n;if(t===$s)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=qc(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Ul(e,u._$AS(e,t.values),u,s)),t}var Ap,gd,zl,l0,Tp,os,f0,d5,Ps,Wc,qc,m0,h5,Cp,Vc,c0,u0,Es,d0,h0,g0,v0,ze,An,$s,Ai,p0,Ts,p5,Pp,f5,$p,vd,m5,g5,v5,y5,b5,Ep,yd,Vl=si(()=>{gd=window,zl=gd.trustedTypes,l0=zl?zl.createPolicy("lit-html",{createHTML:e=>e}):void 0,Tp="$lit$",os=`lit$${(Math.random()+"").slice(9)}$`,f0="?"+os,d5=`<${f0}>`,Ps=document,Wc=()=>Ps.createComment(""),qc=e=>e===null||typeof e!="object"&&typeof e!="function",m0=Array.isArray,h5=e=>m0(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Cp=`[ 	
\f\r]`,Vc=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,c0=/-->/g,u0=/>/g,Es=RegExp(`>|${Cp}(?:([^\\s"'>=/]+)(${Cp}*=${Cp}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),d0=/'/g,h0=/"/g,g0=/^(?:script|style|textarea|title)$/i,v0=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),ze=v0(1),An=v0(2),$s=Symbol.for("lit-noChange"),Ai=Symbol.for("lit-nothing"),p0=new WeakMap,Ts=Ps.createTreeWalker(Ps,129,null,!1);p5=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Vc;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Vc?g[1]==="!--"?c=c0:g[1]!==void 0?c=u0:g[2]!==void 0?(g0.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Es):g[3]!==void 0&&(c=Es):c===Es?g[0]===">"?(c=l!=null?l:Vc,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?Es:g[3]==='"'?h0:d0):c===h0||c===d0?c=Es:c===c0||c===u0?c=Vc:(c=Es,l=void 0);let _=c===Es&&e[n+1].startsWith("/>")?" ":"";o+=c===Vc?u+d5:m>=0?(s.push(h),u.slice(0,m)+Tp+u.slice(m)+os+_):u+os+(m===-2?(s.push(void 0),n):_)}return[y0(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Pp=class b0{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=p5(t,r);if(this.el=b0.createElement(h,s),Ts.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Ts.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Tp)||y.startsWith(os)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+Tp).split(os),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?m5:k[1]==="?"?v5:k[1]==="@"?y5:vd})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(g0.test(l.tagName)){let m=l.textContent.split(os),y=m.length-1;if(y>0){l.textContent=zl?zl.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],Wc()),Ts.nextNode(),u.push({type:2,index:++o});l.append(m[y],Wc())}}}else if(l.nodeType===8)if(l.data===f0)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(os,m+1))!==-1;)u.push({type:7,index:o}),m+=os.length-1}o++}}static createElement(t,r){let s=Ps.createElement("template");return s.innerHTML=t,s}};f5=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Ps).importNode(r,!0);Ts.currentNode=l;let o=Ts.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new $p(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new b5(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Ts.nextNode(),c++)}return Ts.currentNode=Ps,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},$p=class w0{constructor(t,r,s,l){var o;this.type=2,this._$AH=Ai,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Ul(this,t,r),qc(t)?t===Ai||t==null||t===""?(this._$AH!==Ai&&this._$AR(),this._$AH=Ai):t!==this._$AH&&t!==$s&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):h5(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Ai&&qc(this._$AH)?this._$AA.nextSibling.data=t:this.$(Ps.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Pp.createElement(y0(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new f5(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=p0.get(t.strings);return r===void 0&&p0.set(t.strings,r=new Pp(t)),r}T(t){m0(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new w0(this.k(Wc()),this.k(Wc()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},vd=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Ai,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ai}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Ul(this,e,t,0),o=!qc(e)||e!==this._$AH&&e!==$s,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Ul(this,c[r+n],t,n),u===$s&&(u=this._$AH[n]),o||(o=!qc(u)||u!==this._$AH[n]),u===Ai?e=Ai:e!==Ai&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Ai?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},m5=class extends vd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ai?void 0:e}},g5=zl?zl.emptyScript:"",v5=class extends vd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Ai?this.element.setAttribute(this.name,g5):this.element.removeAttribute(this.name)}},y5=class extends vd{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Ul(this,e,t,0))!==null&&r!==void 0?r:Ai)===$s)return;let s=this._$AH,l=e===Ai&&s!==Ai||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Ai&&(s===Ai||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},b5=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ul(this,e)}},Ep=gd.litHtmlPolyfillSupport;Ep==null||Ep(Pp,$p),((Ap=gd.litHtmlVersions)!==null&&Ap!==void 0?Ap:gd.litHtmlVersions=[]).push("2.8.0");yd=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new $p(t.insertBefore(Wc(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var Lp,Mp,fi,Op,Ip=si(()=>{Uc();Uc();Vl();Vl();fi=class extends Cs{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=yd(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return $s}};fi.finalized=!0,fi._$litElement$=!0,(Lp=globalThis.litElementHydrateSupport)===null||Lp===void 0||Lp.call(globalThis,{LitElement:fi});Op=globalThis.litElementPolyfillSupport;Op==null||Op({LitElement:fi});((Mp=globalThis.litElementVersions)!==null&&Mp!==void 0?Mp:globalThis.litElementVersions=[]).push("3.3.3");});var Rp=si(()=>{});var xi=si(()=>{Uc();Vl();Ip();Rp()});var lr,x0=si(()=>{lr=e=>t=>typeof t=="function"?((r,s)=>(customElements.define(r,s),s))(e,t):((r,s)=>{let{kind:l,elements:o}=s;return{kind:l,elements:o,finisher(c){customElements.define(r,c)}}})(e,t);});function Kt(e){return(t,r)=>r!==void 0?x5(e,t,r):w5(e,t)}var w5,x5,Dp=si(()=>{w5=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?rn(Rr({},t),{finisher(r){r.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},x5=(e,t,r)=>{t.constructor.createProperty(r,e)};});function dn(e){return Kt(rn(Rr({},e),{state:!0}))}var _0=si(()=>{Dp();});var Ls,Ms=si(()=>{Ls=({finisher:e,descriptor:t})=>(r,s)=>{var l;if(s===void 0){let o=(l=r.originalKey)!==null&&l!==void 0?l:r.key,c=t!=null?{kind:"method",placement:"prototype",key:o,descriptor:t(r.key)}:rn(Rr({},r),{key:o});return e!=null&&(c.finisher=function(n){e(n,o)}),c}{let o=r.constructor;t!==void 0&&Object.defineProperty(r,s,t(s)),e==null||e(o,s)}};});var k0=si(()=>{Ms();});function on(e,t){return Ls({descriptor:r=>{let s={get(){var l,o;return(o=(l=this.renderRoot)===null||l===void 0?void 0:l.querySelector(e))!==null&&o!==void 0?o:null},enumerable:!0,configurable:!0};if(t){let l=typeof r=="symbol"?Symbol():"__"+r;s.get=function(){var o,c;return this[l]===void 0&&(this[l]=(c=(o=this.renderRoot)===null||o===void 0?void 0:o.querySelector(e))!==null&&c!==void 0?c:null),this[l]}}return s}})}var S0=si(()=>{Ms();});var A0=si(()=>{Ms();});var C0=si(()=>{Ms();});var jp,vT,Np=si(()=>{Ms();vT=((jp=window.HTMLSlotElement)===null||jp===void 0?void 0:jp.prototype.assignedElements)!=null?(e,t)=>e.assignedElements(t):(e,t)=>e.assignedNodes(t).filter(r=>r.nodeType===Node.ELEMENT_NODE);});var E0=si(()=>{Ms();Np();});var Nr=si(()=>{x0();Dp();_0();k0();S0();A0();C0();Np();E0()});var _5,k5,bd=si(()=>{xi();xi();_5=ze`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,k5=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return _5}};customElements.define("ia-icon-close",k5)});var M5,I0,O5,I5,R5,D5,j5,N5,B5,H5,M0,O0,zp,Up=si(()=>{M5=Object.create,I0=Object.defineProperty,O5=Object.getOwnPropertyDescriptor,I5=Object.getOwnPropertyNames,R5=Object.getPrototypeOf,D5=Object.prototype.hasOwnProperty,j5=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),N5=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of I5(t))!D5.call(e,l)&&l!==r&&I0(e,l,{get:()=>t[l],enumerable:!(s=O5(t,l))||s.enumerable});return e},B5=(e,t,r)=>(r=e!=null?M5(R5(e)):{},N5(t||!e||!e.__esModule?I0(r,"default",{value:e,enumerable:!0}):r,e)),H5=j5((e,t)=>{(function(r,s){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?s(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}:s(r)})(typeof window<"u"?window:e,function(r,s){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,h=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,_=y.toString,w=_.call(Object),k={},A=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},L=function(f){return f!=null&&f===f.window},T=r.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function a(f,b,S){S=S||T;var M,H,F=S.createElement("script");if(F.text=f,b)for(M in E)H=b[M]||b.getAttribute&&b.getAttribute(M),H&&F.setAttribute(M,H);S.head.appendChild(F).parentNode.removeChild(F)}function p(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,S){return f.call(b,S,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,S=+f+(f<0?b:0);return this.pushStack(S>=0&&S<b?[this[S]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,S,M,H,F,X=arguments[0]||{},Ne=1,Te=arguments.length,mt=!1;for(typeof X=="boolean"&&(mt=X,X=arguments[Ne]||{},Ne++),typeof X!="object"&&!A(X)&&(X={}),Ne===Te&&(X=this,Ne--);Ne<Te;Ne++)if((f=arguments[Ne])!=null)for(b in f)M=f[b],!(b==="__proto__"||X===M)&&(mt&&M&&(d.isPlainObject(M)||(H=Array.isArray(M)))?(S=X[b],H&&!Array.isArray(S)?F=[]:!H&&!d.isPlainObject(S)?F={}:F=S,H=!1,X[b]=d.extend(mt,F,M)):M!==void 0&&(X[b]=M));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,S;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(S=y.call(b,"constructor")&&b.constructor,typeof S=="function"&&_.call(S)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,S){a(f,{nonce:b&&b.nonce},S)},each:function(f,b){var S,M=0;if(x(f))for(S=f.length;M<S&&b.call(f[M],M,f[M])!==!1;M++);else for(M in f)if(b.call(f[M],M,f[M])===!1)break;return f},makeArray:function(f,b){var S=b||[];return f!=null&&(x(Object(f))?d.merge(S,typeof f=="string"?[f]:f):u.call(S,f)),S},inArray:function(f,b,S){return b==null?-1:h.call(b,f,S)},merge:function(f,b){for(var S=+b.length,M=0,H=f.length;M<S;M++)f[H++]=b[M];return f.length=H,f},grep:function(f,b,S){for(var M,H=[],F=0,X=f.length,Ne=!S;F<X;F++)M=!b(f[F],F),M!==Ne&&H.push(f[F]);return H},map:function(f,b,S){var M,H,F=0,X=[];if(x(f))for(M=f.length;F<M;F++)H=b(f[F],F,S),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,S),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function x(f){var b=!!f&&"length"in f&&f.length,S=p(f);return A(f)||L(f)?!1:S==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,S,M,H,F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O,j,U,le,fe="sizzle"+1*new Date,Ae=f.document,Nt=0,yt=0,Yt=Mn(),li=Mn(),Pi=Mn(),Ii=Mn(),Li=function(ee,Le){return ee===Le&&(ii=!0),0},cr={}.hasOwnProperty,Wi=[],Di=Wi.pop,Xi=Wi.push,er=Wi.push,Zi=Wi.slice,gr=function(ee,Le){for(var nt=0,Gt=ee.length;nt<Gt;nt++)if(ee[nt]===Le)return nt;return-1},Ir="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Oi="[\\x20\\t\\r\\n\\f]",ur="(?:\\\\[\\da-fA-F]{1,6}"+Oi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yr="\\["+Oi+"*("+ur+")(?:"+Oi+"*([*^$|!~]?=)"+Oi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ur+"))|)"+Oi+"*\\]",mr=":("+ur+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yr+")*)|.*)\\)|)",Br=new RegExp(Oi+"+","g"),Mr=new RegExp("^"+Oi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Oi+"+$","g"),mn=new RegExp("^"+Oi+"*,"+Oi+"*"),jr=new RegExp("^"+Oi+"*([>+~]|"+Oi+")"+Oi+"*"),Or=new RegExp(Oi+"|>"),Kr=new RegExp(mr),me=new RegExp("^"+ur+"$"),pe={ID:new RegExp("^#("+ur+")"),CLASS:new RegExp("^\\.("+ur+")"),TAG:new RegExp("^("+ur+"|[*])"),ATTR:new RegExp("^"+Yr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Oi+"*(even|odd|(([+-]|)(\\d*)n|)"+Oi+"*(?:([+-]|)"+Oi+"*(\\d+)|))"+Oi+"*\\)|)","i"),bool:new RegExp("^(?:"+Ir+")$","i"),needsContext:new RegExp("^"+Oi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Oi+"*((?:-\\d)?\\d*)"+Oi+"*\\)|)(?=[^-]|$)","i")},Ee=/HTML$/i,Wt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,ai=/^[^{]+\{\s*\[native \w/,_i=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,zi=/[+~]/,Ri=new RegExp("\\\\[\\da-fA-F]{1,6}"+Oi+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(ee,Le){var nt="0x"+ee.slice(1)-65536;return Le||(nt<0?String.fromCharCode(nt+65536):String.fromCharCode(nt>>10|55296,nt&1023|56320))},fr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wr=function(ee,Le){return Le?ee==="\0"?"\uFFFD":ee.slice(0,-1)+"\\"+ee.charCodeAt(ee.length-1).toString(16)+" ":"\\"+ee},Po=function(){Mt()},Na=so(function(ee){return ee.disabled===!0&&ee.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{er.apply(Wi=Zi.call(Ae.childNodes),Ae.childNodes),Wi[Ae.childNodes.length].nodeType}catch(ee){er={apply:Wi.length?function(Le,nt){Xi.apply(Le,Zi.call(nt))}:function(Le,nt){for(var Gt=Le.length,ft=0;Le[Gt++]=nt[ft++];);Le.length=Gt-1}}}function dr(ee,Le,nt,Gt){var ft,Zt,ni,hi,bi,Bi,ji,Ni=Le&&Le.ownerDocument,nr=Le?Le.nodeType:9;if(nt=nt||[],typeof ee!="string"||!ee||nr!==1&&nr!==9&&nr!==11)return nt;if(!Gt&&(Mt(Le),Le=Le||rt,R)){if(nr!==11&&(bi=_i.exec(ee)))if(ft=bi[1]){if(nr===9)if(ni=Le.getElementById(ft)){if(ni.id===ft)return nt.push(ni),nt}else return nt;else if(Ni&&(ni=Ni.getElementById(ft))&&le(Le,ni)&&ni.id===ft)return nt.push(ni),nt}else{if(bi[2])return er.apply(nt,Le.getElementsByTagName(ee)),nt;if((ft=bi[3])&&S.getElementsByClassName&&Le.getElementsByClassName)return er.apply(nt,Le.getElementsByClassName(ft)),nt}if(S.qsa&&!Ii[ee+" "]&&(!O||!O.test(ee))&&(nr!==1||Le.nodeName.toLowerCase()!=="object")){if(ji=ee,Ni=Le,nr===1&&(Or.test(ee)||jr.test(ee))){for(Ni=zi.test(ee)&&Qo(Le.parentNode)||Le,(Ni!==Le||!S.scope)&&((hi=Le.getAttribute("id"))?hi=hi.replace(fr,wr):Le.setAttribute("id",hi=fe)),Bi=X(ee),Zt=Bi.length;Zt--;)Bi[Zt]=(hi?"#"+hi:":scope")+" "+ea(Bi[Zt]);ji=Bi.join(",")}try{return er.apply(nt,Ni.querySelectorAll(ji)),nt}catch(Er){Ii(ee,!0)}finally{hi===fe&&Le.removeAttribute("id")}}}return Te(ee.replace(Mr,"$1"),Le,nt,Gt)}function Mn(){var ee=[];function Le(nt,Gt){return ee.push(nt+" ")>M.cacheLength&&delete Le[ee.shift()],Le[nt+" "]=Gt}return Le}function pn(ee){return ee[fe]=!0,ee}function gn(ee){var Le=rt.createElement("fieldset");try{return!!ee(Le)}catch(nt){return!1}finally{Le.parentNode&&Le.parentNode.removeChild(Le),Le=null}}function Zo(ee,Le){for(var nt=ee.split("|"),Gt=nt.length;Gt--;)M.attrHandle[nt[Gt]]=Le}function ko(ee,Le){var nt=Le&&ee,Gt=nt&&ee.nodeType===1&&Le.nodeType===1&&ee.sourceIndex-Le.sourceIndex;if(Gt)return Gt;if(nt){for(;nt=nt.nextSibling;)if(nt===Le)return-1}return ee?1:-1}function Jo(ee){return function(Le){var nt=Le.nodeName.toLowerCase();return nt==="input"&&Le.type===ee}}function Ba(ee){return function(Le){var nt=Le.nodeName.toLowerCase();return(nt==="input"||nt==="button")&&Le.type===ee}}function Ha(ee){return function(Le){return"form"in Le?Le.parentNode&&Le.disabled===!1?"label"in Le?"label"in Le.parentNode?Le.parentNode.disabled===ee:Le.disabled===ee:Le.isDisabled===ee||Le.isDisabled!==!ee&&Na(Le)===ee:Le.disabled===ee:"label"in Le?Le.disabled===ee:!1}}function Un(ee){return pn(function(Le){return Le=+Le,pn(function(nt,Gt){for(var ft,Zt=ee([],nt.length,Le),ni=Zt.length;ni--;)nt[ft=Zt[ni]]&&(nt[ft]=!(Gt[ft]=nt[ft]))})})}function Qo(ee){return ee&&typeof ee.getElementsByTagName<"u"&&ee}S=dr.support={},F=dr.isXML=function(ee){var Le=ee&&ee.namespaceURI,nt=ee&&(ee.ownerDocument||ee).documentElement;return!Ee.test(Le||nt&&nt.nodeName||"HTML")},Mt=dr.setDocument=function(ee){var Le,nt,Gt=ee?ee.ownerDocument||ee:Ae;return Gt==rt||Gt.nodeType!==9||!Gt.documentElement||(rt=Gt,$i=rt.documentElement,R=!F(rt),Ae!=rt&&(nt=rt.defaultView)&&nt.top!==nt&&(nt.addEventListener?nt.addEventListener("unload",Po,!1):nt.attachEvent&&nt.attachEvent("onunload",Po)),S.scope=gn(function(ft){return $i.appendChild(ft).appendChild(rt.createElement("div")),typeof ft.querySelectorAll<"u"&&!ft.querySelectorAll(":scope fieldset div").length}),S.attributes=gn(function(ft){return ft.className="i",!ft.getAttribute("className")}),S.getElementsByTagName=gn(function(ft){return ft.appendChild(rt.createComment("")),!ft.getElementsByTagName("*").length}),S.getElementsByClassName=ai.test(rt.getElementsByClassName),S.getById=gn(function(ft){return $i.appendChild(ft).id=fe,!rt.getElementsByName||!rt.getElementsByName(fe).length}),S.getById?(M.filter.ID=function(ft){var Zt=ft.replace(Ri,Qi);return function(ni){return ni.getAttribute("id")===Zt}},M.find.ID=function(ft,Zt){if(typeof Zt.getElementById<"u"&&R){var ni=Zt.getElementById(ft);return ni?[ni]:[]}}):(M.filter.ID=function(ft){var Zt=ft.replace(Ri,Qi);return function(ni){var hi=typeof ni.getAttributeNode<"u"&&ni.getAttributeNode("id");return hi&&hi.value===Zt}},M.find.ID=function(ft,Zt){if(typeof Zt.getElementById<"u"&&R){var ni,hi,bi,Bi=Zt.getElementById(ft);if(Bi){if(ni=Bi.getAttributeNode("id"),ni&&ni.value===ft)return[Bi];for(bi=Zt.getElementsByName(ft),hi=0;Bi=bi[hi++];)if(ni=Bi.getAttributeNode("id"),ni&&ni.value===ft)return[Bi]}return[]}}),M.find.TAG=S.getElementsByTagName?function(ft,Zt){if(typeof Zt.getElementsByTagName<"u")return Zt.getElementsByTagName(ft);if(S.qsa)return Zt.querySelectorAll(ft)}:function(ft,Zt){var ni,hi=[],bi=0,Bi=Zt.getElementsByTagName(ft);if(ft==="*"){for(;ni=Bi[bi++];)ni.nodeType===1&&hi.push(ni);return hi}return Bi},M.find.CLASS=S.getElementsByClassName&&function(ft,Zt){if(typeof Zt.getElementsByClassName<"u"&&R)return Zt.getElementsByClassName(ft)},j=[],O=[],(S.qsa=ai.test(rt.querySelectorAll))&&(gn(function(ft){var Zt;$i.appendChild(ft).innerHTML="<a id='"+fe+"'></a><select id='"+fe+"-\r\\' msallowcapture=''><option selected=''></option></select>",ft.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+Oi+`*(?:''|"")`),ft.querySelectorAll("[selected]").length||O.push("\\["+Oi+"*(?:value|"+Ir+")"),ft.querySelectorAll("[id~="+fe+"-]").length||O.push("~="),Zt=rt.createElement("input"),Zt.setAttribute("name",""),ft.appendChild(Zt),ft.querySelectorAll("[name='']").length||O.push("\\["+Oi+"*name"+Oi+"*="+Oi+`*(?:''|"")`),ft.querySelectorAll(":checked").length||O.push(":checked"),ft.querySelectorAll("a#"+fe+"+*").length||O.push(".#.+[+~]"),ft.querySelectorAll("\\\f"),O.push("[\\r\\n\\f]")}),gn(function(ft){ft.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Zt=rt.createElement("input");Zt.setAttribute("type","hidden"),ft.appendChild(Zt).setAttribute("name","D"),ft.querySelectorAll("[name=d]").length&&O.push("name"+Oi+"*[*^$|!~]?="),ft.querySelectorAll(":enabled").length!==2&&O.push(":enabled",":disabled"),$i.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&O.push(":enabled",":disabled"),ft.querySelectorAll("*,:x"),O.push(",.*:")})),(S.matchesSelector=ai.test(U=$i.matches||$i.webkitMatchesSelector||$i.mozMatchesSelector||$i.oMatchesSelector||$i.msMatchesSelector))&&gn(function(ft){S.disconnectedMatch=U.call(ft,"*"),U.call(ft,"[s!='']:x"),j.push("!=",mr)}),O=O.length&&new RegExp(O.join("|")),j=j.length&&new RegExp(j.join("|")),Le=ai.test($i.compareDocumentPosition),le=Le||ai.test($i.contains)?function(ft,Zt){var ni=ft.nodeType===9?ft.documentElement:ft,hi=Zt&&Zt.parentNode;return ft===hi||!!(hi&&hi.nodeType===1&&(ni.contains?ni.contains(hi):ft.compareDocumentPosition&&ft.compareDocumentPosition(hi)&16))}:function(ft,Zt){if(Zt){for(;Zt=Zt.parentNode;)if(Zt===ft)return!0}return!1},Li=Le?function(ft,Zt){if(ft===Zt)return ii=!0,0;var ni=!ft.compareDocumentPosition-!Zt.compareDocumentPosition;return ni||(ni=(ft.ownerDocument||ft)==(Zt.ownerDocument||Zt)?ft.compareDocumentPosition(Zt):1,ni&1||!S.sortDetached&&Zt.compareDocumentPosition(ft)===ni?ft==rt||ft.ownerDocument==Ae&&le(Ae,ft)?-1:Zt==rt||Zt.ownerDocument==Ae&&le(Ae,Zt)?1:Dt?gr(Dt,ft)-gr(Dt,Zt):0:ni&4?-1:1)}:function(ft,Zt){if(ft===Zt)return ii=!0,0;var ni,hi=0,bi=ft.parentNode,Bi=Zt.parentNode,ji=[ft],Ni=[Zt];if(!bi||!Bi)return ft==rt?-1:Zt==rt?1:bi?-1:Bi?1:Dt?gr(Dt,ft)-gr(Dt,Zt):0;if(bi===Bi)return ko(ft,Zt);for(ni=ft;ni=ni.parentNode;)ji.unshift(ni);for(ni=Zt;ni=ni.parentNode;)Ni.unshift(ni);for(;ji[hi]===Ni[hi];)hi++;return hi?ko(ji[hi],Ni[hi]):ji[hi]==Ae?-1:Ni[hi]==Ae?1:0}),rt},dr.matches=function(ee,Le){return dr(ee,null,null,Le)},dr.matchesSelector=function(ee,Le){if(Mt(ee),S.matchesSelector&&R&&!Ii[Le+" "]&&(!j||!j.test(Le))&&(!O||!O.test(Le)))try{var nt=U.call(ee,Le);if(nt||S.disconnectedMatch||ee.document&&ee.document.nodeType!==11)return nt}catch(Gt){Ii(Le,!0)}return dr(Le,rt,null,[ee]).length>0},dr.contains=function(ee,Le){return(ee.ownerDocument||ee)!=rt&&Mt(ee),le(ee,Le)},dr.attr=function(ee,Le){(ee.ownerDocument||ee)!=rt&&Mt(ee);var nt=M.attrHandle[Le.toLowerCase()],Gt=nt&&cr.call(M.attrHandle,Le.toLowerCase())?nt(ee,Le,!R):void 0;return Gt!==void 0?Gt:S.attributes||!R?ee.getAttribute(Le):(Gt=ee.getAttributeNode(Le))&&Gt.specified?Gt.value:null},dr.escape=function(ee){return(ee+"").replace(fr,wr)},dr.error=function(ee){throw new Error("Syntax error, unrecognized expression: "+ee)},dr.uniqueSort=function(ee){var Le,nt=[],Gt=0,ft=0;if(ii=!S.detectDuplicates,Dt=!S.sortStable&&ee.slice(0),ee.sort(Li),ii){for(;Le=ee[ft++];)Le===ee[ft]&&(Gt=nt.push(ft));for(;Gt--;)ee.splice(nt[Gt],1)}return Dt=null,ee},H=dr.getText=function(ee){var Le,nt="",Gt=0,ft=ee.nodeType;if(ft){if(ft===1||ft===9||ft===11){if(typeof ee.textContent=="string")return ee.textContent;for(ee=ee.firstChild;ee;ee=ee.nextSibling)nt+=H(ee)}else if(ft===3||ft===4)return ee.nodeValue}else for(;Le=ee[Gt++];)nt+=H(Le);return nt},M=dr.selectors={cacheLength:50,createPseudo:pn,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ee){return ee[1]=ee[1].replace(Ri,Qi),ee[3]=(ee[3]||ee[4]||ee[5]||"").replace(Ri,Qi),ee[2]==="~="&&(ee[3]=" "+ee[3]+" "),ee.slice(0,4)},CHILD:function(ee){return ee[1]=ee[1].toLowerCase(),ee[1].slice(0,3)==="nth"?(ee[3]||dr.error(ee[0]),ee[4]=+(ee[4]?ee[5]+(ee[6]||1):2*(ee[3]==="even"||ee[3]==="odd")),ee[5]=+(ee[7]+ee[8]||ee[3]==="odd")):ee[3]&&dr.error(ee[0]),ee},PSEUDO:function(ee){var Le,nt=!ee[6]&&ee[2];return pe.CHILD.test(ee[0])?null:(ee[3]?ee[2]=ee[4]||ee[5]||"":nt&&Kr.test(nt)&&(Le=X(nt,!0))&&(Le=nt.indexOf(")",nt.length-Le)-nt.length)&&(ee[0]=ee[0].slice(0,Le),ee[2]=nt.slice(0,Le)),ee.slice(0,3))}},filter:{TAG:function(ee){var Le=ee.replace(Ri,Qi).toLowerCase();return ee==="*"?function(){return!0}:function(nt){return nt.nodeName&&nt.nodeName.toLowerCase()===Le}},CLASS:function(ee){var Le=Yt[ee+" "];return Le||(Le=new RegExp("(^|"+Oi+")"+ee+"("+Oi+"|$)"))&&Yt(ee,function(nt){return Le.test(typeof nt.className=="string"&&nt.className||typeof nt.getAttribute<"u"&&nt.getAttribute("class")||"")})},ATTR:function(ee,Le,nt){return function(Gt){var ft=dr.attr(Gt,ee);return ft==null?Le==="!=":Le?(ft+="",Le==="="?ft===nt:Le==="!="?ft!==nt:Le==="^="?nt&&ft.indexOf(nt)===0:Le==="*="?nt&&ft.indexOf(nt)>-1:Le==="$="?nt&&ft.slice(-nt.length)===nt:Le==="~="?(" "+ft.replace(Br," ")+" ").indexOf(nt)>-1:Le==="|="?ft===nt||ft.slice(0,nt.length+1)===nt+"-":!1):!0}},CHILD:function(ee,Le,nt,Gt,ft){var Zt=ee.slice(0,3)!=="nth",ni=ee.slice(-4)!=="last",hi=Le==="of-type";return Gt===1&&ft===0?function(bi){return!!bi.parentNode}:function(bi,Bi,ji){var Ni,nr,Er,Hi,Wr,Qr,tn=Zt!==ni?"nextSibling":"previousSibling",$r=bi.parentNode,Lo=hi&&bi.nodeName.toLowerCase(),Vn=!ji&&!hi,fn=!1;if($r){if(Zt){for(;tn;){for(Hi=bi;Hi=Hi[tn];)if(hi?Hi.nodeName.toLowerCase()===Lo:Hi.nodeType===1)return!1;Qr=tn=ee==="only"&&!Qr&&"nextSibling"}return!0}if(Qr=[ni?$r.firstChild:$r.lastChild],ni&&Vn){for(Hi=$r,Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),Ni=nr[ee]||[],Wr=Ni[0]===Nt&&Ni[1],fn=Wr&&Ni[2],Hi=Wr&&$r.childNodes[Wr];Hi=++Wr&&Hi&&Hi[tn]||(fn=Wr=0)||Qr.pop();)if(Hi.nodeType===1&&++fn&&Hi===bi){nr[ee]=[Nt,Wr,fn];break}}else if(Vn&&(Hi=bi,Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),Ni=nr[ee]||[],Wr=Ni[0]===Nt&&Ni[1],fn=Wr),fn===!1)for(;(Hi=++Wr&&Hi&&Hi[tn]||(fn=Wr=0)||Qr.pop())&&!((hi?Hi.nodeName.toLowerCase()===Lo:Hi.nodeType===1)&&++fn&&(Vn&&(Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),nr[ee]=[Nt,fn]),Hi===bi)););return fn-=ft,fn===Gt||fn%Gt===0&&fn/Gt>=0}}},PSEUDO:function(ee,Le){var nt,Gt=M.pseudos[ee]||M.setFilters[ee.toLowerCase()]||dr.error("unsupported pseudo: "+ee);return Gt[fe]?Gt(Le):Gt.length>1?(nt=[ee,ee,"",Le],M.setFilters.hasOwnProperty(ee.toLowerCase())?pn(function(ft,Zt){for(var ni,hi=Gt(ft,Le),bi=hi.length;bi--;)ni=gr(ft,hi[bi]),ft[ni]=!(Zt[ni]=hi[bi])}):function(ft){return Gt(ft,0,nt)}):Gt}},pseudos:{not:pn(function(ee){var Le=[],nt=[],Gt=Ne(ee.replace(Mr,"$1"));return Gt[fe]?pn(function(ft,Zt,ni,hi){for(var bi,Bi=Gt(ft,null,hi,[]),ji=ft.length;ji--;)(bi=Bi[ji])&&(ft[ji]=!(Zt[ji]=bi))}):function(ft,Zt,ni){return Le[0]=ft,Gt(Le,null,ni,nt),Le[0]=null,!nt.pop()}}),has:pn(function(ee){return function(Le){return dr(ee,Le).length>0}}),contains:pn(function(ee){return ee=ee.replace(Ri,Qi),function(Le){return(Le.textContent||H(Le)).indexOf(ee)>-1}}),lang:pn(function(ee){return me.test(ee||"")||dr.error("unsupported lang: "+ee),ee=ee.replace(Ri,Qi).toLowerCase(),function(Le){var nt;do if(nt=R?Le.lang:Le.getAttribute("xml:lang")||Le.getAttribute("lang"))return nt=nt.toLowerCase(),nt===ee||nt.indexOf(ee+"-")===0;while((Le=Le.parentNode)&&Le.nodeType===1);return!1}}),target:function(ee){var Le=f.location&&f.location.hash;return Le&&Le.slice(1)===ee.id},root:function(ee){return ee===$i},focus:function(ee){return ee===rt.activeElement&&(!rt.hasFocus||rt.hasFocus())&&!!(ee.type||ee.href||~ee.tabIndex)},enabled:Ha(!1),disabled:Ha(!0),checked:function(ee){var Le=ee.nodeName.toLowerCase();return Le==="input"&&!!ee.checked||Le==="option"&&!!ee.selected},selected:function(ee){return ee.parentNode&&ee.parentNode.selectedIndex,ee.selected===!0},empty:function(ee){for(ee=ee.firstChild;ee;ee=ee.nextSibling)if(ee.nodeType<6)return!1;return!0},parent:function(ee){return!M.pseudos.empty(ee)},header:function(ee){return bt.test(ee.nodeName)},input:function(ee){return Wt.test(ee.nodeName)},button:function(ee){var Le=ee.nodeName.toLowerCase();return Le==="input"&&ee.type==="button"||Le==="button"},text:function(ee){var Le;return ee.nodeName.toLowerCase()==="input"&&ee.type==="text"&&((Le=ee.getAttribute("type"))==null||Le.toLowerCase()==="text")},first:Un(function(){return[0]}),last:Un(function(ee,Le){return[Le-1]}),eq:Un(function(ee,Le,nt){return[nt<0?nt+Le:nt]}),even:Un(function(ee,Le){for(var nt=0;nt<Le;nt+=2)ee.push(nt);return ee}),odd:Un(function(ee,Le){for(var nt=1;nt<Le;nt+=2)ee.push(nt);return ee}),lt:Un(function(ee,Le,nt){for(var Gt=nt<0?nt+Le:nt>Le?Le:nt;--Gt>=0;)ee.push(Gt);return ee}),gt:Un(function(ee,Le,nt){for(var Gt=nt<0?nt+Le:nt;++Gt<Le;)ee.push(Gt);return ee})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=Jo(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=Ba(b);function Fa(){}Fa.prototype=M.filters=M.pseudos,M.setFilters=new Fa,X=dr.tokenize=function(ee,Le){var nt,Gt,ft,Zt,ni,hi,bi,Bi=li[ee+" "];if(Bi)return Le?0:Bi.slice(0);for(ni=ee,hi=[],bi=M.preFilter;ni;){(!nt||(Gt=mn.exec(ni)))&&(Gt&&(ni=ni.slice(Gt[0].length)||ni),hi.push(ft=[])),nt=!1,(Gt=jr.exec(ni))&&(nt=Gt.shift(),ft.push({value:nt,type:Gt[0].replace(Mr," ")}),ni=ni.slice(nt.length));for(Zt in M.filter)(Gt=pe[Zt].exec(ni))&&(!bi[Zt]||(Gt=bi[Zt](Gt)))&&(nt=Gt.shift(),ft.push({value:nt,type:Zt,matches:Gt}),ni=ni.slice(nt.length));if(!nt)break}return Le?ni.length:ni?dr.error(ee):li(ee,hi).slice(0)};function ea(ee){for(var Le=0,nt=ee.length,Gt="";Le<nt;Le++)Gt+=ee[Le].value;return Gt}function so(ee,Le,nt){var Gt=Le.dir,ft=Le.next,Zt=ft||Gt,ni=nt&&Zt==="parentNode",hi=yt++;return Le.first?function(bi,Bi,ji){for(;bi=bi[Gt];)if(bi.nodeType===1||ni)return ee(bi,Bi,ji);return!1}:function(bi,Bi,ji){var Ni,nr,Er,Hi=[Nt,hi];if(ji){for(;bi=bi[Gt];)if((bi.nodeType===1||ni)&&ee(bi,Bi,ji))return!0}else for(;bi=bi[Gt];)if(bi.nodeType===1||ni)if(Er=bi[fe]||(bi[fe]={}),nr=Er[bi.uniqueID]||(Er[bi.uniqueID]={}),ft&&ft===bi.nodeName.toLowerCase())bi=bi[Gt]||bi;else{if((Ni=nr[Zt])&&Ni[0]===Nt&&Ni[1]===hi)return Hi[2]=Ni[2];if(nr[Zt]=Hi,Hi[2]=ee(bi,Bi,ji))return!0}return!1}}function va(ee){return ee.length>1?function(Le,nt,Gt){for(var ft=ee.length;ft--;)if(!ee[ft](Le,nt,Gt))return!1;return!0}:ee[0]}function Nc(ee,Le,nt){for(var Gt=0,ft=Le.length;Gt<ft;Gt++)dr(ee,Le[Gt],nt);return nt}function $o(ee,Le,nt,Gt,ft){for(var Zt,ni=[],hi=0,bi=ee.length,Bi=Le!=null;hi<bi;hi++)(Zt=ee[hi])&&(!nt||nt(Zt,Gt,ft))&&(ni.push(Zt),Bi&&Le.push(hi));return ni}function Hn(ee,Le,nt,Gt,ft,Zt){return Gt&&!Gt[fe]&&(Gt=Hn(Gt)),ft&&!ft[fe]&&(ft=Hn(ft,Zt)),pn(function(ni,hi,bi,Bi){var ji,Ni,nr,Er=[],Hi=[],Wr=hi.length,Qr=ni||Nc(Le||"*",bi.nodeType?[bi]:bi,[]),tn=ee&&(ni||!Le)?$o(Qr,Er,ee,bi,Bi):Qr,$r=nt?ft||(ni?ee:Wr||Gt)?[]:hi:tn;if(nt&&nt(tn,$r,bi,Bi),Gt)for(ji=$o($r,Hi),Gt(ji,[],bi,Bi),Ni=ji.length;Ni--;)(nr=ji[Ni])&&($r[Hi[Ni]]=!(tn[Hi[Ni]]=nr));if(ni){if(ft||ee){if(ft){for(ji=[],Ni=$r.length;Ni--;)(nr=$r[Ni])&&ji.push(tn[Ni]=nr);ft(null,$r=[],ji,Bi)}for(Ni=$r.length;Ni--;)(nr=$r[Ni])&&(ji=ft?gr(ni,nr):Er[Ni])>-1&&(ni[ji]=!(hi[ji]=nr))}}else $r=$o($r===hi?$r.splice(Wr,$r.length):$r),ft?ft(null,hi,$r,Bi):er.apply(hi,$r)})}function ta(ee){for(var Le,nt,Gt,ft=ee.length,Zt=M.relative[ee[0].type],ni=Zt||M.relative[" "],hi=Zt?1:0,bi=so(function(Ni){return Ni===Le},ni,!0),Bi=so(function(Ni){return gr(Le,Ni)>-1},ni,!0),ji=[function(Ni,nr,Er){var Hi=!Zt&&(Er||nr!==mt)||((Le=nr).nodeType?bi(Ni,nr,Er):Bi(Ni,nr,Er));return Le=null,Hi}];hi<ft;hi++)if(nt=M.relative[ee[hi].type])ji=[so(va(ji),nt)];else{if(nt=M.filter[ee[hi].type].apply(null,ee[hi].matches),nt[fe]){for(Gt=++hi;Gt<ft&&!M.relative[ee[Gt].type];Gt++);return Hn(hi>1&&va(ji),hi>1&&ea(ee.slice(0,hi-1).concat({value:ee[hi-2].type===" "?"*":""})).replace(Mr,"$1"),nt,hi<Gt&&ta(ee.slice(hi,Gt)),Gt<ft&&ta(ee=ee.slice(Gt)),Gt<ft&&ea(ee))}ji.push(nt)}return va(ji)}function jl(ee,Le){var nt=Le.length>0,Gt=ee.length>0,ft=function(Zt,ni,hi,bi,Bi){var ji,Ni,nr,Er=0,Hi="0",Wr=Zt&&[],Qr=[],tn=mt,$r=Zt||Gt&&M.find.TAG("*",Bi),Lo=Nt+=tn==null?1:Math.random()||.1,Vn=$r.length;for(Bi&&(mt=ni==rt||ni||Bi);Hi!==Vn&&(ji=$r[Hi])!=null;Hi++){if(Gt&&ji){for(Ni=0,!ni&&ji.ownerDocument!=rt&&(Mt(ji),hi=!R);nr=ee[Ni++];)if(nr(ji,ni||rt,hi)){bi.push(ji);break}Bi&&(Nt=Lo)}nt&&((ji=!nr&&ji)&&Er--,Zt&&Wr.push(ji))}if(Er+=Hi,nt&&Hi!==Er){for(Ni=0;nr=Le[Ni++];)nr(Wr,Qr,ni,hi);if(Zt){if(Er>0)for(;Hi--;)Wr[Hi]||Qr[Hi]||(Qr[Hi]=Di.call(bi));Qr=$o(Qr)}er.apply(bi,Qr),Bi&&!Zt&&Qr.length>0&&Er+Le.length>1&&dr.uniqueSort(bi)}return Bi&&(Nt=Lo,mt=tn),Wr};return nt?pn(ft):ft}return Ne=dr.compile=function(ee,Le){var nt,Gt=[],ft=[],Zt=Pi[ee+" "];if(!Zt){for(Le||(Le=X(ee)),nt=Le.length;nt--;)Zt=ta(Le[nt]),Zt[fe]?Gt.push(Zt):ft.push(Zt);Zt=Pi(ee,jl(ft,Gt)),Zt.selector=ee}return Zt},Te=dr.select=function(ee,Le,nt,Gt){var ft,Zt,ni,hi,bi,Bi=typeof ee=="function"&&ee,ji=!Gt&&X(ee=Bi.selector||ee);if(nt=nt||[],ji.length===1){if(Zt=ji[0]=ji[0].slice(0),Zt.length>2&&(ni=Zt[0]).type==="ID"&&Le.nodeType===9&&R&&M.relative[Zt[1].type]){if(Le=(M.find.ID(ni.matches[0].replace(Ri,Qi),Le)||[])[0],Le)Bi&&(Le=Le.parentNode);else return nt;ee=ee.slice(Zt.shift().value.length)}for(ft=pe.needsContext.test(ee)?0:Zt.length;ft--&&(ni=Zt[ft],!M.relative[hi=ni.type]);)if((bi=M.find[hi])&&(Gt=bi(ni.matches[0].replace(Ri,Qi),zi.test(Zt[0].type)&&Qo(Le.parentNode)||Le))){if(Zt.splice(ft,1),ee=Gt.length&&ea(Zt),!ee)return er.apply(nt,Gt),nt;break}}return(Bi||Ne(ee,ji))(Gt,Le,!R,nt,!Le||zi.test(ee)&&Qo(Le.parentNode)||Le),nt},S.sortStable=fe.split("").sort(Li).join("")===fe,S.detectDuplicates=!!ii,Mt(),S.sortDetached=gn(function(ee){return ee.compareDocumentPosition(rt.createElement("fieldset"))&1}),gn(function(ee){return ee.innerHTML="<a href='#'></a>",ee.firstChild.getAttribute("href")==="#"})||Zo("type|href|height|width",function(ee,Le,nt){if(!nt)return ee.getAttribute(Le,Le.toLowerCase()==="type"?1:2)}),(!S.attributes||!gn(function(ee){return ee.innerHTML="<input/>",ee.firstChild.setAttribute("value",""),ee.firstChild.getAttribute("value")===""}))&&Zo("value",function(ee,Le,nt){if(!nt&&ee.nodeName.toLowerCase()==="input")return ee.defaultValue}),gn(function(ee){return ee.getAttribute("disabled")==null})||Zo(Ir,function(ee,Le,nt){var Gt;if(!nt)return ee[Le]===!0?Le.toLowerCase():(Gt=ee.getAttributeNode(Le))&&Gt.specified?Gt.value:null}),dr}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,S){for(var M=[],H=S!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(S))break;M.push(f)}return M},G=function(f,b){for(var S=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&S.push(f);return S},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(f,b,S){return A(b)?d.grep(f,function(M,H){return!!b.call(M,H,M)!==S}):b.nodeType?d.grep(f,function(M){return M===b!==S}):typeof b!="string"?d.grep(f,function(M){return h.call(b,M)>-1!==S}):d.filter(b,f,S)}d.filter=function(f,b,S){var M=b[0];return S&&(f=":not("+f+")"),b.length===1&&M.nodeType===1?d.find.matchesSelector(M,f)?[M]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,S,M=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<M;b++)if(d.contains(H[b],this))return!0}));for(S=this.pushStack([]),b=0;b<M;b++)d.find(f,H[b],S);return M>1?d.uniqueSort(S):S},filter:function(f){return this.pushStack(J(this,f||[],!1))},not:function(f){return this.pushStack(J(this,f||[],!0))},is:function(f){return!!J(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var Q,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ge=d.fn.init=function(f,b,S){var M,H;if(!f)return this;if(S=S||Q,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?M=[null,f,null]:M=Oe.exec(f),M&&(M[1]||!b))if(M[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(M[1],b&&b.nodeType?b.ownerDocument||b:T,!0)),oe.test(M[1])&&d.isPlainObject(b))for(M in b)A(this[M])?this[M](b[M]):this.attr(M,b[M]);return this}else return H=T.getElementById(M[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||S).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(A(f))return S.ready!==void 0?S.ready(f):f(d)}return d.makeArray(f,this)};ge.prototype=d.fn,Q=d(T);var W=/^(?:parents|prev(?:Until|All))/,se={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),S=b.length;return this.filter(function(){for(var M=0;M<S;M++)if(d.contains(this,b[M]))return!0})},closest:function(f,b){var S,M=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;M<H;M++)for(S=this[M];S&&S!==b;S=S.parentNode)if(S.nodeType<11&&(X?X.index(S)>-1:S.nodeType===1&&d.find.matchesSelector(S,f))){F.push(S);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?h.call(d(f),this[0]):h.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function de(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,S){return N(f,"parentNode",S)},next:function(f){return de(f,"nextSibling")},prev:function(f){return de(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,S){return N(f,"nextSibling",S)},prevUntil:function(f,b,S){return N(f,"previousSibling",S)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(S,M){var H=d.map(this,b,S);return f.slice(-5)!=="Until"&&(M=S),M&&typeof M=="string"&&(H=d.filter(M,H)),this.length>1&&(se[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function ye(f){var b={};return d.each(f.match(Z)||[],function(S,M){b[M]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?ye(f):d.extend({},f);var b,S,M,H,F=[],X=[],Ne=-1,Te=function(){for(H=H||f.once,M=b=!0;X.length;Ne=-1)for(S=X.shift();++Ne<F.length;)F[Ne].apply(S[0],S[1])===!1&&f.stopOnFalse&&(Ne=F.length,S=!1);f.memory||(S=!1),b=!1,H&&(S?F=[]:F="")},mt={add:function(){return F&&(S&&!b&&(Ne=F.length-1,X.push(S)),function Dt(ii){d.each(ii,function(Mt,rt){A(rt)?(!f.unique||!mt.has(rt))&&F.push(rt):rt&&rt.length&&p(rt)!=="string"&&Dt(rt)})}(arguments),S&&!b&&Te()),this},remove:function(){return d.each(arguments,function(Dt,ii){for(var Mt;(Mt=d.inArray(ii,F,Mt))>-1;)F.splice(Mt,1),Mt<=Ne&&Ne--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=S="",this},disabled:function(){return!F},lock:function(){return H=X=[],!S&&!b&&(F=S=""),this},locked:function(){return!!H},fireWith:function(Dt,ii){return H||(ii=ii||[],ii=[Dt,ii.slice?ii.slice():ii],X.push(ii),b||Te()),this},fire:function(){return mt.fireWith(this,arguments),this},fired:function(){return!!M}};return mt};function Y(f){return f}function ce(f){throw f}function Ge(f,b,S,M){var H;try{f&&A(H=f.promise)?H.call(f).done(b).fail(S):f&&A(H=f.then)?H.call(f,b,S):b.apply(void 0,[f].slice(M))}catch(F){S.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],S="pending",M={state:function(){return S},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return M.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(Ne,Te){var mt=A(F[Te[4]])&&F[Te[4]];H[Te[1]](function(){var Dt=mt&&mt.apply(this,arguments);Dt&&A(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Te[0]+"With"](this,mt?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,Ne){var Te=0;function mt(Dt,ii,Mt,rt){return function(){var $i=this,R=arguments,O=function(){var U,le;if(!(Dt<Te)){if(U=Mt.apply($i,R),U===ii.promise())throw new TypeError("Thenable self-resolution");le=U&&(typeof U=="object"||typeof U=="function")&&U.then,A(le)?rt?le.call(U,mt(Te,ii,Y,rt),mt(Te,ii,ce,rt)):(Te++,le.call(U,mt(Te,ii,Y,rt),mt(Te,ii,ce,rt),mt(Te,ii,Y,ii.notifyWith))):(Mt!==Y&&($i=void 0,R=[U]),(rt||ii.resolveWith)($i,R))}},j=rt?O:function(){try{O()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Te&&(Mt!==ce&&($i=void 0,R=[U]),ii.rejectWith($i,R))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(mt(0,Dt,A(Ne)?Ne:Y,Dt.notifyWith)),b[1][3].add(mt(0,Dt,A(F)?F:Y)),b[2][3].add(mt(0,Dt,A(X)?X:ce))}).promise()},promise:function(F){return F!=null?d.extend(F,M):M}},H={};return d.each(b,function(F,X){var Ne=X[2],Te=X[5];M[X[1]]=Ne.add,Te&&Ne.add(function(){S=Te},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),Ne.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=Ne.fireWith}),M.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,S=b,M=Array(S),H=c.call(arguments),F=d.Deferred(),X=function(Ne){return function(Te){M[Ne]=this,H[Ne]=arguments.length>1?c.call(arguments):Te,--b||F.resolveWith(M,H)}};if(b<=1&&(Ge(f,F.done(X(S)).resolve,F.reject,!b),F.state()==="pending"||A(H[S]&&H[S].then)))return F.then();for(;S--;)Ge(H[S],X(S),F.reject);return F.promise()}});var ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ht.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var st=d.Deferred();d.fn.ready=function(f){return st.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&st.resolveWith(T,[d]))}}),d.ready.then=st.then;function qe(){T.removeEventListener("DOMContentLoaded",qe),r.removeEventListener("load",qe),d.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?r.setTimeout(d.ready):(T.addEventListener("DOMContentLoaded",qe),r.addEventListener("load",qe));var Se=function(f,b,S,M,H,F,X){var Ne=0,Te=f.length,mt=S==null;if(p(S)==="object"){H=!0;for(Ne in S)Se(f,b,Ne,S[Ne],!0,F,X)}else if(M!==void 0&&(H=!0,A(M)||(X=!0),mt&&(X?(b.call(f,M),b=null):(mt=b,b=function(Dt,ii,Mt){return mt.call(d(Dt),Mt)})),b))for(;Ne<Te;Ne++)b(f[Ne],S,X?M:M.call(f[Ne],Ne,b(f[Ne],S)));return H?f:mt?b.call(f):Te?b(f[0],S):F},Ie=/^-ms-/,Re=/-([a-z])/g;function ot(f,b){return b.toUpperCase()}function pt(f){return f.replace(Ie,"ms-").replace(Re,ot)}var Pt=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function Qe(){this.expando=d.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(f){var b=f[this.expando];return b||(b={},Pt(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,S){var M,H=this.cache(f);if(typeof b=="string")H[pt(b)]=S;else for(M in b)H[pt(M)]=b[M];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][pt(b)]},access:function(f,b,S){return b===void 0||b&&typeof b=="string"&&S===void 0?this.get(f,b):(this.set(f,b,S),S!==void 0?S:b)},remove:function(f,b){var S,M=f[this.expando];if(M!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(pt):(b=pt(b),b=b in M?[b]:b.match(Z)||[]),S=b.length;S--;)delete M[b[S]];(b===void 0||d.isEmptyObject(M))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var ne=new Qe,ie=new Qe,Ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/[A-Z]/g;function we(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:Ke.test(f)?JSON.parse(f):f}function $e(f,b,S){var M;if(S===void 0&&f.nodeType===1)if(M="data-"+b.replace(Ct,"-$&").toLowerCase(),S=f.getAttribute(M),typeof S=="string"){try{S=we(S)}catch(H){}ie.set(f,b,S)}else S=void 0;return S}d.extend({hasData:function(f){return ie.hasData(f)||ne.hasData(f)},data:function(f,b,S){return ie.access(f,b,S)},removeData:function(f,b){ie.remove(f,b)},_data:function(f,b,S){return ne.access(f,b,S)},_removeData:function(f,b){ne.remove(f,b)}}),d.fn.extend({data:function(f,b){var S,M,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=ie.get(F),F.nodeType===1&&!ne.get(F,"hasDataAttrs"))){for(S=X.length;S--;)X[S]&&(M=X[S].name,M.indexOf("data-")===0&&(M=pt(M.slice(5)),$e(F,M,H[M])));ne.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){ie.set(this,f)}):Se(this,function(Ne){var Te;if(F&&Ne===void 0)return Te=ie.get(F,f),Te!==void 0||(Te=$e(F,f),Te!==void 0)?Te:void 0;this.each(function(){ie.set(this,f,Ne)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){ie.remove(this,f)})}}),d.extend({queue:function(f,b,S){var M;if(f)return b=(b||"fx")+"queue",M=ne.get(f,b),S&&(!M||Array.isArray(S)?M=ne.access(f,b,d.makeArray(S)):M.push(S)),M||[]},dequeue:function(f,b){b=b||"fx";var S=d.queue(f,b),M=S.length,H=S.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=S.shift(),M--),H&&(b==="fx"&&S.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!M&&F&&F.empty.fire()},_queueHooks:function(f,b){var S=b+"queueHooks";return ne.get(f,S)||ne.access(f,S,{empty:d.Callbacks("once memory").add(function(){ne.remove(f,[b+"queue",S])})})}}),d.fn.extend({queue:function(f,b){var S=2;return typeof f!="string"&&(b=f,f="fx",S--),arguments.length<S?d.queue(this[0],f):b===void 0?this:this.each(function(){var M=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&M[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var S,M=1,H=d.Deferred(),F=this,X=this.length,Ne=function(){--M||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)S=ne.get(F[X],f+"queueHooks"),S&&S.empty&&(M++,S.empty.add(Ne));return Ne(),H.promise(b)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),Je=["Top","Right","Bottom","Left"],tt=T.documentElement,Vt=function(f){return d.contains(f.ownerDocument,f)},ct={composed:!0};tt.getRootNode&&(Vt=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(ct)===f.ownerDocument});var gt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Vt(f)&&d.css(f,"display")==="none"};function Rt(f,b,S,M){var H,F,X=20,Ne=M?function(){return M.cur()}:function(){return d.css(f,b,"")},Te=Ne(),mt=S&&S[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||mt!=="px"&&+Te)&&Ce.exec(d.css(f,b));if(Dt&&Dt[3]!==mt){for(Te=Te/2,mt=mt||Dt[3],Dt=+Te||1;X--;)d.style(f,b,Dt+mt),(1-F)*(1-(F=Ne()/Te||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+mt),S=S||[]}return S&&(Dt=+Dt||+Te||0,H=S[1]?Dt+(S[1]+1)*S[2]:+S[2],M&&(M.unit=mt,M.start=Dt,M.end=H)),H}var ti={};function oi(f){var b,S=f.ownerDocument,M=f.nodeName,H=ti[M];return H||(b=S.body.appendChild(S.createElement(M)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ti[M]=H,H)}function ui(f,b){for(var S,M,H=[],F=0,X=f.length;F<X;F++)M=f[F],M.style&&(S=M.style.display,b?(S==="none"&&(H[F]=ne.get(M,"display")||null,H[F]||(M.style.display="")),M.style.display===""&&gt(M)&&(H[F]=oi(M))):S!=="none"&&(H[F]="none",ne.set(M,"display",S)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ui(this,!0)},hide:function(){return ui(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){gt(this)?d(this).show():d(this).hide()})}});var Ot=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,At=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=T.createDocumentFragment(),b=f.appendChild(T.createElement("div")),S=T.createElement("input");S.setAttribute("type","radio"),S.setAttribute("checked","checked"),S.setAttribute("name","t"),b.appendChild(S),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var St={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,k.option||(St.optgroup=St.option=[1,"<select multiple='multiple'>","</select>"]);function kt(f,b){var S;return typeof f.getElementsByTagName<"u"?S=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?S=f.querySelectorAll(b||"*"):S=[],b===void 0||b&&K(f,b)?d.merge([f],S):S}function I(f,b){for(var S=0,M=f.length;S<M;S++)ne.set(f[S],"globalEval",!b||ne.get(b[S],"globalEval"))}var Ue=/<|&#?\w+;/;function _e(f,b,S,M,H){for(var F,X,Ne,Te,mt,Dt,ii=b.createDocumentFragment(),Mt=[],rt=0,$i=f.length;rt<$i;rt++)if(F=f[rt],F||F===0)if(p(F)==="object")d.merge(Mt,F.nodeType?[F]:F);else if(!Ue.test(F))Mt.push(b.createTextNode(F));else{for(X=X||ii.appendChild(b.createElement("div")),Ne=(It.exec(F)||["",""])[1].toLowerCase(),Te=St[Ne]||St._default,X.innerHTML=Te[1]+d.htmlPrefilter(F)+Te[2],Dt=Te[0];Dt--;)X=X.lastChild;d.merge(Mt,X.childNodes),X=ii.firstChild,X.textContent=""}for(ii.textContent="",rt=0;F=Mt[rt++];){if(M&&d.inArray(F,M)>-1){H&&H.push(F);continue}if(mt=Vt(F),X=kt(ii.appendChild(F),"script"),mt&&I(X),S)for(Dt=0;F=X[Dt++];)At.test(F.type||"")&&S.push(F)}return ii}var Ve=/^([^.]*)(?:\.(.+)|)/;function Xe(){return!0}function ut(){return!1}function re(f,b){return f===Pe()==(b==="focus")}function Pe(){try{return T.activeElement}catch(f){}}function He(f,b,S,M,H,F){var X,Ne;if(typeof b=="object"){typeof S!="string"&&(M=M||S,S=void 0);for(Ne in b)He(f,Ne,S,M,b[Ne],F);return f}if(M==null&&H==null?(H=S,M=S=void 0):H==null&&(typeof S=="string"?(H=M,M=void 0):(H=M,M=S,S=void 0)),H===!1)H=ut;else if(!H)return f;return F===1&&(X=H,H=function(Te){return d().off(Te),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,M,S)})}d.event={global:{},add:function(f,b,S,M,H){var F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O=ne.get(f);if(Pt(f))for(S.handler&&(F=S,S=F.handler,H=F.selector),H&&d.find.matchesSelector(tt,H),S.guid||(S.guid=d.guid++),(Te=O.events)||(Te=O.events=Object.create(null)),(X=O.handle)||(X=O.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],mt=b.length;mt--;)Ne=Ve.exec(b[mt])||[],rt=R=Ne[1],$i=(Ne[2]||"").split(".").sort(),rt&&(ii=d.event.special[rt]||{},rt=(H?ii.delegateType:ii.bindType)||rt,ii=d.event.special[rt]||{},Dt=d.extend({type:rt,origType:R,data:M,handler:S,guid:S.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:$i.join(".")},F),(Mt=Te[rt])||(Mt=Te[rt]=[],Mt.delegateCount=0,(!ii.setup||ii.setup.call(f,M,$i,X)===!1)&&f.addEventListener&&f.addEventListener(rt,X)),ii.add&&(ii.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=S.guid)),H?Mt.splice(Mt.delegateCount++,0,Dt):Mt.push(Dt),d.event.global[rt]=!0)},remove:function(f,b,S,M,H){var F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O=ne.hasData(f)&&ne.get(f);if(!(!O||!(Te=O.events))){for(b=(b||"").match(Z)||[""],mt=b.length;mt--;){if(Ne=Ve.exec(b[mt])||[],rt=R=Ne[1],$i=(Ne[2]||"").split(".").sort(),!rt){for(rt in Te)d.event.remove(f,rt+b[mt],S,M,!0);continue}for(ii=d.event.special[rt]||{},rt=(M?ii.delegateType:ii.bindType)||rt,Mt=Te[rt]||[],Ne=Ne[2]&&new RegExp("(^|\\.)"+$i.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=Mt.length;F--;)Dt=Mt[F],(H||R===Dt.origType)&&(!S||S.guid===Dt.guid)&&(!Ne||Ne.test(Dt.namespace))&&(!M||M===Dt.selector||M==="**"&&Dt.selector)&&(Mt.splice(F,1),Dt.selector&&Mt.delegateCount--,ii.remove&&ii.remove.call(f,Dt));X&&!Mt.length&&((!ii.teardown||ii.teardown.call(f,$i,O.handle)===!1)&&d.removeEvent(f,rt,O.handle),delete Te[rt])}d.isEmptyObject(Te)&&ne.remove(f,"handle events")}},dispatch:function(f){var b,S,M,H,F,X,Ne=new Array(arguments.length),Te=d.event.fix(f),mt=(ne.get(this,"events")||Object.create(null))[Te.type]||[],Dt=d.event.special[Te.type]||{};for(Ne[0]=Te,b=1;b<arguments.length;b++)Ne[b]=arguments[b];if(Te.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Te)===!1)){for(X=d.event.handlers.call(this,Te,mt),b=0;(H=X[b++])&&!Te.isPropagationStopped();)for(Te.currentTarget=H.elem,S=0;(F=H.handlers[S++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||F.namespace===!1||Te.rnamespace.test(F.namespace))&&(Te.handleObj=F,Te.data=F.data,M=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,Ne),M!==void 0&&(Te.result=M)===!1&&(Te.preventDefault(),Te.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Te),Te.result}},handlers:function(f,b){var S,M,H,F,X,Ne=[],Te=b.delegateCount,mt=f.target;if(Te&&mt.nodeType&&!(f.type==="click"&&f.button>=1)){for(;mt!==this;mt=mt.parentNode||this)if(mt.nodeType===1&&!(f.type==="click"&&mt.disabled===!0)){for(F=[],X={},S=0;S<Te;S++)M=b[S],H=M.selector+" ",X[H]===void 0&&(X[H]=M.needsContext?d(H,this).index(mt)>-1:d.find(H,this,null,[mt]).length),X[H]&&F.push(M);F.length&&Ne.push({elem:mt,handlers:F})}}return mt=this,Te<b.length&&Ne.push({elem:mt,handlers:b.slice(Te)}),Ne},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:A(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(S){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:S})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Ot.test(b.type)&&b.click&&K(b,"input")&&vt(b,"click",Xe),!1},trigger:function(f){var b=this||f;return Ot.test(b.type)&&b.click&&K(b,"input")&&vt(b,"click"),!0},_default:function(f){var b=f.target;return Ot.test(b.type)&&b.click&&K(b,"input")&&ne.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function vt(f,b,S){if(!S){ne.get(f,b)===void 0&&d.event.add(f,b,Xe);return}ne.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(M){var H,F,X=ne.get(this,b);if(M.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&M.stopPropagation();else if(X=c.call(arguments),ne.set(this,b,X),H=S(this,b),this[b](),F=ne.get(this,b),X!==F||H?ne.set(this,b,!1):F={},X!==F)return M.stopImmediatePropagation(),M.preventDefault(),F&&F.value}else X.length&&(ne.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),M.stopImmediatePropagation())}})}d.removeEvent=function(f,b,S){f.removeEventListener&&f.removeEventListener(b,S)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Xe:ut,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:ut,isPropagationStopped:ut,isImmediatePropagationStopped:ut,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Xe,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Xe,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Xe,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return vt(this,f,re),!1},trigger:function(){return vt(this,f),!0},_default:function(S){return ne.get(S.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(S){var M,H=this,F=S.relatedTarget,X=S.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(S.type=X.origType,M=X.handler.apply(this,arguments),S.type=b),M}}}),d.fn.extend({on:function(f,b,S,M){return He(this,f,b,S,M)},one:function(f,b,S,M){return He(this,f,b,S,M,1)},off:function(f,b,S){var M,H;if(f&&f.preventDefault&&f.handleObj)return M=f.handleObj,d(f.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(S=b,b=void 0),S===!1&&(S=ut),this.each(function(){d.event.remove(this,f,S,b)})}});var lt=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Lt(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function jt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Ye(f,b){var S,M,H,F,X,Ne,Te;if(b.nodeType===1){if(ne.hasData(f)&&(F=ne.get(f),Te=F.events,Te)){ne.remove(b,"handle events");for(H in Te)for(S=0,M=Te[H].length;S<M;S++)d.event.add(b,H,Te[H][S])}ie.hasData(f)&&(X=ie.access(f),Ne=d.extend({},X),ie.set(b,Ne))}}function Me(f,b){var S=b.nodeName.toLowerCase();S==="input"&&Ot.test(f.type)?b.checked=f.checked:(S==="input"||S==="textarea")&&(b.defaultValue=f.defaultValue)}function De(f,b,S,M){b=n(b);var H,F,X,Ne,Te,mt,Dt=0,ii=f.length,Mt=ii-1,rt=b[0],$i=A(rt);if($i||ii>1&&typeof rt=="string"&&!k.checkClone&&Et.test(rt))return f.each(function(R){var O=f.eq(R);$i&&(b[0]=rt.call(this,R,O.html())),De(O,b,S,M)});if(ii&&(H=_e(b,f[0].ownerDocument,!1,f,M),F=H.firstChild,H.childNodes.length===1&&(H=F),F||M)){for(X=d.map(kt(H,"script"),Lt),Ne=X.length;Dt<ii;Dt++)Te=H,Dt!==Mt&&(Te=d.clone(Te,!0,!0),Ne&&d.merge(X,kt(Te,"script"))),S.call(f[Dt],Te,Dt);if(Ne)for(mt=X[X.length-1].ownerDocument,d.map(X,jt),Dt=0;Dt<Ne;Dt++)Te=X[Dt],At.test(Te.type||"")&&!ne.access(Te,"globalEval")&&d.contains(mt,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?d._evalUrl&&!Te.noModule&&d._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},mt):a(Te.textContent.replace(Ut,""),Te,mt))}return f}function et(f,b,S){for(var M,H=b?d.filter(b,f):f,F=0;(M=H[F])!=null;F++)!S&&M.nodeType===1&&d.cleanData(kt(M)),M.parentNode&&(S&&Vt(M)&&I(kt(M,"script")),M.parentNode.removeChild(M));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,S){var M,H,F,X,Ne=f.cloneNode(!0),Te=Vt(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=kt(Ne),F=kt(f),M=0,H=F.length;M<H;M++)Me(F[M],X[M]);if(b)if(S)for(F=F||kt(f),X=X||kt(Ne),M=0,H=F.length;M<H;M++)Ye(F[M],X[M]);else Ye(f,Ne);return X=kt(Ne,"script"),X.length>0&&I(X,!Te&&kt(f,"script")),Ne},cleanData:function(f){for(var b,S,M,H=d.event.special,F=0;(S=f[F])!==void 0;F++)if(Pt(S)){if(b=S[ne.expando]){if(b.events)for(M in b.events)H[M]?d.event.remove(S,M):d.removeEvent(S,M,b.handle);S[ne.expando]=void 0}S[ie.expando]&&(S[ie.expando]=void 0)}}}),d.fn.extend({detach:function(f){return et(this,f,!0)},remove:function(f){return et(this,f)},text:function(f){return Se(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return De(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.appendChild(f)}})},prepend:function(){return De(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return De(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return De(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(kt(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Se(this,function(b){var S=this[0]||{},M=0,H=this.length;if(b===void 0&&S.nodeType===1)return S.innerHTML;if(typeof b=="string"&&!lt.test(b)&&!St[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;M<H;M++)S=this[M]||{},S.nodeType===1&&(d.cleanData(kt(S,!1)),S.innerHTML=b);S=0}catch(F){}}S&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return De(this,arguments,function(b){var S=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(kt(this)),S&&S.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(S){for(var M,H=[],F=d(S),X=F.length-1,Ne=0;Ne<=X;Ne++)M=Ne===X?this:this.clone(!0),d(F[Ne])[b](M),u.apply(H,M.get());return this.pushStack(H)}});var Tt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Ht=/^--/,Ze=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},wt=function(f,b,S){var M,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];M=S.call(f);for(H in b)f.style[H]=F[H];return M},_t=new RegExp(Je.join("|"),"i"),Xt="[\\x20\\t\\r\\n\\f]",We=new RegExp("^"+Xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Xt+"+$","g");(function(){function f(){if(mt){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",mt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",tt.appendChild(Te).appendChild(mt);var Dt=r.getComputedStyle(mt);S=Dt.top!=="1%",Ne=b(Dt.marginLeft)===12,mt.style.right="60%",F=b(Dt.right)===36,M=b(Dt.width)===36,mt.style.position="absolute",H=b(mt.offsetWidth/3)===12,tt.removeChild(Te),mt=null}}function b(Dt){return Math.round(parseFloat(Dt))}var S,M,H,F,X,Ne,Te=T.createElement("div"),mt=T.createElement("div");mt.style&&(mt.style.backgroundClip="content-box",mt.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=mt.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),M},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),S},reliableMarginLeft:function(){return f(),Ne},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ii,Mt,rt;return X==null&&(Dt=T.createElement("table"),ii=T.createElement("tr"),Mt=T.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ii.style.cssText="border:1px solid",ii.style.height="1px",Mt.style.height="9px",Mt.style.display="block",tt.appendChild(Dt).appendChild(ii).appendChild(Mt),rt=r.getComputedStyle(ii),X=parseInt(rt.height,10)+parseInt(rt.borderTopWidth,10)+parseInt(rt.borderBottomWidth,10)===ii.offsetHeight,tt.removeChild(Dt)),X}}))})();function ri(f,b,S){var M,H,F,X,Ne=Ht.test(b),Te=f.style;return S=S||Ze(f),S&&(X=S.getPropertyValue(b)||S[b],Ne&&(X=X.replace(We,"$1")),X===""&&!Vt(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Tt.test(X)&&_t.test(b)&&(M=Te.width,H=Te.minWidth,F=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=X,X=S.width,Te.width=M,Te.minWidth=H,Te.maxWidth=F)),X!==void 0?X+"":X}function ei(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var ki=["Webkit","Moz","ms"],qt=T.createElement("div").style,ci={};function Ei(f){for(var b=f[0].toUpperCase()+f.slice(1),S=ki.length;S--;)if(f=ki[S]+b,f in qt)return f}function Mi(f){var b=d.cssProps[f]||ci[f];return b||(f in qt?f:ci[f]=Ei(f)||f)}var ir=/^(none|table(?!-c[ea]).+)/,Yi={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function Sr(f,b,S){var M=Ce.exec(b);return M?Math.max(0,M[2]-(S||0))+(M[3]||"px"):b}function tr(f,b,S,M,H,F){var X=b==="width"?1:0,Ne=0,Te=0;if(S===(M?"border":"content"))return 0;for(;X<4;X+=2)S==="margin"&&(Te+=d.css(f,S+Je[X],!0,H)),M?(S==="content"&&(Te-=d.css(f,"padding"+Je[X],!0,H)),S!=="margin"&&(Te-=d.css(f,"border"+Je[X]+"Width",!0,H))):(Te+=d.css(f,"padding"+Je[X],!0,H),S!=="padding"?Te+=d.css(f,"border"+Je[X]+"Width",!0,H):Ne+=d.css(f,"border"+Je[X]+"Width",!0,H));return!M&&F>=0&&(Te+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Te-Ne-.5))||0),Te}function yr(f,b,S){var M=Ze(f),H=!k.boxSizingReliable()||S,F=H&&d.css(f,"boxSizing",!1,M)==="border-box",X=F,Ne=ri(f,b,M),Te="offset"+b[0].toUpperCase()+b.slice(1);if(Tt.test(Ne)){if(!S)return Ne;Ne="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||Ne==="auto"||!parseFloat(Ne)&&d.css(f,"display",!1,M)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,M)==="border-box",X=Te in f,X&&(Ne=f[Te])),Ne=parseFloat(Ne)||0,Ne+tr(f,b,S||(F?"border":"content"),X,M,Ne)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var S=ri(f,"opacity");return S===""?"1":S}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,S,M){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,Ne=pt(b),Te=Ht.test(b),mt=f.style;if(Te||(b=Mi(Ne)),X=d.cssHooks[b]||d.cssHooks[Ne],S!==void 0){if(F=typeof S,F==="string"&&(H=Ce.exec(S))&&H[1]&&(S=Rt(f,b,H),F="number"),S==null||S!==S)return;F==="number"&&!Te&&(S+=H&&H[3]||(d.cssNumber[Ne]?"":"px")),!k.clearCloneStyle&&S===""&&b.indexOf("background")===0&&(mt[b]="inherit"),(!X||!("set"in X)||(S=X.set(f,S,M))!==void 0)&&(Te?mt.setProperty(b,S):mt[b]=S)}else return X&&"get"in X&&(H=X.get(f,!1,M))!==void 0?H:mt[b]}},css:function(f,b,S,M){var H,F,X,Ne=pt(b),Te=Ht.test(b);return Te||(b=Mi(Ne)),X=d.cssHooks[b]||d.cssHooks[Ne],X&&"get"in X&&(H=X.get(f,!0,S)),H===void 0&&(H=ri(f,b,M)),H==="normal"&&b in Gi&&(H=Gi[b]),S===""||S?(F=parseFloat(H),S===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(S,M,H){if(M)return ir.test(d.css(S,"display"))&&(!S.getClientRects().length||!S.getBoundingClientRect().width)?wt(S,Yi,function(){return yr(S,b,H)}):yr(S,b,H)},set:function(S,M,H){var F,X=Ze(S),Ne=!k.scrollboxSize()&&X.position==="absolute",Te=Ne||H,mt=Te&&d.css(S,"boxSizing",!1,X)==="border-box",Dt=H?tr(S,b,H,mt,X):0;return mt&&Ne&&(Dt-=Math.ceil(S["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-tr(S,b,"border",!1,X)-.5)),Dt&&(F=Ce.exec(M))&&(F[3]||"px")!=="px"&&(S.style[b]=M,M=d.css(S,b)),Sr(S,M,Dt)}}}),d.cssHooks.marginLeft=ei(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(ri(f,"marginLeft"))||f.getBoundingClientRect().left-wt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(S){for(var M=0,H={},F=typeof S=="string"?S.split(" "):[S];M<4;M++)H[f+Je[M]+b]=F[M]||F[M-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Sr)}),d.fn.extend({css:function(f,b){return Se(this,function(S,M,H){var F,X,Ne={},Te=0;if(Array.isArray(M)){for(F=Ze(S),X=M.length;Te<X;Te++)Ne[M[Te]]=d.css(S,M[Te],!1,F);return Ne}return H!==void 0?d.style(S,M,H):d.css(S,M)},f,b,arguments.length>1)}});function xr(f,b,S,M,H){return new xr.prototype.init(f,b,S,M,H)}d.Tween=xr,xr.prototype={constructor:xr,init:function(f,b,S,M,H,F){this.elem=f,this.prop=S,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=M,this.unit=F||(d.cssNumber[S]?"":"px")},cur:function(){var f=xr.propHooks[this.prop];return f&&f.get?f.get(this):xr.propHooks._default.get(this)},run:function(f){var b,S=xr.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),S&&S.set?S.set(this):xr.propHooks._default.set(this),this}},xr.prototype.init.prototype=xr.prototype,xr.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Mi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},xr.propHooks.scrollTop=xr.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=xr.prototype.init,d.fx.step={};var Tr,Xr,ln=/^(?:toggle|show|hide)$/,Pr=/queueHooks$/;function Dr(){Xr&&(T.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(Dr):r.setTimeout(Dr,d.fx.interval),d.fx.tick())}function Gr(){return r.setTimeout(function(){Tr=void 0}),Tr=Date.now()}function Vr(f,b){var S,M=0,H={height:f};for(b=b?1:0;M<4;M+=2-b)S=Je[M],H["margin"+S]=H["padding"+S]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,S){for(var M,H=(be.tweeners[b]||[]).concat(be.tweeners["*"]),F=0,X=H.length;F<X;F++)if(M=H[F].call(S,b,f))return M}function he(f,b,S){var M,H,F,X,Ne,Te,mt,Dt,ii="width"in b||"height"in b,Mt=this,rt={},$i=f.style,R=f.nodeType&&gt(f),O=ne.get(f,"fxshow");S.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,Ne=X.empty.fire,X.empty.fire=function(){X.unqueued||Ne()}),X.unqueued++,Mt.always(function(){Mt.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(M in b)if(H=b[M],ln.test(H)){if(delete b[M],F=F||H==="toggle",H===(R?"hide":"show"))if(H==="show"&&O&&O[M]!==void 0)R=!0;else continue;rt[M]=O&&O[M]||d.style(f,M)}if(Te=!d.isEmptyObject(b),!(!Te&&d.isEmptyObject(rt))){ii&&f.nodeType===1&&(S.overflow=[$i.overflow,$i.overflowX,$i.overflowY],mt=O&&O.display,mt==null&&(mt=ne.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(mt?Dt=mt:(ui([f],!0),mt=f.style.display||mt,Dt=d.css(f,"display"),ui([f]))),(Dt==="inline"||Dt==="inline-block"&&mt!=null)&&d.css(f,"float")==="none"&&(Te||(Mt.done(function(){$i.display=mt}),mt==null&&(Dt=$i.display,mt=Dt==="none"?"":Dt)),$i.display="inline-block")),S.overflow&&($i.overflow="hidden",Mt.always(function(){$i.overflow=S.overflow[0],$i.overflowX=S.overflow[1],$i.overflowY=S.overflow[2]})),Te=!1;for(M in rt)Te||(O?"hidden"in O&&(R=O.hidden):O=ne.access(f,"fxshow",{display:mt}),F&&(O.hidden=!R),R&&ui([f],!0),Mt.done(function(){R||ui([f]),ne.remove(f,"fxshow");for(M in rt)d.style(f,M,rt[M])})),Te=ve(R?O[M]:0,M,Mt),M in O||(O[M]=Te.start,R&&(Te.end=Te.start,Te.start=0))}}function B(f,b){var S,M,H,F,X;for(S in f)if(M=pt(S),H=b[M],F=f[S],Array.isArray(F)&&(H=F[1],F=f[S]=F[0]),S!==M&&(f[M]=F,delete f[S]),X=d.cssHooks[M],X&&"expand"in X){F=X.expand(F),delete f[M];for(S in F)S in f||(f[S]=F[S],b[S]=H)}else b[M]=H}function be(f,b,S){var M,H,F=0,X=be.prefilters.length,Ne=d.Deferred().always(function(){delete Te.elem}),Te=function(){if(H)return!1;for(var ii=Tr||Gr(),Mt=Math.max(0,mt.startTime+mt.duration-ii),rt=Mt/mt.duration||0,$i=1-rt,R=0,O=mt.tweens.length;R<O;R++)mt.tweens[R].run($i);return Ne.notifyWith(f,[mt,$i,Mt]),$i<1&&O?Mt:(O||Ne.notifyWith(f,[mt,1,0]),Ne.resolveWith(f,[mt]),!1)},mt=Ne.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},S),originalProperties:b,originalOptions:S,startTime:Tr||Gr(),duration:S.duration,tweens:[],createTween:function(ii,Mt){var rt=d.Tween(f,mt.opts,ii,Mt,mt.opts.specialEasing[ii]||mt.opts.easing);return mt.tweens.push(rt),rt},stop:function(ii){var Mt=0,rt=ii?mt.tweens.length:0;if(H)return this;for(H=!0;Mt<rt;Mt++)mt.tweens[Mt].run(1);return ii?(Ne.notifyWith(f,[mt,1,0]),Ne.resolveWith(f,[mt,ii])):Ne.rejectWith(f,[mt,ii]),this}}),Dt=mt.props;for(B(Dt,mt.opts.specialEasing);F<X;F++)if(M=be.prefilters[F].call(mt,f,Dt,mt.opts),M)return A(M.stop)&&(d._queueHooks(mt.elem,mt.opts.queue).stop=M.stop.bind(M)),M;return d.map(Dt,ve,mt),A(mt.opts.start)&&mt.opts.start.call(f,mt),mt.progress(mt.opts.progress).done(mt.opts.done,mt.opts.complete).fail(mt.opts.fail).always(mt.opts.always),d.fx.timer(d.extend(Te,{elem:f,anim:mt,queue:mt.opts.queue})),mt}d.Animation=d.extend(be,{tweeners:{"*":[function(f,b){var S=this.createTween(f,b);return Rt(S.elem,f,Ce.exec(b),S),S}]},tweener:function(f,b){A(f)?(b=f,f=["*"]):f=f.match(Z);for(var S,M=0,H=f.length;M<H;M++)S=f[M],be.tweeners[S]=be.tweeners[S]||[],be.tweeners[S].unshift(b)},prefilters:[he],prefilter:function(f,b){b?be.prefilters.unshift(f):be.prefilters.push(f)}}),d.speed=function(f,b,S){var M=f&&typeof f=="object"?d.extend({},f):{complete:S||!S&&b||A(f)&&f,duration:f,easing:S&&b||b&&!A(b)&&b};return d.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in d.fx.speeds?M.duration=d.fx.speeds[M.duration]:M.duration=d.fx.speeds._default),(M.queue==null||M.queue===!0)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){A(M.old)&&M.old.call(this),M.queue&&d.dequeue(this,M.queue)},M},d.fn.extend({fadeTo:function(f,b,S,M){return this.filter(gt).css("opacity",0).show().end().animate({opacity:b},f,S,M)},animate:function(f,b,S,M){var H=d.isEmptyObject(f),F=d.speed(b,S,M),X=function(){var Ne=be(this,d.extend({},f),F);(H||ne.get(this,"finish"))&&Ne.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,S){var M=function(H){var F=H.stop;delete H.stop,F(S)};return typeof f!="string"&&(S=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,Ne=ne.get(this);if(F)Ne[F]&&Ne[F].stop&&M(Ne[F]);else for(F in Ne)Ne[F]&&Ne[F].stop&&Pr.test(F)&&M(Ne[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(S),H=!1,X.splice(F,1));(H||!S)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,S=ne.get(this),M=S[f+"queue"],H=S[f+"queueHooks"],F=d.timers,X=M?M.length:0;for(S.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)M[b]&&M[b].finish&&M[b].finish.call(this);delete S.finish})}}),d.each(["toggle","show","hide"],function(f,b){var S=d.fn[b];d.fn[b]=function(M,H,F){return M==null||typeof M=="boolean"?S.apply(this,arguments):this.animate(Vr(b,!0),M,H,F)}}),d.each({slideDown:Vr("show"),slideUp:Vr("hide"),slideToggle:Vr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(S,M,H){return this.animate(b,S,M,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,S=d.timers;for(Tr=Date.now();b<S.length;b++)f=S[b],!f()&&S[b]===f&&S.splice(b--,1);S.length||d.fx.stop(),Tr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Xr||(Xr=!0,Dr())},d.fx.stop=function(){Xr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(S,M){var H=r.setTimeout(S,f);M.stop=function(){r.clearTimeout(H)}})},function(){var f=T.createElement("input"),b=T.createElement("select"),S=b.appendChild(T.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=S.selected,f=T.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var xe,$t=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Se(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,S){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,S);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?xe:void 0)),S!==void 0){if(S===null){d.removeAttr(f,b);return}return H&&"set"in H&&(M=H.set(f,S,b))!==void 0?M:(f.setAttribute(b,S+""),S)}return H&&"get"in H&&(M=H.get(f,b))!==null?M:(M=d.find.attr(f,b),M!=null?M:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var S=f.value;return f.setAttribute("type",b),S&&(f.value=S),b}}}},removeAttr:function(f,b){var S,M=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;S=H[M++];)f.removeAttribute(S)}}),xe={set:function(f,b,S){return b===!1?d.removeAttr(f,S):f.setAttribute(S,S),S}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var S=$t[b]||d.find.attr;$t[b]=function(M,H,F){var X,Ne,Te=H.toLowerCase();return F||(Ne=$t[Te],$t[Te]=X,X=S(M,H,F)!=null?Te:null,$t[Te]=Ne),X}});var zt=/^(?:input|select|textarea|button)$/i,gi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Se(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,S){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),S!==void 0?H&&"set"in H&&(M=H.set(f,S,b))!==void 0?M:f[b]=S:H&&"get"in H&&(M=H.get(f,b))!==null?M:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):zt.test(f.nodeName)||gi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function mi(f){var b=f.match(Z)||[];return b.join(" ")}function Fi(f){return f.getAttribute&&f.getAttribute("class")||""}function hr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,S,M,H,F,X;return A(f)?this.each(function(Ne){d(this).addClass(f.call(this,Ne,Fi(this)))}):(b=hr(f),b.length?this.each(function(){if(M=Fi(this),S=this.nodeType===1&&" "+mi(M)+" ",S){for(F=0;F<b.length;F++)H=b[F],S.indexOf(" "+H+" ")<0&&(S+=H+" ");X=mi(S),M!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,S,M,H,F,X;return A(f)?this.each(function(Ne){d(this).removeClass(f.call(this,Ne,Fi(this)))}):arguments.length?(b=hr(f),b.length?this.each(function(){if(M=Fi(this),S=this.nodeType===1&&" "+mi(M)+" ",S){for(F=0;F<b.length;F++)for(H=b[F];S.indexOf(" "+H+" ")>-1;)S=S.replace(" "+H+" "," ");X=mi(S),M!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var S,M,H,F,X=typeof f,Ne=X==="string"||Array.isArray(f);return A(f)?this.each(function(Te){d(this).toggleClass(f.call(this,Te,Fi(this),b),b)}):typeof b=="boolean"&&Ne?b?this.addClass(f):this.removeClass(f):(S=hr(f),this.each(function(){if(Ne)for(F=d(this),H=0;H<S.length;H++)M=S[H],F.hasClass(M)?F.removeClass(M):F.addClass(M);else(f===void 0||X==="boolean")&&(M=Fi(this),M&&ne.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||f===!1?"":ne.get(this,"__className__")||""))}))},hasClass:function(f){var b,S,M=0;for(b=" "+f+" ";S=this[M++];)if(S.nodeType===1&&(" "+mi(Fi(S))+" ").indexOf(b)>-1)return!0;return!1}});var or=/\r/g;d.fn.extend({val:function(f){var b,S,M,H=this[0];return arguments.length?(M=A(f),this.each(function(F){var X;this.nodeType===1&&(M?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(Ne){return Ne==null?"":Ne+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(S=b.get(H,"value"))!==void 0?S:(S=H.value,typeof S=="string"?S.replace(or,""):S!=null?S:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:mi(d.text(f))}},select:{get:function(f){var b,S,M,H=f.options,F=f.selectedIndex,X=f.type==="select-one",Ne=X?null:[],Te=X?F+1:H.length;for(F<0?M=Te:M=X?F:0;M<Te;M++)if(S=H[M],(S.selected||M===F)&&!S.disabled&&(!S.parentNode.disabled||!K(S.parentNode,"optgroup"))){if(b=d(S).val(),X)return b;Ne.push(b)}return Ne},set:function(f,b){for(var S,M,H=f.options,F=d.makeArray(b),X=H.length;X--;)M=H[X],(M.selected=d.inArray(d.valHooks.option.get(M),F)>-1)&&(S=!0);return S||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Ur=/^(?:focusinfocus|focusoutblur)$/,ue=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,S,M){var H,F,X,Ne,Te,mt,Dt,ii,Mt=[S||T],rt=y.call(f,"type")?f.type:f,$i=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ii=X=S=S||T,!(S.nodeType===3||S.nodeType===8)&&!Ur.test(rt+d.event.triggered)&&(rt.indexOf(".")>-1&&($i=rt.split("."),rt=$i.shift(),$i.sort()),Te=rt.indexOf(":")<0&&"on"+rt,f=f[d.expando]?f:new d.Event(rt,typeof f=="object"&&f),f.isTrigger=M?2:3,f.namespace=$i.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+$i.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=S),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[rt]||{},!(!M&&Dt.trigger&&Dt.trigger.apply(S,b)===!1))){if(!M&&!Dt.noBubble&&!L(S)){for(Ne=Dt.delegateType||rt,Ur.test(Ne+rt)||(F=F.parentNode);F;F=F.parentNode)Mt.push(F),X=F;X===(S.ownerDocument||T)&&Mt.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=Mt[H++])&&!f.isPropagationStopped();)ii=F,f.type=H>1?Ne:Dt.bindType||rt,mt=(ne.get(F,"events")||Object.create(null))[f.type]&&ne.get(F,"handle"),mt&&mt.apply(F,b),mt=Te&&F[Te],mt&&mt.apply&&Pt(F)&&(f.result=mt.apply(F,b),f.result===!1&&f.preventDefault());return f.type=rt,!M&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply(Mt.pop(),b)===!1)&&Pt(S)&&Te&&A(S[rt])&&!L(S)&&(X=S[Te],X&&(S[Te]=null),d.event.triggered=rt,f.isPropagationStopped()&&ii.addEventListener(rt,ue),S[rt](),f.isPropagationStopped()&&ii.removeEventListener(rt,ue),d.event.triggered=void 0,X&&(S[Te]=X)),f.result}},simulate:function(f,b,S){var M=d.extend(new d.Event,S,{type:f,isSimulated:!0});d.event.trigger(M,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var S=this[0];if(S)return d.event.trigger(f,b,S,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var S=function(M){d.event.simulate(b,M.target,d.event.fix(M))};d.event.special[b]={setup:function(){var M=this.ownerDocument||this.document||this,H=ne.access(M,b);H||M.addEventListener(f,S,!0),ne.access(M,b,(H||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,H=ne.access(M,b)-1;H?ne.access(M,b,H):(M.removeEventListener(f,S,!0),ne.remove(M,b))}}});var jn=r.location,wn={guid:Date.now()},$n=/\?/;d.parseXML=function(f){var b,S;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(M){}return S=b&&b.getElementsByTagName("parsererror")[0],(!b||S)&&d.error("Invalid XML: "+(S?d.map(S.childNodes,function(M){return M.textContent}).join(`
`):f)),b};var xn=/\[\]$/,di=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,yi=/^(?:input|select|textarea|keygen)/i;function rr(f,b,S,M){var H;if(Array.isArray(b))d.each(b,function(F,X){S||xn.test(f)?M(f,X):rr(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,S,M)});else if(!S&&p(b)==="object")for(H in b)rr(f+"["+H+"]",b[H],S,M);else M(f,b)}d.param=function(f,b){var S,M=[],H=function(F,X){var Ne=A(X)?X():X;M[M.length]=encodeURIComponent(F)+"="+encodeURIComponent(Ne!=null?Ne:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(S in f)rr(S,f[S],b,H);return M.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&yi.test(this.nodeName)&&!Si.test(f)&&(this.checked||!Ot.test(f))}).map(function(f,b){var S=d(this).val();return S==null?null:Array.isArray(S)?d.map(S,function(M){return{name:b.name,value:M.replace(di,`\r
`)}}):{name:b.name,value:S.replace(di,`\r
`)}}).get()}});var ar=/%20/g,Ln=/#.*$/,yn=/([?&])_=[^&]*/,_o=/^(.*?):[ \t]*([^\r\n]*)$/mg,fo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,is=/^(?:GET|HEAD)$/,ma=/^\/\//,Eo={},Nn={},Jr="*/".concat("*"),mo=T.createElement("a");mo.href=jn.href;function To(f){return function(b,S){typeof b!="string"&&(S=b,b="*");var M,H=0,F=b.toLowerCase().match(Z)||[];if(A(S))for(;M=F[H++];)M[0]==="+"?(M=M.slice(1)||"*",(f[M]=f[M]||[]).unshift(S)):(f[M]=f[M]||[]).push(S)}}function ga(f,b,S,M){var H={},F=f===Nn;function X(Ne){var Te;return H[Ne]=!0,d.each(f[Ne]||[],function(mt,Dt){var ii=Dt(b,S,M);if(typeof ii=="string"&&!F&&!H[ii])return b.dataTypes.unshift(ii),X(ii),!1;if(F)return!(Te=ii)}),Te}return X(b.dataTypes[0])||!H["*"]&&X("*")}function Qn(f,b){var S,M,H=d.ajaxSettings.flatOptions||{};for(S in b)b[S]!==void 0&&((H[S]?f:M||(M={}))[S]=b[S]);return M&&d.extend(!0,f,M),f}function Da(f,b,S){for(var M,H,F,X,Ne=f.contents,Te=f.dataTypes;Te[0]==="*";)Te.shift(),M===void 0&&(M=f.mimeType||b.getResponseHeader("Content-Type"));if(M){for(H in Ne)if(Ne[H]&&Ne[H].test(M)){Te.unshift(H);break}}if(Te[0]in S)F=Te[0];else{for(H in S){if(!Te[0]||f.converters[H+" "+Te[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Te[0]&&Te.unshift(F),S[F]}function rs(f,b,S,M){var H,F,X,Ne,Te,mt={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)mt[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(S[f.responseFields[F]]=b),!Te&&M&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Te=F,F=Dt.shift(),F){if(F==="*")F=Te;else if(Te!=="*"&&Te!==F){if(X=mt[Te+" "+F]||mt["* "+F],!X){for(H in mt)if(Ne=H.split(" "),Ne[1]===F&&(X=mt[Te+" "+Ne[0]]||mt["* "+Ne[0]],X)){X===!0?X=mt[H]:mt[H]!==!0&&(F=Ne[0],Dt.unshift(Ne[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ii){return{state:"parsererror",error:X?ii:"No conversion from "+Te+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn.href,type:"GET",isLocal:fo.test(jn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?Qn(Qn(f,d.ajaxSettings),b):Qn(d.ajaxSettings,f)},ajaxPrefilter:To(Eo),ajaxTransport:To(Nn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var S,M,H,F,X,Ne,Te,mt,Dt,ii,Mt=d.ajaxSetup({},b),rt=Mt.context||Mt,$i=Mt.context&&(rt.nodeType||rt.jquery)?d(rt):d.event,R=d.Deferred(),O=d.Callbacks("once memory"),j=Mt.statusCode||{},U={},le={},fe="canceled",Ae={readyState:0,getResponseHeader:function(yt){var Yt;if(Te){if(!F)for(F={};Yt=_o.exec(H);)F[Yt[1].toLowerCase()+" "]=(F[Yt[1].toLowerCase()+" "]||[]).concat(Yt[2]);Yt=F[yt.toLowerCase()+" "]}return Yt==null?null:Yt.join(", ")},getAllResponseHeaders:function(){return Te?H:null},setRequestHeader:function(yt,Yt){return Te==null&&(yt=le[yt.toLowerCase()]=le[yt.toLowerCase()]||yt,U[yt]=Yt),this},overrideMimeType:function(yt){return Te==null&&(Mt.mimeType=yt),this},statusCode:function(yt){var Yt;if(yt)if(Te)Ae.always(yt[Ae.status]);else for(Yt in yt)j[Yt]=[j[Yt],yt[Yt]];return this},abort:function(yt){var Yt=yt||fe;return S&&S.abort(Yt),Nt(0,Yt),this}};if(R.promise(Ae),Mt.url=((f||Mt.url||jn.href)+"").replace(ma,jn.protocol+"//"),Mt.type=b.method||b.type||Mt.method||Mt.type,Mt.dataTypes=(Mt.dataType||"*").toLowerCase().match(Z)||[""],Mt.crossDomain==null){Ne=T.createElement("a");try{Ne.href=Mt.url,Ne.href=Ne.href,Mt.crossDomain=mo.protocol+"//"+mo.host!=Ne.protocol+"//"+Ne.host}catch(yt){Mt.crossDomain=!0}}if(Mt.data&&Mt.processData&&typeof Mt.data!="string"&&(Mt.data=d.param(Mt.data,Mt.traditional)),ga(Eo,Mt,b,Ae),Te)return Ae;mt=d.event&&Mt.global,mt&&d.active++===0&&d.event.trigger("ajaxStart"),Mt.type=Mt.type.toUpperCase(),Mt.hasContent=!is.test(Mt.type),M=Mt.url.replace(Ln,""),Mt.hasContent?Mt.data&&Mt.processData&&(Mt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Mt.data=Mt.data.replace(ar,"+")):(ii=Mt.url.slice(M.length),Mt.data&&(Mt.processData||typeof Mt.data=="string")&&(M+=($n.test(M)?"&":"?")+Mt.data,delete Mt.data),Mt.cache===!1&&(M=M.replace(yn,"$1"),ii=($n.test(M)?"&":"?")+"_="+wn.guid+++ii),Mt.url=M+ii),Mt.ifModified&&(d.lastModified[M]&&Ae.setRequestHeader("If-Modified-Since",d.lastModified[M]),d.etag[M]&&Ae.setRequestHeader("If-None-Match",d.etag[M])),(Mt.data&&Mt.hasContent&&Mt.contentType!==!1||b.contentType)&&Ae.setRequestHeader("Content-Type",Mt.contentType),Ae.setRequestHeader("Accept",Mt.dataTypes[0]&&Mt.accepts[Mt.dataTypes[0]]?Mt.accepts[Mt.dataTypes[0]]+(Mt.dataTypes[0]!=="*"?", "+Jr+"; q=0.01":""):Mt.accepts["*"]);for(Dt in Mt.headers)Ae.setRequestHeader(Dt,Mt.headers[Dt]);if(Mt.beforeSend&&(Mt.beforeSend.call(rt,Ae,Mt)===!1||Te))return Ae.abort();if(fe="abort",O.add(Mt.complete),Ae.done(Mt.success),Ae.fail(Mt.error),S=ga(Nn,Mt,b,Ae),!S)Nt(-1,"No Transport");else{if(Ae.readyState=1,mt&&$i.trigger("ajaxSend",[Ae,Mt]),Te)return Ae;Mt.async&&Mt.timeout>0&&(X=r.setTimeout(function(){Ae.abort("timeout")},Mt.timeout));try{Te=!1,S.send(U,Nt)}catch(yt){if(Te)throw yt;Nt(-1,yt)}}function Nt(yt,Yt,li,Pi){var Ii,Li,cr,Wi,Di,Xi=Yt;Te||(Te=!0,X&&r.clearTimeout(X),S=void 0,H=Pi||"",Ae.readyState=yt>0?4:0,Ii=yt>=200&&yt<300||yt===304,li&&(Wi=Da(Mt,Ae,li)),!Ii&&d.inArray("script",Mt.dataTypes)>-1&&d.inArray("json",Mt.dataTypes)<0&&(Mt.converters["text script"]=function(){}),Wi=rs(Mt,Wi,Ae,Ii),Ii?(Mt.ifModified&&(Di=Ae.getResponseHeader("Last-Modified"),Di&&(d.lastModified[M]=Di),Di=Ae.getResponseHeader("etag"),Di&&(d.etag[M]=Di)),yt===204||Mt.type==="HEAD"?Xi="nocontent":yt===304?Xi="notmodified":(Xi=Wi.state,Li=Wi.data,cr=Wi.error,Ii=!cr)):(cr=Xi,(yt||!Xi)&&(Xi="error",yt<0&&(yt=0))),Ae.status=yt,Ae.statusText=(Yt||Xi)+"",Ii?R.resolveWith(rt,[Li,Xi,Ae]):R.rejectWith(rt,[Ae,Xi,cr]),Ae.statusCode(j),j=void 0,mt&&$i.trigger(Ii?"ajaxSuccess":"ajaxError",[Ae,Mt,Ii?Li:cr]),O.fireWith(rt,[Ae,Xi]),mt&&($i.trigger("ajaxComplete",[Ae,Mt]),--d.active||d.event.trigger("ajaxStop")))}return Ae},getJSON:function(f,b,S){return d.get(f,b,S,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(S,M,H,F){return A(M)&&(F=F||H,H=M,M=void 0),d.ajax(d.extend({url:S,type:b,dataType:F,data:M,success:H},d.isPlainObject(S)&&S))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,S){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){d.globalEval(M,b,S)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(A(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var S=this;S.firstElementChild;)S=S.firstElementChild;return S}).append(this)),this},wrapInner:function(f){return A(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),S=b.contents();S.length?S.wrapAll(f):b.append(f)})},wrap:function(f){var b=A(f);return this.each(function(S){d(this).wrapAll(b?f.call(this,S):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var ja={0:200,1223:204},co=d.ajaxSettings.xhr();k.cors=!!co&&"withCredentials"in co,k.ajax=co=!!co,d.ajaxTransport(function(f){var b,S;if(k.cors||co&&!f.crossDomain)return{send:function(M,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(F in M)X.setRequestHeader(F,M[F]);b=function(Ne){return function(){b&&(b=S=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,Ne==="abort"?X.abort():Ne==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(ja[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),S=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=S:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&S()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(Ne){if(b)throw Ne}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,S;return{send:function(M,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",S=function(F){b.remove(),S=null,F&&H(F.type==="error"?404:200,F.type)}),T.head.appendChild(b[0])},abort:function(){S&&S()}}}});var zo=[],Ko=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=zo.pop()||d.expando+"_"+wn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,S){var M,H,F,X=f.jsonp!==!1&&(Ko.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ko.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return M=f.jsonpCallback=A(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Ko,"$1"+M):f.jsonp!==!1&&(f.url+=($n.test(f.url)?"&":"?")+f.jsonp+"="+M),f.converters["script json"]=function(){return F||d.error(M+" was not called"),F[0]},f.dataTypes[0]="json",H=r[M],r[M]=function(){F=arguments},S.always(function(){H===void 0?d(r).removeProp(M):r[M]=H,f[M]&&(f.jsonpCallback=b.jsonpCallback,zo.push(M)),F&&A(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=T.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,S){if(typeof f!="string")return[];typeof b=="boolean"&&(S=b,b=!1);var M,H,F;return b||(k.createHTMLDocument?(b=T.implementation.createHTMLDocument(""),M=b.createElement("base"),M.href=T.location.href,b.head.appendChild(M)):b=T),H=oe.exec(f),F=!S&&[],H?[b.createElement(H[1])]:(H=_e([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,S){var M,H,F,X=this,Ne=f.indexOf(" ");return Ne>-1&&(M=mi(f.slice(Ne)),f=f.slice(0,Ne)),A(b)?(S=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Te){F=arguments,X.html(M?d("<div>").append(d.parseHTML(Te)).find(M):Te)}).always(S&&function(Te,mt){X.each(function(){S.apply(this,F||[Te.responseText,mt,Te])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,S){var M,H,F,X,Ne,Te,mt,Dt=d.css(f,"position"),ii=d(f),Mt={};Dt==="static"&&(f.style.position="relative"),Ne=ii.offset(),F=d.css(f,"top"),Te=d.css(f,"left"),mt=(Dt==="absolute"||Dt==="fixed")&&(F+Te).indexOf("auto")>-1,mt?(M=ii.position(),X=M.top,H=M.left):(X=parseFloat(F)||0,H=parseFloat(Te)||0),A(b)&&(b=b.call(f,S,d.extend({},Ne))),b.top!=null&&(Mt.top=b.top-Ne.top+X),b.left!=null&&(Mt.left=b.left-Ne.left+H),"using"in b?b.using.call(f,Mt):ii.css(Mt)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,S,M=this[0];if(M)return M.getClientRects().length?(b=M.getBoundingClientRect(),S=M.ownerDocument.defaultView,{top:b.top+S.pageYOffset,left:b.left+S.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,S,M=this[0],H={top:0,left:0};if(d.css(M,"position")==="fixed")b=M.getBoundingClientRect();else{for(b=this.offset(),S=M.ownerDocument,f=M.offsetParent||S.documentElement;f&&(f===S.body||f===S.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==M&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(M,"marginTop",!0),left:b.left-H.left-d.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||tt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var S=b==="pageYOffset";d.fn[f]=function(M){return Se(this,function(H,F,X){var Ne;if(L(H)?Ne=H:H.nodeType===9&&(Ne=H.defaultView),X===void 0)return Ne?Ne[b]:H[F];Ne?Ne.scrollTo(S?Ne.pageXOffset:X,S?X:Ne.pageYOffset):H[F]=X},f,M,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=ei(k.pixelPosition,function(S,M){if(M)return M=ri(S,b),Tt.test(M)?d(S).position()[b]+"px":M})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(S,M){d.fn[M]=function(H,F){var X=arguments.length&&(S||typeof H!="boolean"),Ne=S||(H===!0||F===!0?"margin":"border");return Se(this,function(Te,mt,Dt){var ii;return L(Te)?M.indexOf("outer")===0?Te["inner"+f]:Te.document.documentElement["client"+f]:Te.nodeType===9?(ii=Te.documentElement,Math.max(Te.body["scroll"+f],ii["scroll"+f],Te.body["offset"+f],ii["offset"+f],ii["client"+f])):Dt===void 0?d.css(Te,mt,Ne):d.style(Te,mt,Dt,Ne)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(S){return this.on(b,S)}}),d.fn.extend({bind:function(f,b,S){return this.on(f,null,b,S)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,S,M){return this.on(b,f,S,M)},undelegate:function(f,b,S){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",S)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(S,M){return arguments.length>0?this.on(b,null,S,M):this.trigger(b)}});var Xo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var S,M,H;if(typeof b=="string"&&(S=f[b],b=f,f=S),!!A(f))return M=c.call(arguments,2),H=function(){return f.apply(b||this,M.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=A,d.isWindow=L,d.camelCase=pt,d.type=p,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Xo,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var go=r.jQuery,_n=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=_n),f&&r.jQuery===d&&(r.jQuery=go),d},typeof s>"u"&&(r.jQuery=r.$=d),d})}),M0=B5(H5()),zp=(O0=M0.default)!=null?O0:M0;});var R0=si(()=>{Up();Up()});var Ci,Vp=si(()=>{R0();Ci="jQuery"in window&&"$"in window?window.$:zp;window.jQuery=Ci;window.$=Ci});function F5(e,t=!1){if(typeof location=="undefined")return"";let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let s=0;s<r.length;s++)if(r[s].slice(0,r[s].indexOf("="))===e){let l=r[s].slice(r[s].indexOf("=")+1);return l.length>0?unescape(l):""}return""}var ba,wd=si(()=>{ba=F5});var D0,Ki,xd,as=si(()=>{Ki=typeof Deno!="undefined"||typeof location=="undefined"||location.host==="av.dev.archive.org"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org/)||location.host.endsWith(".code.archive.org")||location.host.endsWith(".dev.archive.org")||location.host.startsWith("ia-petabox")||location.host.split(":")[0]==="localhost"||((D0=globalThis==null?void 0:globalThis.navigator)==null?void 0:D0.onLine)===!1?console.log.bind(console):()=>{},xd=console.error.bind(console)});function z5(e,t,r="false",s=null){if(typeof e!="string")throw new Error("first arg should be a string");$(e).on("click",s,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var ia,Wp=si(()=>{ia=z5});var j0=si(()=>{window.jwplayer=function(e){function t(h){for(var g,m,y=h[0],_=h[1],w=0,k=[];w<y.length;w++)m=y[w],Object.prototype.hasOwnProperty.call(s,m)&&s[m]&&k.push(s[m][0]),s[m]=0;for(g in _)Object.prototype.hasOwnProperty.call(_,g)&&(e[g]=_[g]);for(u&&u(h);k.length;)k.shift()()}var r={},s={0:0};function l(h){if(r[h])return r[h].exports;var g=r[h]={i:h,l:!1,exports:{}};return e[h].call(g.exports,g,g.exports,l),g.l=!0,g.exports}l.e=function(h){var g=[],m=s[h];if(m!==0)if(m)g.push(m[2]);else{var y=new Promise(function(L,T){m=s[h]=[L,T]});g.push(m[2]=y);var _,w=document.createElement("script");w.charset="utf-8",w.timeout=120,l.nc&&w.setAttribute("nonce",l.nc),w.src=function(L){return l.p+""+({1:"jwplayer.controls",2:"jwplayer.controls.tizen",3:"jwplayer.core",4:"jwplayer.core.controls",5:"jwplayer.core.controls.html5",6:"jwplayer.core.controls.polyfills",7:"jwplayer.core.controls.polyfills.html5",8:"polyfills.intersection-observer",9:"polyfills.webvtt",10:"provider.html5",11:"vttparser"}[L]||L)+".js"}(h);var k=new Error;_=function(L){w.onerror=w.onload=null,clearTimeout(A);var T=s[h];if(T!==0){if(T){var E=L&&(L.type==="load"?"missing":L.type),a=L&&L.target&&L.target.src;k.message="Loading chunk "+h+` failed.
(`+E+": "+a+")",k.name="ChunkLoadError",k.type=E,k.request=a,T[1](k)}s[h]=void 0}};var A=setTimeout(function(){_({type:"timeout",target:w})},12e4);w.onerror=w.onload=_,document.head.appendChild(w)}return Promise.all(g)},l.m=e,l.c=r,l.d=function(h,g,m){l.o(h,g)||Object.defineProperty(h,g,{enumerable:!0,get:m})},l.r=function(h){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,g){if(1&g&&(h=l(h)),8&g||4&g&&typeof h=="object"&&h&&h.__esModule)return h;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:h}),2&g&&typeof h!="string")for(var y in h)l.d(m,y,function(_){return h[_]}.bind(null,y));return m},l.n=function(h){var g=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(g,"a",g),g},l.o=function(h,g){return Object.prototype.hasOwnProperty.call(h,g)},l.p="",l.oe=function(h){throw console.error(h),h};var o=window.webpackJsonpjwplayer=window.webpackJsonpjwplayer||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var n=0;n<o.length;n++)t(o[n]);var u=c;return l(l.s=56)}([function(e,t,r){"use strict";r.d(t,"f",function(){return d}),r.d(t,"v",function(){return C}),r.d(t,"i",function(){return J}),r.d(t,"h",function(){return Oe}),r.d(t,"z",function(){return st}),r.d(t,"b",function(){return qe}),r.d(t,"j",function(){return Ie}),r.d(t,"e",function(){return Re}),r.d(t,"l",function(){return ot}),r.d(t,"a",function(){return Pt}),r.d(t,"A",function(){return Ct}),r.d(t,"m",function(){return at}),r.d(t,"d",function(){return Ce}),r.d(t,"g",function(){return Je}),r.d(t,"x",function(){return tt}),r.d(t,"p",function(){return oi}),r.d(t,"r",function(){return ui}),r.d(t,"s",function(){return Ot}),r.d(t,"o",function(){return It}),r.d(t,"q",function(){return At}),r.d(t,"n",function(){return St}),r.d(t,"t",function(){return kt}),r.d(t,"k",function(){return Ue}),r.d(t,"y",function(){return _e}),r.d(t,"w",function(){return Ve}),r.d(t,"u",function(){return ut});var s=r(16),l={},o=Array.prototype,c=Object.prototype,n=Function.prototype,u=o.slice,h=o.concat,g=c.toString,m=c.hasOwnProperty,y=o.map,_=o.reduce,w=o.forEach,k=o.filter,A=o.every,L=o.some,T=o.indexOf,E=Array.isArray,a=Object.keys,p=n.bind,v=window.isFinite,d=function(re,Pe,He){var vt,lt;if(re==null)return re;if(w&&re.forEach===w)re.forEach(Pe,He);else if(re.length===+re.length){for(vt=0,lt=re.length;vt<lt;vt++)if(Pe.call(He,re[vt],vt,re)===l)return}else{var Et=we(re);for(vt=0,lt=Et.length;vt<lt;vt++)if(Pe.call(He,re[Et[vt]],Et[vt],re)===l)return}return re},x=d,C=function(re,Pe,He){var vt=[];return re==null?vt:y&&re.map===y?re.map(Pe,He):(d(re,function(lt,Et,Ut){vt.push(Pe.call(He,lt,Et,Ut))}),vt)},N=C,G="Reduce of empty array with no initial value",q=function(re,Pe,He,vt){var lt=arguments.length>2;if(re==null&&(re=[]),_&&re.reduce===_)return vt&&(Pe=Pt(Pe,vt)),lt?re.reduce(Pe,He):re.reduce(Pe);if(d(re,function(Et,Ut,Jt){lt?He=Pe.call(vt,He,Et,Ut,Jt):(He=Et,lt=!0)}),!lt)throw new TypeError(G);return He},K=q,oe=q,J=function(re,Pe,He){var vt;return de(re,function(lt,Et,Ut){if(Pe.call(He,lt,Et,Ut))return vt=lt,!0}),vt},Q=J,Oe=function(re,Pe,He){var vt=[];return re==null?vt:k&&re.filter===k?re.filter(Pe,He):(d(re,function(lt,Et,Ut){Pe.call(He,lt,Et,Ut)&&vt.push(lt)}),vt)},ge=Oe,W=function(re,Pe,He){Pe||(Pe=Ue);var vt=!0;return re==null?vt:A&&re.every===A?re.every(Pe,He):(d(re,function(lt,Et,Ut){if(!(vt=vt&&Pe.call(He,lt,Et,Ut)))return l}),!!vt)},se=W,de=function(re,Pe,He){Pe||(Pe=Ue);var vt=!1;return re==null?vt:L&&re.some===L?re.some(Pe,He):(d(re,function(lt,Et,Ut){if(vt||(vt=Pe.call(He,lt,Et,Ut)))return l}),!!vt)},Z=de,ye=function(re,Pe){var He;return function(){return--re>0&&(He=Pe.apply(this,arguments)),re<=1&&(Pe=null),He}},Y=function(re){return re==null?Ue:oi(re)?re:_e(re)},ce=function(re){return function(Pe,He,vt){var lt={};return He=Y(He),d(Pe,function(Et,Ut){var Jt=He.call(vt,Et,Ut,Pe);re(lt,Jt,Et)}),lt}},Ge=ce(function(re,Pe,He){I(re,Pe)?re[Pe].push(He):re[Pe]=[He]}),ht=ce(function(re,Pe,He){re[Pe]=He}),st=function(re,Pe,He,vt){for(var lt=(He=Y(He)).call(vt,Pe),Et=0,Ut=re.length;Et<Ut;){var Jt=Et+Ut>>>1;He.call(vt,re[Jt])<lt?Et=Jt+1:Ut=Jt}return Et},qe=function(re,Pe){return re!=null&&(re.length!==+re.length&&(re=$e(re)),ot(re,Pe)>=0)},Se=qe,Ie=function(re,Pe){return J(re,Ve(Pe))},Re=function(re){var Pe=h.apply(o,u.call(arguments,1));return Oe(re,function(He){return!qe(Pe,He)})},ot=function(re,Pe,He){if(re==null)return-1;var vt=0,lt=re.length;if(He){if(typeof He!="number")return re[vt=st(re,Pe)]===Pe?vt:-1;vt=He<0?Math.max(0,lt+He):He}if(T&&re.indexOf===T)return re.indexOf(Pe,He);for(;vt<lt;vt++)if(re[vt]===Pe)return vt;return-1},pt=function(){},Pt=function(re,Pe){var He,vt;if(p&&re.bind===p)return p.apply(re,u.call(arguments,1));if(!oi(re))throw new TypeError;return He=u.call(arguments,2),vt=function(){if(!(this instanceof vt))return re.apply(Pe,He.concat(u.call(arguments)));pt.prototype=re.prototype;var lt=new pt;pt.prototype=null;var Et=re.apply(lt,He.concat(u.call(arguments)));return Object(Et)===Et?Et:lt}},Qe=function(re){var Pe=u.call(arguments,1);return function(){for(var He=0,vt=Pe.slice(),lt=0,Et=vt.length;lt<Et;lt++)I(vt[lt],"partial")&&(vt[lt]=arguments[He++]);for(;He<arguments.length;)vt.push(arguments[He++]);return re.apply(this,vt)}},ne=Qe(ye,2),ie=function(re,Pe){var He=u.call(arguments,2);return setTimeout(function(){return re.apply(null,He)},Pe)},Ke=Qe(ie,{partial:Qe},1),Ct=function(re,Pe,He){var vt,lt,Et,Ut=null,Jt=0;He||(He={});var Lt=function(){Jt=He.leading===!1?0:Xe(),Ut=null,Et=re.apply(vt,lt),vt=lt=null};return function(){Jt||He.leading!==!1||(Jt=Xe);var jt=Pe-(Xe-Jt);return vt=this,lt=arguments,jt<=0?(clearTimeout(Ut),Ut=null,Jt=Xe,Et=re.apply(vt,lt),vt=lt=null):Ut||He.trailing===!1||(Ut=setTimeout(Lt,jt)),Et}},we=function(re){if(!ct(re))return[];if(a)return a(re);var Pe=[];for(var He in re)I(re,He)&&Pe.push(He);return Pe},$e=function(re){for(var Pe=we(re),He=we.length,vt=Array(He),lt=0;lt<He;lt++)vt[lt]=re[Pe[lt]];return vt},at=function(re){for(var Pe={},He=we(re),vt=0,lt=He.length;vt<lt;vt++)Pe[re[He[vt]]]=He[vt];return Pe},Ce=function(re){return d(u.call(arguments,1),function(Pe){if(Pe)for(var He in Pe)re[He]===void 0&&(re[He]=Pe[He])}),re},Je=Object.assign||function(re){return d(u.call(arguments,1),function(Pe){if(Pe)for(var He in Pe)Object.prototype.hasOwnProperty.call(Pe,He)&&(re[He]=Pe[He])}),re},tt=function(re){var Pe={},He=h.apply(o,u.call(arguments,1));return d(He,function(vt){vt in re&&(Pe[vt]=re[vt])}),Pe},Vt=E||function(re){return g.call(re)=="[object Array]"},ct=function(re){return re===Object(re)},gt=[];d(["Function","String","Number","Date","RegExp"],function(re){gt[re]=function(Pe){return g.call(Pe)=="[object "+re+"]"}}),gt.Function=function(re){return typeof re=="function"};var Rt=gt.Date,ti=gt.RegExp,oi=gt.Function,ui=gt.Number,Ot=gt.String,It=function(re){return v(re)&&!At(parseFloat(re))},At=function(re){return ui(re)&&re!=+re},St=function(re){return re===!0||re===!1||g.call(re)=="[object Boolean]"},kt=function(re){return re===void 0},I=function(re,Pe){return m.call(re,Pe)},Ue=function(re){return re},_e=function(re){return function(Pe){return Pe[re]}},Ve=function(re){return function(Pe){if(Pe===re)return!0;for(var He in re)if(re[He]!==Pe[He])return!1;return!0}},Xe=s.a,ut=function(re){return ui(re)&&!At(re)};t.c={after:function(re,Pe){return function(){if(--re<1)return Pe.apply(this,arguments)}},all:W,any:de,before:ye,bind:Pt,clone:function(re){return ct(re)?Vt(re)?re.slice():Je({},re):re},collect:N,compact:function(re){return Oe(re,Ue)},constant:function(re){return function(){return re}},contains:qe,debounce:function(re,Pe){var He;return Pe===void 0&&(Pe=100),function(){for(var vt=this,lt=arguments.length,Et=new Array(lt),Ut=0;Ut<lt;Ut++)Et[Ut]=arguments[Ut];clearTimeout(He),He=setTimeout(function(){re.apply(vt,Et)},Pe)}},defaults:Ce,defer:Ke,delay:ie,detect:Q,difference:Re,each:d,every:se,extend:Je,filter:Oe,find:J,findWhere:Ie,foldl:K,forEach:x,groupBy:Ge,has:I,identity:Ue,include:Se,indexBy:ht,indexOf:ot,inject:oe,invert:at,isArray:Vt,isBoolean:St,isDate:Rt,isFinite:It,isFunction:oi,isNaN:At,isNull:function(re){return re===null},isNumber:ui,isObject:ct,isRegExp:ti,isString:Ot,isUndefined:kt,isValidNumber:ut,keys:we,last:function(re,Pe,He){if(re!=null)return Pe==null||He?re[re.length-1]:u.call(re,Math.max(re.length-Pe,0))},map:C,matches:Ve,max:function(re,Pe,He){if(!Pe&&Vt(re)&&re[0]===+re[0]&&re.length<65535)return Math.max.apply(Math,re);var vt=-1/0,lt=-1/0;return d(re,function(Et,Ut,Jt){var Lt=Pe?Pe.call(He,Et,Ut,Jt):Et;Lt>lt&&(vt=Et,lt=Lt)}),vt},memoize:function(re,Pe){var He={};return Pe||(Pe=Ue),function(){var vt=Pe.apply(this,arguments);return I(He,vt)?He[vt]:He[vt]=re.apply(this,arguments)}},now:Xe,omit:function(re){var Pe={},He=h.apply(o,u.call(arguments,1));for(var vt in re)qe(He,vt)||(Pe[vt]=re[vt]);return Pe},once:ne,partial:Qe,pick:tt,pluck:function(re,Pe){return C(re,_e(Pe))},property:_e,propertyOf:function(re){return re==null?function(){}:function(Pe){return re[Pe]}},reduce:q,reject:function(re,Pe,He){return Oe(re,function(vt,lt,Et){return!Pe.call(He,vt,lt,Et)},He)},result:function(re,Pe){if(re!=null){var He=re[Pe];return oi(He)?He.call(re):He}},select:ge,size:function(re){return re==null?0:re.length===+re.length?re.length:we(re).length},some:Z,sortedIndex:st,throttle:Ct,where:function(re,Pe){return Oe(re,Ve(Pe))},without:function(re){return Re(re,u.call(arguments,1))}}},function(e,t,r){"use strict";r.d(t,"v",function(){return l}),r.d(t,"u",function(){return o}),r.d(t,"t",function(){return c}),r.d(t,"q",function(){return n}),r.d(t,"r",function(){return u}),r.d(t,"p",function(){return h}),r.d(t,"b",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"s",function(){return y}),r.d(t,"e",function(){return _}),r.d(t,"i",function(){return w}),r.d(t,"a",function(){return k}),r.d(t,"f",function(){return A}),r.d(t,"c",function(){return L}),r.d(t,"g",function(){return T}),r.d(t,"h",function(){return E}),r.d(t,"l",function(){return a}),r.d(t,"j",function(){return p}),r.d(t,"k",function(){return v}),r.d(t,"m",function(){return d}),r.d(t,"n",function(){return x}),r.d(t,"o",function(){return C}),r.d(t,"x",function(){return N}),r.d(t,"w",function(){return G}),r.d(t,"y",function(){return q});var s=r(0),l=1e5,o=100001,c=100002,n=101e3,u=102e3,h=102700,g=200001,m=202e3,y=104e3,_=203e3,w=203640,k=203700,A=204e3,L=306e3,T=308e3,E=308640,a="cantPlayVideo",p="badConnection",v="cantLoadPlayer",d="liveStreamDown",x="technicalError",C=function(){function K(oe,J,Q){this.code=Object(s.u)(J)?J:0,this.sourceError=Q||null,oe&&(this.key=oe)}return K.logMessage=function(oe){var J=oe%1e3,Q=Math.floor((oe-J)/1e3),Oe=oe.toString();return J>=400&&J<600&&(Oe=Q+"400-"+Q+"599"),"JW Player "+(oe>299999&&oe<4e5?"Warning":"Error")+" "+oe+". For more information see https://developer.jwplayer.com/jw-player/docs/developer-guide/api/errors-reference#"+Oe},K}();function N(K,oe,J){return J instanceof C&&J.code?J:new C(K,oe,J)}function G(K,oe){var J=N(x,oe,K);return J.code=(K&&K instanceof C&&K.code||0)+oe,J}function q(K){var oe=K.name,J=K.message;switch(oe){case"AbortError":return/pause/.test(J)?303213:/load/.test(J)?303212:303210;case"NotAllowedError":return 303220;case"NotSupportedError":return 303230;default:return 303200}}},function(e,t,r){"use strict";r.d(t,"i",function(){return o}),r.d(t,"e",function(){return c}),r.d(t,"j",function(){return n}),r.d(t,"a",function(){return u}),r.d(t,"b",function(){return h}),r.d(t,"g",function(){return g}),r.d(t,"d",function(){return m}),r.d(t,"f",function(){return y}),r.d(t,"h",function(){return _}),r.d(t,"c",function(){return w});var s=r(0),l=window.parseFloat;function o(k){return k.replace(/^\s+|\s+$/g,"")}function c(k,A,L){for(k=""+k,L=L||"0";k.length<A;)k=L+k;return k}function n(k,A){for(var L=k.attributes,T=0;T<L.length;T++)if(L[T].name&&L[T].name.toLowerCase()===A.toLowerCase())return L[T].value.toString();return""}function u(k){if(!k||k.substr(0,4)==="rtmp")return"";var A=/[(,]format=(m3u8|mpd)-/i.exec(k);if(A)return A[1];var L=k.replace(/^.+?\.(\w+)(?:[;].*)?(?:[?#].*)?$/,"$1");return L!==k?L.toLowerCase():(k=k.split("?")[0].split("#")[0]).lastIndexOf(".")>-1?k.substr(k.lastIndexOf(".")+1,k.length).toLowerCase():""}function h(k){var A=(k/60|0)%60,L=k%60;return c((k/3600|0).toString(),2)+":"+c(A.toString(),2)+":"+c(L.toFixed(3),6)}function g(k,A){if(!k)return 0;if(Object(s.u)(k))return k;var L=k.replace(",","."),T=L.slice(-1),E=L.split(":"),a=E.length,p=0;if(T==="s")p=l(L);else if(T==="m")p=60*l(L);else if(T==="h")p=3600*l(L);else if(a>1){var v=a-1;a===4&&(A&&(p=l(E[v])/A),v-=1),p+=l(E[v]),p+=60*l(E[v-1]),a>=3&&(p+=3600*l(E[v-2]))}else p=l(L);return Object(s.u)(p)?p:0}function m(k,A,L){if(Object(s.s)(k)&&k.slice(-1)==="%"){var T=l(k);return A&&Object(s.u)(A)&&Object(s.u)(T)?A*T/100:null}return g(k,L)}function y(k,A){return k.map(function(L){return A+L})}function _(k,A){return k.map(function(L){return L+A})}function w(k){return!!k&&Object(s.s)(k)&&k.slice(-1)==="%"}},function(e,t,r){"use strict";r.d(t,"jb",function(){return s}),r.d(t,"mb",function(){return l}),r.d(t,"kb",function(){return o}),r.d(t,"ob",function(){return c}),r.d(t,"pb",function(){return n}),r.d(t,"lb",function(){return u}),r.d(t,"nb",function(){return h}),r.d(t,"qb",function(){return g}),r.d(t,"s",function(){return m}),r.d(t,"u",function(){return y}),r.d(t,"t",function(){return _}),r.d(t,"o",function(){return w}),r.d(t,"r",function(){return k}),r.d(t,"Z",function(){return A}),r.d(t,"W",function(){return L}),r.d(t,"v",function(){return T}),r.d(t,"Y",function(){return E}),r.d(t,"w",function(){return a}),r.d(t,"ub",function(){return p}),r.d(t,"a",function(){return v}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return x}),r.d(t,"d",function(){return C}),r.d(t,"e",function(){return N}),r.d(t,"f",function(){return G}),r.d(t,"i",function(){return q}),r.d(t,"F",function(){return K}),r.d(t,"gb",function(){return oe}),r.d(t,"Q",function(){return J}),r.d(t,"C",function(){return Q}),r.d(t,"B",function(){return Oe}),r.d(t,"E",function(){return ge}),r.d(t,"q",function(){return W}),r.d(t,"cb",function(){return se}),r.d(t,"n",function(){return de}),r.d(t,"G",function(){return Z}),r.d(t,"H",function(){return ye}),r.d(t,"N",function(){return Y}),r.d(t,"O",function(){return ce}),r.d(t,"R",function(){return Ge}),r.d(t,"ib",function(){return ht}),r.d(t,"bb",function(){return st}),r.d(t,"D",function(){return qe}),r.d(t,"S",function(){return Se}),r.d(t,"P",function(){return Ie}),r.d(t,"T",function(){return Re}),r.d(t,"V",function(){return ot}),r.d(t,"M",function(){return pt}),r.d(t,"L",function(){return Pt}),r.d(t,"K",function(){return Qe}),r.d(t,"I",function(){return ne}),r.d(t,"J",function(){return ie}),r.d(t,"U",function(){return Ke}),r.d(t,"p",function(){return Ct}),r.d(t,"y",function(){return we}),r.d(t,"hb",function(){return $e}),r.d(t,"db",function(){return at}),r.d(t,"eb",function(){return Ce}),r.d(t,"g",function(){return Je}),r.d(t,"h",function(){return tt}),r.d(t,"rb",function(){return Vt}),r.d(t,"sb",function(){return ct}),r.d(t,"ab",function(){return gt}),r.d(t,"A",function(){return Rt}),r.d(t,"m",function(){return ti}),r.d(t,"l",function(){return oi}),r.d(t,"fb",function(){return ui}),r.d(t,"tb",function(){return Ot}),r.d(t,"z",function(){return It}),r.d(t,"k",function(){return At}),r.d(t,"X",function(){return St}),r.d(t,"j",function(){return kt}),r.d(t,"x",function(){return I});var s="buffering",l="idle",o="complete",c="paused",n="playing",u="error",h="loading",g="stalled",m="drag",y="dragStart",_="dragEnd",w="click",k="doubleClick",A="over",L="move",T="enter",E="out",a=u,p="warning",v="adClick",d="mediaLoaded",x="adPause",C="adPlay",N="adSkipped",G="adTime",q="autostartNotAllowed",K=o,oe="ready",J="seek",Q="beforePlay",Oe="beforeComplete",ge="bufferFull",W="displayClick",se="playlistComplete",de="cast",Z="mediaError",ye="firstFrame",Y="playAttempt",ce="playAttemptFailed",Ge="seeked",ht="setupError",st="state",qe="bufferChange",Se="time",Ie="ratechange",Re="mediaType",ot="volume",pt="mute",Pt="metadataCueParsed",Qe="meta",ne="levels",ie="levelsChanged",Ke="visualQuality",Ct="controls",we="fullscreen",$e="resize",at="playlistItem",Ce="playlist",Je="audioTracks",tt="audioTrackChanged",Vt="subtitlesTracks",ct="subtitlesTrackChanged",gt="playbackRateChanged",Rt="logoClick",ti="captionsList",oi="captionsChanged",ui="providerFirstFrame",Ot="userAction",It="instreamClick",At="breakpoint",St="fullscreenchange",kt="bandwidthEstimate",I="float"},function(e,t,r){"use strict";r.d(t,"b",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return n});var s=r(2);function l(u){var h="";return u&&(u.localName?h=u.localName:u.baseName&&(h=u.baseName)),h}function o(u){var h="";return u&&(u.textContent?h=Object(s.i)(u.textContent):u.text&&(h=Object(s.i)(u.text))),h}function c(u,h){return u.childNodes[h]}function n(u){return u.childNodes?u.childNodes.length:0}},function(e,t,r){"use strict";function s(x){return navigator.userAgent.match(x)!==null}r.d(t,"f",function(){return o}),r.d(t,"l",function(){return c}),r.d(t,"k",function(){return n}),r.d(t,"p",function(){return u}),r.d(t,"g",function(){return h}),r.d(t,"e",function(){return g}),r.d(t,"n",function(){return m}),r.d(t,"r",function(){return y}),r.d(t,"s",function(){return _}),r.d(t,"d",function(){return w}),r.d(t,"i",function(){return k}),r.d(t,"q",function(){return A}),r.d(t,"j",function(){return L}),r.d(t,"c",function(){return T}),r.d(t,"b",function(){return E}),r.d(t,"o",function(){return a}),r.d(t,"m",function(){return p}),r.d(t,"h",function(){return v}),r.d(t,"a",function(){return d});var l=function(){return navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},o=function(){return s(/gecko\//i)},c=function(){return s(/iP(hone|od)/i)},n=function(){return s(/iPad/i)||l()},u=function(){return s(/Macintosh/i)&&!l()},h=function(){return s(/FBAV/i)},g=function(){return s(/\sEdge?\/\d+/i)},m=function(){return s(/msie/i)},y=function(){return s(/SMART-TV/)},_=function(){return y()&&!s(/SamsungBrowser/)},w=function(){return s(/\s(?:(?:Headless)?Chrome|CriOS)\//i)&&!g()&&!s(/UCBrowser/i)&&!y()},k=function(){return!s(/\sEdg\/\d+/i)&&(g()||s(/trident\/.+rv:\s*11/i)||m())},A=function(){return s(/safari/i)&&!s(/(?:Chrome|CriOS|chromium|android|phantom)/i)||y()},L=function(){return s(/iP(hone|ad|od)/i)||l()};function T(){return!(s(/chrome\/[123456789]/i)&&!s(/chrome\/18/i)&&!o())&&E()}var E=function(){return s(/Android/i)&&!s(/Windows Phone/i)},a=function(){return L()||E()||s(/Windows Phone/i)};function p(){try{return window.self!==window.top}catch(x){return!0}}var v=function(){return!1},d=function(){return 0}},function(e,t,r){"use strict";r.d(t,"j",function(){return h}),r.d(t,"f",function(){return g}),r.d(t,"r",function(){return m}),r.d(t,"k",function(){return y}),r.d(t,"t",function(){return _}),r.d(t,"s",function(){return k}),r.d(t,"v",function(){return A}),r.d(t,"e",function(){return E}),r.d(t,"b",function(){return a}),r.d(t,"p",function(){return p}),r.d(t,"q",function(){return v}),r.d(t,"w",function(){return d}),r.d(t,"u",function(){return x}),r.d(t,"i",function(){return C}),r.d(t,"c",function(){return N}),r.d(t,"h",function(){return G}),r.d(t,"d",function(){return q}),r.d(t,"n",function(){return K}),r.d(t,"l",function(){return oe}),r.d(t,"o",function(){return J}),r.d(t,"m",function(){return Q}),r.d(t,"g",function(){return Oe}),r.d(t,"a",function(){return ge});var s,l=r(0),o=r(2),c=r(7),n=window.DOMParser,u=!0;function h(W,se){return W.classList.contains(se)}function g(W){return y(W).firstChild}function m(W,se){C(W),function(de,Z){if(Z){for(var ye=document.createDocumentFragment(),Y=y(Z).childNodes,ce=0;ce<Y.length;ce++)ye.appendChild(Y[ce].cloneNode(!0));de.appendChild(ye)}}(W,se)}function y(W){var se=function(ye){if(s||(s=new n,u=function(){try{if(s.parseFromString("","text/html"))return!0}catch(ce){}return!1}()),u)return s.parseFromString(ye,"text/html").body;var Y=document.implementation.createHTMLDocument("");return ye.toLowerCase().indexOf("<!doctype")>-1?Y.documentElement.innerHTML=ye:Y.body.innerHTML=ye,Y.body}(W);_(se);for(var de=se.querySelectorAll("*"),Z=de.length;Z--;)k(de[Z]);return se}function _(W){for(var se=W.querySelectorAll("script,object,iframe,meta"),de=se.length;de--;){var Z=se[de];Z.parentNode.removeChild(Z)}return W}var w=new RegExp(/^((((https?):\/\/)|(mailto:))(%[0-9A-Fa-f]{2}|[-()_.!~*';/?:@&=+$,A-Za-z0-9])+)([).!';/?:,][[:blank:|:blank:]])?$/);function k(W){for(var se=W.attributes,de=se.length;de--;){var Z=se[de].name;if(/^on/.test(Z)&&W.removeAttribute(Z),/href/.test(Z)){var ye=se[de].value;/javascript:|javascript&colon;/.test(ye)||!w.test(ye)?W.removeAttribute(Z):console.warn("Invalid or unsafe URL")}}return W}function A(W){return W+(W.toString().indexOf("%")>0?"":"px")}function L(W){return Object(l.s)(W.className)?W.className.split(" "):[]}function T(W,se){se=Object(o.i)(se),W.className!==se&&(W.className=se)}function E(W){return W.classList?W.classList:L(W)}function a(W,se){var de=L(W);(Array.isArray(se)?se:se.split(" ")).forEach(function(Z){Object(l.b)(de,Z)||de.push(Z)}),T(W,de.join(" "))}function p(W,se){var de=L(W),Z=Array.isArray(se)?se:se.split(" ");T(W,Object(l.e)(de,Z).join(" "))}function v(W,se,de){var Z=W.className||"";se.test(Z)?Z=Z.replace(se,de):de&&(Z+=" "+de),T(W,Z)}function d(W,se,de){var Z=h(W,se);(de=Object(l.n)(de)?de:!Z)!==Z&&(de?a(W,se):p(W,se))}function x(W,se,de){W.setAttribute(se,de)}function C(W){for(;W.firstChild;)W.removeChild(W.firstChild)}function N(W){var se=document.createElement("link");se.rel="stylesheet",se.href=W,document.getElementsByTagName("head")[0].appendChild(se)}function G(W){W&&C(W)}function q(W){var se={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!W||!document.body.contains(W))return se;var de=W.getBoundingClientRect(),Z=window.pageYOffset,ye=window.pageXOffset;return(de.width||de.height||de.left||de.top)&&(se.left=de.left+ye,se.right=de.right+ye,se.top=de.top+Z,se.bottom=de.bottom+Z,se.width=de.right-de.left,se.height=de.bottom-de.top),se}function K(W,se){W.insertBefore(se,W.firstChild)}function oe(W){return W.nextElementSibling}function J(W){return W.previousElementSibling}function Q(W,se,de){if(de===void 0&&(de={}),w.test(W)){var Z=document.createElement("a");Z.href=W,Z.target=se,Z=k(Object(l.g)(Z,de)),c.Browser.firefox?Z.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})):Z.click()}}function Oe(){var W=window.screen.orientation;return!!W&&(W.type==="landscape-primary"||W.type==="landscape-secondary")||window.orientation===90||window.orientation===-90}function ge(W){return function(se){var de=document.createElement("textarea");return de.innerHTML=se,de.value}(W).replace(/&|<|>|"|''/gm,function(se){return"&#"+se.charCodeAt(0)+";"}).replace(/&#60;(\/?)(b|strong|i|em|p|br|ul|ol|li|h.)&#62;/gim,"<$1$2>")}},function(e,t,r){"use strict";r.r(t);var s=r(5);function l(g,m){var y=g.exec(m);if(y&&y.length>1)return y[1]}r.d(t,"Browser",function(){return n}),r.d(t,"OS",function(){return u}),r.d(t,"Features",function(){return h});var o=navigator.userAgent,c=function(){},n={get androidNative(){return Object(s.c)()},get chrome(){return Object(s.d)()},get edge(){return Object(s.e)()},get facebook(){return Object(s.g)()},get firefox(){return Object(s.f)()},get ie(){return Object(s.i)()},get msie(){return Object(s.n)()},get safari(){return Object(s.q)()},get version(){return function(g,m){var y,_,w,k;if(g.chrome)y=m.indexOf("Chrome")!==-1?m.substring(m.indexOf("Chrome")+7):m.substring(m.indexOf("CriOS")+6);else if(g.safari)y=m.substring(m.indexOf("Version")+8);else if(g.firefox)y=m.substring(m.indexOf("Firefox")+8);else if(g.edge){var A=m.indexOf("Edge");A===-1?A=m.indexOf("Edg")+4:A+=5,y=m.substring(A)}else g.ie&&(m.indexOf("rv:")!==-1?y=m.substring(m.indexOf("rv:")+3):m.indexOf("MSIE")!==-1&&(y=m.substring(m.indexOf("MSIE")+5)));return y&&((k=y.indexOf(";"))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(" "))!==-1&&(y=y.substring(0,k)),(k=y.indexOf(")"))!==-1&&(y=y.substring(0,k)),_=parseInt(y,10),w=parseInt(y.split(".")[1],10)),{version:y,major:_,minor:w}}(this,o)}},u={get android(){return Object(s.b)()},get iOS(){return Object(s.j)()},get mobile(){return Object(s.o)()},get mac(){return Object(s.p)()},get iPad(){return Object(s.k)()},get iPhone(){return Object(s.l)()},get windows(){return o.indexOf("Windows")>-1},get tizen(){return Object(s.r)()},get tizenApp(){return Object(s.s)()},get version(){return function(g,m){var y,_,w;if(g.windows)switch(y=l(/Windows(?: NT|)? ([._\d]+)/,m)){case"6.1":y="7.0";break;case"6.2":y="8.0";break;case"6.3":y="8.1"}else g.android?y=l(/Android ([._\d]+)/,m):g.iOS?y=l(/OS ([._\d]+)/,m):g.mac?y=l(/Mac OS X ([._\d]+)/,m):g.tizen&&(y=l(/Tizen ([._\d]+)/,m));if(y){_=parseInt(y,10);var k=y.split(/[._]/);k&&(w=parseInt(k[1],10))}return{version:y,major:_,minor:w}}(this,o)}},h={get flash(){return Object(s.h)()},get flashVersion(){return Object(s.a)()},get iframe(){return Object(s.m)()},get passiveEvents(){return function(){var g=!1;try{var m=Object.defineProperty({},"passive",{get:function(){return g=!0}});window.addEventListener("testPassive",c,m),window.removeEventListener("testPassive",c,m)}catch(y){}return g}()},get backgroundLoading(){return!(u.iOS||n.safari||u.tizen)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"d",function(){return o}),r.d(t,"b",function(){return c}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return u});var s=function(){function y(){}var _=y.prototype;return _.on=function(w,k,A){if(!g(this,"on",w,[k,A])||!k)return this;var L=this._events||(this._events={});return(L[w]||(L[w]=[])).push({callback:k,context:A}),this},_.once=function(w,k,A){if(!g(this,"once",w,[k,A])||!k)return this;var L=0,T=this,E=function a(){L++||(T.off(w,a),k.apply(this,arguments))};return E._callback=k,this.on(w,E,A)},_.off=function(w,k,A){if(!this._events||!g(this,"off",w,[k,A]))return this;if(!w&&!k&&!A)return delete this._events,this;for(var L=w?[w]:Object.keys(this._events),T=0,E=L.length;T<E;T++){w=L[T];var a=this._events[w];if(a){var p=this._events[w]=[];if(k||A)for(var v=0,d=a.length;v<d;v++){var x=a[v];(k&&k!==x.callback&&k!==x.callback._callback||A&&A!==x.context)&&p.push(x)}p.length||delete this._events[w]}}return this},_.trigger=function(w){for(var k=arguments.length,A=new Array(k>1?k-1:0),L=1;L<k;L++)A[L-1]=arguments[L];if(!this._events)return this;if(!g(this,"trigger",w,A))return this;var T=this._events[w],E=this._events.all;return T&&m(T,A,this),E&&m(E,arguments,this),this},_.triggerSafe=function(w){for(var k=arguments.length,A=new Array(k>1?k-1:0),L=1;L<k;L++)A[L-1]=arguments[L];if(!this._events)return this;if(!g(this,"trigger",w,A))return this;var T=this._events[w],E=this._events.all;return T&&m(T,A,this,w),E&&m(E,arguments,this,w),this},y}(),l=s.prototype.on,o=s.prototype.once,c=s.prototype.off,n=s.prototype.trigger,u=s.prototype.triggerSafe;s.on=l,s.once=o,s.off=c,s.trigger=n;var h=/\s+/;function g(y,_,w,k){if(!w)return!0;if(typeof w=="object"){for(var A in w)Object.prototype.hasOwnProperty.call(w,A)&&y[_].apply(y,[A,w[A]].concat(k));return!1}if(h.test(w)){for(var L=w.split(h),T=0,E=L.length;T<E;T++)y[_].apply(y,[L[T]].concat(k));return!1}return!0}function m(y,_,w,k){for(var A=-1,L=y.length;++A<L;){var T=y[A];if(k)try{T.callback.apply(T.context||w,_)}catch(E){console.log('Error in "'+k+'" event handler:',E)}else T.callback.apply(T.context||w,_)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"c",function(){return c}),r.d(t,"d",function(){return n});var s=r(1),l={};function o(u,h){return function(){throw new s.o(s.k,u,h)}}function c(u,h){return function(){throw new s.o(null,u,h)}}function n(){return r.e(3).then(function(u){return r(54).default}.bind(null,r)).catch(o(s.q+101))}},function(e,t,r){"use strict";r.r(t),r.d(t,"exists",function(){return l}),r.d(t,"isHTTPS",function(){return o}),r.d(t,"isFileProtocol",function(){return c}),r.d(t,"isRtmp",function(){return n}),r.d(t,"isYouTube",function(){return u}),r.d(t,"typeOf",function(){return h}),r.d(t,"isDeepKeyCompliant",function(){return g});var s=window.location.protocol;function l(m){switch(typeof m){case"string":return m.length>0;case"object":return m!==null;case"undefined":return!1;default:return!0}}function o(){return s==="https:"}function c(){return s==="file:"}function n(m,y){return m.indexOf("rtmp:")===0||y==="rtmp"}function u(m,y){return y==="youtube"||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(m)}function h(m){if(m===null)return"null";var y=typeof m;return y==="object"&&Array.isArray(m)?"array":y}function g(m,y,_){var w=Object.keys(m);return Object.keys(y).length>=w.length&&w.every(function(k){var A=m[k],L=y[k];return A&&typeof A=="object"?!(!L||typeof L!="object")&&g(A,L,_):_(k,m)})}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return u}),r.d(t,"d",function(){return h}),r.d(t,"e",function(){return y}),r.d(t,"c",function(){return _});var s,l=r(2),o=r(31),c=r.n(o),n=c.a.clear;function u(w,k,A,L){A=A||"all-players";var T="";if(typeof k=="object"){var E=document.createElement("div");h(E,k);var a=E.style.cssText;Object.prototype.hasOwnProperty.call(k,"content")&&a&&(a=a+' content: "'+k.content+'";'),L&&a&&(a=a.replace(/;/g," !important;")),T="{"+a+"}"}else typeof k=="string"&&(T=k);T!==""&&T!=="{}"?c.a.style([[w,w+T]],A):c.a.clear(A,w)}function h(w,k){if(w!=null){var A;w.length===void 0&&(w=[w]);var L={};for(A in k)Object.prototype.hasOwnProperty.call(k,A)&&(L[A]=m(A,k[A]));for(var T=0;T<w.length;T++){var E=w[T],a=void 0;if(E!=null)for(A in L)Object.prototype.hasOwnProperty.call(L,A)&&(a=g(A),E.style[a]!==L[A]&&(E.style[a]=L[A]))}}}function g(w){w=w.split("-");for(var k=1;k<w.length;k++)w[k]=w[k].charAt(0).toUpperCase()+w[k].slice(1);return w.join("")}function m(w,k){return k===""||k==null?"":typeof k=="string"&&isNaN(k)?/png|gif|jpe?g/i.test(k)&&k.indexOf("url")<0?"url("+k+")":k:k===0||w==="z-index"||w==="opacity"?""+k:/color/i.test(w)?"#"+Object(l.e)(k.toString(16).replace(/^0x/i,""),6):Math.ceil(k)+"px"}function y(w,k){h(w,{transform:k})}function _(w,k){var A="rgb",L=k!==void 0&&k!==100;if(L&&(A+="a"),!s){var T=document.createElement("canvas");T.height=1,T.width=1,s=T.getContext("2d")}w?isNaN(parseInt(w,16))||(w="#"+w):w="#000000",s.clearRect(0,0,1,1),s.fillStyle=w,s.fillRect(0,0,1,1);var E=s.getImageData(0,0,1,1).data;return A+="("+E[0]+", "+E[1]+", "+E[2],L&&(A+=", "+k/100),A+")"}},function(e,t,r){"use strict";r.r(t),r.d(t,"getAbsolutePath",function(){return o}),r.d(t,"isAbsolutePath",function(){return c}),r.d(t,"parseXML",function(){return n}),r.d(t,"serialize",function(){return u}),r.d(t,"parseDimension",function(){return h}),r.d(t,"timeFormat",function(){return g});var s=r(10),l=r(0);function o(m,y){if(y&&Object(s.exists)(y)||(y=document.location.href),!Object(s.exists)(m))return"";if(c(m))return m;var _,w=y.substring(0,y.indexOf("://")+3),k=y.substring(w.length,y.indexOf("/",w.length+1));if(m.indexOf("/")===0)_=m.split("/");else{var A=y.split("?")[0];_=(A=A.substring(w.length+k.length+1,A.lastIndexOf("/"))).split("/").concat(m.split("/"))}for(var L=[],T=0;T<_.length;T++)_[T]&&Object(s.exists)(_[T])&&_[T]!=="."&&(_[T]===".."?L.pop():L.push(_[T]));return w+k+"/"+L.join("/")}function c(m){return/^(?:(?:https?|file):)?\/\//.test(m)}function n(m){var y=null;try{(y=new window.DOMParser().parseFromString(m,"text/xml")).querySelector("parsererror")&&(y=null)}catch(_){}return y}function u(m){if(m===void 0)return null;if(typeof m=="string"&&m.length<6){var y=m.toLowerCase();if(y==="true")return!0;if(y==="false")return!1;if(!Object(l.q)(Number(m))&&!Object(l.q)(parseFloat(m)))return Number(m)}return m}function h(m){return Object(l.u)(m)?m:m===""?0:m.lastIndexOf("%")>-1?m:parseInt(m.replace("px",""),10)}function g(m,y){if(Object(l.q)(m)&&(m=parseInt(m.toString())),Object(l.q)(m)||!isFinite(m)||m<=0&&!y)return"00:00";var _=m<0?"-":"";m=Math.abs(m);var w=Math.floor(m/3600),k=Math.floor((m-3600*w)/60),A=Math.floor(m%60);return _+(w?w+":":"")+(k<10?"0":"")+k+":"+(A<10?"0":"")+A}},function(e,t,r){"use strict";r.d(t,"h",function(){return y}),r.d(t,"c",function(){return w}),r.d(t,"e",function(){return A}),r.d(t,"f",function(){return L}),r.d(t,"b",function(){return T}),r.d(t,"d",function(){return a}),r.d(t,"g",function(){return p}),r.d(t,"a",function(){return v});var s=r(0),l=r(5),o=r(21),c=r(10),n=r(30),u={},h={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish",el:"Greek",fi:"Finnish",id:"Indonesian",ko:"Korean",th:"Thai",vi:"Vietnamese"};Object(s.m)(h);function g(x){var C=m(x),N=C.indexOf("_");return N===-1?C:C.substring(0,N)}function m(x){return x.toLowerCase().replace("-","_")}function y(x){return x?Object.keys(x).reduce(function(C,N){return C[m(N)]=x[N],C},{}):{}}function _(x){var C=x.querySelector("html");return C?C.getAttribute("lang"):null}function w(){var x=_(document);if(!x&&Object(l.m)())try{x=_(window.top.document)}catch(C){}return x||navigator.language||"en"}var k=["ar","da","de","el","es","fi","fr","he","id","it","ja","ko","nb","nl","nn","no","oc","pt","ro","ru","sl","sv","th","tr","vi","zh"];function A(x){return x.charCodeAt(0)===8207||/^[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(x)}function L(x){return k.indexOf(g(x))>=0}function T(x,C,N){return Object(s.g)({},function(G){var q=G.advertising,K=G.related,oe=G.sharing,J=G.abouttext,Q=Object(s.g)({},G.localization);q&&(Q.advertising=Q.advertising||{},E(Q.advertising,q,"admessage"),E(Q.advertising,q,"cuetext"),E(Q.advertising,q,"loadingAd"),E(Q.advertising,q,"podmessage"),E(Q.advertising,q,"skipmessage"),E(Q.advertising,q,"skiptext")),typeof Q.related=="string"?Q.related={heading:Q.related}:Q.related=Q.related||{},K&&E(Q.related,K,"autoplaymessage"),oe&&(Q.sharing=Q.sharing||{},E(Q.sharing,oe,"heading"),E(Q.sharing,oe,"copied")),J&&E(Q,G,"abouttext");var Oe=Q.close||Q.nextUpClose;return Oe&&(Q.close=Oe),Q}(x),C[g(N)],C[m(N)])}function E(x,C,N){var G=x[N]||C[N];G&&(x[N]=G)}function a(x){return Object(c.isDeepKeyCompliant)(n.a,x,function(C,N){return typeof N[C]=="string"})}function p(x,C){var N,G=u[C];if(!G){var q=x+"translations/"+(N=g(C),(/^n[bn]$/.test(N)?"no":N)+".json");u[C]=G=new Promise(function(K,oe){Object(o.a)({url:q,oncomplete:K,onerror:function(J,Q,Oe,ge){u[C]=null,oe(ge)},responseType:"json"})})}return G}function v(x,C){var N=Object(s.g)({},x,C);return d(N,"errors",x,C),d(N,"related",x,C),d(N,"sharing",x,C),d(N,"advertising",x,C),d(N,"shortcuts",x,C),d(N,"captionsStyles",x,C),N}function d(x,C,N,G){x[C]=Object(s.g)({},N[C],G[C])}},function(e,t,r){"use strict";t.a=[]},function(e,t,r){"use strict";var s=r(49),l=r(10),o=document.createElement("video");r.d(t,"a",function(){return n});var c={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},n=[{name:"html5",supports:function(u){if(!o||!o.canPlayType||Object(s.a)(u)===!1)return!1;var h=u.file,g=u.type;if(Object(l.isRtmp)(h,g))return!1;var m=u.mimeType||c[g];if(!m)return!1;var y=u.mediaTypes;return y&&y.length&&(m=[m].concat(y.slice()).join("; ")),!!o.canPlayType(m)}}]},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=Date.now||function(){return new Date().getTime()}},function(e,t,r){"use strict";t.a={debug:!1}},function(e,t,r){"use strict";var s=r(0),l={none:!0,metadata:!0,auto:!0};function o(E,a){return l[E]?E:l[a]?a:"metadata"}var c=r(24),n=r(27),u=r(32),h=r(1);r.d(t,"b",function(){return g}),r.d(t,"e",function(){return m}),r.d(t,"d",function(){return y}),r.d(t,"f",function(){return _}),r.d(t,"c",function(){return w});function g(E,a,p){var v=Object(s.g)({},p);return delete v.playlist,E.map(function(d){return y(a,d,v)}).filter(function(d){return!!d})}function m(E){if(!Array.isArray(E)||E.length===0)throw new h.o(h.l,630)}function y(E,a,p){var v=E.getProviders(),d=E.get("preload"),x=Object(s.g)({},a);if(x.preload=o(a.preload,d),x.allSources=k(x,E),x.sources=A(x.allSources,v),x.sources.length)return x.file=x.sources[0].file,x.feedData=p,function(C){var N=C.sources[0].liveSyncDuration;return N&&(C.liveSyncDuration=C.dvrSeekLimit=N),C}(x)}function _(E,a){var p=(parseInt(E,10)||0)%a;return p<0&&(p+=a),p}var w=function(E,a){return A(k(E,a),a.getProviders())};function k(E,a){var p=a.attributes,v=E.sources,d=E.allSources,x=E.preload,C=E.drm,N=L(E.withCredentials,p.withCredentials);return(d||v).map(function(G){if(G!==Object(G))return null;T(G,p,"androidhls"),T(G,p,"hlsjsdefault"),T(G,p,"safarihlsjs"),function(oe,J,Q){if(!oe.liveSyncDuration){var Oe=J.liveSyncDuration?J:Q;T(oe,Oe,"liveSyncDuration")}}(G,E,p),T(G,p,"_hlsjsProgressive"),G.preload=o(G.preload,x);var q=G.drm||C||p.drm;q&&(G.drm=q);var K=L(G.withCredentials,N);return K!==void 0&&(G.withCredentials=K),Object(n.a)(G)}).filter(function(G){return!!G})}function A(E,a){a&&a.choose||(a=new u.a);var p=function(x,C){for(var N=0;N<x.length;N++){var G=x[N],q=C.choose(G).providerToCheck;if(q)return{type:G.type,provider:q}}return null}(E,a);if(!p)return[];var v=p.provider,d=p.type;return E.filter(function(x){return x.type===d&&a.providerSupports(v,x)})}function L(E,a){return E===void 0?a:E}function T(E,a,p){p in a&&(E[p]=a[p])}t.a=function(E){return(Array.isArray(E)?E:[E]).map(c.a)}},function(e,t,r){"use strict";r.r(t),r.d(t,"getScriptPath",function(){return l}),r.d(t,"repo",function(){return o}),r.d(t,"versionCheck",function(){return c}),r.d(t,"loadFrom",function(){return n});var s=r(22),l=(r(10),function(u){for(var h=document.getElementsByTagName("script"),g=0;g<h.length;g++){var m=h[g].src;if(m){var y=m.lastIndexOf("/"+u);if(y>=0)return m.substr(0,y+1)}}return""}),o=function(){return l("jwplayer.js")},c=function(u){var h=("0"+u).split(/\W/),g=s.a.split(/\W/),m=parseFloat(h[0]),y=parseFloat(g[0]);return!(m>y)&&!(m===y&&parseFloat("0"+h[1])>parseFloat(g[1]))},n=function(){return l("jwplayer.js")}},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var s=r(26),l=r(15),o=r(50),c=r(0);r(8);function n(u){var h=u.getName().name;if(!s.a[h]){if(!Object(c.i)(l.a,Object(c.w)({name:h}))){if(!Object(c.p)(u.supports))throw new Error("Tried to register a provider with an invalid object");l.a.unshift({name:h,supports:u.supports})}Object(c.d)(u.prototype,o.a),s.a[h]=u}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var s=r(0),l=r(12),o=r(10),c=r(1),n=function(){};function u(y,_,w,k){var A;y===Object(y)&&(y=(k=y).url);var L=Object(s.g)({xhr:null,url:y,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:_||n,onerror:w||n,mimeType:k&&!k.responseType?"text/xml":"",requireValidXML:!1,responseType:k&&k.plainText?"text":"",useDomParser:!1,requestFilter:null},k),T=function(a,p){return function(v,d){var x=v.currentTarget||p.xhr;if(clearTimeout(p.timeoutId),p.retryWithoutCredentials&&p.xhr.withCredentials)return h(x),void u(Object(s.g)({},p,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));!d&&x.status>=400&&x.status<600&&(d=x.status),g(p,d?c.l:c.n,d||6,v)}}(0,L);if("XMLHttpRequest"in window){if(A=L.xhr=L.xhr||new window.XMLHttpRequest,typeof L.requestFilter=="function"){var E;try{E=L.requestFilter({url:y,xhr:A})}catch(a){return T(a,5),A}E&&"open"in E&&"send"in E&&(A=L.xhr=E)}A.onreadystatechange=function(a){return function(p){var v=p.currentTarget||a.xhr;if(v.readyState===4){clearTimeout(a.timeoutId);var d=v.status;if(d>=400)return void g(a,c.l,d<600?d:6);if(d===200)return function(x){return function(C){var N=C.currentTarget||x.xhr;if(clearTimeout(x.timeoutId),x.responseType){if(x.responseType==="json")return function(K,oe){if(!K.response||typeof K.response=="string"&&K.responseText.substr(1)!=='"')try{K=Object(s.g)({},K,{response:JSON.parse(K.responseText)})}catch(J){return void g(oe,c.l,611,J)}return oe.oncomplete(K)}(N,x)}else{var G,q=N.responseXML;if(q)try{G=q.firstChild}catch(K){}if(q&&G||x.useDomParser&&N.responseText&&!q&&(q=Object(l.parseXML)(N.responseText))&&q.firstChild)return m(N,q,x);if(x.requireValidXML)return void g(x,c.l,602)}x.oncomplete(N)}}(a)(p);d===0&&Object(o.isFileProtocol)()&&!/^[a-z][a-z0-9+.-]*:/.test(a.url)&&g(a,c.l,7)}}}(L),A.onerror=T,"overrideMimeType"in A?L.mimeType&&A.overrideMimeType(L.mimeType):L.useDomParser=!0;try{y=y.replace(/#.*$/,""),A.open("GET",y,!0)}catch(a){return T(a,3),A}if(L.responseType)try{A.responseType=L.responseType}catch(a){}L.timeout&&(L.timeoutId=setTimeout(function(){h(A),g(L,c.n,1)},L.timeout),A.onabort=function(){clearTimeout(L.timeoutId)});try{L.withCredentials&&"withCredentials"in A&&(A.withCredentials=!0),A.send()}catch(a){T(a,4)}return A}g(L,c.n,2)}function h(y){y.onload=null,y.onprogress=null,y.onreadystatechange=null,y.onerror=null,"abort"in y&&y.abort()}function g(y,_,w,k){y.onerror(_,y.url,y.xhr,new c.o(_,w,k))}function m(y,_,w){var k=_.documentElement;if(!w.requireValidXML||k.nodeName!=="parsererror"&&!k.getElementsByTagName("parsererror").length)return y.responseXML||(y=Object(s.g)({},y,{responseXML:_})),w.oncomplete(y);g(w,c.l,601)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s="8.22.0+local.2021-09-01-23-05-40-496"},function(e,t,r){"use strict";var s=r(0),l=r(16),o=window.performance||{timing:{}},c=o.timing.navigationStart||Object(l.a)();function n(){return c+o.now()}"now"in o||(o.now=function(){return Object(l.a)()-c});var u=function(){function h(){this.startTimes={},this.sum={},this.counts={},this.ticks={}}var g=h.prototype;return g.start=function(m){this.startTimes[m]=n(),this.counts[m]=this.counts[m]+1||1},g.end=function(m){if(this.startTimes[m]){var y=n()-this.startTimes[m];delete this.startTimes[m],this.sum[m]=this.sum[m]+y||y}},g.dump=function(){var m=Object(s.g)({},this.sum);for(var y in this.startTimes)if(Object.prototype.hasOwnProperty.call(this.startTimes,y)){var _=n()-this.startTimes[y];m[y]=m[y]+_||_}return{counts:Object(s.g)({},this.counts),sums:m,events:Object(s.g)({},this.ticks)}},g.tick=function(m){this.ticks[m]=n()},g.clear=function(m){delete this.ticks[m]},g.between=function(m,y){return this.ticks[y]&&this.ticks[m]?this.ticks[y]-this.ticks[m]:null},h}();t.a=u},function(e,t,r){"use strict";var s=r(0),l=r(27),o=["captions","metadata","thumbnails","chapters"],c=function(h){if(h&&h.file){var g,m=Object(s.g)({},{kind:"captions",default:!1},h);return m.kind=(g=m.kind,o.indexOf(g)!==-1?m.kind:"captions"),m.default=!!m.default,m}},n=r(28),u=Array.isArray;t.a=function(h){u((h=h||{}).tracks)||delete h.tracks;var g=Object(s.g)({},{sources:[],tracks:[],minDvrWindow:n.b},h);g.sources!==Object(g.sources)||u(g.sources)||(g.sources=[Object(l.a)(g.sources)]),u(g.sources)&&g.sources.length!==0||(h.levels?g.sources=h.levels:g.sources=[Object(l.a)(h)]);for(var m=0;m<g.sources.length;m++){var y=g.sources[m];if(y){var _=y.default;y.default=!!_&&_.toString()==="true",g.sources[m].label||(g.sources[m].label=m.toString()),g.sources[m]=Object(l.a)(g.sources[m])}}return g.sources=g.sources.filter(function(w){return!!w}),u(g.tracks)||(g.tracks=[]),u(g.captions)&&(g.tracks=g.tracks.concat(g.captions),delete g.captions),g.tracks=g.tracks.map(c).filter(function(w){return!!w}),g}},function(e,t,r){"use strict";var s=r(1),l=r(0),o=function(E){return E.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},c=function(){this.load=function(E,a,p,v){return p&&typeof p=="object"?Promise.all(Object.keys(p).filter(function(d){return d}).map(function(d){var x=p[d];return a.setupPlugin(d).then(function(C){if(!v.attributes._destroyed)return function(N,G,q){var K=N.name,oe=Object(l.g)({},G),J=document.createElement("div");J.id=q.id+"_"+K,J.className="jw-plugin jw-reset";var Q=N.getNewInstance(q,oe,J);return q.addPlugin(K,Q),Q}(C,x,E)}).catch(function(C){return a.removePlugin(d),C.code?C:new s.o(null,305e3,C)})})):Promise.resolve()}},n=r(35),u=r(12),h=r(2),g=function(E){if(typeof E=="string"){var a=(E=E.split("?")[0]).indexOf("://");if(a>0)return 0;var p=E.indexOf("/"),v=Object(h.a)(E);return!(a<0&&p<0)||v&&isNaN(v)?1:2}},m=function(E){this.url=E,this.promise_=null};Object.defineProperties(m.prototype,{promise:{get:function(){return this.load()},set:function(){}}}),Object(l.g)(m.prototype,{load:function(){var E=this,a=this.promise_;if(!a){if(g(this.url)===2)return Promise.resolve(this);var p=new n.a(function(v){switch(g(v)){case 0:return v;case 1:return Object(u.getAbsolutePath)(v,window.location.href)}}(this.url));this.loader=p,a=p.load().then(function(){return E}),this.promise_=a}return a},registerPlugin:function(E,a,p){this.name=E,this.target=a,this.js=p},getNewInstance:function(E,a,p){var v=this.js;if(typeof v!="function")throw new s.o(null,(this.url,305100));var d=new v(E,a,p);return d.addToPlayer=function(){var x=this.getContainer().querySelector(".jw-overlays");x&&(p.left=x.style.left,p.top=x.style.top,x.appendChild(p))},d.resizeHandler=function(){var x=this.getContainer().querySelector(".jw-overlays");x&&d.resize(x.clientWidth,x.clientHeight)},d}});var y=m,_=r(36),w={},k=function(){function E(){}var a=E.prototype;return a.setupPlugin=function(p){var v=this.getPlugin(p);return v?(v.url!==p&&Object(_.a)('JW Plugin "'+o(p)+'" already loaded from "'+v.url+'". Ignoring "'+p+'."'),v.promise):this.addPlugin(p).load()},a.addPlugin=function(p){var v=o(p),d=w[v];return d||(d=new y(p),w[v]=d),d},a.getPlugin=function(p){return w[o(p)]},a.removePlugin=function(p){delete w[o(p)]},a.getPlugins=function(){return w},E}();r.d(t,"b",function(){return L}),r.d(t,"a",function(){return T});var A=new k,L=function(E,a,p){var v=A.addPlugin(E);v.js||v.registerPlugin(E,a,p)};function T(E,a){var p=E.get("plugins");return window.jwplayerPluginJsonp=L,(E.pluginLoader=E.pluginLoader||new c).load(a,A,p,E).then(function(v){if(!E.attributes._destroyed)return delete window.jwplayerPluginJsonp,v})}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s={}},function(e,t,r){"use strict";var s=r(0),l=r(10),o=r(2);t.a=function(c){if(c&&c.file){var n=Object(s.g)({},{default:!1,type:""},c);n.file=Object(o.i)(""+n.file);var u=/^[^/]+\/(?:x-)?([^/]+)$/,h=n.type;if(u.test(h)&&(n.mimeType=h,n.type=h.replace(u,"$1")),Object(l.isYouTube)(n.file)?n.type="youtube":Object(l.isRtmp)(n.file)?n.type="rtmp":n.type||(n.type=Object(o.a)(n.file)),n.type){switch(n.type){case"m3u8":case"vnd.apple.mpegurl":n.type="hls";break;case"dash+xml":n.type="dash";break;case"m4a":n.type="aac";break;case"smil":n.type="rtmp"}return Object.keys(n).forEach(function(g){n[g]===""&&delete n[g]}),n}}}},function(e,t,r){"use strict";r.d(t,"d",function(){return s}),r.d(t,"c",function(){return l}),r.d(t,"b",function(){return o}),r.d(t,"a",function(){return c});var s={audioMode:!1,itemMeta:{},playbackRate:1,playRejected:!1,state:r(3).mb,itemReady:!1,controlsEnabled:!1},l={position:0,duration:0,buffer:0,currentTime:0},o=120,c=25},function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return n});var s=r(9),l=r(7),o=null,c={};function n(){return o||(o=l.OS.tizenApp?r.e(2).then(function(u){var h=r(55).default;return c.controls=h,h}.bind(null,r)).catch(function(){o=null,Object(s.c)(301133)()}):r.e(1).then(function(u){var h=r(52).default;return c.controls=h,h}.bind(null,r)).catch(function(){o=null,Object(s.c)(301130)()})),o}},function(e,t,r){"use strict";t.a={advertising:{admessage:"This ad will end in xx",cuetext:"Advertisement",displayHeading:"Advertisement",loadingAd:"Loading ad",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__.",skipmessage:"Skip ad in xx",skiptext:"Skip"},airplay:"AirPlay",audioTracks:"Audio Tracks",auto:"Auto",buffer:"Loading",cast:"Chromecast",cc:"Closed Captions",close:"Close",errors:{badConnection:"This video cannot be played because of a problem with your internet connection.",cantLoadPlayer:"Sorry, the video player failed to load.",cantPlayInBrowser:"The video cannot be played in this browser.",cantPlayVideo:"This video file cannot be played.",errorCode:"Error Code",liveStreamDown:"The live stream is either down or has ended.",protectedContent:"There was a problem providing access to protected content.",technicalError:"This video cannot be played because of a technical error."},exitFullscreen:"Exit Fullscreen",fullscreen:"Fullscreen",hd:"Quality",liveBroadcast:"Live",logo:"Logo",mute:"Mute",next:"Next",nextUp:"Next Up",notLive:"Not Live",off:"Off",pause:"Pause",pipIcon:"Picture in Picture (PiP)",play:"Play",playback:"Play",playbackRates:"Playback Rates",player:"Video Player",poweredBy:"Powered by",prev:"Previous",related:{autoplaymessage:"Next up in xx",heading:"More Videos"},replay:"Replay",rewind:"Rewind 10 Seconds",settings:"Settings",sharing:{copied:"Copied",email:"Email",embed:"Embed",heading:"Share",link:"Link"},slider:"Seek",stop:"Stop",unmute:"Unmute",videoInfo:"About This Video",volume:"Volume",volumeSlider:"Volume",shortcuts:{playPause:"Play/Pause",volumeToggle:"Mute/Unmute",fullscreenToggle:"Fullscreen/Exit Fullscreen",seekPercent:"Seek %",keyboardShortcuts:"Keyboard Shortcuts",increaseVolume:"Increase Volume",decreaseVolume:"Decrease Volume",seekForward:"Seek Forward",seekBackward:"Seek Backward",spacebar:"SPACE",captionsToggle:"Captions On/Off"},captionsStyles:{subtitleSettings:"Subtitle Settings",color:"Font Color",fontOpacity:"Font Opacity",userFontScale:"Font Size",fontFamily:"Font Family",edgeStyle:"Character Edge",backgroundColor:"Background Color",backgroundOpacity:"Background Opacity",windowColor:"Window Color",windowOpacity:"Window Opacity",white:"White",black:"Black",red:"Red",green:"Green",blue:"Blue",yellow:"Yellow",magenta:"Magenta",cyan:"Cyan",none:"None",raised:"Raised",depressed:"Depressed",uniform:"Uniform",dropShadow:"Drop Shadow"},disabled:"Disabled",enabled:"Enabled",reset:"Reset"}},function(e,t){var r,s,l={},o={},c=(r=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return s===void 0&&(s=r.apply(this,arguments)),s});function n(y){var _=document.createElement("style");return _.type="text/css",_.setAttribute("data-jwplayer-id",y),function(w){c().appendChild(w)}(_),_}function u(y,_){var w,k,A,L=o[y];L||(L=o[y]={element:n(y),counter:0});var T=L.counter++;return w=L.element,A=function(){m(w,T,"")},(k=function(E){m(w,T,E)})(_.css),function(E){if(E){if(E.css===_.css&&E.media===_.media)return;k((_=E).css)}else A()}}e.exports={style:function(y,_){(function(w,k){for(var A=0;A<k.length;A++){var L=k[A],T=(l[w]||{})[L.id];if(T){for(var E=0;E<T.parts.length;E++)T.parts[E](L.parts[E]);for(;E<L.parts.length;E++)T.parts.push(u(w,L.parts[E]))}else{var a=[];for(E=0;E<L.parts.length;E++)a.push(u(w,L.parts[E]));l[w]=l[w]||{},l[w][L.id]={id:L.id,parts:a}}}})(_,function(w){for(var k=[],A={},L=0;L<w.length;L++){var T=w[L],E=T[0],a=T[1],p=T[2],v={css:a,media:p};A[E]?A[E].parts.push(v):k.push(A[E]={id:E,parts:[v]})}return k}(y))},clear:function(y,_){var w=l[y];if(w){if(_){var k=w[_];if(k)for(var A=0;A<k.parts.length;A+=1)k.parts[A]();return}for(var L=Object.keys(w),T=0;T<L.length;T+=1)for(var E=w[L[T]],a=0;a<E.parts.length;a+=1)E.parts[a]();delete l[y]}}};var h,g=(h=[],function(y,_){return h[y]=_,h.filter(Boolean).join(`
`)});function m(y,_,w){if(y.styleSheet)y.styleSheet.cssText=g(_,w);else{var k=document.createTextNode(w),A=y.childNodes[_];A?y.replaceChild(k,A):y.appendChild(k)}}},function(e,t,r){"use strict";var s=r(0),l=r(15),o=r(26),c=r(20),n=r(9),u={html5:function(){return r.e(10).then(function(g){var m=r(117).default;return Object(c.a)(m),m}.bind(null,r)).catch(Object(n.b)(152))}};function h(g){this.config=g||{}}Object(s.g)(h.prototype,{load:function(g){var m=u[g],y=function(){return Promise.reject(new Error("Failed to load media"))};return m?m().then(function(){var _=o.a[g];return _||y()}):y()},providerSupports:function(g,m){return g.supports(m)},choose:function(g){if(g===Object(g))for(var m=l.a.length,y=0;y<m;y++){var _=l.a[y];if(this.providerSupports(_,g))return{priority:m-y-1,name:_.name,type:g.type,providerToCheck:_,provider:o.a[_.name]}}return{}}}),t.a=h},function(e,t,r){"use strict";var s=r(6),l=r(11);function o(c,n){var u=n.message,h=n.code,g=function(w,k,A,L){return'<div id="'+w+'" class="jw-error jw-reset"><div class="jw-error-msg jw-info-overlay jw-reset"><style>[id="'+w+'"].jw-error{background:#000;overflow:hidden;position:relative}[id="'+w+'"] .jw-error-msg{top:50%;left:50%;position:absolute;transform:translate(-50%,-50%)}[id="'+w+'"] .jw-error-text{text-align:start;color:#FFF;font:14px/1.35 Arial,Helvetica,sans-serif}</style><div class="jw-icon jw-reset"></div><div class="jw-info-container jw-reset"><div class="jw-error-text jw-reset-text" dir="auto" data-nosnippet>'+(k||"")+'<span class="jw-break jw-reset"></span>'+(L?("("+A+": "+L+")").replace(/\s+/g,"&nbsp;"):"")+"</div></div></div></div>"}(c.get("id"),u,c.get("localization").errors.errorCode,h.toString()),m=c.get("width"),y=c.get("height"),_=Object(s.f)(g);return Object(l.d)(_,{width:m.toString().indexOf("%")>0?m:m+"px",height:y.toString().indexOf("%")>0?y:y+"px"}),_}r.d(t,"a",function(){return o})},function(e,t,r){"use strict";function s(o){return o.slice&&o.slice(-2)==="px"&&(o=o.slice(0,-2)),o}function l(o,c){if(c.toString().indexOf("%")===-1||typeof o!="string"||!o)return 0;if(/^\d*\.?\d+%$/.test(o))return o;var n=o.indexOf(":");if(n===-1)return 0;var u=parseFloat(o.substr(0,n)),h=parseFloat(o.substr(n+1));return u<=0||h<=0?0:h/u*100+"%"}r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l})},function(e,t,r){"use strict";var s=r(0),l=r(8),o=r(3),c={};function n(g){var m=document.createElement("link");return m.type="text/css",m.rel="stylesheet",m.href=g,m}function u(g,m){var y=document.createElement("script");return y.type="text/javascript",y.charset="utf-8",y.async=!0,y.timeout=m||45e3,y.src=g,y}var h=function(g,m,y){var _=this,w=0;function k(L){w=2,_.trigger(o.w,L).off()}function A(L){w=3,_.trigger(o.kb,L).off()}this.getStatus=function(){return w},this.load=function(){var L=c[g];return w!==0||(L&&L.then(A).catch(k),w=1,L=new Promise(function(T,E){var a=(m?n:u)(g,y),p=function(){a.onerror=a.onload=null,clearTimeout(d)},v=function(C){p(),k(C),E(C)},d=setTimeout(function(){v(new Error("Network timeout "+g))},45e3);a.onerror=function(){v(new Error("Failed to load "+g))},a.onload=function(C){p(),A(C),T(C)};var x=document.getElementsByTagName("head")[0]||document.documentElement;x.insertBefore(a,x.firstChild)}),c[g]=L),L}};Object(s.g)(h.prototype,l.a),t.a=h},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=typeof console.log=="function"?console.log.bind(console):function(){}},function(e,t,r){"use strict";r.d(t,"a",function(){return A}),r.d(t,"b",function(){return d}),r.d(t,"c",function(){return oe});var s=r(7),l=r(3),o=r(8),c=r(16),n=r(6);function u(Q,Oe){return(u=Object.setPrototypeOf||function(ge,W){return ge.__proto__=W,ge})(Q,Oe)}var h,g,m="ontouchstart"in window,y="PointerEvent"in window&&!s.OS.android,_=!(y||m&&s.OS.mobile),w=s.Features.passiveEvents,k=!!w&&{passive:!0},A=function(Q){var Oe,ge;function W(de,Z){var ye;ye=Q.call(this)||this;var Y=!(Z=Z||{}).preventScrolling;return ye.directSelect=!!Z.directSelect,ye.dragged=!1,ye.enableDoubleClick=!1,ye.el=de,ye.handlers={},ye.options={},ye.lastClick=0,ye.lastStart=0,ye.passive=Y,ye.pointerId=null,ye.startX=0,ye.startY=0,ye.event=null,ye.clicking=!1,ye}ge=Q,(Oe=W).prototype=Object.create(ge.prototype),Oe.prototype.constructor=Oe,u(Oe,ge);var se=W.prototype;return se.on=function(de,Z,ye){return T(de)&&(this.handlers[de]||v[de](this)),Q.prototype.on.call(this,de,Z,ye)},se.off=function(de,Z,ye){var Y=this;if(T(de))C(this,de);else if(!de){var ce=this.handlers;Object.keys(ce).forEach(function(Ge){C(Y,Ge)})}return Q.prototype.off.call(this,de,Z,ye)},se.destroy=function(){this.el&&(this.off(),y&&N(this),this.el=null)},W}(o.a),L=/\s+/;function T(Q){return Q&&!(L.test(Q)||typeof Q=="object")}function E(Q){if(!Q.handlers.init){var Oe=Q.el,ge=Q.passive,W=!!w&&{passive:ge},se=function(Z){if(Q.dragged)q(Q,l.s,Z);else{var ye=K(Z),Y=ye.pageX,ce=ye.pageY,Ge=Y-Q.startX,ht=ce-Q.startY;Ge*Ge+ht*ht>36&&(q(Q,l.u,Z),Q.dragged=!0,q(Q,l.s,Z))}var st;ge||Z.type!=="touchmove"||(st=Z).preventDefault&&st.preventDefault()},de=function(Z){clearTimeout(h),Q.el&&(N(Q),C(Q,"window"),Q.dragged&&(Q.dragged=!1,q(Q,l.t,Z)))};p(Q,"init"),J(Q,"init",function(Z){if(Object(n.p)(Oe,"jw-tab-focus"),!oe(Z)){var ye=Z.target,Y=Z.type;if(!Q.directSelect||ye===Oe){var ce=K(Z),Ge=ce.pageX,ht=ce.pageY;if(Q.dragged=!1,Q.startX=Ge,Q.startY=ht,C(Q,"window"),Y==="pointerdown"&&Z.isPrimary){if(!ge){var st=Z.pointerId;Q.pointerId=st,Oe.setPointerCapture(st)}x(Q,"window","pointermove",se,W),x(Q,"window","pointercancel",de),x(Q,"window","pointerup",de)}else Y==="mousedown"?(x(Q,"window","mousemove",se,W),x(Q,"window","mouseup",de)):Y==="touchstart"&&(x(Q,"window","touchmove",se,W),x(Q,"window","touchcancel",de),x(Q,"window","touchend",de))}}},W),g||(g=new A(document).on("interaction"))}}function a(Q){if(!Q.handlers.select){var Oe=Q.el;p(Q,"select"),J(Q,"select",function(ge){var W=ge.target;oe(ge)||Q.directSelect&&W!==Oe||(ge.isPrimary&&W.tageName==="BUTTON"&&W.focus(),Q.lastStart=Object(c.a)(),Q.clicking=!0)}),x(Q,"select","click",function(ge){oe(ge)||Q.directSelect&&ge.target!==Oe||(Object(c.a)()-Q.lastStart>500&&Q.clicking===!0||(function(W,se){W.enableDoubleClick&&(Object(c.a)()-W.lastClick<300?(q(W,l.r,se),W.lastClick=0):W.lastClick=Object(c.a)())}(Q,ge),q(Q,l.o,ge)),Q.clicking=!1)})}}function p(Q,Oe){if(!Q.handlers.init&&!Q.handlers.select){var ge=Q.el;x(Q,Oe,"blur",function(){Object(n.p)(ge,"jw-tab-focus"),Q.clicking=!1}),x(Q,Oe,"focus",function(){g.event&&g.event.type==="keydown"&&Object(n.b)(ge,"jw-tab-focus")})}}var v={drag:function(Q){E(Q)},dragStart:function(Q){E(Q)},dragEnd:function(Q){E(Q)},click:function(Q){a(Q)},doubleClick:function(Q){Q.enableDoubleClick=!0,a(Q)},longPress:function(Q){if(s.OS.iOS){var Oe=function(){clearTimeout(h)};x(Q,"longPress","touchstart",function(ge){Oe(),h=setTimeout(function(){q(Q,"longPress",ge)},500)}),x(Q,"longPress","touchmove",Oe),x(Q,"longPress","touchcancel",Oe),x(Q,"longPress","touchend",Oe)}else Q.el.oncontextmenu=function(ge){return q(Q,"longPress",ge),!1}},focus:function(Q){x(Q,"focus","focus",function(Oe){G(Q,"focus",Oe)})},blur:function(Q){x(Q,"blur","blur",function(Oe){G(Q,"blur",Oe)})},over:function(Q){(y||_)&&x(Q,l.Z,y?"pointerover":"mouseover",function(Oe){Oe.pointerType!=="touch"&&q(Q,l.Z,Oe)})},out:function(Q){if(y){var Oe=Q.el;x(Q,l.Y,"pointerout",function(ge){if(ge.pointerType!=="touch"&&"clientX"in ge){var W=document.elementFromPoint(ge.clientX,ge.clientY);Oe.contains(W)||q(Q,l.Y,ge)}})}else _&&x(Q,l.Y,"mouseout",function(ge){q(Q,l.Y,ge)})},move:function(Q){(y||_)&&x(Q,l.W,y?"pointermove":"mousemove",function(Oe){Oe.pointerType!=="touch"&&q(Q,l.W,Oe)})},enter:function(Q){x(Q,l.v,"keydown",function(Oe){Oe.key!=="Enter"&&Oe.keyCode!==13||(Oe.stopPropagation(),G(Q,l.v,Oe))})},keydown:function(Q){x(Q,"keydown","keydown",function(Oe){G(Q,"keydown",Oe)},!1)},gesture:function(Q){var Oe=function(ge){return q(Q,"gesture",ge)};x(Q,"gesture","click",Oe),x(Q,"gesture","keydown",Oe)},interaction:function(Q){var Oe=function(ge){Q.event=ge};x(Q,"interaction","mousedown",Oe,!0),x(Q,"interaction","keydown",Oe,!0)},tap:function(){},doubleTap:function(){}};function d(Q){var Oe=Q.ownerDocument||Q;return Oe.defaultView||Oe.parentWindow||window}function x(Q,Oe,ge,W,se){se===void 0&&(se=k);var de=Q.handlers[Oe],Z=Q.options[Oe];if(de||(de=Q.handlers[Oe]={},Z=Q.options[Oe]={}),de[ge])throw new Error(Oe+" "+ge+" already registered");de[ge]=W,Z[ge]=se;var ye=Q.el;(Oe==="window"?d(ye):ye).addEventListener(ge,W,se)}function C(Q,Oe){var ge=Q.el,W=Q.handlers,se=Q.options,de=Oe==="window"?d(ge):ge,Z=W[Oe],ye=se[Oe];Z&&(Object.keys(Z).forEach(function(Y){var ce=ye[Y];typeof ce=="boolean"?de.removeEventListener(Y,Z[Y],ce):de.removeEventListener(Y,Z[Y])}),W[Oe]=null,se[Oe]=null)}function N(Q){var Oe=Q.el;Q.pointerId!==null&&(Oe.releasePointerCapture(Q.pointerId),Q.pointerId=null)}function G(Q,Oe,ge){var W=Q.el,se=ge.target;Q.trigger(Oe,{type:Oe,sourceEvent:ge,currentTarget:W,target:se})}function q(Q,Oe,ge){var W=function(se,de,Z){var ye,Y=de.target,ce=de.touches,Ge=de.changedTouches,ht=de.pointerType;ce||Ge?(ye=ce&&ce.length?ce[0]:Ge[0],ht=ht||"touch"):(ye=de,ht=ht||"mouse");var st=ye,qe=st.pageX,Se=st.pageY;return{type:se,pointerType:ht,pageX:qe,pageY:Se,sourceEvent:de,currentTarget:Z,target:Y}}(Oe,ge,Q.el);Q.trigger(Oe,W)}function K(Q){return Q.type.indexOf("touch")===0?(Q.originalEvent||Q).changedTouches[0]:Q}function oe(Q){return!(!Q.ctrlKey||Q.type!=="click")||("which"in Q?Q.which===3:"button"in Q&&Q.button===2)}function J(Q,Oe,ge,W){y?x(Q,Oe,"pointerdown",ge,W):(_&&x(Q,Oe,"mousedown",ge,W),x(Q,Oe,"touchstart",ge,W))}},function(e,t,r){"use strict";r.d(t,"b",function(){return s}),r.d(t,"a",function(){return l});var s=window.requestAnimationFrame||function(o){return setTimeout(o,17)},l=window.cancelAnimationFrame||clearTimeout},function(e,t,r){"use strict";var s=r(0),l=r(19),o=r(10),c=r(12),n=r(2),u=r(23),h=r(17);function g(E,a){this.name=E,this.message=a.message||a.toString(),this.error=a}var m=r(5),y=r(6),_=r(11),w=r(21),k=r(40),A=r(36),L=r(41),T=Object(s.g)({},c,o,l,{addClass:y.b,hasClass:y.j,removeClass:y.p,replaceClass:y.q,toggleClass:y.w,classList:y.e,styleDimension:y.v,createElement:y.f,emptyElement:y.i,addStyleSheet:y.c,bounds:y.d,openLink:y.m,replaceInnerHtml:y.r,css:_.b,clearCss:_.a,style:_.d,transform:_.e,getRgba:_.c,ajax:w.a,crossdomain:function(E){var a=window.URL;try{var p=new a(E,location.origin);return location.protocol+"//"+location.host!=p.protocol+"//"+p.host}catch(v){}return!0},tryCatch:function(E,a,p){if(p===void 0&&(p=[]),h.a.debug)return E.apply(a||this,p);try{return E.apply(a||this,p)}catch(v){return new g(E.name,v)}},Error:g,Timer:u.a,log:A.a,genId:L.b,between:k.a,foreach:function(E,a){for(var p in E)Object.prototype.hasOwnProperty.call(E,p)&&a(p,E[p])},flashVersion:m.a,isIframe:m.m,indexOf:s.l,trim:n.i,pad:n.e,extension:n.a,hms:n.b,seconds:n.g,prefix:n.f,suffix:n.h,noop:function(){}});t.a=T},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var s=function(l,o,c){return Math.max(Math.min(l,c),o)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return o});var s=12;function l(){try{var c=window.crypto||window.msCrypto;if(c&&c.getRandomValues)return c.getRandomValues(new Uint32Array(1))[0].toString(36)}catch(n){}return Math.random().toString(36).slice(2,9)}function o(c){for(var n="";n.length<c;)n+=l();return n.slice(0,c)}},function(e,t,r){"use strict";function s(l,o,c){var n=[],u={};function h(){for(;n.length>0;){var g=n.shift(),m=g.command,y=g.args;(u[m]||l[m]).apply(l,y)}}o.forEach(function(g){var m=l[g];u[g]=m,l[g]=function(){for(var y=arguments.length,_=new Array(y),w=0;w<y;w++)_[w]=arguments[w];c()?n.push({command:g,args:_}):(h(),m&&m.apply(this,_))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return n}}),this.flush=h,this.empty=function(){n.length=0},this.off=function(){o.forEach(function(g){var m=u[g];m&&(l[g]=m,delete u[g])})},this.destroy=function(){this.off(),this.empty()}}r.d(t,"a",function(){return s})},function(e,t,r){"use strict";function s(o,c){return(s=Object.setPrototypeOf||function(n,u){return n.__proto__=u,n})(o,c)}r.d(t,"a",function(){return l});var l=function(o){var c,n;function u(){var g;return(g=o.call(this)||this).attributes=Object.create(null),g}n=o,(c=u).prototype=Object.create(n.prototype),c.prototype.constructor=c,s(c,n);var h=u.prototype;return h.addAttributes=function(g){var m=this;Object.keys(g).forEach(function(y){m.add(y,g[y])})},h.add=function(g,m){var y=this;Object.defineProperty(this,g,{get:function(){return y.attributes[g]},set:function(_){return y.set(g,_)},enumerable:!1}),this.attributes[g]=m},h.get=function(g){return this.attributes[g]},h.set=function(g,m){if(this.attributes[g]!==m){var y=this.attributes[g];this.attributes[g]=m,this.trigger("change:"+g,this,m,y)}},h.clone=function(){var g={},m=this.attributes;if(m)for(var y in m)g[y]=m[y];return g},h.change=function(g,m,y){this.on("change:"+g,m,y);var _=this.get(g);return m.call(y,this,_,_),this},u}(r(8).a)},function(e,t,r){"use strict";r.d(t,"c",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"a",function(){return o});var s=4,l=5,o=1},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var s=r(0);function l(o,c){return Object(s.g)({},c,{prime:function(){o.src||o.load()},getPrimedElement:function(){return o},clean:function(){c.clean(o)},recycle:function(){c.clean(o)}})}},function(e,t,r){"use strict";t.a="hidden"in document?function(){return!document.hidden}:"webkitHidden"in document?function(){return!document.webkitHidden}:function(){return!0}},function(e,t,r){"use strict";var s=r(0),l=r(42),o=r(34),c=r(19),n=r(12),u=r(7),h=r(30),g=r(13),m={autoPause:{viewability:!1,pauseAds:!1},autostart:!1,allowFullscreen:!0,bandwidthEstimate:null,bitrateSelection:null,castAvailable:!1,controls:!0,cues:[],defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,displayPlaybackLabel:!1,enableShortcuts:!0,height:360,intl:{},item:0,language:"en",liveTimeout:null,localization:h.a,mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},y=function(Qe,ne){var ie=Object(s.g)({},(window.jwplayer||{}).defaults,ne,Qe);(function(Ot){Object.keys(Ot).forEach(function(It){It!=="id"&&(Ot[It]=Object(n.serialize)(Ot[It]))})})(ie);var Ke=ie.forceLocalizationDefaults?m.language:Object(g.c)(),Ct=Object(g.h)(ie.intl);ie.localization=Object(g.a)(h.a,Object(g.b)(ie,Ct,Ke));var we=Object(s.g)({},m,ie);we.base==="."&&(we.base=Object(c.getScriptPath)("jwplayer.js")),we.base=(we.base||Object(c.loadFrom)()).replace(/\/?$/,"/"),r.p=we.base,we.width=Object(o.b)(we.width),we.height=Object(o.b)(we.height),we.aspectratio=Object(o.a)(we.aspectratio,we.width),we.volume=Object(s.u)(we.volume)?Math.min(Math.max(0,we.volume),100):m.volume,we.mute=!!we.mute,we.language=Ke,we.intl=Ct;var $e=we.playlistIndex;$e&&(we.item=$e),Object(s.r)(we.item)||(we.item=0);var at=ie.autoPause;at&&(we.autoPause.viewability=!("viewability"in at)||!!at.viewability);var Ce=we.playbackRateControls;if(Ce){var Je=we.playbackRates;Array.isArray(Ce)&&(Je=Ce),(Je=Je.filter(function(Ot){return Object(s.r)(Ot)&&Ot>=.25&&Ot<=4}).map(function(Ot){return Math.round(100*Ot)/100})).indexOf(1)<0&&Je.push(1),Je.sort(),we.playbackRateControls=!0,we.playbackRates=Je}(!we.playbackRateControls||we.playbackRates.indexOf(we.defaultPlaybackRate)<0)&&(we.defaultPlaybackRate=1),we.playbackRate=we.defaultPlaybackRate,we.aspectratio||delete we.aspectratio;var tt=we.playlist;if(tt)Array.isArray(tt.playlist)&&(we.feedData=tt,we.playlist=tt.playlist);else{var Vt=Object(s.x)(we,["title","description","type","mediaid","image","images","file","sources","tracks","preload","duration"]);we.playlist=[Vt]}we.qualityLabels=we.qualityLabels||we.hlslabels,delete we.duration;var ct=we.liveTimeout;ct!==null&&(Object(s.u)(ct)?ct!==0&&(ct=Math.max(30,ct)):ct=null,we.liveTimeout=ct);var gt,Rt,ti,oi=parseFloat(we.bandwidthEstimate),ui=parseFloat(we.bitrateSelection);return we.bandwidthEstimate=Object(s.u)(oi)?oi:(gt=we.defaultBandwidthEstimate,Rt=parseFloat(gt),Object(s.u)(Rt)?Math.max(Rt,1):m.bandwidthEstimate),we.bitrateSelection=Object(s.u)(ui)?ui:m.bitrateSelection,we.liveSyncDuration=(ti=we.liveSyncDuration)<5?5:ti>30?30:ti,we.backgroundLoading=Object(s.n)(we.backgroundLoading)?we.backgroundLoading:u.Features.backgroundLoading,we},_=r(9),w=r(24),k=r(18),A=r(15),L=r(20),T=r(29),E=r(1),a=null;function p(Qe){return a||(a=function(ne){var ie=ne.get("controls"),Ke=v(),Ct=function($e,at){var Ce=$e.get("playlist");if(Array.isArray(Ce)&&Ce.length)for(var Je=Object(k.f)($e.get("item"),Ce.length),tt=Object(k.c)(Object(w.a)(Ce[Je]),$e),Vt=0;Vt<tt.length;Vt++)for(var ct=tt[Vt],gt=$e.getProviders(),Rt=0;Rt<A.a.length;Rt++){var ti=A.a[Rt];if(gt.providerSupports(ti,ct))return ti.name===at}return!1}(ne,"html5");if(u.OS.tizen)return d();if(ie&&Ke&&Ct)return we=r.e(7).then(function($e){r(116);var at=r(54).default;return T.a.controls=r(52).default,Object(L.a)(r(117).default),at}.bind(null,r)).catch(Object(_.b)(E.q+105)),_.a.html5=we,we;var we;return ie&&Ct?function(){var $e=r.e(5).then(function(at){var Ce=r(54).default;return T.a.controls=r(52).default,Object(L.a)(r(117).default),Ce}.bind(null,r)).catch(Object(_.b)(E.q+104));return _.a.html5=$e,$e}():ie&&Ke?r.e(6).then(function($e){r(116);var at=r(54).default;return T.a.controls=r(52).default,at}.bind(null,r)).catch(Object(_.b)(E.q+103)):ie?r.e(4).then(function($e){var at=r(54).default;return T.a.controls=r(52).default,at}.bind(null,r)).catch(Object(_.b)(E.q+102)):d()}(Qe)),a}function v(){var Qe=window.IntersectionObserverEntry;return!Qe||!("IntersectionObserver"in window)||!("intersectionRatio"in Qe.prototype)}function d(){return function(){return v()?r.e(8).then(function(Qe){return r(116)}.bind(null,r)).catch(Object(_.b)(E.q+120)):Promise.resolve()}().then(_.d)}var x=r(3),C=r(48),N=r(35),G=r(25);function q(Qe,ne,ie){var Ke=Qe.attributes;Ke.playlist=Object(k.a)(ne),Ke.feedData=ie}function K(Qe){return function(ne){var ie=ne.get("playlist");return new Promise(function(Ke,Ct){if(typeof ie!="string"){var we=ne.get("feedData")||{};return q(ne,ie,we),Ke()}var $e=new C.a;$e.on(x.eb,function(at){var Ce=at.playlist;delete at.playlist,q(ne,Ce,at),Ke()}),$e.on(x.w,function(at){q(ne,[],{}),Ct(Object(E.w)(at,E.r))}),$e.load(ie)})}(Qe).then(function(){if(!Q(Qe)){var ne=Object(k.b)(Qe.get("playlist"),Qe);Qe.attributes.playlist=ne;try{Object(k.e)(ne)}catch(at){throw at.code+=E.r,at}var ie=Qe.getProviders(),Ke=Object(k.f)(Qe.get("item"),ne.length),Ct=ie.choose(ne[Ke].sources[0]),we=Ct.provider,$e=Ct.name;return typeof we=="function"?we:_.a.html5&&$e==="html5"?_.a.html5:ie.load($e).catch(function(at){throw Object(E.w)(at,E.s)})}})}function oe(Qe){var ne=Qe.get("skin")?Qe.get("skin").url:void 0;return typeof ne=="string"&&!function(ie){for(var Ke=document.styleSheets,Ct=0,we=Ke.length;Ct<we;Ct++)if(Ke[Ct].href===ie)return!0;return!1}(ne)?new N.a(ne,!0).load().catch(function(ie){return ie}):Promise.resolve()}function J(Qe){var ne=Qe.attributes,ie=ne.language,Ke=ne.base,Ct=ne.setupConfig,we=ne.intl,$e=Object(g.b)(Ct,we,ie);return!Object(g.f)(ie)||Object(g.d)($e)?Promise.resolve():new Promise(function(at){return Object(g.g)(Ke,ie).then(function(Ce){var Je=Ce.response;if(!Q(Qe)){if(!Je)throw new E.o(null,E.h);ne.localization=Object(g.a)(Je,$e),at()}}).catch(function(Ce){at(Ce.code===E.h?Ce:Object(E.w)(Ce,E.g))})})}function Q(Qe){return Qe.attributes._destroyed}var Oe=function(Qe){var ne;this.start=function(ie){var Ke=function($e,at){return Object(G.a)($e,at)}(Qe,ie),Ct=Promise.all([p(Qe),Ke,K(Qe),Promise.resolve(),oe(Qe),J(Qe)]),we=new Promise(function($e,at){ne=setTimeout(function(){at(new E.o(E.k,E.u))},6e4);var Ce=function(){clearTimeout(ne),setTimeout($e,6e4)};Ct.then(Ce).catch(Ce)});return Promise.race([Ct,we]).catch(function($e){var at=function(){throw $e};return Ke.then(at).catch(at)}).then(function($e){return function(at){if(!at||!at.length)return{core:null,warnings:[]};var Ce=at.reduce(function(Je,tt){return Je.concat(tt)},[]).filter(function(Je){return Je&&Je.code});return{core:at[0],warnings:Ce}}($e)})},this.destroy=function(){clearTimeout(ne),Qe.set("_destroyed",!0),Qe=null}},ge=r(32),W=r(23),se=r(17),de={removeItem:function(Qe){}};try{de=window.localStorage||de}catch(Qe){}var Z=function(){function Qe(ie,Ke){this.namespace=ie,this.items=Ke}var ne=Qe.prototype;return ne.getAllItems=function(){var ie=this;return this.items.reduce(function(Ke,Ct){var we=de[ie.namespace+"."+Ct];return we&&(Ke[Ct]=Ct!=="captions"?Object(n.serialize)(we):JSON.parse(we)),Ke},{})},ne.track=function(ie){var Ke=this;this.items.forEach(function(Ct){ie.on("change:"+Ct,function(we,$e){try{Ct==="captions"&&($e=JSON.stringify($e)),de[Ke.namespace+"."+Ct]=$e}catch(at){se.a.debug&&console.error(at)}})})},ne.clear=function(){var ie=this;this.items.forEach(function(Ke){de.removeItem(ie.namespace+"."+Ke)})},Qe}(),ye=r(43),Y=r(28),ce=r(8),Ge=r(33),ht=r(44);function st(Qe){Qe.src||Qe.load()}function qe(Qe){var ne=document.createElement("video");return ne.className="jw-video jw-reset",ne.setAttribute("tabindex","-1"),ne.setAttribute("disableRemotePlayback",""),ne.setAttribute("webkit-playsinline",""),ne.setAttribute("playsinline",""),Qe&&Object.keys(Qe).forEach(function(ie){ne.setAttribute(ie,Qe[ie])}),ne}var Se=r(45),Ie=r(37);r(51),r(53),r.d(t,"b",function(){return Pt});var Re=function(Qe){this._events={},this.modelShim=new ye.a,this.modelShim._qoeItem=new W.a,this.mediaShim={},this.setup=new Oe(this.modelShim),this.currentContainer=this.originalContainer=Qe,this.apiQueue=new l.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","preload","setAllowFullscreen","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","setPip","requestPip","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","addCues","setCues","setPlaylistItem","stopCasting","resize","setCaptions","setControls"],function(){return!0})};function ot(Qe,ne){ne&&ne.code&&(ne.sourceError&&console.error(ne.sourceError),console.error(E.o.logMessage(ne.code)))}function pt(Qe){Qe&&Qe.code&&console.warn(E.o.logMessage(Qe.code))}function Pt(Qe,ne){if(!document.body.contains(Qe.currentContainer)){var ie=document.getElementById(Qe.get("id"));ie&&(Qe.currentContainer=ie)}Qe.currentContainer.parentElement&&Qe.currentContainer.parentElement.replaceChild(ne,Qe.currentContainer),Qe.currentContainer=ne}Object(s.g)(Re.prototype,{on:ce.a.on,once:ce.a.once,off:ce.a.off,trigger:ce.a.trigger,init:function(Qe,ne){var ie=this,Ke=this.modelShim,Ct=new Z("jwplayer",["volume","mute","captionLabel","captions","bandwidthEstimate","bitrateSelection","qualityLabel","enableShortcuts"]),we=Ct&&Ct.getAllItems();Ke.attributes=Ke.attributes||{},Object(s.g)(this.mediaShim,Y.c);var $e=Qe,at=y(Object(s.g)({},Qe),we);at.id=ne.id,at.setupConfig=$e,Object(s.g)(Ke.attributes,at,Y.d),Ke.getProviders=function(){return new ge.a(at)},Ke.setProvider=function(){};var Ce=function(){for(var tt=ht.c,Vt=[],ct=[],gt=0;gt<tt;gt++){var Rt=qe();Vt.push(Rt),ct.push(Rt),st(Rt)}var ti=ct.shift(),oi=ct.shift(),ui=!1;return{primed:function(){return ui},prime:function(){Vt.forEach(st),ui=!0},played:function(){ui=!0},getPrimedElement:function(){return ct.shift()||null},getAdElement:function(){return ti},getTestElement:function(){return oi},clean:function(Ot){if(Ot.src){Ot.removeAttribute("src");try{Ot.load()}catch(It){}}},recycle:function(Ot){Ot&&!ct.some(function(It){return It===Ot})&&(this.clean(Ot),ct.push(Ot))},syncVolume:function(Ot){var It=Math.min(Math.max(0,Ot/100),1);Vt.forEach(function(At){At.volume=It})},syncMute:function(Ot){Vt.forEach(function(It){It.muted=Ot})}}}();Ke.get("backgroundLoading")||(Ce=Object(Se.a)(Ce.getPrimedElement(),Ce));var Je=this.primeUi=new Ie.a(Object(Ie.b)(this.originalContainer)).once("gesture",function(){Ce.prime(),ie.preload(),Je.destroy()});return Ke.on("change:errorEvent",ot),this.setup.start(ne).then(function(tt){var Vt=tt.core;if(!Vt)throw Object(E.w)(null,E.t);if(ie.setup){ie.on(x.ub,pt),tt.warnings.forEach(function(ti){ie.trigger(x.ub,ti)});var ct=ie.modelShim.clone();if(ct.error)throw ct.error;var gt=ie.apiQueue.queue.slice(0);ie.apiQueue.destroy(),Object(s.g)(ie,Vt.prototype),ie.playerSetup(ct,ne,ie.originalContainer,ie._events,gt,Ce);var Rt=ie._model;return Ke.off("change:errorEvent",ot),Rt.on("change:errorEvent",ot),Ct.track(Rt),ie.updatePlaylist(Rt.get("playlist"),Rt.get("feedData")).catch(function(ti){var oi=ti.code===E.a?E.p:E.r;throw Object(E.w)(ti,oi)})}}).then(function(){ie.setup&&ie.playerReady()}).catch(function(tt){ie.setup&&function(Vt,ct,gt){Promise.resolve().then(function(){var Rt=Object(E.x)(E.n,E.v,gt),ti=Vt._model||Vt.modelShim;Rt.message=Rt.message||ti.get("localization").errors[Rt.key],delete Rt.key;var oi=ti.get("contextual");if(!oi){var ui=Object(Ge.a)(Vt,Rt);Ge.a.cloneIcon&&ui.querySelector(".jw-icon").appendChild(Ge.a.cloneIcon("error")),Pt(Vt,ui)}ti.set("errorEvent",Rt),ti.set("state",x.lb),Vt.trigger(x.ib,Rt),oi&&ct.remove()})}(ie,ne,tt)})},playerDestroy:function(){this.destroy&&this.destroy(),this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.primeUi&&this.primeUi.destroy(),this.currentContainer!==this.originalContainer&&Pt(this,this.originalContainer),this.off(),this._events=this._model=this.modelShim=this.apiQueue=this.primeUi=this.setup=null},getContainer:function(){return this.currentContainer},get:function(Qe){if(this.modelShim)return Qe in this.mediaShim?this.mediaShim[Qe]:this.modelShim.get(Qe)},getItemQoe:function(){return this.modelShim._qoeItem},getItemPromise:function(){return null},setItemCallback:function(Qe){this.modelShim&&(this.modelShim.attributes.playlistItemCallback=Qe)},getConfig:function(){return Object(s.g)({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){}}),t.a=Re},function(e,t,r){"use strict";var s=r(0),l=r(3),o=r(4),c=r(2);function n(L){var T={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};return T[L]?T[L]:L}function u(L){for(var T=[],E=0;E<Object(o.c)(L);E++){var a=L.childNodes[E];a.prefix==="jwplayer"&&Object(o.b)(a).toLowerCase()==="mediatypes"&&T.push(Object(o.d)(a))}return T}var h=function L(T,E){for(var a=[],p=0;p<Object(o.c)(T);p++){var v=T.childNodes[p];if(v.prefix==="media"){if(!Object(o.b)(v))continue;switch(Object(o.b)(v).toLowerCase()){case"content":if(Object(c.j)(v,"duration")&&(E.duration=Object(c.g)(Object(c.j)(v,"duration"))),Object(c.j)(v,"url")){E.sources||(E.sources=[]);var d={file:Object(c.j)(v,"url"),type:Object(c.j)(v,"type"),width:Object(c.j)(v,"width"),label:Object(c.j)(v,"label")},x=u(v);x.length&&(d.mediaTypes=x),E.sources.push(d)}Object(o.c)(v)>0&&(E=L(v,E));break;case"title":E.title=Object(o.d)(v);break;case"description":E.description=Object(o.d)(v);break;case"guid":E.mediaid=Object(o.d)(v);break;case"thumbnail":E.image||(E.image=Object(c.j)(v,"url"));break;case"group":L(v,E);break;case"subtitle":var C={file:Object(c.j)(v,"url"),kind:"captions"};Object(c.j)(v,"lang").length>0&&(C.label=n(Object(c.j)(v,"lang"))),a.push(C)}}}E.tracks||(E.tracks=[]);for(var N=0;N<a.length;N++)E.tracks.push(a[N]);return E},g=r(12),m=function(L,T){for(var E="default",a=[],p=[],v=T,d=0;d<L.childNodes.length;d++){var x=L.childNodes[d];if(x.prefix==="jwplayer"){var C=Object(o.b)(x);C==="source"?(delete T.sources,a.push({file:Object(c.j)(x,"file"),default:Object(c.j)(x,E),label:Object(c.j)(x,"label"),type:Object(c.j)(x,"type")})):C==="track"?(delete T.tracks,p.push({file:Object(c.j)(x,"file"),default:Object(c.j)(x,E),kind:Object(c.j)(x,"kind"),label:Object(c.j)(x,"label")})):(T[C]=Object(g.serialize)(Object(o.d)(x)),C==="file"&&T.sources&&delete T.sources)}T.file||(T.file=T.link)}if(a.length){T.sources=[];for(var N=0;N<a.length;N++){var G=a[N];G.file.length>0&&(G[E]=a[N][E]==="true",G.label||delete G.label,v.sources.push(G))}}if(p.length){T.tracks=[];for(var q=0;q<p.length;q++){var K=p[q];K.file&&K.file.length>0&&(K[E]=p[q][E]==="true",K.kind=p[q].kind.length?p[q].kind:"captions",K.label||delete K.label,v.tracks.push(K))}}return v},y=r(24);function _(L){for(var T={},E=0;E<L.childNodes.length;E++){var a=L.childNodes[E],p=Object(o.b)(a);if(p)switch(p.toLowerCase()){case"enclosure":T.file=Object(c.j)(a,"url");break;case"title":T.title=Object(o.d)(a);break;case"guid":T.mediaid=Object(o.d)(a);break;case"pubdate":T.date=Object(o.d)(a);break;case"description":T.description=Object(o.d)(a);break;case"link":T.link=Object(o.d)(a);break;case"category":T.tags?T.tags+=Object(o.d)(a):T.tags=Object(o.d)(a)}}return new y.a(m(L,h(L,T)))}var w=r(21),k=r(8),A=r(1);t.a=function(){var L=Object(s.g)(this,k.a);function T(a){try{var p,v=a.responseXML?a.responseXML.childNodes:null,d=null;if(v){for(var x=0;x<v.length&&(d=v[x]).nodeType===8;x++);if(d&&Object(o.b)(d)==="xml"&&(d=d.nextSibling),d&&Object(o.b)(d)==="rss"){var C=function(G){var q=[];q.feedData={};for(var K=0;K<Object(o.c)(G);K++){var oe=Object(o.a)(G,K);if(Object(o.b)(oe).toLowerCase()==="channel")for(var J=0;J<Object(o.c)(oe);J++){var Q=Object(o.a)(oe,J),Oe=Object(o.b)(Q).toLowerCase();Oe==="item"?q.push(_(Q)):Oe&&(q.feedData[Oe]=Object(o.d)(Q))}}return q}(d);p=Object(s.g)({playlist:C},C.feedData)}}if(!p)try{var N=JSON.parse(a.responseText);if(Array.isArray(N))p={playlist:N};else{if(!Array.isArray(N.playlist))throw Error("Playlist is not an array");p=N}}catch(G){throw new A.o(A.l,621,G)}L.trigger(l.eb,p)}catch(G){E(G)}}function E(a){a instanceof A.o&&!a.code&&(a=new A.o(A.l,0)),L.trigger(l.w,a)}this.load=function(a){Object(w.a)(a,T,function(p,v,d,x){E(x)})},this.destroy=function(){this.off()}}},function(e,t,r){"use strict";r.d(t,"a",function(){return l});var s=r(7);function l(o){return o.type==="hls"&&s.OS.android?o.androidhls!==!1&&!s.Browser.firefox&&parseFloat(s.OS.version.version||"0")>=4.4:null}},function(e,t,r){"use strict";var s=r(3),l=function(){},o=function(){return!1},c={name:"default"},n={supports:o,play:l,pause:l,preload:l,load:l,stop:l,volume:l,mute:l,seek:l,resize:l,remove:l,destroy:l,setVisibility:l,setFullscreen:l,getFullscreen:o,supportsFullscreen:o,getContainer:l,setContainer:l,getName:function(){return c},getQualityLevels:l,getCurrentQuality:l,setCurrentQuality:l,getAudioTracks:l,getCurrentAudioTrack:l,setCurrentAudioTrack:l,getSeekRange:function(){return{start:0,end:this.getDuration()}},setPlaybackRate:l,getPlaybackRate:function(){return 1},getBandwidthEstimate:function(){return null},getLiveLatency:function(){return null},attachMedia:l,detachMedia:l,init:l,setState:function(u){this.state=u,this.trigger(s.bb,{newstate:u})},sendMediaType:function(u){var h=u[0],g=h.type,m=h.mimeType,y=g==="aac"||g==="mp3"||g==="mpeg"||m&&m.indexOf("audio/")===0;this.trigger(s.T,{mediaType:y?"audio":"video"})},getDuration:function(){return 0},trigger:l};t.a=n},function(e,t,r){"use strict";var s,l=r(46),o=r(7),c=r(6),n=[],u=[],h=[],g={},m="screen"in window&&"orientation"in window.screen,y=o.OS.android&&o.Browser.chrome,_=!1;function w(E,a){for(var p=a.length;p--;){var v=a[p];if(E.target===v.getContainer()){v.setIntersection(E);break}}}function k(){n.forEach(function(E){var a=E.model;if(!(a.get("audioMode")||a.get("isFloating")||!a.get("controls")||a.get("visibility")<.75)){var p=a.get("state"),v=Object(c.g)();!v&&p==="paused"&&E.api.getFullscreen()?E.api.setFullscreen(!1):p==="playing"&&E.api.setFullscreen(v)}})}function A(){n.forEach(function(E){E.model.set("activeTab",Object(l.a)())})}function L(E,a){var p=a.indexOf(E);p!==-1&&a.splice(p,1)}function T(E){h.forEach(function(a){a(E)})}document.addEventListener("visibilitychange",A),document.addEventListener("webkitvisibilitychange",A),y&&m&&window.screen.orientation.addEventListener("change",k),window.addEventListener("beforeunload",function(){document.removeEventListener("visibilitychange",A),document.removeEventListener("webkitvisibilitychange",A),window.removeEventListener("scroll",T),y&&m&&window.screen.orientation.removeEventListener("change",k)}),t.a={add:function(E){n.push(E)},remove:function(E){L(E,n)},addScrollHandler:function(E){_||(_=!0,window.addEventListener("scroll",T)),h.push(E)},removeScrollHandler:function(E){var a=h.indexOf(E);a!==-1&&h.splice(a,1)},addWidget:function(E){u.push(E)},removeWidget:function(E){L(E,u)},size:function(){return n.length},observe:function(E){var a;a=window.IntersectionObserver,s||(s=new a(function(p){if(p&&p.length)for(var v=p.length;v--;){var d=p[v];w(d,n),w(d,u)}},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})),g[E.id]||(g[E.id]=!0,s.observe(E))},unobserve:function(E){s&&g[E.id]&&(delete g[E.id],s.unobserve(E))}}},,function(e,t,r){"use strict";r.d(t,"a",function(){return g});var s=r(0),l=r(38),o=r(6),c=r(11),n=[],u=-1;function h(){Object(l.a)(u),u=Object(l.b)(function(){n.forEach(function(m){m.view.updateBounds();var y=m.view.model.get("containerWidth");m.resized=m.width!==y,m.width=y}),n.forEach(function(m){m.contractElement.scrollLeft=2*m.width}),n.forEach(function(m){Object(c.d)(m.expandChild,{width:m.width+1}),m.resized&&m.view.model.get("visibility")&&m.view.updateStyles()}),n.forEach(function(m){m.expandElement.scrollLeft=m.width+1}),n.forEach(function(m){m.resized&&m.view.checkResized()})})}var g=function(){function m(y,_,w){var k={display:"block",position:"absolute",top:0,left:0},A={width:"100%",height:"100%"},L=Object(o.f)('<div style="opacity:0;visibility:hidden;overflow:hidden;"><div><div style="height:1px;"></div></div><div class="jw-contract-trigger"></div></div>'),T=L.firstChild,E=T.firstChild,a=T.nextSibling;Object(c.d)([T,a],Object(s.g)({overflow:"auto"},k,A)),Object(c.d)(L,Object(s.g)({},k,A)),this.expandElement=T,this.expandChild=E,this.contractElement=a,this.hiddenElement=L,this.element=y,this.view=_,this.model=w,this.width=0,this.resized=!1,y.firstChild?y.insertBefore(L,y.firstChild):y.appendChild(L),y.addEventListener("scroll",h,!0),n.push(this),h()}return m.prototype.destroy=function(){if(this.view){var y=n.indexOf(this);y!==-1&&n.splice(y,1),this.element.removeEventListener("scroll",h,!0),this.element.removeChild(this.hiddenElement),this.view=this.model=null}},m}()},,,function(e,t,r){"use strict";r.r(t);var s=setTimeout;function l(){}function o(W){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof W!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(W,this)}function c(W,se){for(;W._state===3;)W=W._value;W._state!==0?(W._handled=!0,o._immediateFn(function(){var de=W._state===1?se.onFulfilled:se.onRejected;if(de!==null){var Z;try{Z=de(W._value)}catch(ye){return void u(se.promise,ye)}n(se.promise,Z)}else(W._state===1?n:u)(se.promise,W._value)})):W._deferreds.push(se)}function n(W,se){try{if(se===W)throw new TypeError("A promise cannot be resolved with itself.");if(se&&(typeof se=="object"||typeof se=="function")){var de=se.then;if(se instanceof o)return W._state=3,W._value=se,void h(W);if(typeof de=="function")return void m((Z=de,ye=se,function(){Z.apply(ye,arguments)}),W)}W._state=1,W._value=se,h(W)}catch(Y){u(W,Y)}var Z,ye}function u(W,se){W._state=2,W._value=se,h(W)}function h(W){W._state===2&&W._deferreds.length===0&&o._immediateFn(function(){W._handled||o._unhandledRejectionFn(W._value)});for(var se=0,de=W._deferreds.length;se<de;se++)c(W,W._deferreds[se]);W._deferreds=null}function g(W,se,de){this.onFulfilled=typeof W=="function"?W:null,this.onRejected=typeof se=="function"?se:null,this.promise=de}function m(W,se){var de=!1;try{W(function(Z){de||(de=!0,n(se,Z))},function(Z){de||(de=!0,u(se,Z))})}catch(Z){if(de)return;de=!0,u(se,Z)}}o.prototype.catch=function(W){return this.then(null,W)},o.prototype.then=function(W,se){var de=new this.constructor(l);return c(this,new g(W,se,de)),de},o.prototype.finally=function(W){var se=this.constructor;return this.then(function(de){return se.resolve(W()).then(function(){return de})},function(de){return se.resolve(W()).then(function(){return se.reject(de)})})},o.all=function(W){return new o(function(se,de){if(!W||W.length===void 0)throw new TypeError("Promise.all accepts an array");var Z=Array.prototype.slice.call(W);if(Z.length===0)return se([]);var ye=Z.length;function Y(Ge,ht){try{if(ht&&(typeof ht=="object"||typeof ht=="function")){var st=ht.then;if(typeof st=="function")return void st.call(ht,function(qe){Y(Ge,qe)},de)}Z[Ge]=ht,--ye==0&&se(Z)}catch(qe){de(qe)}}for(var ce=0;ce<Z.length;ce++)Y(ce,Z[ce])})},o.resolve=function(W){return W&&typeof W=="object"&&W.constructor===o?W:new o(function(se){se(W)})},o.reject=function(W){return new o(function(se,de){de(W)})},o.race=function(W){return new o(function(se,de){for(var Z=0,ye=W.length;Z<ye;Z++)W[Z].then(se,de)})},o._immediateFn=typeof setImmediate=="function"&&function(W){setImmediate(W)}||function(W){s(W,0)},o._unhandledRejectionFn=function(W){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",W)};var y=o;window.Promise||(window.Promise=y);var _=r(19),w=r(14),k=r(15),A=r(20),L={availableProviders:k.a,registerProvider:A.a},T=r(25),E=r(22),a=r(0),p=r(17),v=r(7),d=r(47),x=r(3),C=r(23),N=r(8),G=r(39),q=0;function K(W,se){var de=new d.a(se);return de.on(x.gb,function(Z){W._qoe.tick("ready"),Z.setupTime=W._qoe.between("setup","ready")}),de.on("all",function(Z,ye){W.trigger(Z,ye)}),de}function oe(W,se){var de=W.plugins,Z=Object.keys(de).map(function(ye){var Y=de[ye];return delete de[ye],Y});se.get("setupConfig")&&W.trigger("remove"),W.off(),se.playerDestroy(),Z.forEach(function(ye){if(ye.destroy)try{ye.destroy()}catch(Y){}}),se.getContainer().removeAttribute("data-jwplayer-id")}function J(W){var se=++q,de=W.id||"player-"+se,Z=new C.a,ye={},Y=K(this,W);Z.tick("init"),W.setAttribute("data-jwplayer-id",de),Object.defineProperties(this,{id:{enumerable:!0,get:function(){return de}},uniqueId:{enumerable:!0,get:function(){return se}},plugins:{enumerable:!0,get:function(){return ye}},_qoe:{enumerable:!0,get:function(){return Z}},version:{enumerable:!0,get:function(){return E.a}},Events:{enumerable:!0,get:function(){return N.a}},utils:{enumerable:!0,get:function(){return G.a}},_:{enumerable:!0,get:function(){return a.c}}}),Object(a.g)(this,{_events:{},setup:function(ce){return Z.clear("ready"),Z.tick("setup"),Y&&oe(this,Y),(Y=K(this,W)).init(ce,this),this.on(ce.events,null,this)},remove:function(){return this.getPip()&&this.setPip(!1),function(ce){for(var Ge=w.a.length;Ge--;)if(w.a[Ge].uniqueId===ce.uniqueId){w.a.splice(Ge,1);break}}(this),Y&&oe(this,Y),Object.keys(ye).forEach(function(ce){delete ye[ce]}),this},qoe:function(){var ce=Y.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:ce.getFirstFrame?ce.getFirstFrame():null,player:this._qoe.dump(),item:ce.dump()}},addCues:function(ce){return Array.isArray(ce)&&Y.addCues(ce),this},getAudioTracks:function(){return Y.getAudioTracks()},getBuffer:function(){return Y.get("buffer")},getCaptions:function(){return Y.get("captions")},getCaptionsList:function(){return Y.getCaptionsList()},getConfig:function(){return Y.getConfig()},getContainer:function(){return Y.getContainer()},getControls:function(){return Y.get("controls")},getCues:function(){return Y.get("cues")},getCurrentAudioTrack:function(){return Y.getCurrentAudioTrack()},getCurrentCaptions:function(){return Y.getCurrentCaptions()},getCurrentQuality:function(){return Y.getCurrentQuality()},getCurrentTime:function(){return Y.get("currentTime")},getDuration:function(){return Y.get("duration")},getEnvironment:function(){return v},getFullscreen:function(){return Y.get("fullscreen")},getHeight:function(){return Y.getHeight()},getItemMeta:function(){return Y.get("itemMeta")||{}},getMute:function(){return Y.getMute()},getPercentViewable:function(){return Y.get("visibility")},getPip:function(){return Y.get("pip")},getPlaybackRate:function(){return Y.get("playbackRate")},getPlaylist:function(){return Y.get("playlist")},getPlaylistIndex:function(){return Y.get("item")},getPlaylistItem:function(ce){if(!G.a.exists(ce))return Y.get("playlistItem");var Ge=this.getPlaylist();return Ge?Ge[ce]:null},getPosition:function(){return Y.get("position")},getProvider:function(){return Y.getProvider()},getQualityLevels:function(){return Y.getQualityLevels()},getSafeRegion:function(ce){return ce===void 0&&(ce=!0),Y.getSafeRegion(ce)},getState:function(){return Y.getState()},getStretching:function(){return Y.get("stretching")},getViewable:function(){return Y.get("viewable")},getVisualQuality:function(){return Y.getVisualQuality()},getVolume:function(){return Y.get("volume")},getWidth:function(){return Y.getWidth()},setCaptions:function(ce){return Y.setCaptions(ce),this},setConfig:function(ce){return Y.setConfig(ce),this},setControls:function(ce){return Y.setControls(ce),this},setCurrentAudioTrack:function(ce){Y.setCurrentAudioTrack(ce)},setCurrentCaptions:function(ce){Y.setCurrentCaptions(ce)},setCurrentQuality:function(ce){Y.setCurrentQuality(ce)},setFullscreen:function(ce){return Y.setFullscreen(ce),this},setAllowFullscreen:function(ce){return Y.setAllowFullscreen(ce),this},setMute:function(ce){return Y.setMute(ce),this},setPip:function(ce){return Y.setPip(ce),this},setPlaybackRate:function(ce){return Y.setPlaybackRate(ce),this},setPlaylistItem:function(ce,Ge){return Y.setPlaylistItem(ce,Ge),this},setCues:function(ce){return Array.isArray(ce)&&Y.setCues(ce),this},setVolume:function(ce){return Y.setVolume(ce),this},load:function(ce,Ge){return Y.load(ce,Ge),this},play:function(ce){return Y.play(ce),this},pause:function(ce){return Y.pause(ce),this},playToggle:function(ce){switch(this.getState()){case x.pb:case x.jb:return this.pause(ce);default:return this.play(ce)}},seek:function(ce,Ge){return Y.seek(ce,Ge),this},playlistItem:function(ce,Ge){return Y.playlistItem(ce,Ge),this},playlistNext:function(ce){return Y.playlistNext(ce),this},playlistPrev:function(ce){return Y.playlistPrev(ce),this},next:function(ce){return Y.next(ce),this},requestPip:function(ce){return Y.requestPip(ce),this},castToggle:function(){return Y.castToggle(),this},stopCasting:function(){return Y.stopCasting(),this},createInstream:function(){return Y.createInstream()},stop:function(){return Y.stop(),this},resize:function(ce,Ge){return Y.resize(ce,Ge),this},addButton:function(ce,Ge,ht,st,qe){return Y.addButton(ce,Ge,ht,st,qe),this},removeButton:function(ce){return Y.removeButton(ce),this},attachMedia:function(){return Y.attachMedia(),this},detachMedia:function(){return Y.detachMedia(),this},isBeforeComplete:function(){return Y.isBeforeComplete()},isBeforePlay:function(){return Y.isBeforePlay()},setPlaylistItemCallback:function(ce,Ge){Y.setItemCallback(ce,Ge)},removePlaylistItemCallback:function(){Y.setItemCallback(null)},getPlaylistItemPromise:function(ce){return Y.getItemPromise(ce)},getFloating:function(){return!!Y.get("isFloating")},setFloating:function(ce){Y.setConfig({floating:{mode:ce?"always":"never"}})}})}Object(a.g)(J.prototype,{on:function(W,se,de){return N.c.call(this,W,se,de)},once:function(W,se,de){return N.d.call(this,W,se,de)},off:function(W,se,de){return N.b.call(this,W,se,de)},trigger:function(W,se){return(se=a.c.isObject(se)?Object(a.g)({},se):{}).type=W,p.a.debug?N.e.call(this,W,se):N.f.call(this,W,se)},getPlugin:function(W){return this.plugins[W]},addPlugin:function(W,se){this.plugins[W]=se,this.on("ready",se.addToPlayer),se.resize&&this.on("resize",se.resizeHandler)},registerPlugin:function(W,se,de){Object(T.b)(W,se,de)},getAdBlock:function(){return!1},playAd:function(W){},pauseAd:function(W){},skipAd:function(){}}),r.d(t,"assignLibraryProperties",function(){return ge}),r.p=Object(_.loadFrom)();var Q=function(W){var se,de;if(W?typeof W=="string"?(se=Oe(W))||(de=document.getElementById(W)):typeof W=="number"?se=w.a[W]:W.nodeType&&(se=Oe((de=W).id||de.getAttribute("data-jwplayer-id"))):se=w.a[0],se)return se;if(de){var Z=new J(de);return w.a.push(Z),Z}return{registerPlugin:T.b}};function Oe(W){for(var se=0;se<w.a.length;se++)if(w.a[se].id===W)return w.a[se];return null}function ge(W){Object.defineProperties(W,{api:{get:function(){return L},set:function(){}},version:{get:function(){return E.a},set:function(){}},debug:{get:function(){return p.a.debug},set:function(se){p.a.debug=!!se}}})}ge(Q),t.default=Q}]).default});var qp,Cn,Gp=si(()=>{j0();qp=location.hostname==="av.archive.org"||location.hostname==="av.dev.archive.org"?"/jw/8":"https://av.archive.org/jw/8",{jwplayer:Cn}=window});var _d,N0,Yp=si(()=>{Vp();wd();as();Wp();Gp();_d=class e{constructor(){if(e.avplayer="#jw6",e.resizer_listening=!1,e.unplayable_timer=null,e.mobile=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0||navigator.userAgent.indexOf("Android")>0,this.id=!1,this.selector_play_items=!1,this.selector_playlist=!1,!e.is_local_storage_available())return;this.selector_play_items=Ci(".js-playset-items"),this.selector_playlist=Ci(".js-playset-list");let t=Ci(".js-playset").attr("data-mediatype");if(this.selector_playlist.length||(this.selector_playlist="body"),this.selector_play_items.length?(!t||["audio","movies","etree"].includes(t))&&(Ci(this.selector_play_items).append('<span id="playplayset"/>'),Ci("#playplayset").html(`<a
          class="stealth"
          href="#play-items"
          data-event-click-tracking="Playset|PlayAllLink"
        >
          <span class="iconochive-play" aria-hidden="true"></span>
          <span class="sr-only">play</span>
          <span class="hidden-xs-span"> Play All</span>
          <br />
        </a>`),ia("#playplayset",e.create_playlist_goto_first_item),ba("autoplay",!0)&&!ba("playset",!0)&&setTimeout(e.create_playlist_goto_first_item,2500)):this.selector_play_items=!1,ba("playset",!0)){if([,this.id]=location.href.match(/archive\.org\/details\/([^/&?]+)/),!this.id)return;Ci("#playset-xs").length||Ci("#theatre-ia-wrap").after('<div id="playset-xs" class="hidden-sm hidden-md hidden-lg"><div/></div>'),this.show_playlist(),e.skip_unplayable_item(),e.resizer()}Ki("playset ready")}static create_playlist_goto_first_item(){Ki("create_playlist_goto_first_item()");let t=[],s=Ci("#also-found").length?"#also-found .item-ia":".item-ia:visible";Ci(s).each((l,o)=>{let c=Ci(o),{id:n}=c.data();if(n.match(/^__/))return;let u=e.truncate(c.find(".item-ttl,.collection-title a").text(),35),h=e.truncate(c.find(".byv").text(),75),{year:g}=c.data(),m=e.truncate(c.next().find(".C234 > span:first").text(),75);t.push([n,u,h.length?h:m,g])}),e.set_playset(t),e.mobile?e.play_mobile(t):location.href=`/details/${t[0][0]}?autoplay=1&playset=1`}static play_mobile(t){let r=[];for(let s of t)r.push(s[0]);location.href=`https://archive.org/services/playset.php?ids=${r.join(",")}`}show_playlist(){let t=e.get_playset();if(!t)return;let r=!1,s="";for(let o of t.list)s+=e.playlist_item(o[0],o[1],o[2],o[3]),this.id===o[0]&&(r=!0);if(!r)return;let l=`
${e.playlist_header(t)}
<div class="playset-list">
${s}
</div>
`;Ci("body").addClass("playset"),Ci("body").addClass(Ci("#theatre-ia-wrap").length?"":" playset-hdr-only"),Ci(this.selector_playlist).prepend(`<div id="playset-ia">${l}</div>`),ia("#playset-pp .js-playset-play",e.play),ia("#playset-pp .js-playset-pause",e.pause),setTimeout(()=>{this.autoscroll_playlist()},500),Ci(document).ready(()=>{Ci("#texty iframe").on("load",()=>{Ci("#texty iframe").contents().click(e.pause)})})}static resizer(){e.resizer_listening||(e.resizer_listening=!0,Ci(window).on("resize  orientationchange",()=>{clearTimeout(e.throttler),e.throttler=setTimeout(e.resizer,250)}));let t=Ci("#playset-xs:visible").length?"playset-xs":"theatre-ia-wrap",r=Ci("#playset-ia").parent().attr("id");Ki("browser resize: ",t," -v- ",r),t!==r&&(t==="playset-xs"?Ci("#playset-ia").appendTo("#playset-xs > div"):Ci("#playset-ia").prependTo(`#${t}`),Ki("playset moved"))}static playlist_header(t){let r=t.src.match(/\?/)?"&":"?",s=`${t.src}${r}autoplay=1`;return`
<div class="playset-hdr">
<div>
  <a href=${s}>Playlist</a>
  ${e.glyph("beta")}
</div>
<div id="playset-pp">
  <a href="#" class="js-playset-pause">
    ${e.glyph("Pause")}
  </a>
  <a href="#" class="js-playset-play" style="display:none">
    ${e.glyph("play")}
  </a>
</div>
<div>
  <a href=${s}>
    ${e.glyph("share")}
  </a>
</div>
</div>
`}static playlist_item(t,r,s,l){return`
<div class="playset-item" data-id=${t}>
<a href="/details/${t}?autoplay=1&playset=1">
  <div class="topinblock playset-img">
    <img src="/services/img/${t}"/>
  </div><div class="topinblock">
    ${e.item_year(l)}
    <b>
      ${r}
    </b><br/>
    ${s}
  </div>
</a>
</div>`}static item_year(t){return t?`
<div style="float:right">
(${t})
</div>`:""}autoscroll_playlist(){let t=Ci(`#playset-ia div[data-id="${this.id}"`).offset();if(t){let r=Ci("#playset-xs:visible").length?10:Ci("#topnav").height(),s=t.top-r-Ci("#playset-ia .playset-hdr").height();Ki("scrolling playset to ",s),Ci("#playset-ia .playset-list").scrollTop(s)}}static skip_unplayable_item(){e.unplayable_timer=setTimeout(()=>{(typeof Cn=="undefined"||!Ci(e.avplayer).length)&&e.goto_next_item()},3e3)}static goto_next_item(){let t=location.href.match(/\/details\/([^/&?]+)/)[1],r=e.get_playlist(),s="";for(let l of r)t===s&&(location.href=`/details/${l[0]}?autoplay=1&playset=1`),[s]=l}static onComplete(t){let r=t.getPlaylistIndex(),s=t.getPlaylist().length;r+1>=s&&e.goto_next_item()}static get_playlist(){let t=e.get_playset();return typeof t.list=="undefined"?t:t.list}static get_playset(){return JSON.parse(localStorage.getItem("playset"))}static set_playset(t){let r=new Date,s={version:"1.1",src:(location.pathname+location.search).replace(/[&?]autoplay=1/,""),created:r.toJSON(),createdTS:Math.round(r.getTime()/1e3),list:t};localStorage.setItem("playset",JSON.stringify(s))}static pause(){if(Ki("playset pause"),typeof Cn!="undefined"&&Ci(e.avplayer).length){let t=Cn(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()==="PLAYING"?t.pause():t.play(),Ci("#playset-pp a").toggle()),!1}return e.unplayable_timer&&(clearTimeout(e.unplayable_timer),e.unplayable_timer=null,Ci("#playset-pp a").toggle()),!1}static play(){if(Ki("play/resume"),typeof Cn!="undefined"&&Ci(e.avplayer).length){let t=Cn(e.avplayer.substr(1));return t&&t.getState()&&(t.getState().toUpperCase()!=="PLAYING"&&t.play(),Ci("#playset-pp a").toggle()),!1}return e.unplayable_timer||(e.skip_unplayable_item(),Ci("#playset-pp a").toggle()),!1}static glyph(t){return`<span class="iconochive-${t}" aria-hidden="true"></span>
           <span class="sr-only">${t}</span>`}static truncate(t,r){let s=t.trim().replace(/\s+/g," ");return s.length<=r?s:`${s.substr(0,r)}..`}static is_local_storage_available(){try{return"localStorage"in window}catch(t){return!1}}};Ci(()=>new _d);N0=_d});var Jp={};Fn(Jp,{default:()=>Is});var V5,Zp,W5,q5,G5,Y5,K5,X5,Xp,Z5,F0,z0,U0,J5,B0,H0,Q5,Is,Kc=si(()=>{V5=Object.create,Zp=Object.defineProperty,W5=Object.getOwnPropertyDescriptor,q5=Object.getOwnPropertyNames,G5=Object.getPrototypeOf,Y5=Object.prototype.hasOwnProperty,K5=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),X5=(e,t)=>{for(var r in t)Zp(e,r,{get:t[r],enumerable:!0})},Xp=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of q5(t))!Y5.call(e,l)&&l!==r&&Zp(e,l,{get:()=>t[l],enumerable:!(s=W5(t,l))||s.enumerable});return e},Z5=(e,t,r)=>(Xp(e,t,"default"),r&&Xp(r,t,"default")),F0=(e,t,r)=>(r=e!=null?V5(G5(e)):{},Xp(t||!e||!e.__esModule?Zp(r,"default",{value:e,enumerable:!0}):r,e)),z0=K5((e,t)=>{(function(r,s){"use strict";typeof t=="object"&&typeof t.exports=="object"?t.exports=r.document?s(r,!0):function(l){if(!l.document)throw new Error("jQuery requires a window with a document");return s(l)}:s(r)})(typeof window<"u"?window:e,function(r,s){"use strict";var l=[],o=Object.getPrototypeOf,c=l.slice,n=l.flat?function(f){return l.flat.call(f)}:function(f){return l.concat.apply([],f)},u=l.push,h=l.indexOf,g={},m=g.toString,y=g.hasOwnProperty,_=y.toString,w=_.call(Object),k={},A=function(f){return typeof f=="function"&&typeof f.nodeType!="number"&&typeof f.item!="function"},L=function(f){return f!=null&&f===f.window},T=r.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function a(f,b,S){S=S||T;var M,H,F=S.createElement("script");if(F.text=f,b)for(M in E)H=b[M]||b.getAttribute&&b.getAttribute(M),H&&F.setAttribute(M,H);S.head.appendChild(F).parentNode.removeChild(F)}function p(f){return f==null?f+"":typeof f=="object"||typeof f=="function"?g[m.call(f)]||"object":typeof f}var v="3.6.1",d=function(f,b){return new d.fn.init(f,b)};d.fn=d.prototype={jquery:v,constructor:d,length:0,toArray:function(){return c.call(this)},get:function(f){return f==null?c.call(this):f<0?this[f+this.length]:this[f]},pushStack:function(f){var b=d.merge(this.constructor(),f);return b.prevObject=this,b},each:function(f){return d.each(this,f)},map:function(f){return this.pushStack(d.map(this,function(b,S){return f.call(b,S,b)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(f,b){return(b+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(f,b){return b%2}))},eq:function(f){var b=this.length,S=+f+(f<0?b:0);return this.pushStack(S>=0&&S<b?[this[S]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:l.sort,splice:l.splice},d.extend=d.fn.extend=function(){var f,b,S,M,H,F,X=arguments[0]||{},Ne=1,Te=arguments.length,mt=!1;for(typeof X=="boolean"&&(mt=X,X=arguments[Ne]||{},Ne++),typeof X!="object"&&!A(X)&&(X={}),Ne===Te&&(X=this,Ne--);Ne<Te;Ne++)if((f=arguments[Ne])!=null)for(b in f)M=f[b],!(b==="__proto__"||X===M)&&(mt&&M&&(d.isPlainObject(M)||(H=Array.isArray(M)))?(S=X[b],H&&!Array.isArray(S)?F=[]:!H&&!d.isPlainObject(S)?F={}:F=S,H=!1,X[b]=d.extend(mt,F,M)):M!==void 0&&(X[b]=M));return X},d.extend({expando:"jQuery"+(v+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw new Error(f)},noop:function(){},isPlainObject:function(f){var b,S;return!f||m.call(f)!=="[object Object]"?!1:(b=o(f),b?(S=y.call(b,"constructor")&&b.constructor,typeof S=="function"&&_.call(S)===w):!0)},isEmptyObject:function(f){var b;for(b in f)return!1;return!0},globalEval:function(f,b,S){a(f,{nonce:b&&b.nonce},S)},each:function(f,b){var S,M=0;if(x(f))for(S=f.length;M<S&&b.call(f[M],M,f[M])!==!1;M++);else for(M in f)if(b.call(f[M],M,f[M])===!1)break;return f},makeArray:function(f,b){var S=b||[];return f!=null&&(x(Object(f))?d.merge(S,typeof f=="string"?[f]:f):u.call(S,f)),S},inArray:function(f,b,S){return b==null?-1:h.call(b,f,S)},merge:function(f,b){for(var S=+b.length,M=0,H=f.length;M<S;M++)f[H++]=b[M];return f.length=H,f},grep:function(f,b,S){for(var M,H=[],F=0,X=f.length,Ne=!S;F<X;F++)M=!b(f[F],F),M!==Ne&&H.push(f[F]);return H},map:function(f,b,S){var M,H,F=0,X=[];if(x(f))for(M=f.length;F<M;F++)H=b(f[F],F,S),H!=null&&X.push(H);else for(F in f)H=b(f[F],F,S),H!=null&&X.push(H);return n(X)},guid:1,support:k}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=l[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(f,b){g["[object "+b+"]"]=b.toLowerCase()});function x(f){var b=!!f&&"length"in f&&f.length,S=p(f);return A(f)||L(f)?!1:S==="array"||b===0||typeof b=="number"&&b>0&&b-1 in f}var C=function(f){var b,S,M,H,F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O,j,U,le,fe="sizzle"+1*new Date,Ae=f.document,Nt=0,yt=0,Yt=Mn(),li=Mn(),Pi=Mn(),Ii=Mn(),Li=function(ee,Le){return ee===Le&&(ii=!0),0},cr={}.hasOwnProperty,Wi=[],Di=Wi.pop,Xi=Wi.push,er=Wi.push,Zi=Wi.slice,gr=function(ee,Le){for(var nt=0,Gt=ee.length;nt<Gt;nt++)if(ee[nt]===Le)return nt;return-1},Ir="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Oi="[\\x20\\t\\r\\n\\f]",ur="(?:\\\\[\\da-fA-F]{1,6}"+Oi+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Yr="\\["+Oi+"*("+ur+")(?:"+Oi+"*([*^$|!~]?=)"+Oi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ur+"))|)"+Oi+"*\\]",mr=":("+ur+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Yr+")*)|.*)\\)|)",Br=new RegExp(Oi+"+","g"),Mr=new RegExp("^"+Oi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Oi+"+$","g"),mn=new RegExp("^"+Oi+"*,"+Oi+"*"),jr=new RegExp("^"+Oi+"*([>+~]|"+Oi+")"+Oi+"*"),Or=new RegExp(Oi+"|>"),Kr=new RegExp(mr),me=new RegExp("^"+ur+"$"),pe={ID:new RegExp("^#("+ur+")"),CLASS:new RegExp("^\\.("+ur+")"),TAG:new RegExp("^("+ur+"|[*])"),ATTR:new RegExp("^"+Yr),PSEUDO:new RegExp("^"+mr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Oi+"*(even|odd|(([+-]|)(\\d*)n|)"+Oi+"*(?:([+-]|)"+Oi+"*(\\d+)|))"+Oi+"*\\)|)","i"),bool:new RegExp("^(?:"+Ir+")$","i"),needsContext:new RegExp("^"+Oi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Oi+"*((?:-\\d)?\\d*)"+Oi+"*\\)|)(?=[^-]|$)","i")},Ee=/HTML$/i,Wt=/^(?:input|select|textarea|button)$/i,bt=/^h\d$/i,ai=/^[^{]+\{\s*\[native \w/,_i=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,zi=/[+~]/,Ri=new RegExp("\\\\[\\da-fA-F]{1,6}"+Oi+"?|\\\\([^\\r\\n\\f])","g"),Qi=function(ee,Le){var nt="0x"+ee.slice(1)-65536;return Le||(nt<0?String.fromCharCode(nt+65536):String.fromCharCode(nt>>10|55296,nt&1023|56320))},fr=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wr=function(ee,Le){return Le?ee==="\0"?"\uFFFD":ee.slice(0,-1)+"\\"+ee.charCodeAt(ee.length-1).toString(16)+" ":"\\"+ee},Po=function(){Mt()},Na=so(function(ee){return ee.disabled===!0&&ee.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{er.apply(Wi=Zi.call(Ae.childNodes),Ae.childNodes),Wi[Ae.childNodes.length].nodeType}catch(ee){er={apply:Wi.length?function(Le,nt){Xi.apply(Le,Zi.call(nt))}:function(Le,nt){for(var Gt=Le.length,ft=0;Le[Gt++]=nt[ft++];);Le.length=Gt-1}}}function dr(ee,Le,nt,Gt){var ft,Zt,ni,hi,bi,Bi,ji,Ni=Le&&Le.ownerDocument,nr=Le?Le.nodeType:9;if(nt=nt||[],typeof ee!="string"||!ee||nr!==1&&nr!==9&&nr!==11)return nt;if(!Gt&&(Mt(Le),Le=Le||rt,R)){if(nr!==11&&(bi=_i.exec(ee)))if(ft=bi[1]){if(nr===9)if(ni=Le.getElementById(ft)){if(ni.id===ft)return nt.push(ni),nt}else return nt;else if(Ni&&(ni=Ni.getElementById(ft))&&le(Le,ni)&&ni.id===ft)return nt.push(ni),nt}else{if(bi[2])return er.apply(nt,Le.getElementsByTagName(ee)),nt;if((ft=bi[3])&&S.getElementsByClassName&&Le.getElementsByClassName)return er.apply(nt,Le.getElementsByClassName(ft)),nt}if(S.qsa&&!Ii[ee+" "]&&(!O||!O.test(ee))&&(nr!==1||Le.nodeName.toLowerCase()!=="object")){if(ji=ee,Ni=Le,nr===1&&(Or.test(ee)||jr.test(ee))){for(Ni=zi.test(ee)&&Qo(Le.parentNode)||Le,(Ni!==Le||!S.scope)&&((hi=Le.getAttribute("id"))?hi=hi.replace(fr,wr):Le.setAttribute("id",hi=fe)),Bi=X(ee),Zt=Bi.length;Zt--;)Bi[Zt]=(hi?"#"+hi:":scope")+" "+ea(Bi[Zt]);ji=Bi.join(",")}try{return er.apply(nt,Ni.querySelectorAll(ji)),nt}catch(Er){Ii(ee,!0)}finally{hi===fe&&Le.removeAttribute("id")}}}return Te(ee.replace(Mr,"$1"),Le,nt,Gt)}function Mn(){var ee=[];function Le(nt,Gt){return ee.push(nt+" ")>M.cacheLength&&delete Le[ee.shift()],Le[nt+" "]=Gt}return Le}function pn(ee){return ee[fe]=!0,ee}function gn(ee){var Le=rt.createElement("fieldset");try{return!!ee(Le)}catch(nt){return!1}finally{Le.parentNode&&Le.parentNode.removeChild(Le),Le=null}}function Zo(ee,Le){for(var nt=ee.split("|"),Gt=nt.length;Gt--;)M.attrHandle[nt[Gt]]=Le}function ko(ee,Le){var nt=Le&&ee,Gt=nt&&ee.nodeType===1&&Le.nodeType===1&&ee.sourceIndex-Le.sourceIndex;if(Gt)return Gt;if(nt){for(;nt=nt.nextSibling;)if(nt===Le)return-1}return ee?1:-1}function Jo(ee){return function(Le){var nt=Le.nodeName.toLowerCase();return nt==="input"&&Le.type===ee}}function Ba(ee){return function(Le){var nt=Le.nodeName.toLowerCase();return(nt==="input"||nt==="button")&&Le.type===ee}}function Ha(ee){return function(Le){return"form"in Le?Le.parentNode&&Le.disabled===!1?"label"in Le?"label"in Le.parentNode?Le.parentNode.disabled===ee:Le.disabled===ee:Le.isDisabled===ee||Le.isDisabled!==!ee&&Na(Le)===ee:Le.disabled===ee:"label"in Le?Le.disabled===ee:!1}}function Un(ee){return pn(function(Le){return Le=+Le,pn(function(nt,Gt){for(var ft,Zt=ee([],nt.length,Le),ni=Zt.length;ni--;)nt[ft=Zt[ni]]&&(nt[ft]=!(Gt[ft]=nt[ft]))})})}function Qo(ee){return ee&&typeof ee.getElementsByTagName<"u"&&ee}S=dr.support={},F=dr.isXML=function(ee){var Le=ee&&ee.namespaceURI,nt=ee&&(ee.ownerDocument||ee).documentElement;return!Ee.test(Le||nt&&nt.nodeName||"HTML")},Mt=dr.setDocument=function(ee){var Le,nt,Gt=ee?ee.ownerDocument||ee:Ae;return Gt==rt||Gt.nodeType!==9||!Gt.documentElement||(rt=Gt,$i=rt.documentElement,R=!F(rt),Ae!=rt&&(nt=rt.defaultView)&&nt.top!==nt&&(nt.addEventListener?nt.addEventListener("unload",Po,!1):nt.attachEvent&&nt.attachEvent("onunload",Po)),S.scope=gn(function(ft){return $i.appendChild(ft).appendChild(rt.createElement("div")),typeof ft.querySelectorAll<"u"&&!ft.querySelectorAll(":scope fieldset div").length}),S.attributes=gn(function(ft){return ft.className="i",!ft.getAttribute("className")}),S.getElementsByTagName=gn(function(ft){return ft.appendChild(rt.createComment("")),!ft.getElementsByTagName("*").length}),S.getElementsByClassName=ai.test(rt.getElementsByClassName),S.getById=gn(function(ft){return $i.appendChild(ft).id=fe,!rt.getElementsByName||!rt.getElementsByName(fe).length}),S.getById?(M.filter.ID=function(ft){var Zt=ft.replace(Ri,Qi);return function(ni){return ni.getAttribute("id")===Zt}},M.find.ID=function(ft,Zt){if(typeof Zt.getElementById<"u"&&R){var ni=Zt.getElementById(ft);return ni?[ni]:[]}}):(M.filter.ID=function(ft){var Zt=ft.replace(Ri,Qi);return function(ni){var hi=typeof ni.getAttributeNode<"u"&&ni.getAttributeNode("id");return hi&&hi.value===Zt}},M.find.ID=function(ft,Zt){if(typeof Zt.getElementById<"u"&&R){var ni,hi,bi,Bi=Zt.getElementById(ft);if(Bi){if(ni=Bi.getAttributeNode("id"),ni&&ni.value===ft)return[Bi];for(bi=Zt.getElementsByName(ft),hi=0;Bi=bi[hi++];)if(ni=Bi.getAttributeNode("id"),ni&&ni.value===ft)return[Bi]}return[]}}),M.find.TAG=S.getElementsByTagName?function(ft,Zt){if(typeof Zt.getElementsByTagName<"u")return Zt.getElementsByTagName(ft);if(S.qsa)return Zt.querySelectorAll(ft)}:function(ft,Zt){var ni,hi=[],bi=0,Bi=Zt.getElementsByTagName(ft);if(ft==="*"){for(;ni=Bi[bi++];)ni.nodeType===1&&hi.push(ni);return hi}return Bi},M.find.CLASS=S.getElementsByClassName&&function(ft,Zt){if(typeof Zt.getElementsByClassName<"u"&&R)return Zt.getElementsByClassName(ft)},j=[],O=[],(S.qsa=ai.test(rt.querySelectorAll))&&(gn(function(ft){var Zt;$i.appendChild(ft).innerHTML="<a id='"+fe+"'></a><select id='"+fe+"-\r\\' msallowcapture=''><option selected=''></option></select>",ft.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+Oi+`*(?:''|"")`),ft.querySelectorAll("[selected]").length||O.push("\\["+Oi+"*(?:value|"+Ir+")"),ft.querySelectorAll("[id~="+fe+"-]").length||O.push("~="),Zt=rt.createElement("input"),Zt.setAttribute("name",""),ft.appendChild(Zt),ft.querySelectorAll("[name='']").length||O.push("\\["+Oi+"*name"+Oi+"*="+Oi+`*(?:''|"")`),ft.querySelectorAll(":checked").length||O.push(":checked"),ft.querySelectorAll("a#"+fe+"+*").length||O.push(".#.+[+~]"),ft.querySelectorAll("\\\f"),O.push("[\\r\\n\\f]")}),gn(function(ft){ft.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Zt=rt.createElement("input");Zt.setAttribute("type","hidden"),ft.appendChild(Zt).setAttribute("name","D"),ft.querySelectorAll("[name=d]").length&&O.push("name"+Oi+"*[*^$|!~]?="),ft.querySelectorAll(":enabled").length!==2&&O.push(":enabled",":disabled"),$i.appendChild(ft).disabled=!0,ft.querySelectorAll(":disabled").length!==2&&O.push(":enabled",":disabled"),ft.querySelectorAll("*,:x"),O.push(",.*:")})),(S.matchesSelector=ai.test(U=$i.matches||$i.webkitMatchesSelector||$i.mozMatchesSelector||$i.oMatchesSelector||$i.msMatchesSelector))&&gn(function(ft){S.disconnectedMatch=U.call(ft,"*"),U.call(ft,"[s!='']:x"),j.push("!=",mr)}),O=O.length&&new RegExp(O.join("|")),j=j.length&&new RegExp(j.join("|")),Le=ai.test($i.compareDocumentPosition),le=Le||ai.test($i.contains)?function(ft,Zt){var ni=ft.nodeType===9?ft.documentElement:ft,hi=Zt&&Zt.parentNode;return ft===hi||!!(hi&&hi.nodeType===1&&(ni.contains?ni.contains(hi):ft.compareDocumentPosition&&ft.compareDocumentPosition(hi)&16))}:function(ft,Zt){if(Zt){for(;Zt=Zt.parentNode;)if(Zt===ft)return!0}return!1},Li=Le?function(ft,Zt){if(ft===Zt)return ii=!0,0;var ni=!ft.compareDocumentPosition-!Zt.compareDocumentPosition;return ni||(ni=(ft.ownerDocument||ft)==(Zt.ownerDocument||Zt)?ft.compareDocumentPosition(Zt):1,ni&1||!S.sortDetached&&Zt.compareDocumentPosition(ft)===ni?ft==rt||ft.ownerDocument==Ae&&le(Ae,ft)?-1:Zt==rt||Zt.ownerDocument==Ae&&le(Ae,Zt)?1:Dt?gr(Dt,ft)-gr(Dt,Zt):0:ni&4?-1:1)}:function(ft,Zt){if(ft===Zt)return ii=!0,0;var ni,hi=0,bi=ft.parentNode,Bi=Zt.parentNode,ji=[ft],Ni=[Zt];if(!bi||!Bi)return ft==rt?-1:Zt==rt?1:bi?-1:Bi?1:Dt?gr(Dt,ft)-gr(Dt,Zt):0;if(bi===Bi)return ko(ft,Zt);for(ni=ft;ni=ni.parentNode;)ji.unshift(ni);for(ni=Zt;ni=ni.parentNode;)Ni.unshift(ni);for(;ji[hi]===Ni[hi];)hi++;return hi?ko(ji[hi],Ni[hi]):ji[hi]==Ae?-1:Ni[hi]==Ae?1:0}),rt},dr.matches=function(ee,Le){return dr(ee,null,null,Le)},dr.matchesSelector=function(ee,Le){if(Mt(ee),S.matchesSelector&&R&&!Ii[Le+" "]&&(!j||!j.test(Le))&&(!O||!O.test(Le)))try{var nt=U.call(ee,Le);if(nt||S.disconnectedMatch||ee.document&&ee.document.nodeType!==11)return nt}catch(Gt){Ii(Le,!0)}return dr(Le,rt,null,[ee]).length>0},dr.contains=function(ee,Le){return(ee.ownerDocument||ee)!=rt&&Mt(ee),le(ee,Le)},dr.attr=function(ee,Le){(ee.ownerDocument||ee)!=rt&&Mt(ee);var nt=M.attrHandle[Le.toLowerCase()],Gt=nt&&cr.call(M.attrHandle,Le.toLowerCase())?nt(ee,Le,!R):void 0;return Gt!==void 0?Gt:S.attributes||!R?ee.getAttribute(Le):(Gt=ee.getAttributeNode(Le))&&Gt.specified?Gt.value:null},dr.escape=function(ee){return(ee+"").replace(fr,wr)},dr.error=function(ee){throw new Error("Syntax error, unrecognized expression: "+ee)},dr.uniqueSort=function(ee){var Le,nt=[],Gt=0,ft=0;if(ii=!S.detectDuplicates,Dt=!S.sortStable&&ee.slice(0),ee.sort(Li),ii){for(;Le=ee[ft++];)Le===ee[ft]&&(Gt=nt.push(ft));for(;Gt--;)ee.splice(nt[Gt],1)}return Dt=null,ee},H=dr.getText=function(ee){var Le,nt="",Gt=0,ft=ee.nodeType;if(ft){if(ft===1||ft===9||ft===11){if(typeof ee.textContent=="string")return ee.textContent;for(ee=ee.firstChild;ee;ee=ee.nextSibling)nt+=H(ee)}else if(ft===3||ft===4)return ee.nodeValue}else for(;Le=ee[Gt++];)nt+=H(Le);return nt},M=dr.selectors={cacheLength:50,createPseudo:pn,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ee){return ee[1]=ee[1].replace(Ri,Qi),ee[3]=(ee[3]||ee[4]||ee[5]||"").replace(Ri,Qi),ee[2]==="~="&&(ee[3]=" "+ee[3]+" "),ee.slice(0,4)},CHILD:function(ee){return ee[1]=ee[1].toLowerCase(),ee[1].slice(0,3)==="nth"?(ee[3]||dr.error(ee[0]),ee[4]=+(ee[4]?ee[5]+(ee[6]||1):2*(ee[3]==="even"||ee[3]==="odd")),ee[5]=+(ee[7]+ee[8]||ee[3]==="odd")):ee[3]&&dr.error(ee[0]),ee},PSEUDO:function(ee){var Le,nt=!ee[6]&&ee[2];return pe.CHILD.test(ee[0])?null:(ee[3]?ee[2]=ee[4]||ee[5]||"":nt&&Kr.test(nt)&&(Le=X(nt,!0))&&(Le=nt.indexOf(")",nt.length-Le)-nt.length)&&(ee[0]=ee[0].slice(0,Le),ee[2]=nt.slice(0,Le)),ee.slice(0,3))}},filter:{TAG:function(ee){var Le=ee.replace(Ri,Qi).toLowerCase();return ee==="*"?function(){return!0}:function(nt){return nt.nodeName&&nt.nodeName.toLowerCase()===Le}},CLASS:function(ee){var Le=Yt[ee+" "];return Le||(Le=new RegExp("(^|"+Oi+")"+ee+"("+Oi+"|$)"))&&Yt(ee,function(nt){return Le.test(typeof nt.className=="string"&&nt.className||typeof nt.getAttribute<"u"&&nt.getAttribute("class")||"")})},ATTR:function(ee,Le,nt){return function(Gt){var ft=dr.attr(Gt,ee);return ft==null?Le==="!=":Le?(ft+="",Le==="="?ft===nt:Le==="!="?ft!==nt:Le==="^="?nt&&ft.indexOf(nt)===0:Le==="*="?nt&&ft.indexOf(nt)>-1:Le==="$="?nt&&ft.slice(-nt.length)===nt:Le==="~="?(" "+ft.replace(Br," ")+" ").indexOf(nt)>-1:Le==="|="?ft===nt||ft.slice(0,nt.length+1)===nt+"-":!1):!0}},CHILD:function(ee,Le,nt,Gt,ft){var Zt=ee.slice(0,3)!=="nth",ni=ee.slice(-4)!=="last",hi=Le==="of-type";return Gt===1&&ft===0?function(bi){return!!bi.parentNode}:function(bi,Bi,ji){var Ni,nr,Er,Hi,Wr,Qr,tn=Zt!==ni?"nextSibling":"previousSibling",$r=bi.parentNode,Lo=hi&&bi.nodeName.toLowerCase(),Vn=!ji&&!hi,fn=!1;if($r){if(Zt){for(;tn;){for(Hi=bi;Hi=Hi[tn];)if(hi?Hi.nodeName.toLowerCase()===Lo:Hi.nodeType===1)return!1;Qr=tn=ee==="only"&&!Qr&&"nextSibling"}return!0}if(Qr=[ni?$r.firstChild:$r.lastChild],ni&&Vn){for(Hi=$r,Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),Ni=nr[ee]||[],Wr=Ni[0]===Nt&&Ni[1],fn=Wr&&Ni[2],Hi=Wr&&$r.childNodes[Wr];Hi=++Wr&&Hi&&Hi[tn]||(fn=Wr=0)||Qr.pop();)if(Hi.nodeType===1&&++fn&&Hi===bi){nr[ee]=[Nt,Wr,fn];break}}else if(Vn&&(Hi=bi,Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),Ni=nr[ee]||[],Wr=Ni[0]===Nt&&Ni[1],fn=Wr),fn===!1)for(;(Hi=++Wr&&Hi&&Hi[tn]||(fn=Wr=0)||Qr.pop())&&!((hi?Hi.nodeName.toLowerCase()===Lo:Hi.nodeType===1)&&++fn&&(Vn&&(Er=Hi[fe]||(Hi[fe]={}),nr=Er[Hi.uniqueID]||(Er[Hi.uniqueID]={}),nr[ee]=[Nt,fn]),Hi===bi)););return fn-=ft,fn===Gt||fn%Gt===0&&fn/Gt>=0}}},PSEUDO:function(ee,Le){var nt,Gt=M.pseudos[ee]||M.setFilters[ee.toLowerCase()]||dr.error("unsupported pseudo: "+ee);return Gt[fe]?Gt(Le):Gt.length>1?(nt=[ee,ee,"",Le],M.setFilters.hasOwnProperty(ee.toLowerCase())?pn(function(ft,Zt){for(var ni,hi=Gt(ft,Le),bi=hi.length;bi--;)ni=gr(ft,hi[bi]),ft[ni]=!(Zt[ni]=hi[bi])}):function(ft){return Gt(ft,0,nt)}):Gt}},pseudos:{not:pn(function(ee){var Le=[],nt=[],Gt=Ne(ee.replace(Mr,"$1"));return Gt[fe]?pn(function(ft,Zt,ni,hi){for(var bi,Bi=Gt(ft,null,hi,[]),ji=ft.length;ji--;)(bi=Bi[ji])&&(ft[ji]=!(Zt[ji]=bi))}):function(ft,Zt,ni){return Le[0]=ft,Gt(Le,null,ni,nt),Le[0]=null,!nt.pop()}}),has:pn(function(ee){return function(Le){return dr(ee,Le).length>0}}),contains:pn(function(ee){return ee=ee.replace(Ri,Qi),function(Le){return(Le.textContent||H(Le)).indexOf(ee)>-1}}),lang:pn(function(ee){return me.test(ee||"")||dr.error("unsupported lang: "+ee),ee=ee.replace(Ri,Qi).toLowerCase(),function(Le){var nt;do if(nt=R?Le.lang:Le.getAttribute("xml:lang")||Le.getAttribute("lang"))return nt=nt.toLowerCase(),nt===ee||nt.indexOf(ee+"-")===0;while((Le=Le.parentNode)&&Le.nodeType===1);return!1}}),target:function(ee){var Le=f.location&&f.location.hash;return Le&&Le.slice(1)===ee.id},root:function(ee){return ee===$i},focus:function(ee){return ee===rt.activeElement&&(!rt.hasFocus||rt.hasFocus())&&!!(ee.type||ee.href||~ee.tabIndex)},enabled:Ha(!1),disabled:Ha(!0),checked:function(ee){var Le=ee.nodeName.toLowerCase();return Le==="input"&&!!ee.checked||Le==="option"&&!!ee.selected},selected:function(ee){return ee.parentNode&&ee.parentNode.selectedIndex,ee.selected===!0},empty:function(ee){for(ee=ee.firstChild;ee;ee=ee.nextSibling)if(ee.nodeType<6)return!1;return!0},parent:function(ee){return!M.pseudos.empty(ee)},header:function(ee){return bt.test(ee.nodeName)},input:function(ee){return Wt.test(ee.nodeName)},button:function(ee){var Le=ee.nodeName.toLowerCase();return Le==="input"&&ee.type==="button"||Le==="button"},text:function(ee){var Le;return ee.nodeName.toLowerCase()==="input"&&ee.type==="text"&&((Le=ee.getAttribute("type"))==null||Le.toLowerCase()==="text")},first:Un(function(){return[0]}),last:Un(function(ee,Le){return[Le-1]}),eq:Un(function(ee,Le,nt){return[nt<0?nt+Le:nt]}),even:Un(function(ee,Le){for(var nt=0;nt<Le;nt+=2)ee.push(nt);return ee}),odd:Un(function(ee,Le){for(var nt=1;nt<Le;nt+=2)ee.push(nt);return ee}),lt:Un(function(ee,Le,nt){for(var Gt=nt<0?nt+Le:nt>Le?Le:nt;--Gt>=0;)ee.push(Gt);return ee}),gt:Un(function(ee,Le,nt){for(var Gt=nt<0?nt+Le:nt;++Gt<Le;)ee.push(Gt);return ee})}},M.pseudos.nth=M.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[b]=Jo(b);for(b in{submit:!0,reset:!0})M.pseudos[b]=Ba(b);function Fa(){}Fa.prototype=M.filters=M.pseudos,M.setFilters=new Fa,X=dr.tokenize=function(ee,Le){var nt,Gt,ft,Zt,ni,hi,bi,Bi=li[ee+" "];if(Bi)return Le?0:Bi.slice(0);for(ni=ee,hi=[],bi=M.preFilter;ni;){(!nt||(Gt=mn.exec(ni)))&&(Gt&&(ni=ni.slice(Gt[0].length)||ni),hi.push(ft=[])),nt=!1,(Gt=jr.exec(ni))&&(nt=Gt.shift(),ft.push({value:nt,type:Gt[0].replace(Mr," ")}),ni=ni.slice(nt.length));for(Zt in M.filter)(Gt=pe[Zt].exec(ni))&&(!bi[Zt]||(Gt=bi[Zt](Gt)))&&(nt=Gt.shift(),ft.push({value:nt,type:Zt,matches:Gt}),ni=ni.slice(nt.length));if(!nt)break}return Le?ni.length:ni?dr.error(ee):li(ee,hi).slice(0)};function ea(ee){for(var Le=0,nt=ee.length,Gt="";Le<nt;Le++)Gt+=ee[Le].value;return Gt}function so(ee,Le,nt){var Gt=Le.dir,ft=Le.next,Zt=ft||Gt,ni=nt&&Zt==="parentNode",hi=yt++;return Le.first?function(bi,Bi,ji){for(;bi=bi[Gt];)if(bi.nodeType===1||ni)return ee(bi,Bi,ji);return!1}:function(bi,Bi,ji){var Ni,nr,Er,Hi=[Nt,hi];if(ji){for(;bi=bi[Gt];)if((bi.nodeType===1||ni)&&ee(bi,Bi,ji))return!0}else for(;bi=bi[Gt];)if(bi.nodeType===1||ni)if(Er=bi[fe]||(bi[fe]={}),nr=Er[bi.uniqueID]||(Er[bi.uniqueID]={}),ft&&ft===bi.nodeName.toLowerCase())bi=bi[Gt]||bi;else{if((Ni=nr[Zt])&&Ni[0]===Nt&&Ni[1]===hi)return Hi[2]=Ni[2];if(nr[Zt]=Hi,Hi[2]=ee(bi,Bi,ji))return!0}return!1}}function va(ee){return ee.length>1?function(Le,nt,Gt){for(var ft=ee.length;ft--;)if(!ee[ft](Le,nt,Gt))return!1;return!0}:ee[0]}function Nc(ee,Le,nt){for(var Gt=0,ft=Le.length;Gt<ft;Gt++)dr(ee,Le[Gt],nt);return nt}function $o(ee,Le,nt,Gt,ft){for(var Zt,ni=[],hi=0,bi=ee.length,Bi=Le!=null;hi<bi;hi++)(Zt=ee[hi])&&(!nt||nt(Zt,Gt,ft))&&(ni.push(Zt),Bi&&Le.push(hi));return ni}function Hn(ee,Le,nt,Gt,ft,Zt){return Gt&&!Gt[fe]&&(Gt=Hn(Gt)),ft&&!ft[fe]&&(ft=Hn(ft,Zt)),pn(function(ni,hi,bi,Bi){var ji,Ni,nr,Er=[],Hi=[],Wr=hi.length,Qr=ni||Nc(Le||"*",bi.nodeType?[bi]:bi,[]),tn=ee&&(ni||!Le)?$o(Qr,Er,ee,bi,Bi):Qr,$r=nt?ft||(ni?ee:Wr||Gt)?[]:hi:tn;if(nt&&nt(tn,$r,bi,Bi),Gt)for(ji=$o($r,Hi),Gt(ji,[],bi,Bi),Ni=ji.length;Ni--;)(nr=ji[Ni])&&($r[Hi[Ni]]=!(tn[Hi[Ni]]=nr));if(ni){if(ft||ee){if(ft){for(ji=[],Ni=$r.length;Ni--;)(nr=$r[Ni])&&ji.push(tn[Ni]=nr);ft(null,$r=[],ji,Bi)}for(Ni=$r.length;Ni--;)(nr=$r[Ni])&&(ji=ft?gr(ni,nr):Er[Ni])>-1&&(ni[ji]=!(hi[ji]=nr))}}else $r=$o($r===hi?$r.splice(Wr,$r.length):$r),ft?ft(null,hi,$r,Bi):er.apply(hi,$r)})}function ta(ee){for(var Le,nt,Gt,ft=ee.length,Zt=M.relative[ee[0].type],ni=Zt||M.relative[" "],hi=Zt?1:0,bi=so(function(Ni){return Ni===Le},ni,!0),Bi=so(function(Ni){return gr(Le,Ni)>-1},ni,!0),ji=[function(Ni,nr,Er){var Hi=!Zt&&(Er||nr!==mt)||((Le=nr).nodeType?bi(Ni,nr,Er):Bi(Ni,nr,Er));return Le=null,Hi}];hi<ft;hi++)if(nt=M.relative[ee[hi].type])ji=[so(va(ji),nt)];else{if(nt=M.filter[ee[hi].type].apply(null,ee[hi].matches),nt[fe]){for(Gt=++hi;Gt<ft&&!M.relative[ee[Gt].type];Gt++);return Hn(hi>1&&va(ji),hi>1&&ea(ee.slice(0,hi-1).concat({value:ee[hi-2].type===" "?"*":""})).replace(Mr,"$1"),nt,hi<Gt&&ta(ee.slice(hi,Gt)),Gt<ft&&ta(ee=ee.slice(Gt)),Gt<ft&&ea(ee))}ji.push(nt)}return va(ji)}function jl(ee,Le){var nt=Le.length>0,Gt=ee.length>0,ft=function(Zt,ni,hi,bi,Bi){var ji,Ni,nr,Er=0,Hi="0",Wr=Zt&&[],Qr=[],tn=mt,$r=Zt||Gt&&M.find.TAG("*",Bi),Lo=Nt+=tn==null?1:Math.random()||.1,Vn=$r.length;for(Bi&&(mt=ni==rt||ni||Bi);Hi!==Vn&&(ji=$r[Hi])!=null;Hi++){if(Gt&&ji){for(Ni=0,!ni&&ji.ownerDocument!=rt&&(Mt(ji),hi=!R);nr=ee[Ni++];)if(nr(ji,ni||rt,hi)){bi.push(ji);break}Bi&&(Nt=Lo)}nt&&((ji=!nr&&ji)&&Er--,Zt&&Wr.push(ji))}if(Er+=Hi,nt&&Hi!==Er){for(Ni=0;nr=Le[Ni++];)nr(Wr,Qr,ni,hi);if(Zt){if(Er>0)for(;Hi--;)Wr[Hi]||Qr[Hi]||(Qr[Hi]=Di.call(bi));Qr=$o(Qr)}er.apply(bi,Qr),Bi&&!Zt&&Qr.length>0&&Er+Le.length>1&&dr.uniqueSort(bi)}return Bi&&(Nt=Lo,mt=tn),Wr};return nt?pn(ft):ft}return Ne=dr.compile=function(ee,Le){var nt,Gt=[],ft=[],Zt=Pi[ee+" "];if(!Zt){for(Le||(Le=X(ee)),nt=Le.length;nt--;)Zt=ta(Le[nt]),Zt[fe]?Gt.push(Zt):ft.push(Zt);Zt=Pi(ee,jl(ft,Gt)),Zt.selector=ee}return Zt},Te=dr.select=function(ee,Le,nt,Gt){var ft,Zt,ni,hi,bi,Bi=typeof ee=="function"&&ee,ji=!Gt&&X(ee=Bi.selector||ee);if(nt=nt||[],ji.length===1){if(Zt=ji[0]=ji[0].slice(0),Zt.length>2&&(ni=Zt[0]).type==="ID"&&Le.nodeType===9&&R&&M.relative[Zt[1].type]){if(Le=(M.find.ID(ni.matches[0].replace(Ri,Qi),Le)||[])[0],Le)Bi&&(Le=Le.parentNode);else return nt;ee=ee.slice(Zt.shift().value.length)}for(ft=pe.needsContext.test(ee)?0:Zt.length;ft--&&(ni=Zt[ft],!M.relative[hi=ni.type]);)if((bi=M.find[hi])&&(Gt=bi(ni.matches[0].replace(Ri,Qi),zi.test(Zt[0].type)&&Qo(Le.parentNode)||Le))){if(Zt.splice(ft,1),ee=Gt.length&&ea(Zt),!ee)return er.apply(nt,Gt),nt;break}}return(Bi||Ne(ee,ji))(Gt,Le,!R,nt,!Le||zi.test(ee)&&Qo(Le.parentNode)||Le),nt},S.sortStable=fe.split("").sort(Li).join("")===fe,S.detectDuplicates=!!ii,Mt(),S.sortDetached=gn(function(ee){return ee.compareDocumentPosition(rt.createElement("fieldset"))&1}),gn(function(ee){return ee.innerHTML="<a href='#'></a>",ee.firstChild.getAttribute("href")==="#"})||Zo("type|href|height|width",function(ee,Le,nt){if(!nt)return ee.getAttribute(Le,Le.toLowerCase()==="type"?1:2)}),(!S.attributes||!gn(function(ee){return ee.innerHTML="<input/>",ee.firstChild.setAttribute("value",""),ee.firstChild.getAttribute("value")===""}))&&Zo("value",function(ee,Le,nt){if(!nt&&ee.nodeName.toLowerCase()==="input")return ee.defaultValue}),gn(function(ee){return ee.getAttribute("disabled")==null})||Zo(Ir,function(ee,Le,nt){var Gt;if(!nt)return ee[Le]===!0?Le.toLowerCase():(Gt=ee.getAttributeNode(Le))&&Gt.specified?Gt.value:null}),dr}(r);d.find=C,d.expr=C.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=C.uniqueSort,d.text=C.getText,d.isXMLDoc=C.isXML,d.contains=C.contains,d.escapeSelector=C.escape;var N=function(f,b,S){for(var M=[],H=S!==void 0;(f=f[b])&&f.nodeType!==9;)if(f.nodeType===1){if(H&&d(f).is(S))break;M.push(f)}return M},G=function(f,b){for(var S=[];f;f=f.nextSibling)f.nodeType===1&&f!==b&&S.push(f);return S},q=d.expr.match.needsContext;function K(f,b){return f.nodeName&&f.nodeName.toLowerCase()===b.toLowerCase()}var oe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(f,b,S){return A(b)?d.grep(f,function(M,H){return!!b.call(M,H,M)!==S}):b.nodeType?d.grep(f,function(M){return M===b!==S}):typeof b!="string"?d.grep(f,function(M){return h.call(b,M)>-1!==S}):d.filter(b,f,S)}d.filter=function(f,b,S){var M=b[0];return S&&(f=":not("+f+")"),b.length===1&&M.nodeType===1?d.find.matchesSelector(M,f)?[M]:[]:d.find.matches(f,d.grep(b,function(H){return H.nodeType===1}))},d.fn.extend({find:function(f){var b,S,M=this.length,H=this;if(typeof f!="string")return this.pushStack(d(f).filter(function(){for(b=0;b<M;b++)if(d.contains(H[b],this))return!0}));for(S=this.pushStack([]),b=0;b<M;b++)d.find(f,H[b],S);return M>1?d.uniqueSort(S):S},filter:function(f){return this.pushStack(J(this,f||[],!1))},not:function(f){return this.pushStack(J(this,f||[],!0))},is:function(f){return!!J(this,typeof f=="string"&&q.test(f)?d(f):f||[],!1).length}});var Q,Oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ge=d.fn.init=function(f,b,S){var M,H;if(!f)return this;if(S=S||Q,typeof f=="string")if(f[0]==="<"&&f[f.length-1]===">"&&f.length>=3?M=[null,f,null]:M=Oe.exec(f),M&&(M[1]||!b))if(M[1]){if(b=b instanceof d?b[0]:b,d.merge(this,d.parseHTML(M[1],b&&b.nodeType?b.ownerDocument||b:T,!0)),oe.test(M[1])&&d.isPlainObject(b))for(M in b)A(this[M])?this[M](b[M]):this.attr(M,b[M]);return this}else return H=T.getElementById(M[2]),H&&(this[0]=H,this.length=1),this;else return!b||b.jquery?(b||S).find(f):this.constructor(b).find(f);else{if(f.nodeType)return this[0]=f,this.length=1,this;if(A(f))return S.ready!==void 0?S.ready(f):f(d)}return d.makeArray(f,this)};ge.prototype=d.fn,Q=d(T);var W=/^(?:parents|prev(?:Until|All))/,se={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({has:function(f){var b=d(f,this),S=b.length;return this.filter(function(){for(var M=0;M<S;M++)if(d.contains(this,b[M]))return!0})},closest:function(f,b){var S,M=0,H=this.length,F=[],X=typeof f!="string"&&d(f);if(!q.test(f)){for(;M<H;M++)for(S=this[M];S&&S!==b;S=S.parentNode)if(S.nodeType<11&&(X?X.index(S)>-1:S.nodeType===1&&d.find.matchesSelector(S,f))){F.push(S);break}}return this.pushStack(F.length>1?d.uniqueSort(F):F)},index:function(f){return f?typeof f=="string"?h.call(d(f),this[0]):h.call(this,f.jquery?f[0]:f):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(f,b){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(f,b))))},addBack:function(f){return this.add(f==null?this.prevObject:this.prevObject.filter(f))}});function de(f,b){for(;(f=f[b])&&f.nodeType!==1;);return f}d.each({parent:function(f){var b=f.parentNode;return b&&b.nodeType!==11?b:null},parents:function(f){return N(f,"parentNode")},parentsUntil:function(f,b,S){return N(f,"parentNode",S)},next:function(f){return de(f,"nextSibling")},prev:function(f){return de(f,"previousSibling")},nextAll:function(f){return N(f,"nextSibling")},prevAll:function(f){return N(f,"previousSibling")},nextUntil:function(f,b,S){return N(f,"nextSibling",S)},prevUntil:function(f,b,S){return N(f,"previousSibling",S)},siblings:function(f){return G((f.parentNode||{}).firstChild,f)},children:function(f){return G(f.firstChild)},contents:function(f){return f.contentDocument!=null&&o(f.contentDocument)?f.contentDocument:(K(f,"template")&&(f=f.content||f),d.merge([],f.childNodes))}},function(f,b){d.fn[f]=function(S,M){var H=d.map(this,b,S);return f.slice(-5)!=="Until"&&(M=S),M&&typeof M=="string"&&(H=d.filter(M,H)),this.length>1&&(se[f]||d.uniqueSort(H),W.test(f)&&H.reverse()),this.pushStack(H)}});var Z=/[^\x20\t\r\n\f]+/g;function ye(f){var b={};return d.each(f.match(Z)||[],function(S,M){b[M]=!0}),b}d.Callbacks=function(f){f=typeof f=="string"?ye(f):d.extend({},f);var b,S,M,H,F=[],X=[],Ne=-1,Te=function(){for(H=H||f.once,M=b=!0;X.length;Ne=-1)for(S=X.shift();++Ne<F.length;)F[Ne].apply(S[0],S[1])===!1&&f.stopOnFalse&&(Ne=F.length,S=!1);f.memory||(S=!1),b=!1,H&&(S?F=[]:F="")},mt={add:function(){return F&&(S&&!b&&(Ne=F.length-1,X.push(S)),function Dt(ii){d.each(ii,function(Mt,rt){A(rt)?(!f.unique||!mt.has(rt))&&F.push(rt):rt&&rt.length&&p(rt)!=="string"&&Dt(rt)})}(arguments),S&&!b&&Te()),this},remove:function(){return d.each(arguments,function(Dt,ii){for(var Mt;(Mt=d.inArray(ii,F,Mt))>-1;)F.splice(Mt,1),Mt<=Ne&&Ne--}),this},has:function(Dt){return Dt?d.inArray(Dt,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return H=X=[],F=S="",this},disabled:function(){return!F},lock:function(){return H=X=[],!S&&!b&&(F=S=""),this},locked:function(){return!!H},fireWith:function(Dt,ii){return H||(ii=ii||[],ii=[Dt,ii.slice?ii.slice():ii],X.push(ii),b||Te()),this},fire:function(){return mt.fireWith(this,arguments),this},fired:function(){return!!M}};return mt};function Y(f){return f}function ce(f){throw f}function Ge(f,b,S,M){var H;try{f&&A(H=f.promise)?H.call(f).done(b).fail(S):f&&A(H=f.then)?H.call(f,b,S):b.apply(void 0,[f].slice(M))}catch(F){S.apply(void 0,[F])}}d.extend({Deferred:function(f){var b=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],S="pending",M={state:function(){return S},always:function(){return H.done(arguments).fail(arguments),this},catch:function(F){return M.then(null,F)},pipe:function(){var F=arguments;return d.Deferred(function(X){d.each(b,function(Ne,Te){var mt=A(F[Te[4]])&&F[Te[4]];H[Te[1]](function(){var Dt=mt&&mt.apply(this,arguments);Dt&&A(Dt.promise)?Dt.promise().progress(X.notify).done(X.resolve).fail(X.reject):X[Te[0]+"With"](this,mt?[Dt]:arguments)})}),F=null}).promise()},then:function(F,X,Ne){var Te=0;function mt(Dt,ii,Mt,rt){return function(){var $i=this,R=arguments,O=function(){var U,le;if(!(Dt<Te)){if(U=Mt.apply($i,R),U===ii.promise())throw new TypeError("Thenable self-resolution");le=U&&(typeof U=="object"||typeof U=="function")&&U.then,A(le)?rt?le.call(U,mt(Te,ii,Y,rt),mt(Te,ii,ce,rt)):(Te++,le.call(U,mt(Te,ii,Y,rt),mt(Te,ii,ce,rt),mt(Te,ii,Y,ii.notifyWith))):(Mt!==Y&&($i=void 0,R=[U]),(rt||ii.resolveWith)($i,R))}},j=rt?O:function(){try{O()}catch(U){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(U,j.stackTrace),Dt+1>=Te&&(Mt!==ce&&($i=void 0,R=[U]),ii.rejectWith($i,R))}};Dt?j():(d.Deferred.getStackHook&&(j.stackTrace=d.Deferred.getStackHook()),r.setTimeout(j))}}return d.Deferred(function(Dt){b[0][3].add(mt(0,Dt,A(Ne)?Ne:Y,Dt.notifyWith)),b[1][3].add(mt(0,Dt,A(F)?F:Y)),b[2][3].add(mt(0,Dt,A(X)?X:ce))}).promise()},promise:function(F){return F!=null?d.extend(F,M):M}},H={};return d.each(b,function(F,X){var Ne=X[2],Te=X[5];M[X[1]]=Ne.add,Te&&Ne.add(function(){S=Te},b[3-F][2].disable,b[3-F][3].disable,b[0][2].lock,b[0][3].lock),Ne.add(X[3].fire),H[X[0]]=function(){return H[X[0]+"With"](this===H?void 0:this,arguments),this},H[X[0]+"With"]=Ne.fireWith}),M.promise(H),f&&f.call(H,H),H},when:function(f){var b=arguments.length,S=b,M=Array(S),H=c.call(arguments),F=d.Deferred(),X=function(Ne){return function(Te){M[Ne]=this,H[Ne]=arguments.length>1?c.call(arguments):Te,--b||F.resolveWith(M,H)}};if(b<=1&&(Ge(f,F.done(X(S)).resolve,F.reject,!b),F.state()==="pending"||A(H[S]&&H[S].then)))return F.then();for(;S--;)Ge(H[S],X(S),F.reject);return F.promise()}});var ht=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(f,b){r.console&&r.console.warn&&f&&ht.test(f.name)&&r.console.warn("jQuery.Deferred exception: "+f.message,f.stack,b)},d.readyException=function(f){r.setTimeout(function(){throw f})};var st=d.Deferred();d.fn.ready=function(f){return st.then(f).catch(function(b){d.readyException(b)}),this},d.extend({isReady:!1,readyWait:1,ready:function(f){(f===!0?--d.readyWait:d.isReady)||(d.isReady=!0,!(f!==!0&&--d.readyWait>0)&&st.resolveWith(T,[d]))}}),d.ready.then=st.then;function qe(){T.removeEventListener("DOMContentLoaded",qe),r.removeEventListener("load",qe),d.ready()}T.readyState==="complete"||T.readyState!=="loading"&&!T.documentElement.doScroll?r.setTimeout(d.ready):(T.addEventListener("DOMContentLoaded",qe),r.addEventListener("load",qe));var Se=function(f,b,S,M,H,F,X){var Ne=0,Te=f.length,mt=S==null;if(p(S)==="object"){H=!0;for(Ne in S)Se(f,b,Ne,S[Ne],!0,F,X)}else if(M!==void 0&&(H=!0,A(M)||(X=!0),mt&&(X?(b.call(f,M),b=null):(mt=b,b=function(Dt,ii,Mt){return mt.call(d(Dt),Mt)})),b))for(;Ne<Te;Ne++)b(f[Ne],S,X?M:M.call(f[Ne],Ne,b(f[Ne],S)));return H?f:mt?b.call(f):Te?b(f[0],S):F},Ie=/^-ms-/,Re=/-([a-z])/g;function ot(f,b){return b.toUpperCase()}function pt(f){return f.replace(Ie,"ms-").replace(Re,ot)}var Pt=function(f){return f.nodeType===1||f.nodeType===9||!+f.nodeType};function Qe(){this.expando=d.expando+Qe.uid++}Qe.uid=1,Qe.prototype={cache:function(f){var b=f[this.expando];return b||(b={},Pt(f)&&(f.nodeType?f[this.expando]=b:Object.defineProperty(f,this.expando,{value:b,configurable:!0}))),b},set:function(f,b,S){var M,H=this.cache(f);if(typeof b=="string")H[pt(b)]=S;else for(M in b)H[pt(M)]=b[M];return H},get:function(f,b){return b===void 0?this.cache(f):f[this.expando]&&f[this.expando][pt(b)]},access:function(f,b,S){return b===void 0||b&&typeof b=="string"&&S===void 0?this.get(f,b):(this.set(f,b,S),S!==void 0?S:b)},remove:function(f,b){var S,M=f[this.expando];if(M!==void 0){if(b!==void 0)for(Array.isArray(b)?b=b.map(pt):(b=pt(b),b=b in M?[b]:b.match(Z)||[]),S=b.length;S--;)delete M[b[S]];(b===void 0||d.isEmptyObject(M))&&(f.nodeType?f[this.expando]=void 0:delete f[this.expando])}},hasData:function(f){var b=f[this.expando];return b!==void 0&&!d.isEmptyObject(b)}};var ne=new Qe,ie=new Qe,Ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ct=/[A-Z]/g;function we(f){return f==="true"?!0:f==="false"?!1:f==="null"?null:f===+f+""?+f:Ke.test(f)?JSON.parse(f):f}function $e(f,b,S){var M;if(S===void 0&&f.nodeType===1)if(M="data-"+b.replace(Ct,"-$&").toLowerCase(),S=f.getAttribute(M),typeof S=="string"){try{S=we(S)}catch(H){}ie.set(f,b,S)}else S=void 0;return S}d.extend({hasData:function(f){return ie.hasData(f)||ne.hasData(f)},data:function(f,b,S){return ie.access(f,b,S)},removeData:function(f,b){ie.remove(f,b)},_data:function(f,b,S){return ne.access(f,b,S)},_removeData:function(f,b){ne.remove(f,b)}}),d.fn.extend({data:function(f,b){var S,M,H,F=this[0],X=F&&F.attributes;if(f===void 0){if(this.length&&(H=ie.get(F),F.nodeType===1&&!ne.get(F,"hasDataAttrs"))){for(S=X.length;S--;)X[S]&&(M=X[S].name,M.indexOf("data-")===0&&(M=pt(M.slice(5)),$e(F,M,H[M])));ne.set(F,"hasDataAttrs",!0)}return H}return typeof f=="object"?this.each(function(){ie.set(this,f)}):Se(this,function(Ne){var Te;if(F&&Ne===void 0)return Te=ie.get(F,f),Te!==void 0||(Te=$e(F,f),Te!==void 0)?Te:void 0;this.each(function(){ie.set(this,f,Ne)})},null,b,arguments.length>1,null,!0)},removeData:function(f){return this.each(function(){ie.remove(this,f)})}}),d.extend({queue:function(f,b,S){var M;if(f)return b=(b||"fx")+"queue",M=ne.get(f,b),S&&(!M||Array.isArray(S)?M=ne.access(f,b,d.makeArray(S)):M.push(S)),M||[]},dequeue:function(f,b){b=b||"fx";var S=d.queue(f,b),M=S.length,H=S.shift(),F=d._queueHooks(f,b),X=function(){d.dequeue(f,b)};H==="inprogress"&&(H=S.shift(),M--),H&&(b==="fx"&&S.unshift("inprogress"),delete F.stop,H.call(f,X,F)),!M&&F&&F.empty.fire()},_queueHooks:function(f,b){var S=b+"queueHooks";return ne.get(f,S)||ne.access(f,S,{empty:d.Callbacks("once memory").add(function(){ne.remove(f,[b+"queue",S])})})}}),d.fn.extend({queue:function(f,b){var S=2;return typeof f!="string"&&(b=f,f="fx",S--),arguments.length<S?d.queue(this[0],f):b===void 0?this:this.each(function(){var M=d.queue(this,f,b);d._queueHooks(this,f),f==="fx"&&M[0]!=="inprogress"&&d.dequeue(this,f)})},dequeue:function(f){return this.each(function(){d.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,b){var S,M=1,H=d.Deferred(),F=this,X=this.length,Ne=function(){--M||H.resolveWith(F,[F])};for(typeof f!="string"&&(b=f,f=void 0),f=f||"fx";X--;)S=ne.get(F[X],f+"queueHooks"),S&&S.empty&&(M++,S.empty.add(Ne));return Ne(),H.promise(b)}});var at=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=new RegExp("^(?:([+-])=|)("+at+")([a-z%]*)$","i"),Je=["Top","Right","Bottom","Left"],tt=T.documentElement,Vt=function(f){return d.contains(f.ownerDocument,f)},ct={composed:!0};tt.getRootNode&&(Vt=function(f){return d.contains(f.ownerDocument,f)||f.getRootNode(ct)===f.ownerDocument});var gt=function(f,b){return f=b||f,f.style.display==="none"||f.style.display===""&&Vt(f)&&d.css(f,"display")==="none"};function Rt(f,b,S,M){var H,F,X=20,Ne=M?function(){return M.cur()}:function(){return d.css(f,b,"")},Te=Ne(),mt=S&&S[3]||(d.cssNumber[b]?"":"px"),Dt=f.nodeType&&(d.cssNumber[b]||mt!=="px"&&+Te)&&Ce.exec(d.css(f,b));if(Dt&&Dt[3]!==mt){for(Te=Te/2,mt=mt||Dt[3],Dt=+Te||1;X--;)d.style(f,b,Dt+mt),(1-F)*(1-(F=Ne()/Te||.5))<=0&&(X=0),Dt=Dt/F;Dt=Dt*2,d.style(f,b,Dt+mt),S=S||[]}return S&&(Dt=+Dt||+Te||0,H=S[1]?Dt+(S[1]+1)*S[2]:+S[2],M&&(M.unit=mt,M.start=Dt,M.end=H)),H}var ti={};function oi(f){var b,S=f.ownerDocument,M=f.nodeName,H=ti[M];return H||(b=S.body.appendChild(S.createElement(M)),H=d.css(b,"display"),b.parentNode.removeChild(b),H==="none"&&(H="block"),ti[M]=H,H)}function ui(f,b){for(var S,M,H=[],F=0,X=f.length;F<X;F++)M=f[F],M.style&&(S=M.style.display,b?(S==="none"&&(H[F]=ne.get(M,"display")||null,H[F]||(M.style.display="")),M.style.display===""&&gt(M)&&(H[F]=oi(M))):S!=="none"&&(H[F]="none",ne.set(M,"display",S)));for(F=0;F<X;F++)H[F]!=null&&(f[F].style.display=H[F]);return f}d.fn.extend({show:function(){return ui(this,!0)},hide:function(){return ui(this)},toggle:function(f){return typeof f=="boolean"?f?this.show():this.hide():this.each(function(){gt(this)?d(this).show():d(this).hide()})}});var Ot=/^(?:checkbox|radio)$/i,It=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,At=/^$|^module$|\/(?:java|ecma)script/i;(function(){var f=T.createDocumentFragment(),b=f.appendChild(T.createElement("div")),S=T.createElement("input");S.setAttribute("type","radio"),S.setAttribute("checked","checked"),S.setAttribute("name","t"),b.appendChild(S),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",k.option=!!b.lastChild})();var St={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};St.tbody=St.tfoot=St.colgroup=St.caption=St.thead,St.th=St.td,k.option||(St.optgroup=St.option=[1,"<select multiple='multiple'>","</select>"]);function kt(f,b){var S;return typeof f.getElementsByTagName<"u"?S=f.getElementsByTagName(b||"*"):typeof f.querySelectorAll<"u"?S=f.querySelectorAll(b||"*"):S=[],b===void 0||b&&K(f,b)?d.merge([f],S):S}function I(f,b){for(var S=0,M=f.length;S<M;S++)ne.set(f[S],"globalEval",!b||ne.get(b[S],"globalEval"))}var Ue=/<|&#?\w+;/;function _e(f,b,S,M,H){for(var F,X,Ne,Te,mt,Dt,ii=b.createDocumentFragment(),Mt=[],rt=0,$i=f.length;rt<$i;rt++)if(F=f[rt],F||F===0)if(p(F)==="object")d.merge(Mt,F.nodeType?[F]:F);else if(!Ue.test(F))Mt.push(b.createTextNode(F));else{for(X=X||ii.appendChild(b.createElement("div")),Ne=(It.exec(F)||["",""])[1].toLowerCase(),Te=St[Ne]||St._default,X.innerHTML=Te[1]+d.htmlPrefilter(F)+Te[2],Dt=Te[0];Dt--;)X=X.lastChild;d.merge(Mt,X.childNodes),X=ii.firstChild,X.textContent=""}for(ii.textContent="",rt=0;F=Mt[rt++];){if(M&&d.inArray(F,M)>-1){H&&H.push(F);continue}if(mt=Vt(F),X=kt(ii.appendChild(F),"script"),mt&&I(X),S)for(Dt=0;F=X[Dt++];)At.test(F.type||"")&&S.push(F)}return ii}var Ve=/^([^.]*)(?:\.(.+)|)/;function Xe(){return!0}function ut(){return!1}function re(f,b){return f===Pe()==(b==="focus")}function Pe(){try{return T.activeElement}catch(f){}}function He(f,b,S,M,H,F){var X,Ne;if(typeof b=="object"){typeof S!="string"&&(M=M||S,S=void 0);for(Ne in b)He(f,Ne,S,M,b[Ne],F);return f}if(M==null&&H==null?(H=S,M=S=void 0):H==null&&(typeof S=="string"?(H=M,M=void 0):(H=M,M=S,S=void 0)),H===!1)H=ut;else if(!H)return f;return F===1&&(X=H,H=function(Te){return d().off(Te),X.apply(this,arguments)},H.guid=X.guid||(X.guid=d.guid++)),f.each(function(){d.event.add(this,b,H,M,S)})}d.event={global:{},add:function(f,b,S,M,H){var F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O=ne.get(f);if(Pt(f))for(S.handler&&(F=S,S=F.handler,H=F.selector),H&&d.find.matchesSelector(tt,H),S.guid||(S.guid=d.guid++),(Te=O.events)||(Te=O.events=Object.create(null)),(X=O.handle)||(X=O.handle=function(j){return typeof d<"u"&&d.event.triggered!==j.type?d.event.dispatch.apply(f,arguments):void 0}),b=(b||"").match(Z)||[""],mt=b.length;mt--;)Ne=Ve.exec(b[mt])||[],rt=R=Ne[1],$i=(Ne[2]||"").split(".").sort(),rt&&(ii=d.event.special[rt]||{},rt=(H?ii.delegateType:ii.bindType)||rt,ii=d.event.special[rt]||{},Dt=d.extend({type:rt,origType:R,data:M,handler:S,guid:S.guid,selector:H,needsContext:H&&d.expr.match.needsContext.test(H),namespace:$i.join(".")},F),(Mt=Te[rt])||(Mt=Te[rt]=[],Mt.delegateCount=0,(!ii.setup||ii.setup.call(f,M,$i,X)===!1)&&f.addEventListener&&f.addEventListener(rt,X)),ii.add&&(ii.add.call(f,Dt),Dt.handler.guid||(Dt.handler.guid=S.guid)),H?Mt.splice(Mt.delegateCount++,0,Dt):Mt.push(Dt),d.event.global[rt]=!0)},remove:function(f,b,S,M,H){var F,X,Ne,Te,mt,Dt,ii,Mt,rt,$i,R,O=ne.hasData(f)&&ne.get(f);if(!(!O||!(Te=O.events))){for(b=(b||"").match(Z)||[""],mt=b.length;mt--;){if(Ne=Ve.exec(b[mt])||[],rt=R=Ne[1],$i=(Ne[2]||"").split(".").sort(),!rt){for(rt in Te)d.event.remove(f,rt+b[mt],S,M,!0);continue}for(ii=d.event.special[rt]||{},rt=(M?ii.delegateType:ii.bindType)||rt,Mt=Te[rt]||[],Ne=Ne[2]&&new RegExp("(^|\\.)"+$i.join("\\.(?:.*\\.|)")+"(\\.|$)"),X=F=Mt.length;F--;)Dt=Mt[F],(H||R===Dt.origType)&&(!S||S.guid===Dt.guid)&&(!Ne||Ne.test(Dt.namespace))&&(!M||M===Dt.selector||M==="**"&&Dt.selector)&&(Mt.splice(F,1),Dt.selector&&Mt.delegateCount--,ii.remove&&ii.remove.call(f,Dt));X&&!Mt.length&&((!ii.teardown||ii.teardown.call(f,$i,O.handle)===!1)&&d.removeEvent(f,rt,O.handle),delete Te[rt])}d.isEmptyObject(Te)&&ne.remove(f,"handle events")}},dispatch:function(f){var b,S,M,H,F,X,Ne=new Array(arguments.length),Te=d.event.fix(f),mt=(ne.get(this,"events")||Object.create(null))[Te.type]||[],Dt=d.event.special[Te.type]||{};for(Ne[0]=Te,b=1;b<arguments.length;b++)Ne[b]=arguments[b];if(Te.delegateTarget=this,!(Dt.preDispatch&&Dt.preDispatch.call(this,Te)===!1)){for(X=d.event.handlers.call(this,Te,mt),b=0;(H=X[b++])&&!Te.isPropagationStopped();)for(Te.currentTarget=H.elem,S=0;(F=H.handlers[S++])&&!Te.isImmediatePropagationStopped();)(!Te.rnamespace||F.namespace===!1||Te.rnamespace.test(F.namespace))&&(Te.handleObj=F,Te.data=F.data,M=((d.event.special[F.origType]||{}).handle||F.handler).apply(H.elem,Ne),M!==void 0&&(Te.result=M)===!1&&(Te.preventDefault(),Te.stopPropagation()));return Dt.postDispatch&&Dt.postDispatch.call(this,Te),Te.result}},handlers:function(f,b){var S,M,H,F,X,Ne=[],Te=b.delegateCount,mt=f.target;if(Te&&mt.nodeType&&!(f.type==="click"&&f.button>=1)){for(;mt!==this;mt=mt.parentNode||this)if(mt.nodeType===1&&!(f.type==="click"&&mt.disabled===!0)){for(F=[],X={},S=0;S<Te;S++)M=b[S],H=M.selector+" ",X[H]===void 0&&(X[H]=M.needsContext?d(H,this).index(mt)>-1:d.find(H,this,null,[mt]).length),X[H]&&F.push(M);F.length&&Ne.push({elem:mt,handlers:F})}}return mt=this,Te<b.length&&Ne.push({elem:mt,handlers:b.slice(Te)}),Ne},addProp:function(f,b){Object.defineProperty(d.Event.prototype,f,{enumerable:!0,configurable:!0,get:A(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[f]},set:function(S){Object.defineProperty(this,f,{enumerable:!0,configurable:!0,writable:!0,value:S})}})},fix:function(f){return f[d.expando]?f:new d.Event(f)},special:{load:{noBubble:!0},click:{setup:function(f){var b=this||f;return Ot.test(b.type)&&b.click&&K(b,"input")&&vt(b,"click",Xe),!1},trigger:function(f){var b=this||f;return Ot.test(b.type)&&b.click&&K(b,"input")&&vt(b,"click"),!0},_default:function(f){var b=f.target;return Ot.test(b.type)&&b.click&&K(b,"input")&&ne.get(b,"click")||K(b,"a")}},beforeunload:{postDispatch:function(f){f.result!==void 0&&f.originalEvent&&(f.originalEvent.returnValue=f.result)}}}};function vt(f,b,S){if(!S){ne.get(f,b)===void 0&&d.event.add(f,b,Xe);return}ne.set(f,b,!1),d.event.add(f,b,{namespace:!1,handler:function(M){var H,F,X=ne.get(this,b);if(M.isTrigger&1&&this[b]){if(X.length)(d.event.special[b]||{}).delegateType&&M.stopPropagation();else if(X=c.call(arguments),ne.set(this,b,X),H=S(this,b),this[b](),F=ne.get(this,b),X!==F||H?ne.set(this,b,!1):F={},X!==F)return M.stopImmediatePropagation(),M.preventDefault(),F&&F.value}else X.length&&(ne.set(this,b,{value:d.event.trigger(d.extend(X[0],d.Event.prototype),X.slice(1),this)}),M.stopImmediatePropagation())}})}d.removeEvent=function(f,b,S){f.removeEventListener&&f.removeEventListener(b,S)},d.Event=function(f,b){if(!(this instanceof d.Event))return new d.Event(f,b);f&&f.type?(this.originalEvent=f,this.type=f.type,this.isDefaultPrevented=f.defaultPrevented||f.defaultPrevented===void 0&&f.returnValue===!1?Xe:ut,this.target=f.target&&f.target.nodeType===3?f.target.parentNode:f.target,this.currentTarget=f.currentTarget,this.relatedTarget=f.relatedTarget):this.type=f,b&&d.extend(this,b),this.timeStamp=f&&f.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:ut,isPropagationStopped:ut,isImmediatePropagationStopped:ut,isSimulated:!1,preventDefault:function(){var f=this.originalEvent;this.isDefaultPrevented=Xe,f&&!this.isSimulated&&f.preventDefault()},stopPropagation:function(){var f=this.originalEvent;this.isPropagationStopped=Xe,f&&!this.isSimulated&&f.stopPropagation()},stopImmediatePropagation:function(){var f=this.originalEvent;this.isImmediatePropagationStopped=Xe,f&&!this.isSimulated&&f.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(f,b){d.event.special[f]={setup:function(){return vt(this,f,re),!1},trigger:function(){return vt(this,f),!0},_default:function(S){return ne.get(S.target,f)},delegateType:b}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(f,b){d.event.special[f]={delegateType:b,bindType:b,handle:function(S){var M,H=this,F=S.relatedTarget,X=S.handleObj;return(!F||F!==H&&!d.contains(H,F))&&(S.type=X.origType,M=X.handler.apply(this,arguments),S.type=b),M}}}),d.fn.extend({on:function(f,b,S,M){return He(this,f,b,S,M)},one:function(f,b,S,M){return He(this,f,b,S,M,1)},off:function(f,b,S){var M,H;if(f&&f.preventDefault&&f.handleObj)return M=f.handleObj,d(f.delegateTarget).off(M.namespace?M.origType+"."+M.namespace:M.origType,M.selector,M.handler),this;if(typeof f=="object"){for(H in f)this.off(H,b,f[H]);return this}return(b===!1||typeof b=="function")&&(S=b,b=void 0),S===!1&&(S=ut),this.each(function(){d.event.remove(this,f,S,b)})}});var lt=/<script|<style|<link/i,Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Jt(f,b){return K(f,"table")&&K(b.nodeType!==11?b:b.firstChild,"tr")&&d(f).children("tbody")[0]||f}function Lt(f){return f.type=(f.getAttribute("type")!==null)+"/"+f.type,f}function jt(f){return(f.type||"").slice(0,5)==="true/"?f.type=f.type.slice(5):f.removeAttribute("type"),f}function Ye(f,b){var S,M,H,F,X,Ne,Te;if(b.nodeType===1){if(ne.hasData(f)&&(F=ne.get(f),Te=F.events,Te)){ne.remove(b,"handle events");for(H in Te)for(S=0,M=Te[H].length;S<M;S++)d.event.add(b,H,Te[H][S])}ie.hasData(f)&&(X=ie.access(f),Ne=d.extend({},X),ie.set(b,Ne))}}function Me(f,b){var S=b.nodeName.toLowerCase();S==="input"&&Ot.test(f.type)?b.checked=f.checked:(S==="input"||S==="textarea")&&(b.defaultValue=f.defaultValue)}function De(f,b,S,M){b=n(b);var H,F,X,Ne,Te,mt,Dt=0,ii=f.length,Mt=ii-1,rt=b[0],$i=A(rt);if($i||ii>1&&typeof rt=="string"&&!k.checkClone&&Et.test(rt))return f.each(function(R){var O=f.eq(R);$i&&(b[0]=rt.call(this,R,O.html())),De(O,b,S,M)});if(ii&&(H=_e(b,f[0].ownerDocument,!1,f,M),F=H.firstChild,H.childNodes.length===1&&(H=F),F||M)){for(X=d.map(kt(H,"script"),Lt),Ne=X.length;Dt<ii;Dt++)Te=H,Dt!==Mt&&(Te=d.clone(Te,!0,!0),Ne&&d.merge(X,kt(Te,"script"))),S.call(f[Dt],Te,Dt);if(Ne)for(mt=X[X.length-1].ownerDocument,d.map(X,jt),Dt=0;Dt<Ne;Dt++)Te=X[Dt],At.test(Te.type||"")&&!ne.access(Te,"globalEval")&&d.contains(mt,Te)&&(Te.src&&(Te.type||"").toLowerCase()!=="module"?d._evalUrl&&!Te.noModule&&d._evalUrl(Te.src,{nonce:Te.nonce||Te.getAttribute("nonce")},mt):a(Te.textContent.replace(Ut,""),Te,mt))}return f}function et(f,b,S){for(var M,H=b?d.filter(b,f):f,F=0;(M=H[F])!=null;F++)!S&&M.nodeType===1&&d.cleanData(kt(M)),M.parentNode&&(S&&Vt(M)&&I(kt(M,"script")),M.parentNode.removeChild(M));return f}d.extend({htmlPrefilter:function(f){return f},clone:function(f,b,S){var M,H,F,X,Ne=f.cloneNode(!0),Te=Vt(f);if(!k.noCloneChecked&&(f.nodeType===1||f.nodeType===11)&&!d.isXMLDoc(f))for(X=kt(Ne),F=kt(f),M=0,H=F.length;M<H;M++)Me(F[M],X[M]);if(b)if(S)for(F=F||kt(f),X=X||kt(Ne),M=0,H=F.length;M<H;M++)Ye(F[M],X[M]);else Ye(f,Ne);return X=kt(Ne,"script"),X.length>0&&I(X,!Te&&kt(f,"script")),Ne},cleanData:function(f){for(var b,S,M,H=d.event.special,F=0;(S=f[F])!==void 0;F++)if(Pt(S)){if(b=S[ne.expando]){if(b.events)for(M in b.events)H[M]?d.event.remove(S,M):d.removeEvent(S,M,b.handle);S[ne.expando]=void 0}S[ie.expando]&&(S[ie.expando]=void 0)}}}),d.fn.extend({detach:function(f){return et(this,f,!0)},remove:function(f){return et(this,f)},text:function(f){return Se(this,function(b){return b===void 0?d.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=b)})},null,f,arguments.length)},append:function(){return De(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.appendChild(f)}})},prepend:function(){return De(this,arguments,function(f){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var b=Jt(this,f);b.insertBefore(f,b.firstChild)}})},before:function(){return De(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this)})},after:function(){return De(this,arguments,function(f){this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling)})},empty:function(){for(var f,b=0;(f=this[b])!=null;b++)f.nodeType===1&&(d.cleanData(kt(f,!1)),f.textContent="");return this},clone:function(f,b){return f=f!=null?f:!1,b=b!=null?b:f,this.map(function(){return d.clone(this,f,b)})},html:function(f){return Se(this,function(b){var S=this[0]||{},M=0,H=this.length;if(b===void 0&&S.nodeType===1)return S.innerHTML;if(typeof b=="string"&&!lt.test(b)&&!St[(It.exec(b)||["",""])[1].toLowerCase()]){b=d.htmlPrefilter(b);try{for(;M<H;M++)S=this[M]||{},S.nodeType===1&&(d.cleanData(kt(S,!1)),S.innerHTML=b);S=0}catch(F){}}S&&this.empty().append(b)},null,f,arguments.length)},replaceWith:function(){var f=[];return De(this,arguments,function(b){var S=this.parentNode;d.inArray(this,f)<0&&(d.cleanData(kt(this)),S&&S.replaceChild(b,this))},f)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,b){d.fn[f]=function(S){for(var M,H=[],F=d(S),X=F.length-1,Ne=0;Ne<=X;Ne++)M=Ne===X?this:this.clone(!0),d(F[Ne])[b](M),u.apply(H,M.get());return this.pushStack(H)}});var Tt=new RegExp("^("+at+")(?!px)[a-z%]+$","i"),Ht=/^--/,Ze=function(f){var b=f.ownerDocument.defaultView;return(!b||!b.opener)&&(b=r),b.getComputedStyle(f)},wt=function(f,b,S){var M,H,F={};for(H in b)F[H]=f.style[H],f.style[H]=b[H];M=S.call(f);for(H in b)f.style[H]=F[H];return M},_t=new RegExp(Je.join("|"),"i"),Xt="[\\x20\\t\\r\\n\\f]",We=new RegExp("^"+Xt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Xt+"+$","g");(function(){function f(){if(mt){Te.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",mt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",tt.appendChild(Te).appendChild(mt);var Dt=r.getComputedStyle(mt);S=Dt.top!=="1%",Ne=b(Dt.marginLeft)===12,mt.style.right="60%",F=b(Dt.right)===36,M=b(Dt.width)===36,mt.style.position="absolute",H=b(mt.offsetWidth/3)===12,tt.removeChild(Te),mt=null}}function b(Dt){return Math.round(parseFloat(Dt))}var S,M,H,F,X,Ne,Te=T.createElement("div"),mt=T.createElement("div");mt.style&&(mt.style.backgroundClip="content-box",mt.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=mt.style.backgroundClip==="content-box",d.extend(k,{boxSizingReliable:function(){return f(),M},pixelBoxStyles:function(){return f(),F},pixelPosition:function(){return f(),S},reliableMarginLeft:function(){return f(),Ne},scrollboxSize:function(){return f(),H},reliableTrDimensions:function(){var Dt,ii,Mt,rt;return X==null&&(Dt=T.createElement("table"),ii=T.createElement("tr"),Mt=T.createElement("div"),Dt.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ii.style.cssText="border:1px solid",ii.style.height="1px",Mt.style.height="9px",Mt.style.display="block",tt.appendChild(Dt).appendChild(ii).appendChild(Mt),rt=r.getComputedStyle(ii),X=parseInt(rt.height,10)+parseInt(rt.borderTopWidth,10)+parseInt(rt.borderBottomWidth,10)===ii.offsetHeight,tt.removeChild(Dt)),X}}))})();function ri(f,b,S){var M,H,F,X,Ne=Ht.test(b),Te=f.style;return S=S||Ze(f),S&&(X=S.getPropertyValue(b)||S[b],Ne&&(X=X.replace(We,"$1")),X===""&&!Vt(f)&&(X=d.style(f,b)),!k.pixelBoxStyles()&&Tt.test(X)&&_t.test(b)&&(M=Te.width,H=Te.minWidth,F=Te.maxWidth,Te.minWidth=Te.maxWidth=Te.width=X,X=S.width,Te.width=M,Te.minWidth=H,Te.maxWidth=F)),X!==void 0?X+"":X}function ei(f,b){return{get:function(){if(f()){delete this.get;return}return(this.get=b).apply(this,arguments)}}}var ki=["Webkit","Moz","ms"],qt=T.createElement("div").style,ci={};function Ei(f){for(var b=f[0].toUpperCase()+f.slice(1),S=ki.length;S--;)if(f=ki[S]+b,f in qt)return f}function Mi(f){var b=d.cssProps[f]||ci[f];return b||(f in qt?f:ci[f]=Ei(f)||f)}var ir=/^(none|table(?!-c[ea]).+)/,Yi={position:"absolute",visibility:"hidden",display:"block"},Gi={letterSpacing:"0",fontWeight:"400"};function Sr(f,b,S){var M=Ce.exec(b);return M?Math.max(0,M[2]-(S||0))+(M[3]||"px"):b}function tr(f,b,S,M,H,F){var X=b==="width"?1:0,Ne=0,Te=0;if(S===(M?"border":"content"))return 0;for(;X<4;X+=2)S==="margin"&&(Te+=d.css(f,S+Je[X],!0,H)),M?(S==="content"&&(Te-=d.css(f,"padding"+Je[X],!0,H)),S!=="margin"&&(Te-=d.css(f,"border"+Je[X]+"Width",!0,H))):(Te+=d.css(f,"padding"+Je[X],!0,H),S!=="padding"?Te+=d.css(f,"border"+Je[X]+"Width",!0,H):Ne+=d.css(f,"border"+Je[X]+"Width",!0,H));return!M&&F>=0&&(Te+=Math.max(0,Math.ceil(f["offset"+b[0].toUpperCase()+b.slice(1)]-F-Te-Ne-.5))||0),Te}function yr(f,b,S){var M=Ze(f),H=!k.boxSizingReliable()||S,F=H&&d.css(f,"boxSizing",!1,M)==="border-box",X=F,Ne=ri(f,b,M),Te="offset"+b[0].toUpperCase()+b.slice(1);if(Tt.test(Ne)){if(!S)return Ne;Ne="auto"}return(!k.boxSizingReliable()&&F||!k.reliableTrDimensions()&&K(f,"tr")||Ne==="auto"||!parseFloat(Ne)&&d.css(f,"display",!1,M)==="inline")&&f.getClientRects().length&&(F=d.css(f,"boxSizing",!1,M)==="border-box",X=Te in f,X&&(Ne=f[Te])),Ne=parseFloat(Ne)||0,Ne+tr(f,b,S||(F?"border":"content"),X,M,Ne)+"px"}d.extend({cssHooks:{opacity:{get:function(f,b){if(b){var S=ri(f,"opacity");return S===""?"1":S}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(f,b,S,M){if(!(!f||f.nodeType===3||f.nodeType===8||!f.style)){var H,F,X,Ne=pt(b),Te=Ht.test(b),mt=f.style;if(Te||(b=Mi(Ne)),X=d.cssHooks[b]||d.cssHooks[Ne],S!==void 0){if(F=typeof S,F==="string"&&(H=Ce.exec(S))&&H[1]&&(S=Rt(f,b,H),F="number"),S==null||S!==S)return;F==="number"&&!Te&&(S+=H&&H[3]||(d.cssNumber[Ne]?"":"px")),!k.clearCloneStyle&&S===""&&b.indexOf("background")===0&&(mt[b]="inherit"),(!X||!("set"in X)||(S=X.set(f,S,M))!==void 0)&&(Te?mt.setProperty(b,S):mt[b]=S)}else return X&&"get"in X&&(H=X.get(f,!1,M))!==void 0?H:mt[b]}},css:function(f,b,S,M){var H,F,X,Ne=pt(b),Te=Ht.test(b);return Te||(b=Mi(Ne)),X=d.cssHooks[b]||d.cssHooks[Ne],X&&"get"in X&&(H=X.get(f,!0,S)),H===void 0&&(H=ri(f,b,M)),H==="normal"&&b in Gi&&(H=Gi[b]),S===""||S?(F=parseFloat(H),S===!0||isFinite(F)?F||0:H):H}}),d.each(["height","width"],function(f,b){d.cssHooks[b]={get:function(S,M,H){if(M)return ir.test(d.css(S,"display"))&&(!S.getClientRects().length||!S.getBoundingClientRect().width)?wt(S,Yi,function(){return yr(S,b,H)}):yr(S,b,H)},set:function(S,M,H){var F,X=Ze(S),Ne=!k.scrollboxSize()&&X.position==="absolute",Te=Ne||H,mt=Te&&d.css(S,"boxSizing",!1,X)==="border-box",Dt=H?tr(S,b,H,mt,X):0;return mt&&Ne&&(Dt-=Math.ceil(S["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(X[b])-tr(S,b,"border",!1,X)-.5)),Dt&&(F=Ce.exec(M))&&(F[3]||"px")!=="px"&&(S.style[b]=M,M=d.css(S,b)),Sr(S,M,Dt)}}}),d.cssHooks.marginLeft=ei(k.reliableMarginLeft,function(f,b){if(b)return(parseFloat(ri(f,"marginLeft"))||f.getBoundingClientRect().left-wt(f,{marginLeft:0},function(){return f.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(f,b){d.cssHooks[f+b]={expand:function(S){for(var M=0,H={},F=typeof S=="string"?S.split(" "):[S];M<4;M++)H[f+Je[M]+b]=F[M]||F[M-2]||F[0];return H}},f!=="margin"&&(d.cssHooks[f+b].set=Sr)}),d.fn.extend({css:function(f,b){return Se(this,function(S,M,H){var F,X,Ne={},Te=0;if(Array.isArray(M)){for(F=Ze(S),X=M.length;Te<X;Te++)Ne[M[Te]]=d.css(S,M[Te],!1,F);return Ne}return H!==void 0?d.style(S,M,H):d.css(S,M)},f,b,arguments.length>1)}});function xr(f,b,S,M,H){return new xr.prototype.init(f,b,S,M,H)}d.Tween=xr,xr.prototype={constructor:xr,init:function(f,b,S,M,H,F){this.elem=f,this.prop=S,this.easing=H||d.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=M,this.unit=F||(d.cssNumber[S]?"":"px")},cur:function(){var f=xr.propHooks[this.prop];return f&&f.get?f.get(this):xr.propHooks._default.get(this)},run:function(f){var b,S=xr.propHooks[this.prop];return this.options.duration?this.pos=b=d.easing[this.easing](f,this.options.duration*f,0,1,this.options.duration):this.pos=b=f,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),S&&S.set?S.set(this):xr.propHooks._default.set(this),this}},xr.prototype.init.prototype=xr.prototype,xr.propHooks={_default:{get:function(f){var b;return f.elem.nodeType!==1||f.elem[f.prop]!=null&&f.elem.style[f.prop]==null?f.elem[f.prop]:(b=d.css(f.elem,f.prop,""),!b||b==="auto"?0:b)},set:function(f){d.fx.step[f.prop]?d.fx.step[f.prop](f):f.elem.nodeType===1&&(d.cssHooks[f.prop]||f.elem.style[Mi(f.prop)]!=null)?d.style(f.elem,f.prop,f.now+f.unit):f.elem[f.prop]=f.now}}},xr.propHooks.scrollTop=xr.propHooks.scrollLeft={set:function(f){f.elem.nodeType&&f.elem.parentNode&&(f.elem[f.prop]=f.now)}},d.easing={linear:function(f){return f},swing:function(f){return .5-Math.cos(f*Math.PI)/2},_default:"swing"},d.fx=xr.prototype.init,d.fx.step={};var Tr,Xr,ln=/^(?:toggle|show|hide)$/,Pr=/queueHooks$/;function Dr(){Xr&&(T.hidden===!1&&r.requestAnimationFrame?r.requestAnimationFrame(Dr):r.setTimeout(Dr,d.fx.interval),d.fx.tick())}function Gr(){return r.setTimeout(function(){Tr=void 0}),Tr=Date.now()}function Vr(f,b){var S,M=0,H={height:f};for(b=b?1:0;M<4;M+=2-b)S=Je[M],H["margin"+S]=H["padding"+S]=f;return b&&(H.opacity=H.width=f),H}function ve(f,b,S){for(var M,H=(be.tweeners[b]||[]).concat(be.tweeners["*"]),F=0,X=H.length;F<X;F++)if(M=H[F].call(S,b,f))return M}function he(f,b,S){var M,H,F,X,Ne,Te,mt,Dt,ii="width"in b||"height"in b,Mt=this,rt={},$i=f.style,R=f.nodeType&&gt(f),O=ne.get(f,"fxshow");S.queue||(X=d._queueHooks(f,"fx"),X.unqueued==null&&(X.unqueued=0,Ne=X.empty.fire,X.empty.fire=function(){X.unqueued||Ne()}),X.unqueued++,Mt.always(function(){Mt.always(function(){X.unqueued--,d.queue(f,"fx").length||X.empty.fire()})}));for(M in b)if(H=b[M],ln.test(H)){if(delete b[M],F=F||H==="toggle",H===(R?"hide":"show"))if(H==="show"&&O&&O[M]!==void 0)R=!0;else continue;rt[M]=O&&O[M]||d.style(f,M)}if(Te=!d.isEmptyObject(b),!(!Te&&d.isEmptyObject(rt))){ii&&f.nodeType===1&&(S.overflow=[$i.overflow,$i.overflowX,$i.overflowY],mt=O&&O.display,mt==null&&(mt=ne.get(f,"display")),Dt=d.css(f,"display"),Dt==="none"&&(mt?Dt=mt:(ui([f],!0),mt=f.style.display||mt,Dt=d.css(f,"display"),ui([f]))),(Dt==="inline"||Dt==="inline-block"&&mt!=null)&&d.css(f,"float")==="none"&&(Te||(Mt.done(function(){$i.display=mt}),mt==null&&(Dt=$i.display,mt=Dt==="none"?"":Dt)),$i.display="inline-block")),S.overflow&&($i.overflow="hidden",Mt.always(function(){$i.overflow=S.overflow[0],$i.overflowX=S.overflow[1],$i.overflowY=S.overflow[2]})),Te=!1;for(M in rt)Te||(O?"hidden"in O&&(R=O.hidden):O=ne.access(f,"fxshow",{display:mt}),F&&(O.hidden=!R),R&&ui([f],!0),Mt.done(function(){R||ui([f]),ne.remove(f,"fxshow");for(M in rt)d.style(f,M,rt[M])})),Te=ve(R?O[M]:0,M,Mt),M in O||(O[M]=Te.start,R&&(Te.end=Te.start,Te.start=0))}}function B(f,b){var S,M,H,F,X;for(S in f)if(M=pt(S),H=b[M],F=f[S],Array.isArray(F)&&(H=F[1],F=f[S]=F[0]),S!==M&&(f[M]=F,delete f[S]),X=d.cssHooks[M],X&&"expand"in X){F=X.expand(F),delete f[M];for(S in F)S in f||(f[S]=F[S],b[S]=H)}else b[M]=H}function be(f,b,S){var M,H,F=0,X=be.prefilters.length,Ne=d.Deferred().always(function(){delete Te.elem}),Te=function(){if(H)return!1;for(var ii=Tr||Gr(),Mt=Math.max(0,mt.startTime+mt.duration-ii),rt=Mt/mt.duration||0,$i=1-rt,R=0,O=mt.tweens.length;R<O;R++)mt.tweens[R].run($i);return Ne.notifyWith(f,[mt,$i,Mt]),$i<1&&O?Mt:(O||Ne.notifyWith(f,[mt,1,0]),Ne.resolveWith(f,[mt]),!1)},mt=Ne.promise({elem:f,props:d.extend({},b),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},S),originalProperties:b,originalOptions:S,startTime:Tr||Gr(),duration:S.duration,tweens:[],createTween:function(ii,Mt){var rt=d.Tween(f,mt.opts,ii,Mt,mt.opts.specialEasing[ii]||mt.opts.easing);return mt.tweens.push(rt),rt},stop:function(ii){var Mt=0,rt=ii?mt.tweens.length:0;if(H)return this;for(H=!0;Mt<rt;Mt++)mt.tweens[Mt].run(1);return ii?(Ne.notifyWith(f,[mt,1,0]),Ne.resolveWith(f,[mt,ii])):Ne.rejectWith(f,[mt,ii]),this}}),Dt=mt.props;for(B(Dt,mt.opts.specialEasing);F<X;F++)if(M=be.prefilters[F].call(mt,f,Dt,mt.opts),M)return A(M.stop)&&(d._queueHooks(mt.elem,mt.opts.queue).stop=M.stop.bind(M)),M;return d.map(Dt,ve,mt),A(mt.opts.start)&&mt.opts.start.call(f,mt),mt.progress(mt.opts.progress).done(mt.opts.done,mt.opts.complete).fail(mt.opts.fail).always(mt.opts.always),d.fx.timer(d.extend(Te,{elem:f,anim:mt,queue:mt.opts.queue})),mt}d.Animation=d.extend(be,{tweeners:{"*":[function(f,b){var S=this.createTween(f,b);return Rt(S.elem,f,Ce.exec(b),S),S}]},tweener:function(f,b){A(f)?(b=f,f=["*"]):f=f.match(Z);for(var S,M=0,H=f.length;M<H;M++)S=f[M],be.tweeners[S]=be.tweeners[S]||[],be.tweeners[S].unshift(b)},prefilters:[he],prefilter:function(f,b){b?be.prefilters.unshift(f):be.prefilters.push(f)}}),d.speed=function(f,b,S){var M=f&&typeof f=="object"?d.extend({},f):{complete:S||!S&&b||A(f)&&f,duration:f,easing:S&&b||b&&!A(b)&&b};return d.fx.off?M.duration=0:typeof M.duration!="number"&&(M.duration in d.fx.speeds?M.duration=d.fx.speeds[M.duration]:M.duration=d.fx.speeds._default),(M.queue==null||M.queue===!0)&&(M.queue="fx"),M.old=M.complete,M.complete=function(){A(M.old)&&M.old.call(this),M.queue&&d.dequeue(this,M.queue)},M},d.fn.extend({fadeTo:function(f,b,S,M){return this.filter(gt).css("opacity",0).show().end().animate({opacity:b},f,S,M)},animate:function(f,b,S,M){var H=d.isEmptyObject(f),F=d.speed(b,S,M),X=function(){var Ne=be(this,d.extend({},f),F);(H||ne.get(this,"finish"))&&Ne.stop(!0)};return X.finish=X,H||F.queue===!1?this.each(X):this.queue(F.queue,X)},stop:function(f,b,S){var M=function(H){var F=H.stop;delete H.stop,F(S)};return typeof f!="string"&&(S=b,b=f,f=void 0),b&&this.queue(f||"fx",[]),this.each(function(){var H=!0,F=f!=null&&f+"queueHooks",X=d.timers,Ne=ne.get(this);if(F)Ne[F]&&Ne[F].stop&&M(Ne[F]);else for(F in Ne)Ne[F]&&Ne[F].stop&&Pr.test(F)&&M(Ne[F]);for(F=X.length;F--;)X[F].elem===this&&(f==null||X[F].queue===f)&&(X[F].anim.stop(S),H=!1,X.splice(F,1));(H||!S)&&d.dequeue(this,f)})},finish:function(f){return f!==!1&&(f=f||"fx"),this.each(function(){var b,S=ne.get(this),M=S[f+"queue"],H=S[f+"queueHooks"],F=d.timers,X=M?M.length:0;for(S.finish=!0,d.queue(this,f,[]),H&&H.stop&&H.stop.call(this,!0),b=F.length;b--;)F[b].elem===this&&F[b].queue===f&&(F[b].anim.stop(!0),F.splice(b,1));for(b=0;b<X;b++)M[b]&&M[b].finish&&M[b].finish.call(this);delete S.finish})}}),d.each(["toggle","show","hide"],function(f,b){var S=d.fn[b];d.fn[b]=function(M,H,F){return M==null||typeof M=="boolean"?S.apply(this,arguments):this.animate(Vr(b,!0),M,H,F)}}),d.each({slideDown:Vr("show"),slideUp:Vr("hide"),slideToggle:Vr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(f,b){d.fn[f]=function(S,M,H){return this.animate(b,S,M,H)}}),d.timers=[],d.fx.tick=function(){var f,b=0,S=d.timers;for(Tr=Date.now();b<S.length;b++)f=S[b],!f()&&S[b]===f&&S.splice(b--,1);S.length||d.fx.stop(),Tr=void 0},d.fx.timer=function(f){d.timers.push(f),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Xr||(Xr=!0,Dr())},d.fx.stop=function(){Xr=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(f,b){return f=d.fx&&d.fx.speeds[f]||f,b=b||"fx",this.queue(b,function(S,M){var H=r.setTimeout(S,f);M.stop=function(){r.clearTimeout(H)}})},function(){var f=T.createElement("input"),b=T.createElement("select"),S=b.appendChild(T.createElement("option"));f.type="checkbox",k.checkOn=f.value!=="",k.optSelected=S.selected,f=T.createElement("input"),f.value="t",f.type="radio",k.radioValue=f.value==="t"}();var xe,$t=d.expr.attrHandle;d.fn.extend({attr:function(f,b){return Se(this,d.attr,f,b,arguments.length>1)},removeAttr:function(f){return this.each(function(){d.removeAttr(this,f)})}}),d.extend({attr:function(f,b,S){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2)){if(typeof f.getAttribute>"u")return d.prop(f,b,S);if((F!==1||!d.isXMLDoc(f))&&(H=d.attrHooks[b.toLowerCase()]||(d.expr.match.bool.test(b)?xe:void 0)),S!==void 0){if(S===null){d.removeAttr(f,b);return}return H&&"set"in H&&(M=H.set(f,S,b))!==void 0?M:(f.setAttribute(b,S+""),S)}return H&&"get"in H&&(M=H.get(f,b))!==null?M:(M=d.find.attr(f,b),M!=null?M:void 0)}},attrHooks:{type:{set:function(f,b){if(!k.radioValue&&b==="radio"&&K(f,"input")){var S=f.value;return f.setAttribute("type",b),S&&(f.value=S),b}}}},removeAttr:function(f,b){var S,M=0,H=b&&b.match(Z);if(H&&f.nodeType===1)for(;S=H[M++];)f.removeAttribute(S)}}),xe={set:function(f,b,S){return b===!1?d.removeAttr(f,S):f.setAttribute(S,S),S}},d.each(d.expr.match.bool.source.match(/\w+/g),function(f,b){var S=$t[b]||d.find.attr;$t[b]=function(M,H,F){var X,Ne,Te=H.toLowerCase();return F||(Ne=$t[Te],$t[Te]=X,X=S(M,H,F)!=null?Te:null,$t[Te]=Ne),X}});var zt=/^(?:input|select|textarea|button)$/i,gi=/^(?:a|area)$/i;d.fn.extend({prop:function(f,b){return Se(this,d.prop,f,b,arguments.length>1)},removeProp:function(f){return this.each(function(){delete this[d.propFix[f]||f]})}}),d.extend({prop:function(f,b,S){var M,H,F=f.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!d.isXMLDoc(f))&&(b=d.propFix[b]||b,H=d.propHooks[b]),S!==void 0?H&&"set"in H&&(M=H.set(f,S,b))!==void 0?M:f[b]=S:H&&"get"in H&&(M=H.get(f,b))!==null?M:f[b]},propHooks:{tabIndex:{get:function(f){var b=d.find.attr(f,"tabindex");return b?parseInt(b,10):zt.test(f.nodeName)||gi.test(f.nodeName)&&f.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(d.propHooks.selected={get:function(f){var b=f.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(f){var b=f.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this});function mi(f){var b=f.match(Z)||[];return b.join(" ")}function Fi(f){return f.getAttribute&&f.getAttribute("class")||""}function hr(f){return Array.isArray(f)?f:typeof f=="string"?f.match(Z)||[]:[]}d.fn.extend({addClass:function(f){var b,S,M,H,F,X;return A(f)?this.each(function(Ne){d(this).addClass(f.call(this,Ne,Fi(this)))}):(b=hr(f),b.length?this.each(function(){if(M=Fi(this),S=this.nodeType===1&&" "+mi(M)+" ",S){for(F=0;F<b.length;F++)H=b[F],S.indexOf(" "+H+" ")<0&&(S+=H+" ");X=mi(S),M!==X&&this.setAttribute("class",X)}}):this)},removeClass:function(f){var b,S,M,H,F,X;return A(f)?this.each(function(Ne){d(this).removeClass(f.call(this,Ne,Fi(this)))}):arguments.length?(b=hr(f),b.length?this.each(function(){if(M=Fi(this),S=this.nodeType===1&&" "+mi(M)+" ",S){for(F=0;F<b.length;F++)for(H=b[F];S.indexOf(" "+H+" ")>-1;)S=S.replace(" "+H+" "," ");X=mi(S),M!==X&&this.setAttribute("class",X)}}):this):this.attr("class","")},toggleClass:function(f,b){var S,M,H,F,X=typeof f,Ne=X==="string"||Array.isArray(f);return A(f)?this.each(function(Te){d(this).toggleClass(f.call(this,Te,Fi(this),b),b)}):typeof b=="boolean"&&Ne?b?this.addClass(f):this.removeClass(f):(S=hr(f),this.each(function(){if(Ne)for(F=d(this),H=0;H<S.length;H++)M=S[H],F.hasClass(M)?F.removeClass(M):F.addClass(M);else(f===void 0||X==="boolean")&&(M=Fi(this),M&&ne.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||f===!1?"":ne.get(this,"__className__")||""))}))},hasClass:function(f){var b,S,M=0;for(b=" "+f+" ";S=this[M++];)if(S.nodeType===1&&(" "+mi(Fi(S))+" ").indexOf(b)>-1)return!0;return!1}});var or=/\r/g;d.fn.extend({val:function(f){var b,S,M,H=this[0];return arguments.length?(M=A(f),this.each(function(F){var X;this.nodeType===1&&(M?X=f.call(this,F,d(this).val()):X=f,X==null?X="":typeof X=="number"?X+="":Array.isArray(X)&&(X=d.map(X,function(Ne){return Ne==null?"":Ne+""})),b=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],(!b||!("set"in b)||b.set(this,X,"value")===void 0)&&(this.value=X))})):H?(b=d.valHooks[H.type]||d.valHooks[H.nodeName.toLowerCase()],b&&"get"in b&&(S=b.get(H,"value"))!==void 0?S:(S=H.value,typeof S=="string"?S.replace(or,""):S!=null?S:"")):void 0}}),d.extend({valHooks:{option:{get:function(f){var b=d.find.attr(f,"value");return b!=null?b:mi(d.text(f))}},select:{get:function(f){var b,S,M,H=f.options,F=f.selectedIndex,X=f.type==="select-one",Ne=X?null:[],Te=X?F+1:H.length;for(F<0?M=Te:M=X?F:0;M<Te;M++)if(S=H[M],(S.selected||M===F)&&!S.disabled&&(!S.parentNode.disabled||!K(S.parentNode,"optgroup"))){if(b=d(S).val(),X)return b;Ne.push(b)}return Ne},set:function(f,b){for(var S,M,H=f.options,F=d.makeArray(b),X=H.length;X--;)M=H[X],(M.selected=d.inArray(d.valHooks.option.get(M),F)>-1)&&(S=!0);return S||(f.selectedIndex=-1),F}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(f,b){if(Array.isArray(b))return f.checked=d.inArray(d(f).val(),b)>-1}},k.checkOn||(d.valHooks[this].get=function(f){return f.getAttribute("value")===null?"on":f.value})}),k.focusin="onfocusin"in r;var Ur=/^(?:focusinfocus|focusoutblur)$/,ue=function(f){f.stopPropagation()};d.extend(d.event,{trigger:function(f,b,S,M){var H,F,X,Ne,Te,mt,Dt,ii,Mt=[S||T],rt=y.call(f,"type")?f.type:f,$i=y.call(f,"namespace")?f.namespace.split("."):[];if(F=ii=X=S=S||T,!(S.nodeType===3||S.nodeType===8)&&!Ur.test(rt+d.event.triggered)&&(rt.indexOf(".")>-1&&($i=rt.split("."),rt=$i.shift(),$i.sort()),Te=rt.indexOf(":")<0&&"on"+rt,f=f[d.expando]?f:new d.Event(rt,typeof f=="object"&&f),f.isTrigger=M?2:3,f.namespace=$i.join("."),f.rnamespace=f.namespace?new RegExp("(^|\\.)"+$i.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=S),b=b==null?[f]:d.makeArray(b,[f]),Dt=d.event.special[rt]||{},!(!M&&Dt.trigger&&Dt.trigger.apply(S,b)===!1))){if(!M&&!Dt.noBubble&&!L(S)){for(Ne=Dt.delegateType||rt,Ur.test(Ne+rt)||(F=F.parentNode);F;F=F.parentNode)Mt.push(F),X=F;X===(S.ownerDocument||T)&&Mt.push(X.defaultView||X.parentWindow||r)}for(H=0;(F=Mt[H++])&&!f.isPropagationStopped();)ii=F,f.type=H>1?Ne:Dt.bindType||rt,mt=(ne.get(F,"events")||Object.create(null))[f.type]&&ne.get(F,"handle"),mt&&mt.apply(F,b),mt=Te&&F[Te],mt&&mt.apply&&Pt(F)&&(f.result=mt.apply(F,b),f.result===!1&&f.preventDefault());return f.type=rt,!M&&!f.isDefaultPrevented()&&(!Dt._default||Dt._default.apply(Mt.pop(),b)===!1)&&Pt(S)&&Te&&A(S[rt])&&!L(S)&&(X=S[Te],X&&(S[Te]=null),d.event.triggered=rt,f.isPropagationStopped()&&ii.addEventListener(rt,ue),S[rt](),f.isPropagationStopped()&&ii.removeEventListener(rt,ue),d.event.triggered=void 0,X&&(S[Te]=X)),f.result}},simulate:function(f,b,S){var M=d.extend(new d.Event,S,{type:f,isSimulated:!0});d.event.trigger(M,null,b)}}),d.fn.extend({trigger:function(f,b){return this.each(function(){d.event.trigger(f,b,this)})},triggerHandler:function(f,b){var S=this[0];if(S)return d.event.trigger(f,b,S,!0)}}),k.focusin||d.each({focus:"focusin",blur:"focusout"},function(f,b){var S=function(M){d.event.simulate(b,M.target,d.event.fix(M))};d.event.special[b]={setup:function(){var M=this.ownerDocument||this.document||this,H=ne.access(M,b);H||M.addEventListener(f,S,!0),ne.access(M,b,(H||0)+1)},teardown:function(){var M=this.ownerDocument||this.document||this,H=ne.access(M,b)-1;H?ne.access(M,b,H):(M.removeEventListener(f,S,!0),ne.remove(M,b))}}});var jn=r.location,wn={guid:Date.now()},$n=/\?/;d.parseXML=function(f){var b,S;if(!f||typeof f!="string")return null;try{b=new r.DOMParser().parseFromString(f,"text/xml")}catch(M){}return S=b&&b.getElementsByTagName("parsererror")[0],(!b||S)&&d.error("Invalid XML: "+(S?d.map(S.childNodes,function(M){return M.textContent}).join(`
`):f)),b};var xn=/\[\]$/,di=/\r?\n/g,Si=/^(?:submit|button|image|reset|file)$/i,yi=/^(?:input|select|textarea|keygen)/i;function rr(f,b,S,M){var H;if(Array.isArray(b))d.each(b,function(F,X){S||xn.test(f)?M(f,X):rr(f+"["+(typeof X=="object"&&X!=null?F:"")+"]",X,S,M)});else if(!S&&p(b)==="object")for(H in b)rr(f+"["+H+"]",b[H],S,M);else M(f,b)}d.param=function(f,b){var S,M=[],H=function(F,X){var Ne=A(X)?X():X;M[M.length]=encodeURIComponent(F)+"="+encodeURIComponent(Ne!=null?Ne:"")};if(f==null)return"";if(Array.isArray(f)||f.jquery&&!d.isPlainObject(f))d.each(f,function(){H(this.name,this.value)});else for(S in f)rr(S,f[S],b,H);return M.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var f=d.prop(this,"elements");return f?d.makeArray(f):this}).filter(function(){var f=this.type;return this.name&&!d(this).is(":disabled")&&yi.test(this.nodeName)&&!Si.test(f)&&(this.checked||!Ot.test(f))}).map(function(f,b){var S=d(this).val();return S==null?null:Array.isArray(S)?d.map(S,function(M){return{name:b.name,value:M.replace(di,`\r
`)}}):{name:b.name,value:S.replace(di,`\r
`)}}).get()}});var ar=/%20/g,Ln=/#.*$/,yn=/([?&])_=[^&]*/,_o=/^(.*?):[ \t]*([^\r\n]*)$/mg,fo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,is=/^(?:GET|HEAD)$/,ma=/^\/\//,Eo={},Nn={},Jr="*/".concat("*"),mo=T.createElement("a");mo.href=jn.href;function To(f){return function(b,S){typeof b!="string"&&(S=b,b="*");var M,H=0,F=b.toLowerCase().match(Z)||[];if(A(S))for(;M=F[H++];)M[0]==="+"?(M=M.slice(1)||"*",(f[M]=f[M]||[]).unshift(S)):(f[M]=f[M]||[]).push(S)}}function ga(f,b,S,M){var H={},F=f===Nn;function X(Ne){var Te;return H[Ne]=!0,d.each(f[Ne]||[],function(mt,Dt){var ii=Dt(b,S,M);if(typeof ii=="string"&&!F&&!H[ii])return b.dataTypes.unshift(ii),X(ii),!1;if(F)return!(Te=ii)}),Te}return X(b.dataTypes[0])||!H["*"]&&X("*")}function Qn(f,b){var S,M,H=d.ajaxSettings.flatOptions||{};for(S in b)b[S]!==void 0&&((H[S]?f:M||(M={}))[S]=b[S]);return M&&d.extend(!0,f,M),f}function Da(f,b,S){for(var M,H,F,X,Ne=f.contents,Te=f.dataTypes;Te[0]==="*";)Te.shift(),M===void 0&&(M=f.mimeType||b.getResponseHeader("Content-Type"));if(M){for(H in Ne)if(Ne[H]&&Ne[H].test(M)){Te.unshift(H);break}}if(Te[0]in S)F=Te[0];else{for(H in S){if(!Te[0]||f.converters[H+" "+Te[0]]){F=H;break}X||(X=H)}F=F||X}if(F)return F!==Te[0]&&Te.unshift(F),S[F]}function rs(f,b,S,M){var H,F,X,Ne,Te,mt={},Dt=f.dataTypes.slice();if(Dt[1])for(X in f.converters)mt[X.toLowerCase()]=f.converters[X];for(F=Dt.shift();F;)if(f.responseFields[F]&&(S[f.responseFields[F]]=b),!Te&&M&&f.dataFilter&&(b=f.dataFilter(b,f.dataType)),Te=F,F=Dt.shift(),F){if(F==="*")F=Te;else if(Te!=="*"&&Te!==F){if(X=mt[Te+" "+F]||mt["* "+F],!X){for(H in mt)if(Ne=H.split(" "),Ne[1]===F&&(X=mt[Te+" "+Ne[0]]||mt["* "+Ne[0]],X)){X===!0?X=mt[H]:mt[H]!==!0&&(F=Ne[0],Dt.unshift(Ne[1]));break}}if(X!==!0)if(X&&f.throws)b=X(b);else try{b=X(b)}catch(ii){return{state:"parsererror",error:X?ii:"No conversion from "+Te+" to "+F}}}}return{state:"success",data:b}}d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn.href,type:"GET",isLocal:fo.test(jn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(f,b){return b?Qn(Qn(f,d.ajaxSettings),b):Qn(d.ajaxSettings,f)},ajaxPrefilter:To(Eo),ajaxTransport:To(Nn),ajax:function(f,b){typeof f=="object"&&(b=f,f=void 0),b=b||{};var S,M,H,F,X,Ne,Te,mt,Dt,ii,Mt=d.ajaxSetup({},b),rt=Mt.context||Mt,$i=Mt.context&&(rt.nodeType||rt.jquery)?d(rt):d.event,R=d.Deferred(),O=d.Callbacks("once memory"),j=Mt.statusCode||{},U={},le={},fe="canceled",Ae={readyState:0,getResponseHeader:function(yt){var Yt;if(Te){if(!F)for(F={};Yt=_o.exec(H);)F[Yt[1].toLowerCase()+" "]=(F[Yt[1].toLowerCase()+" "]||[]).concat(Yt[2]);Yt=F[yt.toLowerCase()+" "]}return Yt==null?null:Yt.join(", ")},getAllResponseHeaders:function(){return Te?H:null},setRequestHeader:function(yt,Yt){return Te==null&&(yt=le[yt.toLowerCase()]=le[yt.toLowerCase()]||yt,U[yt]=Yt),this},overrideMimeType:function(yt){return Te==null&&(Mt.mimeType=yt),this},statusCode:function(yt){var Yt;if(yt)if(Te)Ae.always(yt[Ae.status]);else for(Yt in yt)j[Yt]=[j[Yt],yt[Yt]];return this},abort:function(yt){var Yt=yt||fe;return S&&S.abort(Yt),Nt(0,Yt),this}};if(R.promise(Ae),Mt.url=((f||Mt.url||jn.href)+"").replace(ma,jn.protocol+"//"),Mt.type=b.method||b.type||Mt.method||Mt.type,Mt.dataTypes=(Mt.dataType||"*").toLowerCase().match(Z)||[""],Mt.crossDomain==null){Ne=T.createElement("a");try{Ne.href=Mt.url,Ne.href=Ne.href,Mt.crossDomain=mo.protocol+"//"+mo.host!=Ne.protocol+"//"+Ne.host}catch(yt){Mt.crossDomain=!0}}if(Mt.data&&Mt.processData&&typeof Mt.data!="string"&&(Mt.data=d.param(Mt.data,Mt.traditional)),ga(Eo,Mt,b,Ae),Te)return Ae;mt=d.event&&Mt.global,mt&&d.active++===0&&d.event.trigger("ajaxStart"),Mt.type=Mt.type.toUpperCase(),Mt.hasContent=!is.test(Mt.type),M=Mt.url.replace(Ln,""),Mt.hasContent?Mt.data&&Mt.processData&&(Mt.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Mt.data=Mt.data.replace(ar,"+")):(ii=Mt.url.slice(M.length),Mt.data&&(Mt.processData||typeof Mt.data=="string")&&(M+=($n.test(M)?"&":"?")+Mt.data,delete Mt.data),Mt.cache===!1&&(M=M.replace(yn,"$1"),ii=($n.test(M)?"&":"?")+"_="+wn.guid+++ii),Mt.url=M+ii),Mt.ifModified&&(d.lastModified[M]&&Ae.setRequestHeader("If-Modified-Since",d.lastModified[M]),d.etag[M]&&Ae.setRequestHeader("If-None-Match",d.etag[M])),(Mt.data&&Mt.hasContent&&Mt.contentType!==!1||b.contentType)&&Ae.setRequestHeader("Content-Type",Mt.contentType),Ae.setRequestHeader("Accept",Mt.dataTypes[0]&&Mt.accepts[Mt.dataTypes[0]]?Mt.accepts[Mt.dataTypes[0]]+(Mt.dataTypes[0]!=="*"?", "+Jr+"; q=0.01":""):Mt.accepts["*"]);for(Dt in Mt.headers)Ae.setRequestHeader(Dt,Mt.headers[Dt]);if(Mt.beforeSend&&(Mt.beforeSend.call(rt,Ae,Mt)===!1||Te))return Ae.abort();if(fe="abort",O.add(Mt.complete),Ae.done(Mt.success),Ae.fail(Mt.error),S=ga(Nn,Mt,b,Ae),!S)Nt(-1,"No Transport");else{if(Ae.readyState=1,mt&&$i.trigger("ajaxSend",[Ae,Mt]),Te)return Ae;Mt.async&&Mt.timeout>0&&(X=r.setTimeout(function(){Ae.abort("timeout")},Mt.timeout));try{Te=!1,S.send(U,Nt)}catch(yt){if(Te)throw yt;Nt(-1,yt)}}function Nt(yt,Yt,li,Pi){var Ii,Li,cr,Wi,Di,Xi=Yt;Te||(Te=!0,X&&r.clearTimeout(X),S=void 0,H=Pi||"",Ae.readyState=yt>0?4:0,Ii=yt>=200&&yt<300||yt===304,li&&(Wi=Da(Mt,Ae,li)),!Ii&&d.inArray("script",Mt.dataTypes)>-1&&d.inArray("json",Mt.dataTypes)<0&&(Mt.converters["text script"]=function(){}),Wi=rs(Mt,Wi,Ae,Ii),Ii?(Mt.ifModified&&(Di=Ae.getResponseHeader("Last-Modified"),Di&&(d.lastModified[M]=Di),Di=Ae.getResponseHeader("etag"),Di&&(d.etag[M]=Di)),yt===204||Mt.type==="HEAD"?Xi="nocontent":yt===304?Xi="notmodified":(Xi=Wi.state,Li=Wi.data,cr=Wi.error,Ii=!cr)):(cr=Xi,(yt||!Xi)&&(Xi="error",yt<0&&(yt=0))),Ae.status=yt,Ae.statusText=(Yt||Xi)+"",Ii?R.resolveWith(rt,[Li,Xi,Ae]):R.rejectWith(rt,[Ae,Xi,cr]),Ae.statusCode(j),j=void 0,mt&&$i.trigger(Ii?"ajaxSuccess":"ajaxError",[Ae,Mt,Ii?Li:cr]),O.fireWith(rt,[Ae,Xi]),mt&&($i.trigger("ajaxComplete",[Ae,Mt]),--d.active||d.event.trigger("ajaxStop")))}return Ae},getJSON:function(f,b,S){return d.get(f,b,S,"json")},getScript:function(f,b){return d.get(f,void 0,b,"script")}}),d.each(["get","post"],function(f,b){d[b]=function(S,M,H,F){return A(M)&&(F=F||H,H=M,M=void 0),d.ajax(d.extend({url:S,type:b,dataType:F,data:M,success:H},d.isPlainObject(S)&&S))}}),d.ajaxPrefilter(function(f){var b;for(b in f.headers)b.toLowerCase()==="content-type"&&(f.contentType=f.headers[b]||"")}),d._evalUrl=function(f,b,S){return d.ajax({url:f,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(M){d.globalEval(M,b,S)}})},d.fn.extend({wrapAll:function(f){var b;return this[0]&&(A(f)&&(f=f.call(this[0])),b=d(f,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var S=this;S.firstElementChild;)S=S.firstElementChild;return S}).append(this)),this},wrapInner:function(f){return A(f)?this.each(function(b){d(this).wrapInner(f.call(this,b))}):this.each(function(){var b=d(this),S=b.contents();S.length?S.wrapAll(f):b.append(f)})},wrap:function(f){var b=A(f);return this.each(function(S){d(this).wrapAll(b?f.call(this,S):f)})},unwrap:function(f){return this.parent(f).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(f){return!d.expr.pseudos.visible(f)},d.expr.pseudos.visible=function(f){return!!(f.offsetWidth||f.offsetHeight||f.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(f){}};var ja={0:200,1223:204},co=d.ajaxSettings.xhr();k.cors=!!co&&"withCredentials"in co,k.ajax=co=!!co,d.ajaxTransport(function(f){var b,S;if(k.cors||co&&!f.crossDomain)return{send:function(M,H){var F,X=f.xhr();if(X.open(f.type,f.url,f.async,f.username,f.password),f.xhrFields)for(F in f.xhrFields)X[F]=f.xhrFields[F];f.mimeType&&X.overrideMimeType&&X.overrideMimeType(f.mimeType),!f.crossDomain&&!M["X-Requested-With"]&&(M["X-Requested-With"]="XMLHttpRequest");for(F in M)X.setRequestHeader(F,M[F]);b=function(Ne){return function(){b&&(b=S=X.onload=X.onerror=X.onabort=X.ontimeout=X.onreadystatechange=null,Ne==="abort"?X.abort():Ne==="error"?typeof X.status!="number"?H(0,"error"):H(X.status,X.statusText):H(ja[X.status]||X.status,X.statusText,(X.responseType||"text")!=="text"||typeof X.responseText!="string"?{binary:X.response}:{text:X.responseText},X.getAllResponseHeaders()))}},X.onload=b(),S=X.onerror=X.ontimeout=b("error"),X.onabort!==void 0?X.onabort=S:X.onreadystatechange=function(){X.readyState===4&&r.setTimeout(function(){b&&S()})},b=b("abort");try{X.send(f.hasContent&&f.data||null)}catch(Ne){if(b)throw Ne}},abort:function(){b&&b()}}}),d.ajaxPrefilter(function(f){f.crossDomain&&(f.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(f){return d.globalEval(f),f}}}),d.ajaxPrefilter("script",function(f){f.cache===void 0&&(f.cache=!1),f.crossDomain&&(f.type="GET")}),d.ajaxTransport("script",function(f){if(f.crossDomain||f.scriptAttrs){var b,S;return{send:function(M,H){b=d("<script>").attr(f.scriptAttrs||{}).prop({charset:f.scriptCharset,src:f.url}).on("load error",S=function(F){b.remove(),S=null,F&&H(F.type==="error"?404:200,F.type)}),T.head.appendChild(b[0])},abort:function(){S&&S()}}}});var zo=[],Ko=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var f=zo.pop()||d.expando+"_"+wn.guid++;return this[f]=!0,f}}),d.ajaxPrefilter("json jsonp",function(f,b,S){var M,H,F,X=f.jsonp!==!1&&(Ko.test(f.url)?"url":typeof f.data=="string"&&(f.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Ko.test(f.data)&&"data");if(X||f.dataTypes[0]==="jsonp")return M=f.jsonpCallback=A(f.jsonpCallback)?f.jsonpCallback():f.jsonpCallback,X?f[X]=f[X].replace(Ko,"$1"+M):f.jsonp!==!1&&(f.url+=($n.test(f.url)?"&":"?")+f.jsonp+"="+M),f.converters["script json"]=function(){return F||d.error(M+" was not called"),F[0]},f.dataTypes[0]="json",H=r[M],r[M]=function(){F=arguments},S.always(function(){H===void 0?d(r).removeProp(M):r[M]=H,f[M]&&(f.jsonpCallback=b.jsonpCallback,zo.push(M)),F&&A(H)&&H(F[0]),F=H=void 0}),"script"}),k.createHTMLDocument=function(){var f=T.implementation.createHTMLDocument("").body;return f.innerHTML="<form></form><form></form>",f.childNodes.length===2}(),d.parseHTML=function(f,b,S){if(typeof f!="string")return[];typeof b=="boolean"&&(S=b,b=!1);var M,H,F;return b||(k.createHTMLDocument?(b=T.implementation.createHTMLDocument(""),M=b.createElement("base"),M.href=T.location.href,b.head.appendChild(M)):b=T),H=oe.exec(f),F=!S&&[],H?[b.createElement(H[1])]:(H=_e([f],b,F),F&&F.length&&d(F).remove(),d.merge([],H.childNodes))},d.fn.load=function(f,b,S){var M,H,F,X=this,Ne=f.indexOf(" ");return Ne>-1&&(M=mi(f.slice(Ne)),f=f.slice(0,Ne)),A(b)?(S=b,b=void 0):b&&typeof b=="object"&&(H="POST"),X.length>0&&d.ajax({url:f,type:H||"GET",dataType:"html",data:b}).done(function(Te){F=arguments,X.html(M?d("<div>").append(d.parseHTML(Te)).find(M):Te)}).always(S&&function(Te,mt){X.each(function(){S.apply(this,F||[Te.responseText,mt,Te])})}),this},d.expr.pseudos.animated=function(f){return d.grep(d.timers,function(b){return f===b.elem}).length},d.offset={setOffset:function(f,b,S){var M,H,F,X,Ne,Te,mt,Dt=d.css(f,"position"),ii=d(f),Mt={};Dt==="static"&&(f.style.position="relative"),Ne=ii.offset(),F=d.css(f,"top"),Te=d.css(f,"left"),mt=(Dt==="absolute"||Dt==="fixed")&&(F+Te).indexOf("auto")>-1,mt?(M=ii.position(),X=M.top,H=M.left):(X=parseFloat(F)||0,H=parseFloat(Te)||0),A(b)&&(b=b.call(f,S,d.extend({},Ne))),b.top!=null&&(Mt.top=b.top-Ne.top+X),b.left!=null&&(Mt.left=b.left-Ne.left+H),"using"in b?b.using.call(f,Mt):ii.css(Mt)}},d.fn.extend({offset:function(f){if(arguments.length)return f===void 0?this:this.each(function(H){d.offset.setOffset(this,f,H)});var b,S,M=this[0];if(M)return M.getClientRects().length?(b=M.getBoundingClientRect(),S=M.ownerDocument.defaultView,{top:b.top+S.pageYOffset,left:b.left+S.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var f,b,S,M=this[0],H={top:0,left:0};if(d.css(M,"position")==="fixed")b=M.getBoundingClientRect();else{for(b=this.offset(),S=M.ownerDocument,f=M.offsetParent||S.documentElement;f&&(f===S.body||f===S.documentElement)&&d.css(f,"position")==="static";)f=f.parentNode;f&&f!==M&&f.nodeType===1&&(H=d(f).offset(),H.top+=d.css(f,"borderTopWidth",!0),H.left+=d.css(f,"borderLeftWidth",!0))}return{top:b.top-H.top-d.css(M,"marginTop",!0),left:b.left-H.left-d.css(M,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var f=this.offsetParent;f&&d.css(f,"position")==="static";)f=f.offsetParent;return f||tt})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(f,b){var S=b==="pageYOffset";d.fn[f]=function(M){return Se(this,function(H,F,X){var Ne;if(L(H)?Ne=H:H.nodeType===9&&(Ne=H.defaultView),X===void 0)return Ne?Ne[b]:H[F];Ne?Ne.scrollTo(S?Ne.pageXOffset:X,S?X:Ne.pageYOffset):H[F]=X},f,M,arguments.length)}}),d.each(["top","left"],function(f,b){d.cssHooks[b]=ei(k.pixelPosition,function(S,M){if(M)return M=ri(S,b),Tt.test(M)?d(S).position()[b]+"px":M})}),d.each({Height:"height",Width:"width"},function(f,b){d.each({padding:"inner"+f,content:b,"":"outer"+f},function(S,M){d.fn[M]=function(H,F){var X=arguments.length&&(S||typeof H!="boolean"),Ne=S||(H===!0||F===!0?"margin":"border");return Se(this,function(Te,mt,Dt){var ii;return L(Te)?M.indexOf("outer")===0?Te["inner"+f]:Te.document.documentElement["client"+f]:Te.nodeType===9?(ii=Te.documentElement,Math.max(Te.body["scroll"+f],ii["scroll"+f],Te.body["offset"+f],ii["offset"+f],ii["client"+f])):Dt===void 0?d.css(Te,mt,Ne):d.style(Te,mt,Dt,Ne)},b,X?H:void 0,X)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(f,b){d.fn[b]=function(S){return this.on(b,S)}}),d.fn.extend({bind:function(f,b,S){return this.on(f,null,b,S)},unbind:function(f,b){return this.off(f,null,b)},delegate:function(f,b,S,M){return this.on(b,f,S,M)},undelegate:function(f,b,S){return arguments.length===1?this.off(f,"**"):this.off(b,f||"**",S)},hover:function(f,b){return this.mouseenter(f).mouseleave(b||f)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(f,b){d.fn[b]=function(S,M){return arguments.length>0?this.on(b,null,S,M):this.trigger(b)}});var Xo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;d.proxy=function(f,b){var S,M,H;if(typeof b=="string"&&(S=f[b],b=f,f=S),!!A(f))return M=c.call(arguments,2),H=function(){return f.apply(b||this,M.concat(c.call(arguments)))},H.guid=f.guid=f.guid||d.guid++,H},d.holdReady=function(f){f?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=K,d.isFunction=A,d.isWindow=L,d.camelCase=pt,d.type=p,d.now=Date.now,d.isNumeric=function(f){var b=d.type(f);return(b==="number"||b==="string")&&!isNaN(f-parseFloat(f))},d.trim=function(f){return f==null?"":(f+"").replace(Xo,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var go=r.jQuery,_n=r.$;return d.noConflict=function(f){return r.$===d&&(r.$=_n),f&&r.jQuery===d&&(r.jQuery=go),d},typeof s>"u"&&(r.jQuery=r.$=d),d})}),U0={};X5(U0,{default:()=>Is});J5=F0(z0());Z5(U0,F0(z0()));B0=J5,{default:H0}=B0,Q5=nn(B0,["default"]),Is=H0!==void 0?H0:Q5;});var Qp=si(()=>{Kc();Kc()});var Vi,Oo=si(()=>{Vi=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)?console.log.bind(console):()=>{}});var g3,af,v3,y3,b3,w3,x3,_3,of,k3,ny,oy,ay,S3,iy,ry,A3,sf,lf=si(()=>{g3=Object.create,af=Object.defineProperty,v3=Object.getOwnPropertyDescriptor,y3=Object.getOwnPropertyNames,b3=Object.getPrototypeOf,w3=Object.prototype.hasOwnProperty,x3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_3=(e,t)=>{for(var r in t)af(e,r,{get:t[r],enumerable:!0})},of=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of y3(t))!w3.call(e,l)&&l!==r&&af(e,l,{get:()=>t[l],enumerable:!(s=v3(t,l))||s.enumerable});return e},k3=(e,t,r)=>(of(e,t,"default"),r&&of(r,t,"default")),ny=(e,t,r)=>(r=e!=null?g3(b3(e)):{},of(t||!e||!e.__esModule?af(r,"default",{value:e,enumerable:!0}):r,e)),oy=x3(()=>{(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(a,p){var v,d,x,C=a.nodeName.toLowerCase();return C==="area"?(v=a.parentNode,d=v.name,a.href&&d&&v.nodeName.toLowerCase()==="map"?(x=e("img[usemap='#"+d+"']")[0],!!x&&r(x)):!1):(/input|select|textarea|button|object/.test(C)?!a.disabled:C==="a"&&a.href||p)&&r(a)}function r(a){return e.expr.filters.visible(a)&&!e(a).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}function s(a){for(var p,v;a.length&&a[0]!==document;){if(p=a.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(v=parseInt(a.css("zIndex"),10),!isNaN(v)&&v!==0))return v;a=a.parent()}return 0}function l(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(a){var p="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.delegate(p,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(p,"mouseover",c)}function c(){e.datepicker._isDisabledDatepicker(L.inline?L.dpDiv.parent()[0]:L.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function n(a,p){e.extend(a,p);for(var v in p)p[v]==null&&(a[v]=p[v]);return a}function u(a){return function(){var p=this.element.val();a.apply(this,arguments),this._refresh(),p!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(a){var p=this.css("position"),v=p==="absolute",d=a?/(auto|scroll|hidden)/:/(auto|scroll)/,x=this.parents().filter(function(){var C=e(this);return v&&C.css("position")==="static"?!1:d.test(C.css("overflow")+C.css("overflow-y")+C.css("overflow-x"))}).eq(0);return p!=="fixed"&&x.length?x:e(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(a){return function(p){return!!e.data(p,a)}}):function(a,p,v){return!!e.data(a,v[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var p=e.attr(a,"tabindex"),v=isNaN(p);return(v||p>=0)&&t(a,!v)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(a,p){function v(N,G,q,K){return e.each(d,function(){G-=parseFloat(e.css(N,"padding"+this))||0,q&&(G-=parseFloat(e.css(N,"border"+this+"Width"))||0),K&&(G-=parseFloat(e.css(N,"margin"+this))||0)}),G}var d=p==="Width"?["Left","Right"]:["Top","Bottom"],x=p.toLowerCase(),C={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+p]=function(N){return N===void 0?C["inner"+p].call(this):this.each(function(){e(this).css(x,v(this,N)+"px")})},e.fn["outer"+p]=function(N,G){return typeof N!="number"?C["outer"+p].call(this,N):this.each(function(){e(this).css(x,v(this,N,!0,G)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(a){return function(p){return arguments.length?a.call(this,e.camelCase(p)):a.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(a){return function(p,v){return typeof p=="number"?this.each(function(){var d=this;setTimeout(function(){e(d).focus(),v&&v.call(d)},p)}):a.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(p){p.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(a){if(a!==void 0)return this.css("zIndex",a);if(this.length)for(var p,v,d=e(this[0]);d.length&&d[0]!==document;){if(p=d.css("position"),(p==="absolute"||p==="relative"||p==="fixed")&&(v=parseInt(d.css("zIndex"),10),!isNaN(v)&&v!==0))return v;d=d.parent()}return 0}}),e.ui.plugin={add:function(a,p,v){var d,x=e.ui[a].prototype;for(d in v)x.plugins[d]=x.plugins[d]||[],x.plugins[d].push([p,v[d]])},call:function(a,p,v,d){var x,C=a.plugins[p];if(C&&(d||a.element[0].parentNode&&a.element[0].parentNode.nodeType!==11))for(x=0;C.length>x;x++)a.options[C[x][0]]&&C[x][1].apply(a.element,v)}};var h=0,g=Array.prototype.slice;e.cleanData=function(a){return function(p){var v,d,x;for(x=0;(d=p[x])!=null;x++)try{v=e._data(d,"events"),v&&v.remove&&e(d).triggerHandler("remove")}catch(C){}a(p)}}(e.cleanData),e.widget=function(a,p,v){var d,x,C,N,G={},q=a.split(".")[0];return a=a.split(".")[1],d=q+"-"+a,v||(v=p,p=e.Widget),e.expr[":"][d.toLowerCase()]=function(K){return!!e.data(K,d)},e[q]=e[q]||{},x=e[q][a],C=e[q][a]=function(K,oe){return this._createWidget?(arguments.length&&this._createWidget(K,oe),void 0):new C(K,oe)},e.extend(C,x,{version:v.version,_proto:e.extend({},v),_childConstructors:[]}),N=new p,N.options=e.widget.extend({},N.options),e.each(v,function(K,oe){return e.isFunction(oe)?(G[K]=function(){var J=function(){return p.prototype[K].apply(this,arguments)},Q=function(Oe){return p.prototype[K].apply(this,Oe)};return function(){var Oe,ge=this._super,W=this._superApply;return this._super=J,this._superApply=Q,Oe=oe.apply(this,arguments),this._super=ge,this._superApply=W,Oe}}(),void 0):(G[K]=oe,void 0)}),C.prototype=e.widget.extend(N,{widgetEventPrefix:x&&N.widgetEventPrefix||a},G,{constructor:C,namespace:q,widgetName:a,widgetFullName:d}),x?(e.each(x._childConstructors,function(K,oe){var J=oe.prototype;e.widget(J.namespace+"."+J.widgetName,C,oe._proto)}),delete x._childConstructors):p._childConstructors.push(C),e.widget.bridge(a,C),C},e.widget.extend=function(a){for(var p,v,d=g.call(arguments,1),x=0,C=d.length;C>x;x++)for(p in d[x])v=d[x][p],d[x].hasOwnProperty(p)&&v!==void 0&&(a[p]=e.isPlainObject(v)?e.isPlainObject(a[p])?e.widget.extend({},a[p],v):e.widget.extend({},v):v);return a},e.widget.bridge=function(a,p){var v=p.prototype.widgetFullName||a;e.fn[a]=function(d){var x=typeof d=="string",C=g.call(arguments,1),N=this;return d=!x&&C.length?e.widget.extend.apply(null,[d].concat(C)):d,x?this.each(function(){var G,q=e.data(this,v);return d==="instance"?(N=q,!1):q?e.isFunction(q[d])&&d.charAt(0)!=="_"?(G=q[d].apply(q,C),G!==q&&G!==void 0?(N=G&&G.jquery?N.pushStack(G.get()):G,!1):void 0):e.error("no such method '"+d+"' for "+a+" widget instance"):e.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'")}):this.each(function(){var G=e.data(this,v);G?(G.option(d||{}),G._init&&G._init()):e.data(this,v,new p(d,this))}),N}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,p){p=e(p||this.defaultElement||this)[0],this.element=e(p),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),a),this.bindings=e(),this.hoverable=e(),this.focusable=e(),p!==this&&(e.data(p,this.widgetFullName,this),this._on(!0,this.element,{remove:function(v){v.target===p&&this.destroy()}}),this.document=e(p.style?p.ownerDocument:p.document||p),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(a,p){var v,d,x,C=a;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof a=="string")if(C={},v=a.split("."),a=v.shift(),v.length){for(d=C[a]=e.widget.extend({},this.options[a]),x=0;v.length-1>x;x++)d[v[x]]=d[v[x]]||{},d=d[v[x]];if(a=v.pop(),arguments.length===1)return d[a]===void 0?null:d[a];d[a]=p}else{if(arguments.length===1)return this.options[a]===void 0?null:this.options[a];C[a]=p}return this._setOptions(C),this},_setOptions:function(a){var p;for(p in a)this._setOption(p,a[p]);return this},_setOption:function(a,p){return this.options[a]=p,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!p),p&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,p,v){var d,x=this;typeof a!="boolean"&&(v=p,p=a,a=!1),v?(p=d=e(p),this.bindings=this.bindings.add(p)):(v=p,p=this.element,d=this.widget()),e.each(v,function(C,N){function G(){return a||x.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?(typeof N=="string"?x[N]:N).apply(x,arguments):void 0}typeof N!="string"&&(G.guid=N.guid=N.guid||G.guid||e.guid++);var q=C.match(/^([\w:-]*)\s*(.*)$/),K=q[1]+x.eventNamespace,oe=q[2];oe?d.delegate(oe,K,G):p.bind(K,G)})},_off:function(a,p){p=(p||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(p).undelegate(p)},_delay:function(a,p){function v(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(v,p||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(p){e(p.currentTarget).addClass("ui-state-hover")},mouseleave:function(p){e(p.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(p){e(p.currentTarget).addClass("ui-state-focus")},focusout:function(p){e(p.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,p,v){var d,x,C=this.options[a];if(v=v||{},p=e.Event(p),p.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase(),p.target=this.element[0],x=p.originalEvent)for(d in x)d in p||(p[d]=x[d]);return this.element.trigger(p,v),!(e.isFunction(C)&&C.apply(this.element[0],[p].concat(v))===!1||p.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(a,p){e.Widget.prototype["_"+a]=function(v,d,x){typeof d=="string"&&(d={effect:d});var C,N=d?d===!0||typeof d=="number"?p:d.effect||p:a;d=d||{},typeof d=="number"&&(d={duration:d}),C=!e.isEmptyObject(d),d.complete=x,d.delay&&v.delay(d.delay),C&&e.effects&&e.effects.effect[N]?v[a](d):N!==a&&v[N]?v[N](d.duration,d.easing,x):v.queue(function(G){e(this)[a](),x&&x.call(v[0]),G()})}}),e.widget;var m=!1;e(document).mouseup(function(){m=!1}),e.widget("ui.mouse",{version:"1.11.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(p){return a._mouseDown(p)}).bind("click."+this.widgetName,function(p){return e.data(p.target,a.widgetName+".preventClickEvent")===!0?(e.removeData(p.target,a.widgetName+".preventClickEvent"),p.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(a){if(!m){this._mouseStarted&&this._mouseUp(a),this._mouseDownEvent=a;var p=this,v=a.which===1,d=typeof this.options.cancel=="string"&&a.target.nodeName?e(a.target).closest(this.options.cancel).length:!1;return v&&!d&&this._mouseCapture(a)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){p.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(a)!==!1,!this._mouseStarted)?(a.preventDefault(),!0):(e.data(a.target,this.widgetName+".preventClickEvent")===!0&&e.removeData(a.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(x){return p._mouseMove(x)},this._mouseUpDelegate=function(x){return p._mouseUp(x)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),a.preventDefault(),m=!0,!0)):!0}},_mouseMove:function(a){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button?this._mouseUp(a):a.which?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&e.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),m=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function a(ge,W,se){return[parseFloat(ge[0])*(Q.test(ge[0])?W/100:1),parseFloat(ge[1])*(Q.test(ge[1])?se/100:1)]}function p(ge,W){return parseInt(e.css(ge,W),10)||0}function v(ge){var W=ge[0];return W.nodeType===9?{width:ge.width(),height:ge.height(),offset:{top:0,left:0}}:e.isWindow(W)?{width:ge.width(),height:ge.height(),offset:{top:ge.scrollTop(),left:ge.scrollLeft()}}:W.preventDefault?{width:0,height:0,offset:{top:W.pageY,left:W.pageX}}:{width:ge.outerWidth(),height:ge.outerHeight(),offset:ge.offset()}}e.ui=e.ui||{};var d,x,C=Math.max,N=Math.abs,G=Math.round,q=/left|center|right/,K=/top|center|bottom/,oe=/[\+\-]\d+(\.[\d]+)?%?/,J=/^\w+/,Q=/%$/,Oe=e.fn.position;e.position={scrollbarWidth:function(){if(d!==void 0)return d;var ge,W,se=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),de=se.children()[0];return e("body").append(se),ge=de.offsetWidth,se.css("overflow","scroll"),W=de.offsetWidth,ge===W&&(W=se[0].clientWidth),se.remove(),d=ge-W},getScrollInfo:function(ge){var W=ge.isWindow||ge.isDocument?"":ge.element.css("overflow-x"),se=ge.isWindow||ge.isDocument?"":ge.element.css("overflow-y"),de=W==="scroll"||W==="auto"&&ge.width<ge.element[0].scrollWidth,Z=se==="scroll"||se==="auto"&&ge.height<ge.element[0].scrollHeight;return{width:Z?e.position.scrollbarWidth():0,height:de?e.position.scrollbarWidth():0}},getWithinInfo:function(ge){var W=e(ge||window),se=e.isWindow(W[0]),de=!!W[0]&&W[0].nodeType===9;return{element:W,isWindow:se,isDocument:de,offset:W.offset()||{left:0,top:0},scrollLeft:W.scrollLeft(),scrollTop:W.scrollTop(),width:se||de?W.width():W.outerWidth(),height:se||de?W.height():W.outerHeight()}}},e.fn.position=function(ge){if(!ge||!ge.of)return Oe.apply(this,arguments);ge=e.extend({},ge);var W,se,de,Z,ye,Y,ce=e(ge.of),Ge=e.position.getWithinInfo(ge.within),ht=e.position.getScrollInfo(Ge),st=(ge.collision||"flip").split(" "),qe={};return Y=v(ce),ce[0].preventDefault&&(ge.at="left top"),se=Y.width,de=Y.height,Z=Y.offset,ye=e.extend({},Z),e.each(["my","at"],function(){var Se,Ie,Re=(ge[this]||"").split(" ");Re.length===1&&(Re=q.test(Re[0])?Re.concat(["center"]):K.test(Re[0])?["center"].concat(Re):["center","center"]),Re[0]=q.test(Re[0])?Re[0]:"center",Re[1]=K.test(Re[1])?Re[1]:"center",Se=oe.exec(Re[0]),Ie=oe.exec(Re[1]),qe[this]=[Se?Se[0]:0,Ie?Ie[0]:0],ge[this]=[J.exec(Re[0])[0],J.exec(Re[1])[0]]}),st.length===1&&(st[1]=st[0]),ge.at[0]==="right"?ye.left+=se:ge.at[0]==="center"&&(ye.left+=se/2),ge.at[1]==="bottom"?ye.top+=de:ge.at[1]==="center"&&(ye.top+=de/2),W=a(qe.at,se,de),ye.left+=W[0],ye.top+=W[1],this.each(function(){var Se,Ie,Re=e(this),ot=Re.outerWidth(),pt=Re.outerHeight(),Pt=p(this,"marginLeft"),Qe=p(this,"marginTop"),ne=ot+Pt+p(this,"marginRight")+ht.width,ie=pt+Qe+p(this,"marginBottom")+ht.height,Ke=e.extend({},ye),Ct=a(qe.my,Re.outerWidth(),Re.outerHeight());ge.my[0]==="right"?Ke.left-=ot:ge.my[0]==="center"&&(Ke.left-=ot/2),ge.my[1]==="bottom"?Ke.top-=pt:ge.my[1]==="center"&&(Ke.top-=pt/2),Ke.left+=Ct[0],Ke.top+=Ct[1],x||(Ke.left=G(Ke.left),Ke.top=G(Ke.top)),Se={marginLeft:Pt,marginTop:Qe},e.each(["left","top"],function(we,$e){e.ui.position[st[we]]&&e.ui.position[st[we]][$e](Ke,{targetWidth:se,targetHeight:de,elemWidth:ot,elemHeight:pt,collisionPosition:Se,collisionWidth:ne,collisionHeight:ie,offset:[W[0]+Ct[0],W[1]+Ct[1]],my:ge.my,at:ge.at,within:Ge,elem:Re})}),ge.using&&(Ie=function(we){var $e=Z.left-Ke.left,at=$e+se-ot,Ce=Z.top-Ke.top,Je=Ce+de-pt,tt={target:{element:ce,left:Z.left,top:Z.top,width:se,height:de},element:{element:Re,left:Ke.left,top:Ke.top,width:ot,height:pt},horizontal:0>at?"left":$e>0?"right":"center",vertical:0>Je?"top":Ce>0?"bottom":"middle"};ot>se&&se>N($e+at)&&(tt.horizontal="center"),pt>de&&de>N(Ce+Je)&&(tt.vertical="middle"),tt.important=C(N($e),N(at))>C(N(Ce),N(Je))?"horizontal":"vertical",ge.using.call(this,we,tt)}),Re.offset(e.extend(Ke,{using:Ie}))})},e.ui.position={fit:{left:function(ge,W){var se,de=W.within,Z=de.isWindow?de.scrollLeft:de.offset.left,ye=de.width,Y=ge.left-W.collisionPosition.marginLeft,ce=Z-Y,Ge=Y+W.collisionWidth-ye-Z;W.collisionWidth>ye?ce>0&&0>=Ge?(se=ge.left+ce+W.collisionWidth-ye-Z,ge.left+=ce-se):ge.left=Ge>0&&0>=ce?Z:ce>Ge?Z+ye-W.collisionWidth:Z:ce>0?ge.left+=ce:Ge>0?ge.left-=Ge:ge.left=C(ge.left-Y,ge.left)},top:function(ge,W){var se,de=W.within,Z=de.isWindow?de.scrollTop:de.offset.top,ye=W.within.height,Y=ge.top-W.collisionPosition.marginTop,ce=Z-Y,Ge=Y+W.collisionHeight-ye-Z;W.collisionHeight>ye?ce>0&&0>=Ge?(se=ge.top+ce+W.collisionHeight-ye-Z,ge.top+=ce-se):ge.top=Ge>0&&0>=ce?Z:ce>Ge?Z+ye-W.collisionHeight:Z:ce>0?ge.top+=ce:Ge>0?ge.top-=Ge:ge.top=C(ge.top-Y,ge.top)}},flip:{left:function(ge,W){var se,de,Z=W.within,ye=Z.offset.left+Z.scrollLeft,Y=Z.width,ce=Z.isWindow?Z.scrollLeft:Z.offset.left,Ge=ge.left-W.collisionPosition.marginLeft,ht=Ge-ce,st=Ge+W.collisionWidth-Y-ce,qe=W.my[0]==="left"?-W.elemWidth:W.my[0]==="right"?W.elemWidth:0,Se=W.at[0]==="left"?W.targetWidth:W.at[0]==="right"?-W.targetWidth:0,Ie=-2*W.offset[0];0>ht?(se=ge.left+qe+Se+Ie+W.collisionWidth-Y-ye,(0>se||N(ht)>se)&&(ge.left+=qe+Se+Ie)):st>0&&(de=ge.left-W.collisionPosition.marginLeft+qe+Se+Ie-ce,(de>0||st>N(de))&&(ge.left+=qe+Se+Ie))},top:function(ge,W){var se,de,Z=W.within,ye=Z.offset.top+Z.scrollTop,Y=Z.height,ce=Z.isWindow?Z.scrollTop:Z.offset.top,Ge=ge.top-W.collisionPosition.marginTop,ht=Ge-ce,st=Ge+W.collisionHeight-Y-ce,qe=W.my[1]==="top",Se=qe?-W.elemHeight:W.my[1]==="bottom"?W.elemHeight:0,Ie=W.at[1]==="top"?W.targetHeight:W.at[1]==="bottom"?-W.targetHeight:0,Re=-2*W.offset[1];0>ht?(de=ge.top+Se+Ie+Re+W.collisionHeight-Y-ye,ge.top+Se+Ie+Re>ht&&(0>de||N(ht)>de)&&(ge.top+=Se+Ie+Re)):st>0&&(se=ge.top-W.collisionPosition.marginTop+Se+Ie+Re-ce,ge.top+Se+Ie+Re>st&&(se>0||st>N(se))&&(ge.top+=Se+Ie+Re))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var ge,W,se,de,Z,ye=document.getElementsByTagName("body")[0],Y=document.createElement("div");ge=document.createElement(ye?"div":"body"),se={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},ye&&e.extend(se,{position:"absolute",left:"-1000px",top:"-1000px"});for(Z in se)ge.style[Z]=se[Z];ge.appendChild(Y),W=ye||document.documentElement,W.insertBefore(ge,W.firstChild),Y.style.cssText="position: absolute; left: 10.7432222px;",de=e(Y).offset().left,x=de>10&&11>de,ge.innerHTML="",W.removeChild(ge)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.1",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var a=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),a.collapsible||a.active!==!1&&a.active!=null||(a.active=0),this._processPanels(),0>a.active&&(a.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var a=this.options.icons;a&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,p){return a==="active"?(this._activate(p),void 0):(a==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(p)),this._super(a,p),a!=="collapsible"||p||this.options.active!==!1||this._activate(0),a==="icons"&&(this._destroyIcons(),p&&this._createIcons()),a==="disabled"&&(this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!p)),void 0)},_keydown:function(a){if(!a.altKey&&!a.ctrlKey){var p=e.ui.keyCode,v=this.headers.length,d=this.headers.index(a.target),x=!1;switch(a.keyCode){case p.RIGHT:case p.DOWN:x=this.headers[(d+1)%v];break;case p.LEFT:case p.UP:x=this.headers[(d-1+v)%v];break;case p.SPACE:case p.ENTER:this._eventHandler(a);break;case p.HOME:x=this.headers[0];break;case p.END:x=this.headers[v-1]}x&&(e(a.target).attr("tabIndex",-1),e(x).attr("tabIndex",0),x.focus(),a.preventDefault())}},_panelKeyDown:function(a){a.keyCode===e.ui.keyCode.UP&&a.ctrlKey&&e(a.currentTarget).prev().focus()},refresh:function(){var a=this.options;this._processPanels(),a.active===!1&&a.collapsible===!0||!this.headers.length?(a.active=!1,this.active=e()):a.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(a.active=!1,this.active=e()):this._activate(Math.max(0,a.active-1)):a.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var a,p=this.options,v=p.heightStyle,d=this.element.parent();this.active=this._findActive(p.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var x=e(this),C=x.uniqueId().attr("id"),N=x.next(),G=N.uniqueId().attr("id");x.attr("aria-controls",G),N.attr("aria-labelledby",C)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(p.event),v==="fill"?(a=d.height(),this.element.siblings(":visible").each(function(){var x=e(this),C=x.css("position");C!=="absolute"&&C!=="fixed"&&(a-=x.outerHeight(!0))}),this.headers.each(function(){a-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,a-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):v==="auto"&&(a=0,this.headers.next().each(function(){a=Math.max(a,e(this).css("height","").height())}).height(a))},_activate:function(a){var p=this._findActive(a)[0];p!==this.active[0]&&(p=p||this.active[0],this._eventHandler({target:p,currentTarget:p,preventDefault:e.noop}))},_findActive:function(a){return typeof a=="number"?this.headers.eq(a):e()},_setupEvents:function(a){var p={keydown:"_keydown"};a&&e.each(a.split(" "),function(v,d){p[d]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,p),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(a){var p=this.options,v=this.active,d=e(a.currentTarget),x=d[0]===v[0],C=x&&p.collapsible,N=C?e():d.next(),G=v.next(),q={oldHeader:v,oldPanel:G,newHeader:C?e():d,newPanel:N};a.preventDefault(),x&&!p.collapsible||this._trigger("beforeActivate",a,q)===!1||(p.active=C?!1:this.headers.index(d),this.active=x?e():d,this._toggle(q),v.removeClass("ui-accordion-header-active ui-state-active"),p.icons&&v.children(".ui-accordion-header-icon").removeClass(p.icons.activeHeader).addClass(p.icons.header),x||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),p.icons&&d.children(".ui-accordion-header-icon").removeClass(p.icons.header).addClass(p.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(a){var p=a.newPanel,v=this.prevShow.length?this.prevShow:a.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=p,this.prevHide=v,this.options.animate?this._animate(p,v,a):(v.hide(),p.show(),this._toggleComplete(a)),v.attr({"aria-hidden":"true"}),v.prev().attr("aria-selected","false"),p.length&&v.length?v.prev().attr({tabIndex:-1,"aria-expanded":"false"}):p.length&&this.headers.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),p.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,p,v){var d,x,C,N=this,G=0,q=a.length&&(!p.length||a.index()<p.index()),K=this.options.animate||{},oe=q&&K.down||K,J=function(){N._toggleComplete(v)};return typeof oe=="number"&&(C=oe),typeof oe=="string"&&(x=oe),x=x||oe.easing||K.easing,C=C||oe.duration||K.duration,p.length?a.length?(d=a.show().outerHeight(),p.animate(this.hideProps,{duration:C,easing:x,step:function(Q,Oe){Oe.now=Math.round(Q)}}),a.hide().animate(this.showProps,{duration:C,easing:x,complete:J,step:function(Q,Oe){Oe.now=Math.round(Q),Oe.prop!=="height"?G+=Oe.now:N.options.heightStyle!=="content"&&(Oe.now=Math.round(d-p.outerHeight()-G),G=0)}}),void 0):p.animate(this.hideProps,C,x,J):a.animate(this.showProps,C,x,J)},_toggleComplete:function(a){var p=a.oldPanel;p.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),p.length&&(p.parent()[0].className=p.parent()[0].className),this._trigger("activate",null,a)}}),e.widget("ui.menu",{version:"1.11.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(a){var p=e(a.target);!this.mouseHandled&&p.not(".ui-state-disabled").length&&(this.select(a),a.isPropagationStopped()||(this.mouseHandled=!0),p.has(".ui-menu").length?this.expand(a):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(a){var p=e(a.currentTarget);p.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(a,p)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,p){var v=this.active||this.element.find(this.options.items).eq(0);p||this.focus(a,v)},blur:function(a){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=e(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(a){function p(q){return q.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var v,d,x,C,N,G=!0;switch(a.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(a);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(a);break;case e.ui.keyCode.HOME:this._move("first","first",a);break;case e.ui.keyCode.END:this._move("last","last",a);break;case e.ui.keyCode.UP:this.previous(a);break;case e.ui.keyCode.DOWN:this.next(a);break;case e.ui.keyCode.LEFT:this.collapse(a);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(a);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(a);break;case e.ui.keyCode.ESCAPE:this.collapse(a);break;default:G=!1,d=this.previousFilter||"",x=String.fromCharCode(a.keyCode),C=!1,clearTimeout(this.filterTimer),x===d?C=!0:x=d+x,N=RegExp("^"+p(x),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())}),v=C&&v.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):v,v.length||(x=String.fromCharCode(a.keyCode),N=RegExp("^"+p(x),"i"),v=this.activeMenu.find(this.options.items).filter(function(){return N.test(e(this).text())})),v.length?(this.focus(a,v),v.length>1?(this.previousFilter=x,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}G&&a.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var a,p,v=this,d=this.options.icons.submenu,x=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),x.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var C=e(this),N=C.parent(),G=e("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",!0);N.attr("aria-haspopup","true").prepend(G),C.attr("aria-labelledby",N.attr("id"))}),a=x.add(this.element),p=a.find(this.options.items),p.not(".ui-menu-item").each(function(){var C=e(this);v._isDivider(C)&&C.addClass("ui-widget-content ui-menu-divider")}),p.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),p.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,p){a==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(p.submenu),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(a,p)},focus:function(a,p){var v,d;this.blur(a,a&&a.type==="focus"),this._scrollIntoView(p),this.active=p.first(),d=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),a&&a.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),v=p.children(".ui-menu"),v.length&&a&&/^mouse/.test(a.type)&&this._startOpening(v),this.activeMenu=p.parent(),this._trigger("focus",a,{item:p})},_scrollIntoView:function(a){var p,v,d,x,C,N;this._hasScroll()&&(p=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,v=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,d=a.offset().top-this.activeMenu.offset().top-p-v,x=this.activeMenu.scrollTop(),C=this.activeMenu.height(),N=a.outerHeight(),0>d?this.activeMenu.scrollTop(x+d):d+N>C&&this.activeMenu.scrollTop(x+d-C+N))},blur:function(a,p){p||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),a.attr("aria-hidden")==="true"&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(a){var p=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(a.parents(".ui-menu")).hide().attr("aria-hidden","true"),a.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(p)},collapseAll:function(a,p){clearTimeout(this.timer),this.timer=this._delay(function(){var v=p?this.element:e(a&&a.target).closest(this.element.find(".ui-menu"));v.length||(v=this.element),this._close(v),this.blur(a),this.activeMenu=v},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(a){return!e(a.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var p=this.active&&this.active.parent().closest(".ui-menu-item",this.element);p&&p.length&&(this._close(),this.focus(a,p))},expand:function(a){var p=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();p&&p.length&&(this._open(p.parent()),this._delay(function(){this.focus(a,p)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,p,v){var d;this.active&&(d=a==="first"||a==="last"?this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.find(this.options.items)[p]()),this.focus(v,d)},nextPage:function(a){var p,v,d;return this.active?(this.isLastItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return p=e(this),0>p.offset().top-v-d}),this.focus(a,p)):this.focus(a,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(a),void 0)},previousPage:function(a){var p,v,d;return this.active?(this.isFirstItem()||(this._hasScroll()?(v=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return p=e(this),p.offset().top-v+d>0}),this.focus(a,p)):this.focus(a,this.activeMenu.find(this.options.items).first())),void 0):(this.next(a),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){this.active=this.active||e(a.target).closest(".ui-menu-item");var p={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(a,!0),this._trigger("select",a,p)}}),e.widget("ui.autocomplete",{version:"1.11.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var a,p,v,d=this.element[0].nodeName.toLowerCase(),x=d==="textarea",C=d==="input";this.isMultiLine=x?!0:C?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[x||C?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(N){if(this.element.prop("readOnly"))return a=!0,v=!0,p=!0,void 0;a=!1,v=!1,p=!1;var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:a=!0,this._move("previousPage",N);break;case G.PAGE_DOWN:a=!0,this._move("nextPage",N);break;case G.UP:a=!0,this._keyEvent("previous",N);break;case G.DOWN:a=!0,this._keyEvent("next",N);break;case G.ENTER:this.menu.active&&(a=!0,N.preventDefault(),this.menu.select(N));break;case G.TAB:this.menu.active&&this.menu.select(N);break;case G.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(N),N.preventDefault());break;default:p=!0,this._searchTimeout(N)}},keypress:function(N){if(a)return a=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&N.preventDefault(),void 0;if(!p){var G=e.ui.keyCode;switch(N.keyCode){case G.PAGE_UP:this._move("previousPage",N);break;case G.PAGE_DOWN:this._move("nextPage",N);break;case G.UP:this._keyEvent("previous",N);break;case G.DOWN:this._keyEvent("next",N)}}},input:function(N){return v?(v=!1,N.preventDefault(),void 0):(this._searchTimeout(N),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(N){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(N),this._change(N),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(N){N.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var G=this.menu.element[0];e(N.target).closest(".ui-menu-item").length||this._delay(function(){var q=this;this.document.one("mousedown",function(K){K.target===q.element[0]||K.target===G||e.contains(G,K.target)||q.close()})})},menufocus:function(N,G){var q,K;return this.isNewMenu&&(this.isNewMenu=!1,N.originalEvent&&/^mouse/.test(N.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(N.target).trigger(N.originalEvent)}),void 0):(K=G.item.data("ui-autocomplete-item"),this._trigger("focus",N,{item:K})!==!1&&N.originalEvent&&/^key/.test(N.originalEvent.type)&&this._value(K.value),q=G.item.attr("aria-label")||K.value,q&&e.trim(q).length&&(this.liveRegion.children().hide(),e("<div>").text(q).appendTo(this.liveRegion)),void 0)},menuselect:function(N,G){var q=G.item.data("ui-autocomplete-item"),K=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=K,this._delay(function(){this.previous=K,this.selectedItem=q})),this._trigger("select",N,{item:q})!==!1&&this._value(q.value),this.term=this._value(),this.close(N),this.selectedItem=q}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,p){this._super(a,p),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this._appendTo()),a==="disabled"&&p&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?e(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_initSource:function(){var a,p,v=this;e.isArray(this.options.source)?(a=this.options.source,this.source=function(d,x){x(e.ui.autocomplete.filter(a,d.term))}):typeof this.options.source=="string"?(p=this.options.source,this.source=function(d,x){v.xhr&&v.xhr.abort(),v.xhr=e.ajax({url:p,data:d,dataType:"json",success:function(C){x(C)},error:function(){x([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){var p=this.term===this._value(),v=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;(!p||p&&!v&&!d)&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,p){return a=a!=null?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(p):this._trigger("search",p)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=++this.requestIndex;return e.proxy(function(p){a===this.requestIndex&&this.__response(p),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:e.map(a,function(p){return typeof p=="string"?{label:p,value:p}:e.extend({},p,{label:p.label||p.value,value:p.value||p.label})})},_suggest:function(a){var p=this.menu.element.empty();this._renderMenu(p,a),this.isNewMenu=!0,this.menu.refresh(),p.show(),this._resizeMenu(),p.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(a,p){var v=this;e.each(p,function(d,x){v._renderItemData(a,x)})},_renderItemData:function(a,p){return this._renderItem(a,p).data("ui-autocomplete-item",p)},_renderItem:function(a,p){return e("<li>").text(p.label).appendTo(a)},_move:function(a,p){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[a](p),void 0):(this.search(null,p),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,p){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,p),p.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(a,p){var v=RegExp(e.ui.autocomplete.escapeRegex(p),"i");return e.grep(a,function(d){return v.test(d.label||d.value||d)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var p;this._superApply(arguments),this.options.disabled||this.cancelSearch||(p=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(p).appendTo(this.liveRegion))}}),e.ui.autocomplete;var y,_="ui-button ui-widget ui-state-default ui-corner-all",w="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var a=e(this);setTimeout(function(){a.find(":ui-button").button("refresh")},1)},A=function(a){var p=a.name,v=a.form,d=e([]);return p&&(p=p.replace(/'/g,"\\'"),d=v?e(v).find("[name='"+p+"'][type=radio]"):e("[name='"+p+"'][type=radio]",a.ownerDocument).filter(function(){return!this.form})),d};e.widget("ui.button",{version:"1.11.1",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,p=this.options,v=this.type==="checkbox"||this.type==="radio",d=v?"":"ui-state-active";p.label===null&&(p.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(_).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){p.disabled||this===y&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){p.disabled||e(this).removeClass(d)}).bind("click"+this.eventNamespace,function(x){p.disabled&&(x.preventDefault(),x.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),v&&this.element.bind("change"+this.eventNamespace,function(){a.refresh()}),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){return p.disabled?!1:void 0}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(p.disabled)return!1;e(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var x=a.element[0];A(x).not(x).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return p.disabled?!1:(e(this).addClass("ui-state-active"),y=this,a.document.one("mouseup",function(){y=null}),void 0)}).bind("mouseup"+this.eventNamespace,function(){return p.disabled?!1:(e(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(x){return p.disabled?!1:((x.keyCode===e.ui.keyCode.SPACE||x.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(x){x.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",p.disabled),this._resetButton()},_determineButtonType:function(){var a,p,v;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),p="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(p),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(p),this.buttonElement.length||(this.buttonElement=a.find(p))),this.element.addClass("ui-helper-hidden-accessible"),v=this.element.is(":checked"),v&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",v)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(_+" ui-state-active "+w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,p){return this._super(a,p),a==="disabled"?(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),p&&(this.type==="checkbox"||this.type==="radio"?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")),void 0):(this._resetButton(),void 0)},refresh:function(){var a=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOption("disabled",a),this.type==="radio"?A(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")return this.options.label&&this.element.val(this.options.label),void 0;var a=this.buttonElement.removeClass(w),p=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),v=this.options.icons,d=v.primary&&v.secondary,x=[];v.primary||v.secondary?(this.options.text&&x.push("ui-button-text-icon"+(d?"s":v.primary?"-primary":"-secondary")),v.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+v.primary+"'></span>"),v.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+v.secondary+"'></span>"),this.options.text||(x.push(d?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||a.attr("title",e.trim(p)))):x.push("ui-button-text-only"),a.addClass(x.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.1",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,p){a==="disabled"&&this.buttons.button("option",a,p),this._super(a,p)},refresh:function(){var a=this.element.css("direction")==="rtl",p=this.element.find(this.options.items),v=p.filter(":ui-button");p.not(":ui-button").button(),v.button("refresh"),this.buttons=p.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.1"}});var L;e.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return n(this._defaults,a||{}),this},_attachDatepicker:function(a,p){var v,d,x;v=a.nodeName.toLowerCase(),d=v==="div"||v==="span",a.id||(this.uuid+=1,a.id="dp"+this.uuid),x=this._newInst(e(a),d),x.settings=e.extend({},p||{}),v==="input"?this._connectDatepicker(a,x):d&&this._inlineDatepicker(a,x)},_newInst:function(a,p){var v=a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:v,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:p,dpDiv:p?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(a,p){var v=e(a);p.append=e([]),p.trigger=e([]),v.hasClass(this.markerClassName)||(this._attachments(v,p),v.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(p),e.data(a,"datepicker",p),p.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,p){var v,d,x,C=this._get(p,"appendText"),N=this._get(p,"isRTL");p.append&&p.append.remove(),C&&(p.append=e("<span class='"+this._appendClass+"'>"+C+"</span>"),a[N?"before":"after"](p.append)),a.unbind("focus",this._showDatepicker),p.trigger&&p.trigger.remove(),v=this._get(p,"showOn"),(v==="focus"||v==="both")&&a.focus(this._showDatepicker),(v==="button"||v==="both")&&(d=this._get(p,"buttonText"),x=this._get(p,"buttonImage"),p.trigger=e(this._get(p,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:x,alt:d,title:d}):e("<button type='button'></button>").addClass(this._triggerClass).html(x?e("<img/>").attr({src:x,alt:d,title:d}):d)),a[N?"before":"after"](p.trigger),p.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===a[0]?e.datepicker._hideDatepicker():(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==a[0]&&e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(a[0])),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var p,v,d,x,C=new Date(2009,11,20),N=this._get(a,"dateFormat");N.match(/[DM]/)&&(p=function(G){for(v=0,d=0,x=0;G.length>x;x++)G[x].length>v&&(v=G[x].length,d=x);return d},C.setMonth(p(this._get(a,N.match(/MM/)?"monthNames":"monthNamesShort"))),C.setDate(p(this._get(a,N.match(/DD/)?"dayNames":"dayNamesShort"))+20-C.getDay())),a.input.attr("size",this._formatDate(a,C).length)}},_inlineDatepicker:function(a,p){var v=e(a);v.hasClass(this.markerClassName)||(v.addClass(this.markerClassName).append(p.dpDiv),e.data(a,"datepicker",p),this._setDate(p,this._getDefaultDate(p),!0),this._updateDatepicker(p),this._updateAlternate(p),p.settings.disabled&&this._disableDatepicker(a),p.dpDiv.css("display","block"))},_dialogDatepicker:function(a,p,v,d,x){var C,N,G,q,K,oe=this._dialogInst;return oe||(this.uuid+=1,C="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+C+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),oe=this._dialogInst=this._newInst(this._dialogInput,!1),oe.settings={},e.data(this._dialogInput[0],"datepicker",oe)),n(oe.settings,d||{}),p=p&&p.constructor===Date?this._formatDate(oe,p):p,this._dialogInput.val(p),this._pos=x?x.length?x:[x.pageX,x.pageY]:null,this._pos||(N=document.documentElement.clientWidth,G=document.documentElement.clientHeight,q=document.documentElement.scrollLeft||document.body.scrollLeft,K=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[N/2-100+q,G/2-150+K]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),oe.settings.onSelect=v,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",oe),this},_destroyDatepicker:function(a){var p,v=e(a),d=e.data(a,"datepicker");v.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),e.removeData(a,"datepicker"),p==="input"?(d.append.remove(),d.trigger.remove(),v.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(p==="div"||p==="span")&&v.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var p,v,d=e(a),x=e.data(a,"datepicker");d.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),p==="input"?(a.disabled=!1,x.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):(p==="div"||p==="span")&&(v=d.children("."+this._inlineClass),v.children().removeClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===a?null:C}))},_disableDatepicker:function(a){var p,v,d=e(a),x=e.data(a,"datepicker");d.hasClass(this.markerClassName)&&(p=a.nodeName.toLowerCase(),p==="input"?(a.disabled=!0,x.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):(p==="div"||p==="span")&&(v=d.children("."+this._inlineClass),v.children().addClass("ui-state-disabled"),v.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(C){return C===a?null:C}),this._disabledInputs[this._disabledInputs.length]=a)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var p=0;this._disabledInputs.length>p;p++)if(this._disabledInputs[p]===a)return!0;return!1},_getInst:function(a){try{return e.data(a,"datepicker")}catch(p){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,p,v){var d,x,C,N,G=this._getInst(a);return arguments.length===2&&typeof p=="string"?p==="defaults"?e.extend({},e.datepicker._defaults):G?p==="all"?e.extend({},G.settings):this._get(G,p):null:(d=p||{},typeof p=="string"&&(d={},d[p]=v),G&&(this._curInst===G&&this._hideDatepicker(),x=this._getDateDatepicker(a,!0),C=this._getMinMaxDate(G,"min"),N=this._getMinMaxDate(G,"max"),n(G.settings,d),C!==null&&d.dateFormat!==void 0&&d.minDate===void 0&&(G.settings.minDate=this._formatDate(G,C)),N!==null&&d.dateFormat!==void 0&&d.maxDate===void 0&&(G.settings.maxDate=this._formatDate(G,N)),"disabled"in d&&(d.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(e(a),G),this._autoSize(G),this._setDate(G,x),this._updateAlternate(G),this._updateDatepicker(G)),void 0)},_changeDatepicker:function(a,p,v){this._optionDatepicker(a,p,v)},_refreshDatepicker:function(a){var p=this._getInst(a);p&&this._updateDatepicker(p)},_setDateDatepicker:function(a,p){var v=this._getInst(a);v&&(this._setDate(v,p),this._updateDatepicker(v),this._updateAlternate(v))},_getDateDatepicker:function(a,p){var v=this._getInst(a);return v&&!v.inline&&this._setDateFromField(v,p),v?this._getDate(v):null},_doKeyDown:function(a){var p,v,d,x=e.datepicker._getInst(a.target),C=!0,N=x.dpDiv.is(".ui-datepicker-rtl");if(x._keyEvent=!0,e.datepicker._datepickerShowing)switch(a.keyCode){case 9:e.datepicker._hideDatepicker(),C=!1;break;case 13:return d=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",x.dpDiv),d[0]&&e.datepicker._selectDay(a.target,x.selectedMonth,x.selectedYear,d[0]),p=e.datepicker._get(x,"onSelect"),p?(v=e.datepicker._formatDate(x),p.apply(x.input?x.input[0]:null,[v,x])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(a.target,a.ctrlKey?-e.datepicker._get(x,"stepBigMonths"):-e.datepicker._get(x,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(a.target,a.ctrlKey?+e.datepicker._get(x,"stepBigMonths"):+e.datepicker._get(x,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&e.datepicker._clearDate(a.target),C=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&e.datepicker._gotoToday(a.target),C=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,N?1:-1,"D"),C=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&e.datepicker._adjustDate(a.target,a.ctrlKey?-e.datepicker._get(x,"stepBigMonths"):-e.datepicker._get(x,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,-7,"D"),C=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,N?-1:1,"D"),C=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&e.datepicker._adjustDate(a.target,a.ctrlKey?+e.datepicker._get(x,"stepBigMonths"):+e.datepicker._get(x,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&e.datepicker._adjustDate(a.target,7,"D"),C=a.ctrlKey||a.metaKey;break;default:C=!1}else a.keyCode===36&&a.ctrlKey?e.datepicker._showDatepicker(this):C=!1;C&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var p,v,d=e.datepicker._getInst(a.target);return e.datepicker._get(d,"constrainInput")?(p=e.datepicker._possibleChars(e.datepicker._get(d,"dateFormat")),v=String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">v||!p||p.indexOf(v)>-1):void 0},_doKeyUp:function(a){var p,v=e.datepicker._getInst(a.target);if(v.input.val()!==v.lastVal)try{p=e.datepicker.parseDate(e.datepicker._get(v,"dateFormat"),v.input?v.input.val():null,e.datepicker._getFormatConfig(v)),p&&(e.datepicker._setDateFromField(v),e.datepicker._updateAlternate(v),e.datepicker._updateDatepicker(v))}catch(d){}return!0},_showDatepicker:function(a){if(a=a.target||a,a.nodeName.toLowerCase()!=="input"&&(a=e("input",a.parentNode)[0]),!e.datepicker._isDisabledDatepicker(a)&&e.datepicker._lastInput!==a){var p,v,d,x,C,N,G;p=e.datepicker._getInst(a),e.datepicker._curInst&&e.datepicker._curInst!==p&&(e.datepicker._curInst.dpDiv.stop(!0,!0),p&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),v=e.datepicker._get(p,"beforeShow"),d=v?v.apply(a,[a,p]):{},d!==!1&&(n(p.settings,d),p.lastVal=null,e.datepicker._lastInput=a,e.datepicker._setDateFromField(p),e.datepicker._inDialog&&(a.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(a),e.datepicker._pos[1]+=a.offsetHeight),x=!1,e(a).parents().each(function(){return x|=e(this).css("position")==="fixed",!x}),C={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,p.dpDiv.empty(),p.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(p),C=e.datepicker._checkOffset(p,C,x),p.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":x?"fixed":"absolute",display:"none",left:C.left+"px",top:C.top+"px"}),p.inline||(N=e.datepicker._get(p,"showAnim"),G=e.datepicker._get(p,"duration"),p.dpDiv.css("z-index",s(e(a))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[N]?p.dpDiv.show(N,e.datepicker._get(p,"showOptions"),G):p.dpDiv[N||"show"](N?G:null),e.datepicker._shouldFocusInput(p)&&p.input.focus(),e.datepicker._curInst=p))}},_updateDatepicker:function(a){this.maxRows=4,L=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var p,v=this._getNumberOfMonths(a),d=v[1],x=17,C=a.dpDiv.find("."+this._dayOverClass+" a");C.length>0&&c.apply(C.get(0)),a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),d>1&&a.dpDiv.addClass("ui-datepicker-multi-"+d).css("width",x*d+"em"),a.dpDiv[(v[0]!==1||v[1]!==1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(a)&&a.input.focus(),a.yearshtml&&(p=a.yearshtml,setTimeout(function(){p===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),p=a.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(a,p,v){var d=a.dpDiv.outerWidth(),x=a.dpDiv.outerHeight(),C=a.input?a.input.outerWidth():0,N=a.input?a.input.outerHeight():0,G=document.documentElement.clientWidth+(v?0:e(document).scrollLeft()),q=document.documentElement.clientHeight+(v?0:e(document).scrollTop());return p.left-=this._get(a,"isRTL")?d-C:0,p.left-=v&&p.left===a.input.offset().left?e(document).scrollLeft():0,p.top-=v&&p.top===a.input.offset().top+N?e(document).scrollTop():0,p.left-=Math.min(p.left,p.left+d>G&&G>d?Math.abs(p.left+d-G):0),p.top-=Math.min(p.top,p.top+x>q&&q>x?Math.abs(x+N):0),p},_findPos:function(a){for(var p,v=this._getInst(a),d=this._get(v,"isRTL");a&&(a.type==="hidden"||a.nodeType!==1||e.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];return p=e(a).offset(),[p.left,p.top]},_hideDatepicker:function(a){var p,v,d,x,C=this._curInst;!C||a&&C!==e.data(a,"datepicker")||this._datepickerShowing&&(p=this._get(C,"showAnim"),v=this._get(C,"duration"),d=function(){e.datepicker._tidyDialog(C)},e.effects&&(e.effects.effect[p]||e.effects[p])?C.dpDiv.hide(p,e.datepicker._get(C,"showOptions"),v,d):C.dpDiv[p==="slideDown"?"slideUp":p==="fadeIn"?"fadeOut":"hide"](p?v:null,d),p||d(),this._datepickerShowing=!1,x=this._get(C,"onClose"),x&&x.apply(C.input?C.input[0]:null,[C.input?C.input.val():"",C]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(e.datepicker._curInst){var p=e(a.target),v=e.datepicker._getInst(p[0]);(p[0].id!==e.datepicker._mainDivId&&p.parents("#"+e.datepicker._mainDivId).length===0&&!p.hasClass(e.datepicker.markerClassName)&&!p.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||p.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==v)&&e.datepicker._hideDatepicker()}},_adjustDate:function(a,p,v){var d=e(a),x=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(x,p+(v==="M"?this._get(x,"showCurrentAtPos"):0),v),this._updateDatepicker(x))},_gotoToday:function(a){var p,v=e(a),d=this._getInst(v[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(p=new Date,d.selectedDay=p.getDate(),d.drawMonth=d.selectedMonth=p.getMonth(),d.drawYear=d.selectedYear=p.getFullYear()),this._notifyChange(d),this._adjustDate(v)},_selectMonthYear:function(a,p,v){var d=e(a),x=this._getInst(d[0]);x["selected"+(v==="M"?"Month":"Year")]=x["draw"+(v==="M"?"Month":"Year")]=parseInt(p.options[p.selectedIndex].value,10),this._notifyChange(x),this._adjustDate(d)},_selectDay:function(a,p,v,d){var x,C=e(a);e(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(C[0])||(x=this._getInst(C[0]),x.selectedDay=x.currentDay=e("a",d).html(),x.selectedMonth=x.currentMonth=p,x.selectedYear=x.currentYear=v,this._selectDate(a,this._formatDate(x,x.currentDay,x.currentMonth,x.currentYear)))},_clearDate:function(a){var p=e(a);this._selectDate(p,"")},_selectDate:function(a,p){var v,d=e(a),x=this._getInst(d[0]);p=p!=null?p:this._formatDate(x),x.input&&x.input.val(p),this._updateAlternate(x),v=this._get(x,"onSelect"),v?v.apply(x.input?x.input[0]:null,[p,x]):x.input&&x.input.trigger("change"),x.inline?this._updateDatepicker(x):(this._hideDatepicker(),this._lastInput=x.input[0],typeof x.input[0]!="object"&&x.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var p,v,d,x=this._get(a,"altField");x&&(p=this._get(a,"altFormat")||this._get(a,"dateFormat"),v=this._getDate(a),d=this.formatDate(p,v,this._getFormatConfig(a)),e(x).each(function(){e(this).val(d)}))},noWeekends:function(a){var p=a.getDay();return[p>0&&6>p,""]},iso8601Week:function(a){var p,v=new Date(a.getTime());return v.setDate(v.getDate()+4-(v.getDay()||7)),p=v.getTime(),v.setMonth(0),v.setDate(1),Math.floor(Math.round((p-v)/864e5)/7)+1},parseDate:function(a,p,v){if(a==null||p==null)throw"Invalid arguments";if(p=typeof p=="object"?""+p:p+"",p==="")return null;var d,x,C,N,G=0,q=(v?v.shortYearCutoff:null)||this._defaults.shortYearCutoff,K=typeof q!="string"?q:new Date().getFullYear()%100+parseInt(q,10),oe=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,J=(v?v.dayNames:null)||this._defaults.dayNames,Q=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,Oe=(v?v.monthNames:null)||this._defaults.monthNames,ge=-1,W=-1,se=-1,de=-1,Z=!1,ye=function(ht){var st=a.length>d+1&&a.charAt(d+1)===ht;return st&&d++,st},Y=function(ht){var st=ye(ht),qe=ht==="@"?14:ht==="!"?20:ht==="y"&&st?4:ht==="o"?3:2,Se=ht==="y"?qe:1,Ie=RegExp("^\\d{"+Se+","+qe+"}"),Re=p.substring(G).match(Ie);if(!Re)throw"Missing number at position "+G;return G+=Re[0].length,parseInt(Re[0],10)},ce=function(ht,st,qe){var Se=-1,Ie=e.map(ye(ht)?qe:st,function(Re,ot){return[[ot,Re]]}).sort(function(Re,ot){return-(Re[1].length-ot[1].length)});if(e.each(Ie,function(Re,ot){var pt=ot[1];return p.substr(G,pt.length).toLowerCase()===pt.toLowerCase()?(Se=ot[0],G+=pt.length,!1):void 0}),Se!==-1)return Se+1;throw"Unknown name at position "+G},Ge=function(){if(p.charAt(G)!==a.charAt(d))throw"Unexpected literal at position "+G;G++};for(d=0;a.length>d;d++)if(Z)a.charAt(d)!=="'"||ye("'")?Ge():Z=!1;else switch(a.charAt(d)){case"d":se=Y("d");break;case"D":ce("D",oe,J);break;case"o":de=Y("o");break;case"m":W=Y("m");break;case"M":W=ce("M",Q,Oe);break;case"y":ge=Y("y");break;case"@":N=new Date(Y("@")),ge=N.getFullYear(),W=N.getMonth()+1,se=N.getDate();break;case"!":N=new Date((Y("!")-this._ticksTo1970)/1e4),ge=N.getFullYear(),W=N.getMonth()+1,se=N.getDate();break;case"'":ye("'")?Ge():Z=!0;break;default:Ge()}if(p.length>G&&(C=p.substr(G),!/^\s+/.test(C)))throw"Extra/unparsed characters found in date: "+C;if(ge===-1?ge=new Date().getFullYear():100>ge&&(ge+=new Date().getFullYear()-new Date().getFullYear()%100+(K>=ge?0:-100)),de>-1)for(W=1,se=de;x=this._getDaysInMonth(ge,W-1),!(x>=se);)W++,se-=x;if(N=this._daylightSavingAdjust(new Date(ge,W-1,se)),N.getFullYear()!==ge||N.getMonth()+1!==W||N.getDate()!==se)throw"Invalid date";return N},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,p,v){if(!p)return"";var d,x=(v?v.dayNamesShort:null)||this._defaults.dayNamesShort,C=(v?v.dayNames:null)||this._defaults.dayNames,N=(v?v.monthNamesShort:null)||this._defaults.monthNamesShort,G=(v?v.monthNames:null)||this._defaults.monthNames,q=function(Oe){var ge=a.length>d+1&&a.charAt(d+1)===Oe;return ge&&d++,ge},K=function(Oe,ge,W){var se=""+ge;if(q(Oe))for(;W>se.length;)se="0"+se;return se},oe=function(Oe,ge,W,se){return q(Oe)?se[ge]:W[ge]},J="",Q=!1;if(p)for(d=0;a.length>d;d++)if(Q)a.charAt(d)!=="'"||q("'")?J+=a.charAt(d):Q=!1;else switch(a.charAt(d)){case"d":J+=K("d",p.getDate(),2);break;case"D":J+=oe("D",p.getDay(),x,C);break;case"o":J+=K("o",Math.round((new Date(p.getFullYear(),p.getMonth(),p.getDate()).getTime()-new Date(p.getFullYear(),0,0).getTime())/864e5),3);break;case"m":J+=K("m",p.getMonth()+1,2);break;case"M":J+=oe("M",p.getMonth(),N,G);break;case"y":J+=q("y")?p.getFullYear():(10>p.getYear()%100?"0":"")+p.getYear()%100;break;case"@":J+=p.getTime();break;case"!":J+=1e4*p.getTime()+this._ticksTo1970;break;case"'":q("'")?J+="'":Q=!0;break;default:J+=a.charAt(d)}return J},_possibleChars:function(a){var p,v="",d=!1,x=function(C){var N=a.length>p+1&&a.charAt(p+1)===C;return N&&p++,N};for(p=0;a.length>p;p++)if(d)a.charAt(p)!=="'"||x("'")?v+=a.charAt(p):d=!1;else switch(a.charAt(p)){case"d":case"m":case"y":case"@":v+="0123456789";break;case"D":case"M":return null;case"'":x("'")?v+="'":d=!0;break;default:v+=a.charAt(p)}return v},_get:function(a,p){return a.settings[p]!==void 0?a.settings[p]:this._defaults[p]},_setDateFromField:function(a,p){if(a.input.val()!==a.lastVal){var v=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,x=this._getDefaultDate(a),C=x,N=this._getFormatConfig(a);try{C=this.parseDate(v,d,N)||x}catch(G){d=p?"":d}a.selectedDay=C.getDate(),a.drawMonth=a.selectedMonth=C.getMonth(),a.drawYear=a.selectedYear=C.getFullYear(),a.currentDay=d?C.getDate():0,a.currentMonth=d?C.getMonth():0,a.currentYear=d?C.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,p,v){var d=function(N){var G=new Date;return G.setDate(G.getDate()+N),G},x=function(N){try{return e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),N,e.datepicker._getFormatConfig(a))}catch(Oe){}for(var G=(N.toLowerCase().match(/^c/)?e.datepicker._getDate(a):null)||new Date,q=G.getFullYear(),K=G.getMonth(),oe=G.getDate(),J=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,Q=J.exec(N);Q;){switch(Q[2]||"d"){case"d":case"D":oe+=parseInt(Q[1],10);break;case"w":case"W":oe+=7*parseInt(Q[1],10);break;case"m":case"M":K+=parseInt(Q[1],10),oe=Math.min(oe,e.datepicker._getDaysInMonth(q,K));break;case"y":case"Y":q+=parseInt(Q[1],10),oe=Math.min(oe,e.datepicker._getDaysInMonth(q,K))}Q=J.exec(N)}return new Date(q,K,oe)},C=p==null||p===""?v:typeof p=="string"?x(p):typeof p=="number"?isNaN(p)?v:d(p):new Date(p.getTime());return C=C&&""+C=="Invalid Date"?v:C,C&&(C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0)),this._daylightSavingAdjust(C)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,p,v){var d=!p,x=a.selectedMonth,C=a.selectedYear,N=this._restrictMinMax(a,this._determineDate(a,p,new Date));a.selectedDay=a.currentDay=N.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=N.getMonth(),a.drawYear=a.selectedYear=a.currentYear=N.getFullYear(),x===a.selectedMonth&&C===a.selectedYear||v||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var p=!a.currentYear||a.input&&a.input.val()===""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return p},_attachHandlers:function(a){var p=this._get(a,"stepMonths"),v="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var d={prev:function(){e.datepicker._adjustDate(v,-p,"M")},next:function(){e.datepicker._adjustDate(v,+p,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(v)},selectDay:function(){return e.datepicker._selectDay(v,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(v,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(v,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),d[this.getAttribute("data-handler")])})},_generateHTML:function(a){var p,v,d,x,C,N,G,q,K,oe,J,Q,Oe,ge,W,se,de,Z,ye,Y,ce,Ge,ht,st,qe,Se,Ie,Re,ot,pt,Pt,Qe,ne,ie,Ke,Ct,we,$e,at,Ce=new Date,Je=this._daylightSavingAdjust(new Date(Ce.getFullYear(),Ce.getMonth(),Ce.getDate())),tt=this._get(a,"isRTL"),Vt=this._get(a,"showButtonPanel"),ct=this._get(a,"hideIfNoPrevNext"),gt=this._get(a,"navigationAsDateFormat"),Rt=this._getNumberOfMonths(a),ti=this._get(a,"showCurrentAtPos"),oi=this._get(a,"stepMonths"),ui=Rt[0]!==1||Rt[1]!==1,Ot=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),It=this._getMinMaxDate(a,"min"),At=this._getMinMaxDate(a,"max"),St=a.drawMonth-ti,kt=a.drawYear;if(0>St&&(St+=12,kt--),At)for(p=this._daylightSavingAdjust(new Date(At.getFullYear(),At.getMonth()-Rt[0]*Rt[1]+1,At.getDate())),p=It&&It>p?It:p;this._daylightSavingAdjust(new Date(kt,St,1))>p;)St--,0>St&&(St=11,kt--);for(a.drawMonth=St,a.drawYear=kt,v=this._get(a,"prevText"),v=gt?this.formatDate(v,this._daylightSavingAdjust(new Date(kt,St-oi,1)),this._getFormatConfig(a)):v,d=this._canAdjustMonth(a,-1,kt,St)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(tt?"e":"w")+"'>"+v+"</span></a>":ct?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+v+"'><span class='ui-icon ui-icon-circle-triangle-"+(tt?"e":"w")+"'>"+v+"</span></a>",x=this._get(a,"nextText"),x=gt?this.formatDate(x,this._daylightSavingAdjust(new Date(kt,St+oi,1)),this._getFormatConfig(a)):x,C=this._canAdjustMonth(a,1,kt,St)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(tt?"w":"e")+"'>"+x+"</span></a>":ct?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+x+"'><span class='ui-icon ui-icon-circle-triangle-"+(tt?"w":"e")+"'>"+x+"</span></a>",N=this._get(a,"currentText"),G=this._get(a,"gotoCurrent")&&a.currentDay?Ot:Je,N=gt?this.formatDate(N,G,this._getFormatConfig(a)):N,q=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",K=Vt?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(tt?q:"")+(this._isInRange(a,G)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+N+"</button>":"")+(tt?"":q)+"</div>":"",oe=parseInt(this._get(a,"firstDay"),10),oe=isNaN(oe)?0:oe,J=this._get(a,"showWeek"),Q=this._get(a,"dayNames"),Oe=this._get(a,"dayNamesMin"),ge=this._get(a,"monthNames"),W=this._get(a,"monthNamesShort"),se=this._get(a,"beforeShowDay"),de=this._get(a,"showOtherMonths"),Z=this._get(a,"selectOtherMonths"),ye=this._getDefaultDate(a),Y="",Ge=0;Rt[0]>Ge;Ge++){for(ht="",this.maxRows=4,st=0;Rt[1]>st;st++){if(qe=this._daylightSavingAdjust(new Date(kt,St,a.selectedDay)),Se=" ui-corner-all",Ie="",ui){if(Ie+="<div class='ui-datepicker-group",Rt[1]>1)switch(st){case 0:Ie+=" ui-datepicker-group-first",Se=" ui-corner-"+(tt?"right":"left");break;case Rt[1]-1:Ie+=" ui-datepicker-group-last",Se=" ui-corner-"+(tt?"left":"right");break;default:Ie+=" ui-datepicker-group-middle",Se=""}Ie+="'>"}for(Ie+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+Se+"'>"+(/all|left/.test(Se)&&Ge===0?tt?C:d:"")+(/all|right/.test(Se)&&Ge===0?tt?d:C:"")+this._generateMonthYearHeader(a,St,kt,It,At,Ge>0||st>0,ge,W)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Re=J?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",ce=0;7>ce;ce++)ot=(ce+oe)%7,Re+="<th scope='col'"+((ce+oe+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+Q[ot]+"'>"+Oe[ot]+"</span></th>";for(Ie+=Re+"</tr></thead><tbody>",pt=this._getDaysInMonth(kt,St),kt===a.selectedYear&&St===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,pt)),Pt=(this._getFirstDayOfMonth(kt,St)-oe+7)%7,Qe=Math.ceil((Pt+pt)/7),ne=ui&&this.maxRows>Qe?this.maxRows:Qe,this.maxRows=ne,ie=this._daylightSavingAdjust(new Date(kt,St,1-Pt)),Ke=0;ne>Ke;Ke++){for(Ie+="<tr>",Ct=J?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(ie)+"</td>":"",ce=0;7>ce;ce++)we=se?se.apply(a.input?a.input[0]:null,[ie]):[!0,""],$e=ie.getMonth()!==St,at=$e&&!Z||!we[0]||It&&It>ie||At&&ie>At,Ct+="<td class='"+((ce+oe+6)%7>=5?" ui-datepicker-week-end":"")+($e?" ui-datepicker-other-month":"")+(ie.getTime()===qe.getTime()&&St===a.selectedMonth&&a._keyEvent||ye.getTime()===ie.getTime()&&ye.getTime()===qe.getTime()?" "+this._dayOverClass:"")+(at?" "+this._unselectableClass+" ui-state-disabled":"")+($e&&!de?"":" "+we[1]+(ie.getTime()===Ot.getTime()?" "+this._currentClass:"")+(ie.getTime()===Je.getTime()?" ui-datepicker-today":""))+"'"+($e&&!de||!we[2]?"":" title='"+we[2].replace(/'/g,"&#39;")+"'")+(at?"":" data-handler='selectDay' data-event='click' data-month='"+ie.getMonth()+"' data-year='"+ie.getFullYear()+"'")+">"+($e&&!de?"&#xa0;":at?"<span class='ui-state-default'>"+ie.getDate()+"</span>":"<a class='ui-state-default"+(ie.getTime()===Je.getTime()?" ui-state-highlight":"")+(ie.getTime()===Ot.getTime()?" ui-state-active":"")+($e?" ui-priority-secondary":"")+"' href='#'>"+ie.getDate()+"</a>")+"</td>",ie.setDate(ie.getDate()+1),ie=this._daylightSavingAdjust(ie);Ie+=Ct+"</tr>"}St++,St>11&&(St=0,kt++),Ie+="</tbody></table>"+(ui?"</div>"+(Rt[0]>0&&st===Rt[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),ht+=Ie}Y+=ht}return Y+=K,a._keyEvent=!1,Y},_generateMonthYearHeader:function(a,p,v,d,x,C,N,G){var q,K,oe,J,Q,Oe,ge,W,se=this._get(a,"changeMonth"),de=this._get(a,"changeYear"),Z=this._get(a,"showMonthAfterYear"),ye="<div class='ui-datepicker-title'>",Y="";if(C||!se)Y+="<span class='ui-datepicker-month'>"+N[p]+"</span>";else{for(q=d&&d.getFullYear()===v,K=x&&x.getFullYear()===v,Y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",oe=0;12>oe;oe++)(!q||oe>=d.getMonth())&&(!K||x.getMonth()>=oe)&&(Y+="<option value='"+oe+"'"+(oe===p?" selected='selected'":"")+">"+G[oe]+"</option>");Y+="</select>"}if(Z||(ye+=Y+(!C&&se&&de?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",C||!de)ye+="<span class='ui-datepicker-year'>"+v+"</span>";else{for(J=this._get(a,"yearRange").split(":"),Q=new Date().getFullYear(),Oe=function(ce){var Ge=ce.match(/c[+\-].*/)?v+parseInt(ce.substring(1),10):ce.match(/[+\-].*/)?Q+parseInt(ce,10):parseInt(ce,10);return isNaN(Ge)?Q:Ge},ge=Oe(J[0]),W=Math.max(ge,Oe(J[1]||"")),ge=d?Math.max(ge,d.getFullYear()):ge,W=x?Math.min(W,x.getFullYear()):W,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";W>=ge;ge++)a.yearshtml+="<option value='"+ge+"'"+(ge===v?" selected='selected'":"")+">"+ge+"</option>";a.yearshtml+="</select>",ye+=a.yearshtml,a.yearshtml=null}return ye+=this._get(a,"yearSuffix"),Z&&(ye+=(!C&&se&&de?"":"&#xa0;")+Y),ye+="</div>"},_adjustInstDate:function(a,p,v){var d=a.drawYear+(v==="Y"?p:0),x=a.drawMonth+(v==="M"?p:0),C=Math.min(a.selectedDay,this._getDaysInMonth(d,x))+(v==="D"?p:0),N=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,x,C)));a.selectedDay=N.getDate(),a.drawMonth=a.selectedMonth=N.getMonth(),a.drawYear=a.selectedYear=N.getFullYear(),(v==="M"||v==="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,p){var v=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),x=v&&v>p?v:p;return d&&x>d?d:x},_notifyChange:function(a){var p=this._get(a,"onChangeMonthYear");p&&p.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var p=this._get(a,"numberOfMonths");return p==null?[1,1]:typeof p=="number"?[1,p]:p},_getMinMaxDate:function(a,p){return this._determineDate(a,this._get(a,p+"Date"),null)},_getDaysInMonth:function(a,p){return 32-this._daylightSavingAdjust(new Date(a,p,32)).getDate()},_getFirstDayOfMonth:function(a,p){return new Date(a,p,1).getDay()},_canAdjustMonth:function(a,p,v,d){var x=this._getNumberOfMonths(a),C=this._daylightSavingAdjust(new Date(v,d+(0>p?p:x[0]*x[1]),1));return 0>p&&C.setDate(this._getDaysInMonth(C.getFullYear(),C.getMonth())),this._isInRange(a,C)},_isInRange:function(a,p){var v,d,x=this._getMinMaxDate(a,"min"),C=this._getMinMaxDate(a,"max"),N=null,G=null,q=this._get(a,"yearRange");return q&&(v=q.split(":"),d=new Date().getFullYear(),N=parseInt(v[0],10),G=parseInt(v[1],10),v[0].match(/[+\-].*/)&&(N+=d),v[1].match(/[+\-].*/)&&(G+=d)),(!x||p.getTime()>=x.getTime())&&(!C||p.getTime()<=C.getTime())&&(!N||p.getFullYear()>=N)&&(!G||G>=p.getFullYear())},_getFormatConfig:function(a){var p=this._get(a,"shortYearCutoff");return p=typeof p!="string"?p:new Date().getFullYear()%100+parseInt(p,10),{shortYearCutoff:p,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,p,v,d){p||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var x=p?typeof p=="object"?p:this._daylightSavingAdjust(new Date(d,v,p)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),x,this._getFormatConfig(a))}}),e.fn.datepicker=function(a){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),e("#"+e.datepicker._mainDivId).length===0&&e("body").append(e.datepicker.dpDiv);var p=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!=="isDisabled"&&a!=="getDate"&&a!=="widget"?a==="option"&&arguments.length===2&&typeof arguments[1]=="string"?e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this[0]].concat(p)):this.each(function(){typeof a=="string"?e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this].concat(p)):e.datepicker._attachDatepicker(this,a)}):e.datepicker["_"+a+"Datepicker"].apply(e.datepicker,[this[0]].concat(p))},e.datepicker=new l,e.datepicker.initialized=!1,e.datepicker.uuid=new Date().getTime(),e.datepicker.version="1.11.1",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper!=="original"||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,p){this._super(a,p),a==="handle"&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(a){var p=this.document[0],v=this.options;try{p.activeElement&&p.activeElement.nodeName.toLowerCase()!=="body"&&e(p.activeElement).blur()}catch(d){}return this.helper||v.disabled||e(a.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(a),this.handle?(e(v.iframeFix===!0?"iframe":v.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(a){var p=this.options;return this.helper=this._createHelper(a),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(a,!1),this.originalPageX=a.pageX,this.originalPageY=a.pageY,p.cursorAt&&this._adjustOffsetFromHelper(p.cursorAt),this._setContainment(),this._trigger("start",a)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!p.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a),this._mouseDrag(a,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,a),!0)},_mouseDrag:function(a,p){if(this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(a,!0),this.positionAbs=this._convertPositionTo("absolute"),!p){var v=this._uiHash();if(this._trigger("drag",a,v)===!1)return this._mouseUp({}),!1;this.position=v.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,a),!1},_mouseStop:function(a){var p=this,v=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(v=e.ui.ddmanager.drop(this,a)),this.dropped&&(v=this.dropped,this.dropped=!1),this.options.revert==="invalid"&&!v||this.options.revert==="valid"&&v||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,v)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){p._trigger("stop",a)!==!1&&p._clear()}):this._trigger("stop",a)!==!1&&this._clear(),!1},_mouseUp:function(a){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,a),this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!e(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(a){var p=this.options,v=e.isFunction(p.helper)?e(p.helper.apply(this.element[0],[a])):p.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return v.parents("body").length||v.appendTo(p.appendTo==="parent"?this.element[0].parentNode:p.appendTo),v[0]===this.element[0]||/(fixed|absolute)/.test(v.css("position"))||v.css("position","absolute"),v},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),e.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var a=this.offsetParent.offset(),p=this.document[0];return this.cssPosition==="absolute"&&this.scrollParent[0]!==p&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative")return{top:0,left:0};var a=this.element.position(),p=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(p?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(p?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,p,v,d=this.options,x=this.document[0];return this.relativeContainer=null,d.containment?d.containment==="window"?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment==="document"?(this.containment=[0,0,e(x).width()-this.helperProportions.width-this.margins.left,(e(x).height()||x.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):d.containment.constructor===Array?(this.containment=d.containment,void 0):(d.containment==="parent"&&(d.containment=this.helper[0].parentNode),p=e(d.containment),v=p[0],v&&(a=p.css("overflow")!=="hidden",this.containment=[(parseInt(p.css("borderLeftWidth"),10)||0)+(parseInt(p.css("paddingLeft"),10)||0),(parseInt(p.css("borderTopWidth"),10)||0)+(parseInt(p.css("paddingTop"),10)||0),(a?Math.max(v.scrollWidth,v.offsetWidth):v.offsetWidth)-(parseInt(p.css("borderRightWidth"),10)||0)-(parseInt(p.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(a?Math.max(v.scrollHeight,v.offsetHeight):v.offsetHeight)-(parseInt(p.css("borderBottomWidth"),10)||0)-(parseInt(p.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=p),void 0):(this.containment=null,void 0)},_convertPositionTo:function(a,p){p||(p=this.position);var v=a==="absolute"?1:-1,d=this._isRootNode(this.scrollParent[0]);return{top:p.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.offset.scroll.top:d?0:this.offset.scroll.top)*v,left:p.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.offset.scroll.left:d?0:this.offset.scroll.left)*v}},_generatePosition:function(a,p){var v,d,x,C,N=this.options,G=this._isRootNode(this.scrollParent[0]),q=a.pageX,K=a.pageY;return G&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),p&&(this.containment&&(this.relativeContainer?(d=this.relativeContainer.offset(),v=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):v=this.containment,a.pageX-this.offset.click.left<v[0]&&(q=v[0]+this.offset.click.left),a.pageY-this.offset.click.top<v[1]&&(K=v[1]+this.offset.click.top),a.pageX-this.offset.click.left>v[2]&&(q=v[2]+this.offset.click.left),a.pageY-this.offset.click.top>v[3]&&(K=v[3]+this.offset.click.top)),N.grid&&(x=N.grid[1]?this.originalPageY+Math.round((K-this.originalPageY)/N.grid[1])*N.grid[1]:this.originalPageY,K=v?x-this.offset.click.top>=v[1]||x-this.offset.click.top>v[3]?x:x-this.offset.click.top>=v[1]?x-N.grid[1]:x+N.grid[1]:x,C=N.grid[0]?this.originalPageX+Math.round((q-this.originalPageX)/N.grid[0])*N.grid[0]:this.originalPageX,q=v?C-this.offset.click.left>=v[0]||C-this.offset.click.left>v[2]?C:C-this.offset.click.left>=v[0]?C-N.grid[0]:C+N.grid[0]:C),N.axis==="y"&&(q=this.originalPageX),N.axis==="x"&&(K=this.originalPageY)),{top:K-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:G?0:this.offset.scroll.top),left:q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:G?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(a,p,v){return v=v||this._uiHash(),e.ui.plugin.call(this,a,[p,v,this],!0),a==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,a,p,v)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(a,p,v){var d=v.options,x=e.extend({},p,{item:v.element});v.sortables=[],e(d.connectToSortable).each(function(){var C=e(this).sortable("instance");C&&!C.options.disabled&&(v.sortables.push({instance:C,shouldRevert:C.options.revert}),C.refreshPositions(),C._trigger("activate",a,x))})},stop:function(a,p,v){var d=e.extend({},p,{item:v.element});e.each(v.sortables,function(){this.instance.isOver?(this.instance.isOver=0,v.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,v.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",a,d))})},drag:function(a,p,v){var d=this;e.each(v.sortables,function(){var x=!1,C=this;this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(x=!0,e.each(v.sortables,function(){return this.instance.positionAbs=v.positionAbs,this.instance.helperProportions=v.helperProportions,this.instance.offset.click=v.offset.click,this!==C&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(C.instance.element[0],this.instance.element[0])&&(x=!1),x})),x?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(d).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return p.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=v.offset.click.top,this.instance.offset.click.left=v.offset.click.left,this.instance.offset.parent.left-=v.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=v.offset.parent.top-this.instance.offset.parent.top,v._trigger("toSortable",a),v.dropped=this.instance.element,v.currentItem=v.element,this.instance.fromOutside=v),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),v._trigger("fromSortable",a),v.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(a,p,v){var d=e("body"),x=v.options;d.css("cursor")&&(x._cursor=d.css("cursor")),d.css("cursor",x.cursor)},stop:function(a,p,v){var d=v.options;d._cursor&&e("body").css("cursor",d._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(a,p,v){var d=e(p.helper),x=v.options;d.css("opacity")&&(x._opacity=d.css("opacity")),d.css("opacity",x.opacity)},stop:function(a,p,v){var d=v.options;d._opacity&&e(p.helper).css("opacity",d._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(a,p,v){v.scrollParentNotHidden||(v.scrollParentNotHidden=v.helper.scrollParent(!1)),v.scrollParentNotHidden[0]!==v.document[0]&&v.scrollParentNotHidden[0].tagName!=="HTML"&&(v.overflowOffset=v.scrollParentNotHidden.offset())},drag:function(a,p,v){var d=v.options,x=!1,C=v.scrollParentNotHidden[0],N=v.document[0];C!==N&&C.tagName!=="HTML"?(d.axis&&d.axis==="x"||(v.overflowOffset.top+C.offsetHeight-a.pageY<d.scrollSensitivity?C.scrollTop=x=C.scrollTop+d.scrollSpeed:a.pageY-v.overflowOffset.top<d.scrollSensitivity&&(C.scrollTop=x=C.scrollTop-d.scrollSpeed)),d.axis&&d.axis==="y"||(v.overflowOffset.left+C.offsetWidth-a.pageX<d.scrollSensitivity?C.scrollLeft=x=C.scrollLeft+d.scrollSpeed:a.pageX-v.overflowOffset.left<d.scrollSensitivity&&(C.scrollLeft=x=C.scrollLeft-d.scrollSpeed))):(d.axis&&d.axis==="x"||(a.pageY-e(N).scrollTop()<d.scrollSensitivity?x=e(N).scrollTop(e(N).scrollTop()-d.scrollSpeed):e(window).height()-(a.pageY-e(N).scrollTop())<d.scrollSensitivity&&(x=e(N).scrollTop(e(N).scrollTop()+d.scrollSpeed))),d.axis&&d.axis==="y"||(a.pageX-e(N).scrollLeft()<d.scrollSensitivity?x=e(N).scrollLeft(e(N).scrollLeft()-d.scrollSpeed):e(window).width()-(a.pageX-e(N).scrollLeft())<d.scrollSensitivity&&(x=e(N).scrollLeft(e(N).scrollLeft()+d.scrollSpeed)))),x!==!1&&e.ui.ddmanager&&!d.dropBehaviour&&e.ui.ddmanager.prepareOffsets(v,a)}}),e.ui.plugin.add("draggable","snap",{start:function(a,p,v){var d=v.options;v.snapElements=[],e(d.snap.constructor!==String?d.snap.items||":data(ui-draggable)":d.snap).each(function(){var x=e(this),C=x.offset();this!==v.element[0]&&v.snapElements.push({item:this,width:x.outerWidth(),height:x.outerHeight(),top:C.top,left:C.left})})},drag:function(a,p,v){var d,x,C,N,G,q,K,oe,J,Q,Oe=v.options,ge=Oe.snapTolerance,W=p.offset.left,se=W+v.helperProportions.width,de=p.offset.top,Z=de+v.helperProportions.height;for(J=v.snapElements.length-1;J>=0;J--)G=v.snapElements[J].left,q=G+v.snapElements[J].width,K=v.snapElements[J].top,oe=K+v.snapElements[J].height,G-ge>se||W>q+ge||K-ge>Z||de>oe+ge||!e.contains(v.snapElements[J].item.ownerDocument,v.snapElements[J].item)?(v.snapElements[J].snapping&&v.options.snap.release&&v.options.snap.release.call(v.element,a,e.extend(v._uiHash(),{snapItem:v.snapElements[J].item})),v.snapElements[J].snapping=!1):(Oe.snapMode!=="inner"&&(d=ge>=Math.abs(K-Z),x=ge>=Math.abs(oe-de),C=ge>=Math.abs(G-se),N=ge>=Math.abs(q-W),d&&(p.position.top=v._convertPositionTo("relative",{top:K-v.helperProportions.height,left:0}).top-v.margins.top),x&&(p.position.top=v._convertPositionTo("relative",{top:oe,left:0}).top-v.margins.top),C&&(p.position.left=v._convertPositionTo("relative",{top:0,left:G-v.helperProportions.width}).left-v.margins.left),N&&(p.position.left=v._convertPositionTo("relative",{top:0,left:q}).left-v.margins.left)),Q=d||x||C||N,Oe.snapMode!=="outer"&&(d=ge>=Math.abs(K-de),x=ge>=Math.abs(oe-Z),C=ge>=Math.abs(G-W),N=ge>=Math.abs(q-se),d&&(p.position.top=v._convertPositionTo("relative",{top:K,left:0}).top-v.margins.top),x&&(p.position.top=v._convertPositionTo("relative",{top:oe-v.helperProportions.height,left:0}).top-v.margins.top),C&&(p.position.left=v._convertPositionTo("relative",{top:0,left:G}).left-v.margins.left),N&&(p.position.left=v._convertPositionTo("relative",{top:0,left:q-v.helperProportions.width}).left-v.margins.left)),!v.snapElements[J].snapping&&(d||x||C||N||Q)&&v.options.snap.snap&&v.options.snap.snap.call(v.element,a,e.extend(v._uiHash(),{snapItem:v.snapElements[J].item})),v.snapElements[J].snapping=d||x||C||N||Q)}}),e.ui.plugin.add("draggable","stack",{start:function(a,p,v){var d,x=v.options,C=e.makeArray(e(x.stack)).sort(function(N,G){return(parseInt(e(N).css("zIndex"),10)||0)-(parseInt(e(G).css("zIndex"),10)||0)});C.length&&(d=parseInt(e(C[0]).css("zIndex"),10)||0,e(C).each(function(N){e(this).css("zIndex",d+N)}),this.css("zIndex",d+C.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(a,p,v){var d=e(p.helper),x=v.options;d.css("zIndex")&&(x._zIndex=d.css("zIndex")),d.css("zIndex",x.zIndex)},stop:function(a,p,v){var d=v.options;d._zIndex&&e(p.helper).css("zIndex",d._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(a,p){if(e(a).css("overflow")==="hidden")return!1;var v=p&&p==="left"?"scrollLeft":"scrollTop",d=!1;return a[v]>0?!0:(a[v]=1,d=a[v]>0,a[v]=0,d)},_create:function(){var a,p,v,d,x,C=this,N=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!N.aspectRatio,aspectRatio:N.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:N.helper||N.ghost||N.animate?N.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=N.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for(this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},p=0;a.length>p;p++)v=e.trim(a[p]),x="ui-resizable-"+v,d=e("<div class='ui-resizable-handle "+x+"'></div>"),d.css({zIndex:N.zIndex}),v==="se"&&d.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[v]=".ui-resizable-"+v,this.element.append(d);this._renderAxis=function(G){var q,K,oe,J;G=G||this.element;for(q in this.handles)this.handles[q].constructor===String&&(this.handles[q]=this.element.children(this.handles[q]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(K=e(this.handles[q],this.element),J=/sw|ne|nw|se|n|s/.test(q)?K.outerHeight():K.outerWidth(),oe=["padding",/ne|nw|n/.test(q)?"Top":/se|sw|s/.test(q)?"Bottom":/^e$/.test(q)?"Right":"Left"].join(""),G.css(oe,J),this._proportionallyResize()),e(this.handles[q]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){C.resizing||(this.className&&(d=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),C.axis=d&&d[1]?d[1]:"se")}),N.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){N.disabled||(e(this).removeClass("ui-resizable-autohide"),C._handles.show())}).mouseleave(function(){N.disabled||C.resizing||(e(this).addClass("ui-resizable-autohide"),C._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var a,p=function(v){e(v).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(p(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),p(this.originalElement),this},_mouseCapture:function(a){var p,v,d=!1;for(p in this.handles)v=e(this.handles[p])[0],(v===a.target||e.contains(v,a.target))&&(d=!0);return!this.options.disabled&&d},_mouseStart:function(a){var p,v,d,x=this.options,C=this.element;return this.resizing=!0,this._renderProxy(),p=this._num(this.helper.css("left")),v=this._num(this.helper.css("top")),x.containment&&(p+=e(x.containment).scrollLeft()||0,v+=e(x.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:p,top:v},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:C.width(),height:C.height()},this.originalSize=this._helper?{width:C.outerWidth(),height:C.outerHeight()}:{width:C.width(),height:C.height()},this.sizeDiff={width:C.outerWidth()-C.width(),height:C.outerHeight()-C.height()},this.originalPosition={left:p,top:v},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio=typeof x.aspectRatio=="number"?x.aspectRatio:this.originalSize.width/this.originalSize.height||1,d=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",d==="auto"?this.axis+"-resize":d),C.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var p,v,d=this.originalMousePosition,x=this.axis,C=a.pageX-d.left||0,N=a.pageY-d.top||0,G=this._change[x];return this._updatePrevProperties(),G&&(p=G.apply(this,[a,C,N]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(p=this._updateRatio(p,a)),p=this._respectSize(p,a),this._updateCache(p),this._propagate("resize",a),v=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(v)||(this._updatePrevProperties(),this._trigger("resize",a,this.ui()),this._applyChanges())),!1},_mouseStop:function(a){this.resizing=!1;var p,v,d,x,C,N,G,q=this.options,K=this;return this._helper&&(p=this._proportionallyResizeElements,v=p.length&&/textarea/i.test(p[0].nodeName),d=v&&this._hasScroll(p[0],"left")?0:K.sizeDiff.height,x=v?0:K.sizeDiff.width,C={width:K.helper.width()-x,height:K.helper.height()-d},N=parseInt(K.element.css("left"),10)+(K.position.left-K.originalPosition.left)||null,G=parseInt(K.element.css("top"),10)+(K.position.top-K.originalPosition.top)||null,q.animate||this.element.css(e.extend(C,{top:G,left:N})),K.helper.height(K.size.height),K.helper.width(K.size.width),this._helper&&!q.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};return this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px"),this.helper.css(a),a},_updateVirtualBoundaries:function(a){var p,v,d,x,C,N=this.options;C={minWidth:this._isNumber(N.minWidth)?N.minWidth:0,maxWidth:this._isNumber(N.maxWidth)?N.maxWidth:1/0,minHeight:this._isNumber(N.minHeight)?N.minHeight:0,maxHeight:this._isNumber(N.maxHeight)?N.maxHeight:1/0},(this._aspectRatio||a)&&(p=C.minHeight*this.aspectRatio,d=C.minWidth/this.aspectRatio,v=C.maxHeight*this.aspectRatio,x=C.maxWidth/this.aspectRatio,p>C.minWidth&&(C.minWidth=p),d>C.minHeight&&(C.minHeight=d),C.maxWidth>v&&(C.maxWidth=v),C.maxHeight>x&&(C.maxHeight=x)),this._vBoundaries=C},_updateCache:function(a){this.offset=this.helper.offset(),this._isNumber(a.left)&&(this.position.left=a.left),this._isNumber(a.top)&&(this.position.top=a.top),this._isNumber(a.height)&&(this.size.height=a.height),this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var p=this.position,v=this.size,d=this.axis;return this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio),d==="sw"&&(a.left=p.left+(v.width-a.width),a.top=null),d==="nw"&&(a.top=p.top+(v.height-a.height),a.left=p.left+(v.width-a.width)),a},_respectSize:function(a){var p=this._vBoundaries,v=this.axis,d=this._isNumber(a.width)&&p.maxWidth&&p.maxWidth<a.width,x=this._isNumber(a.height)&&p.maxHeight&&p.maxHeight<a.height,C=this._isNumber(a.width)&&p.minWidth&&p.minWidth>a.width,N=this._isNumber(a.height)&&p.minHeight&&p.minHeight>a.height,G=this.originalPosition.left+this.originalSize.width,q=this.position.top+this.size.height,K=/sw|nw|w/.test(v),oe=/nw|ne|n/.test(v);return C&&(a.width=p.minWidth),N&&(a.height=p.minHeight),d&&(a.width=p.maxWidth),x&&(a.height=p.maxHeight),C&&K&&(a.left=G-p.minWidth),d&&K&&(a.left=G-p.maxWidth),N&&oe&&(a.top=q-p.minHeight),x&&oe&&(a.top=q-p.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_getPaddingPlusBorderDimensions:function(a){for(var p=0,v=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")],x=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>p;p++)v[p]=parseInt(d[p],10)||0,v[p]+=parseInt(x[p],10)||0;return{height:v[0]+v[2],width:v[1]+v[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,p=0,v=this.helper||this.element;this._proportionallyResizeElements.length>p;p++)a=this._proportionallyResizeElements[p],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:v.height()-this.outerDimensions.height||0,width:v.width()-this.outerDimensions.width||0})},_renderProxy:function(){var a=this.element,p=this.options;this.elementOffset=a.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++p.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,p){return{width:this.originalSize.width+p}},w:function(a,p){var v=this.originalSize,d=this.originalPosition;return{left:d.left+p,width:v.width-p}},n:function(a,p,v){var d=this.originalSize,x=this.originalPosition;return{top:x.top+v,height:d.height-v}},s:function(a,p,v){return{height:this.originalSize.height+v}},se:function(a,p,v){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,p,v]))},sw:function(a,p,v){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,p,v]))},ne:function(a,p,v){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,p,v]))},nw:function(a,p,v){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,p,v]))}},_propagate:function(a,p){e.ui.plugin.call(this,a,[p,this.ui()]),a!=="resize"&&this._trigger(a,p,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(a){var p=e(this).resizable("instance"),v=p.options,d=p._proportionallyResizeElements,x=d.length&&/textarea/i.test(d[0].nodeName),C=x&&p._hasScroll(d[0],"left")?0:p.sizeDiff.height,N=x?0:p.sizeDiff.width,G={width:p.size.width-N,height:p.size.height-C},q=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,K=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null;p.element.animate(e.extend(G,K&&q?{top:K,left:q}:{}),{duration:v.animateDuration,easing:v.animateEasing,step:function(){var oe={width:parseInt(p.element.css("width"),10),height:parseInt(p.element.css("height"),10),top:parseInt(p.element.css("top"),10),left:parseInt(p.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:oe.width,height:oe.height}),p._updateCache(oe),p._propagate("resize",a)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var a,p,v,d,x,C,N,G=e(this).resizable("instance"),q=G.options,K=G.element,oe=q.containment,J=oe instanceof e?oe.get(0):/parent/.test(oe)?K.parent().get(0):oe;J&&(G.containerElement=e(J),/document/.test(oe)||oe===document?(G.containerOffset={left:0,top:0},G.containerPosition={left:0,top:0},G.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(a=e(J),p=[],e(["Top","Right","Left","Bottom"]).each(function(Q,Oe){p[Q]=G._num(a.css("padding"+Oe))}),G.containerOffset=a.offset(),G.containerPosition=a.position(),G.containerSize={height:a.innerHeight()-p[3],width:a.innerWidth()-p[1]},v=G.containerOffset,d=G.containerSize.height,x=G.containerSize.width,C=G._hasScroll(J,"left")?J.scrollWidth:x,N=G._hasScroll(J)?J.scrollHeight:d,G.parentData={element:J,left:v.left,top:v.top,width:C,height:N}))},resize:function(a){var p,v,d,x,C=e(this).resizable("instance"),N=C.options,G=C.containerOffset,q=C.position,K=C._aspectRatio||a.shiftKey,oe={top:0,left:0},J=C.containerElement,Q=!0;J[0]!==document&&/static/.test(J.css("position"))&&(oe=G),q.left<(C._helper?G.left:0)&&(C.size.width=C.size.width+(C._helper?C.position.left-G.left:C.position.left-oe.left),K&&(C.size.height=C.size.width/C.aspectRatio,Q=!1),C.position.left=N.helper?G.left:0),q.top<(C._helper?G.top:0)&&(C.size.height=C.size.height+(C._helper?C.position.top-G.top:C.position.top),K&&(C.size.width=C.size.height*C.aspectRatio,Q=!1),C.position.top=C._helper?G.top:0),d=C.containerElement.get(0)===C.element.parent().get(0),x=/relative|absolute/.test(C.containerElement.css("position")),d&&x?(C.offset.left=C.parentData.left+C.position.left,C.offset.top=C.parentData.top+C.position.top):(C.offset.left=C.element.offset().left,C.offset.top=C.element.offset().top),p=Math.abs(C.sizeDiff.width+(C._helper?C.offset.left-oe.left:C.offset.left-G.left)),v=Math.abs(C.sizeDiff.height+(C._helper?C.offset.top-oe.top:C.offset.top-G.top)),p+C.size.width>=C.parentData.width&&(C.size.width=C.parentData.width-p,K&&(C.size.height=C.size.width/C.aspectRatio,Q=!1)),v+C.size.height>=C.parentData.height&&(C.size.height=C.parentData.height-v,K&&(C.size.width=C.size.height*C.aspectRatio,Q=!1)),Q||(C.position.left=C.prevPosition.left,C.position.top=C.prevPosition.top,C.size.width=C.prevSize.width,C.size.height=C.prevSize.height)},stop:function(){var a=e(this).resizable("instance"),p=a.options,v=a.containerOffset,d=a.containerPosition,x=a.containerElement,C=e(a.helper),N=C.offset(),G=C.outerWidth()-a.sizeDiff.width,q=C.outerHeight()-a.sizeDiff.height;a._helper&&!p.animate&&/relative/.test(x.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q}),a._helper&&!p.animate&&/static/.test(x.css("position"))&&e(this).css({left:N.left-d.left-v.left,width:G,height:q})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var a=e(this).resizable("instance"),p=a.options,v=function(d){e(d).each(function(){var x=e(this);x.data("ui-resizable-alsoresize",{width:parseInt(x.width(),10),height:parseInt(x.height(),10),left:parseInt(x.css("left"),10),top:parseInt(x.css("top"),10)})})};typeof p.alsoResize!="object"||p.alsoResize.parentNode?v(p.alsoResize):p.alsoResize.length?(p.alsoResize=p.alsoResize[0],v(p.alsoResize)):e.each(p.alsoResize,function(d){v(d)})},resize:function(a,p){var v=e(this).resizable("instance"),d=v.options,x=v.originalSize,C=v.originalPosition,N={height:v.size.height-x.height||0,width:v.size.width-x.width||0,top:v.position.top-C.top||0,left:v.position.left-C.left||0},G=function(q,K){e(q).each(function(){var oe=e(this),J=e(this).data("ui-resizable-alsoresize"),Q={},Oe=K&&K.length?K:oe.parents(p.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(Oe,function(ge,W){var se=(J[W]||0)+(N[W]||0);se&&se>=0&&(Q[W]=se||null)}),oe.css(Q)})};typeof d.alsoResize!="object"||d.alsoResize.nodeType?G(d.alsoResize):e.each(d.alsoResize,function(q,K){G(q,K)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var a=e(this).resizable("instance"),p=a.options,v=a.size;a.ghost=a.originalElement.clone(),a.ghost.css({opacity:.25,display:"block",position:"relative",height:v.height,width:v.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof p.ghost=="string"?p.ghost:""),a.ghost.appendTo(a.helper)},resize:function(){var a=e(this).resizable("instance");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=e(this).resizable("instance");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var a,p=e(this).resizable("instance"),v=p.options,d=p.size,x=p.originalSize,C=p.originalPosition,N=p.axis,G=typeof v.grid=="number"?[v.grid,v.grid]:v.grid,q=G[0]||1,K=G[1]||1,oe=Math.round((d.width-x.width)/q)*q,J=Math.round((d.height-x.height)/K)*K,Q=x.width+oe,Oe=x.height+J,ge=v.maxWidth&&Q>v.maxWidth,W=v.maxHeight&&Oe>v.maxHeight,se=v.minWidth&&v.minWidth>Q,de=v.minHeight&&v.minHeight>Oe;v.grid=G,se&&(Q+=q),de&&(Oe+=K),ge&&(Q-=q),W&&(Oe-=K),/^(se|s|e)$/.test(N)?(p.size.width=Q,p.size.height=Oe):/^(ne)$/.test(N)?(p.size.width=Q,p.size.height=Oe,p.position.top=C.top-J):/^(sw)$/.test(N)?(p.size.width=Q,p.size.height=Oe,p.position.left=C.left-oe):((0>=Oe-K||0>=Q-q)&&(a=p._getPaddingPlusBorderDimensions(this)),Oe-K>0?(p.size.height=Oe,p.position.top=C.top-J):(Oe=K-a.height,p.size.height=Oe,p.position.top=C.top+x.height-Oe),Q-q>0?(p.size.width=Q,p.position.left=C.left-oe):(Q=K-a.height,p.size.width=Q,p.position.left=C.left+x.width-Q))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.1",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var p=e(this).css(a).offset().top;0>p&&e(this).css("top",a.top-p)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var a=this.options.appendTo;return a&&(a.jquery||a.nodeType)?e(a):this.document.find(a||"body").eq(0)},_destroy:function(){var a,p=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=p.parent.children().eq(p.index),a.length&&a[0]!==this.element[0]?a.before(this.element):p.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(a){var p,v=this;if(this._isOpen&&this._trigger("beforeClose",a)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{p=this.document[0].activeElement,p&&p.nodeName.toLowerCase()!=="body"&&e(p).blur()}catch(d){}this._hide(this.uiDialog,this.options.hide,function(){v._trigger("close",a)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,p){var v=!1,d=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),x=Math.max.apply(null,d);return x>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",x+1),v=!0),v&&!p&&this._trigger("focus",a),v},open:function(){var a=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){a._focusTabbable(),a._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]")),a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(a){function p(){var v=this.document[0].activeElement,d=this.uiDialog[0]===v||e.contains(this.uiDialog[0],v);d||this._focusTabbable()}a.preventDefault(),p.call(this),this._delay(p)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(a){if(this.options.closeOnEscape&&!a.isDefaultPrevented()&&a.keyCode&&a.keyCode===e.ui.keyCode.ESCAPE)return a.preventDefault(),this.close(a),void 0;if(a.keyCode===e.ui.keyCode.TAB&&!a.isDefaultPrevented()){var p=this.uiDialog.find(":tabbable"),v=p.filter(":first"),d=p.filter(":last");a.target!==d[0]&&a.target!==this.uiDialog[0]||a.shiftKey?a.target!==v[0]&&a.target!==this.uiDialog[0]||!a.shiftKey||(this._delay(function(){d.focus()}),a.preventDefault()):(this._delay(function(){v.focus()}),a.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var a;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(p){e(p.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(p){p.preventDefault(),this.close(p)}}),a=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(a),this.uiDialog.attr({"aria-labelledby":a.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var a=this,p=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(p)||e.isArray(p)&&!p.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):(e.each(p,function(v,d){var x,C;d=e.isFunction(d)?{click:d,text:v}:d,d=e.extend({type:"button"},d),x=d.click,d.click=function(){x.apply(a.element[0],arguments)},C={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,e("<button></button>",d).button(C).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function a(d){return{position:d.position,offset:d.offset}}var p=this,v=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,x){e(this).addClass("ui-dialog-dragging"),p._blockFrames(),p._trigger("dragStart",d,a(x))},drag:function(d,x){p._trigger("drag",d,a(x))},stop:function(d,x){var C=x.offset.left-p.document.scrollLeft(),N=x.offset.top-p.document.scrollTop();v.position={my:"left top",at:"left"+(C>=0?"+":"")+C+" top"+(N>=0?"+":"")+N,of:p.window},e(this).removeClass("ui-dialog-dragging"),p._unblockFrames(),p._trigger("dragStop",d,a(x))}})},_makeResizable:function(){function a(N){return{originalPosition:N.originalPosition,originalSize:N.originalSize,position:N.position,size:N.size}}var p=this,v=this.options,d=v.resizable,x=this.uiDialog.css("position"),C=typeof d=="string"?d:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:v.maxWidth,maxHeight:v.maxHeight,minWidth:v.minWidth,minHeight:this._minHeight(),handles:C,start:function(N,G){e(this).addClass("ui-dialog-resizing"),p._blockFrames(),p._trigger("resizeStart",N,a(G))},resize:function(N,G){p._trigger("resize",N,a(G))},stop:function(N,G){var q=p.uiDialog.offset(),K=q.left-p.document.scrollLeft(),oe=q.top-p.document.scrollTop();v.height=p.uiDialog.height(),v.width=p.uiDialog.width(),v.position={my:"left top",at:"left"+(K>=0?"+":"")+K+" top"+(oe>=0?"+":"")+oe,of:p.window},e(this).removeClass("ui-dialog-resizing"),p._unblockFrames(),p._trigger("resizeStop",N,a(G))}}).css("position",x)},_trackFocus:function(){this._on(this.widget(),{focusin:function(a){this._makeFocusTarget(),this._focusedElement=e(a.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var a=this._trackingInstances(),p=e.inArray(this,a);p!==-1&&a.splice(p,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",a)),a},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(a){var p=this,v=!1,d={};e.each(a,function(x,C){p._setOption(x,C),x in p.sizeRelatedOptions&&(v=!0),x in p.resizableRelatedOptions&&(d[x]=C)}),v&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,p){var v,d,x=this.uiDialog;a==="dialogClass"&&x.removeClass(this.options.dialogClass).addClass(p),a!=="disabled"&&(this._super(a,p),a==="appendTo"&&this.uiDialog.appendTo(this._appendTo()),a==="buttons"&&this._createButtons(),a==="closeText"&&this.uiDialogTitlebarClose.button({label:""+p}),a==="draggable"&&(v=x.is(":data(ui-draggable)"),v&&!p&&x.draggable("destroy"),!v&&p&&this._makeDraggable()),a==="position"&&this._position(),a==="resizable"&&(d=x.is(":data(ui-resizable)"),d&&!p&&x.resizable("destroy"),d&&typeof p=="string"&&x.resizable("option","handles",p),d||p===!1||this._makeResizable()),a==="title"&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,p,v,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),p=Math.max(0,d.minHeight-a),v=typeof d.maxHeight=="number"?Math.max(0,d.maxHeight-a):"none",d.height==="auto"?this.element.css({minHeight:p,maxHeight:v,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var a=e(this);return e("<div>").css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).appendTo(a.parent()).offset(a.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(a){return e(a.target).closest(".ui-dialog").length?!0:!!e(a.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var a=!0;this._delay(function(){a=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(p){a||this._allowInteraction(p)||(p.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var a,p=this.options,v=p.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(v)?v:function(d){return d.is(v)},this.proportions=function(){return arguments.length?(a=arguments[0],void 0):a||(a={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(p.scope),p.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(a){e.ui.ddmanager.droppables[a]=e.ui.ddmanager.droppables[a]||[],e.ui.ddmanager.droppables[a].push(this)},_splice:function(a){for(var p=0;a.length>p;p++)a[p]===this&&a.splice(p,1)},_destroy:function(){var a=e.ui.ddmanager.droppables[this.options.scope];this._splice(a),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(a,p){if(a==="accept")this.accept=e.isFunction(p)?p:function(d){return d.is(p)};else if(a==="scope"){var v=e.ui.ddmanager.droppables[this.options.scope];this._splice(v),this._addToManager(p)}this._super(a,p)},_activate:function(a){var p=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),p&&this._trigger("activate",a,this.ui(p))},_deactivate:function(a){var p=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),p&&this._trigger("deactivate",a,this.ui(p))},_over:function(a){var p=e.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",a,this.ui(p)))},_out:function(a){var p=e.ui.ddmanager.current;p&&(p.currentItem||p.element)[0]!==this.element[0]&&this.accept.call(this.element[0],p.currentItem||p.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",a,this.ui(p)))},_drop:function(a,p){var v=p||e.ui.ddmanager.current,d=!1;return v&&(v.currentItem||v.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var x=e(this).droppable("instance");return x.options.greedy&&!x.options.disabled&&x.options.scope===v.options.scope&&x.accept.call(x.element[0],v.currentItem||v.element)&&e.ui.intersect(v,e.extend(x,{offset:x.element.offset()}),x.options.tolerance,a)?(d=!0,!1):void 0}),d?!1:this.accept.call(this.element[0],v.currentItem||v.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",a,this.ui(v)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),e.ui.intersect=function(){function a(p,v,d){return p>=v&&v+d>p}return function(p,v,d,x){if(!v.offset)return!1;var C=(p.positionAbs||p.position.absolute).left,N=(p.positionAbs||p.position.absolute).top,G=C+p.helperProportions.width,q=N+p.helperProportions.height,K=v.offset.left,oe=v.offset.top,J=K+v.proportions().width,Q=oe+v.proportions().height;switch(d){case"fit":return C>=K&&J>=G&&N>=oe&&Q>=q;case"intersect":return C+p.helperProportions.width/2>K&&J>G-p.helperProportions.width/2&&N+p.helperProportions.height/2>oe&&Q>q-p.helperProportions.height/2;case"pointer":return a(x.pageY,oe,v.proportions().height)&&a(x.pageX,K,v.proportions().width);case"touch":return(N>=oe&&Q>=N||q>=oe&&Q>=q||oe>N&&q>Q)&&(C>=K&&J>=C||G>=K&&J>=G||K>C&&G>J);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(a,p){var v,d,x=e.ui.ddmanager.droppables[a.options.scope]||[],C=p?p.type:null,N=(a.currentItem||a.element).find(":data(ui-droppable)").addBack();e:for(v=0;x.length>v;v++)if(!(x[v].options.disabled||a&&!x[v].accept.call(x[v].element[0],a.currentItem||a.element))){for(d=0;N.length>d;d++)if(N[d]===x[v].element[0]){x[v].proportions().height=0;continue e}x[v].visible=x[v].element.css("display")!=="none",x[v].visible&&(C==="mousedown"&&x[v]._activate.call(x[v],p),x[v].offset=x[v].element.offset(),x[v].proportions({width:x[v].element[0].offsetWidth,height:x[v].element[0].offsetHeight}))}},drop:function(a,p){var v=!1;return e.each((e.ui.ddmanager.droppables[a.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(a,this,this.options.tolerance,p)&&(v=this._drop.call(this,p)||v),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,p)))}),v},dragStart:function(a,p){a.element.parentsUntil("body").bind("scroll.droppable",function(){a.options.refreshPositions||e.ui.ddmanager.prepareOffsets(a,p)})},drag:function(a,p){a.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(a,p),e.each(e.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var v,d,x,C=e.ui.intersect(a,this,this.options.tolerance,p),N=!C&&this.isover?"isout":C&&!this.isover?"isover":null;N&&(this.options.greedy&&(d=this.options.scope,x=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===d}),x.length&&(v=e(x[0]).droppable("instance"),v.greedyChild=N==="isover")),v&&N==="isover"&&(v.isover=!1,v.isout=!0,v._out.call(v,p)),this[N]=!0,this[N==="isout"?"isover":"isout"]=!1,this[N==="isover"?"_over":"_out"].call(this,p),v&&N==="isout"&&(v.isout=!1,v.isover=!0,v._over.call(v,p)))}})},dragStop:function(a,p){a.element.parentsUntil("body").unbind("scroll.droppable"),a.options.refreshPositions||e.ui.ddmanager.prepareOffsets(a,p)}},e.ui.droppable;var T="ui-effects-",E=e;e.effects={effect:{}},function(a,p){function v(W,se,de){var Z=J[se.type]||{};return W==null?de||!se.def?null:se.def:(W=Z.floor?~~W:parseFloat(W),isNaN(W)?se.def:Z.mod?(W+Z.mod)%Z.mod:0>W?0:W>Z.max?Z.max:W)}function d(W){var se=K(),de=se._rgba=[];return W=W.toLowerCase(),ge(q,function(Z,ye){var Y,ce=ye.re.exec(W),Ge=ce&&ye.parse(ce),ht=ye.space||"rgba";return Ge?(Y=se[ht](Ge),se[oe[ht].cache]=Y[oe[ht].cache],de=se._rgba=Y._rgba,!1):p}),de.length?(de.join()==="0,0,0,0"&&a.extend(de,C.transparent),se):C[W]}function x(W,se,de){return de=(de+1)%1,1>6*de?W+6*(se-W)*de:1>2*de?se:2>3*de?W+6*(se-W)*(2/3-de):W}var C,N="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",G=/^([\-+])=\s*(\d+\.?\d*)/,q=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[W[1],W[2],W[3],W[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(W){return[2.55*W[1],2.55*W[2],2.55*W[3],W[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(W){return[parseInt(W[1],16),parseInt(W[2],16),parseInt(W[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(W){return[parseInt(W[1]+W[1],16),parseInt(W[2]+W[2],16),parseInt(W[3]+W[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(W){return[W[1],W[2]/100,W[3]/100,W[4]]}}],K=a.Color=function(W,se,de,Z){return new a.Color.fn.parse(W,se,de,Z)},oe={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},J={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},Q=K.support={},Oe=a("<p>")[0],ge=a.each;Oe.style.cssText="background-color:rgba(1,1,1,.5)",Q.rgba=Oe.style.backgroundColor.indexOf("rgba")>-1,ge(oe,function(W,se){se.cache="_"+W,se.props.alpha={idx:3,type:"percent",def:1}}),K.fn=a.extend(K.prototype,{parse:function(W,se,de,Z){if(W===p)return this._rgba=[null,null,null,null],this;(W.jquery||W.nodeType)&&(W=a(W).css(se),se=p);var ye=this,Y=a.type(W),ce=this._rgba=[];return se!==p&&(W=[W,se,de,Z],Y="array"),Y==="string"?this.parse(d(W)||C._default):Y==="array"?(ge(oe.rgba.props,function(Ge,ht){ce[ht.idx]=v(W[ht.idx],ht)}),this):Y==="object"?(W instanceof K?ge(oe,function(Ge,ht){W[ht.cache]&&(ye[ht.cache]=W[ht.cache].slice())}):ge(oe,function(Ge,ht){var st=ht.cache;ge(ht.props,function(qe,Se){if(!ye[st]&&ht.to){if(qe==="alpha"||W[qe]==null)return;ye[st]=ht.to(ye._rgba)}ye[st][Se.idx]=v(W[qe],Se,!0)}),ye[st]&&0>a.inArray(null,ye[st].slice(0,3))&&(ye[st][3]=1,ht.from&&(ye._rgba=ht.from(ye[st])))}),this):p},is:function(W){var se=K(W),de=!0,Z=this;return ge(oe,function(ye,Y){var ce,Ge=se[Y.cache];return Ge&&(ce=Z[Y.cache]||Y.to&&Y.to(Z._rgba)||[],ge(Y.props,function(ht,st){return Ge[st.idx]!=null?de=Ge[st.idx]===ce[st.idx]:p})),de}),de},_space:function(){var W=[],se=this;return ge(oe,function(de,Z){se[Z.cache]&&W.push(de)}),W.pop()},transition:function(W,se){var de=K(W),Z=de._space(),ye=oe[Z],Y=this.alpha()===0?K("transparent"):this,ce=Y[ye.cache]||ye.to(Y._rgba),Ge=ce.slice();return de=de[ye.cache],ge(ye.props,function(ht,st){var qe=st.idx,Se=ce[qe],Ie=de[qe],Re=J[st.type]||{};Ie!==null&&(Se===null?Ge[qe]=Ie:(Re.mod&&(Ie-Se>Re.mod/2?Se+=Re.mod:Se-Ie>Re.mod/2&&(Se-=Re.mod)),Ge[qe]=v((Ie-Se)*se+Se,st)))}),this[Z](Ge)},blend:function(W){if(this._rgba[3]===1)return this;var se=this._rgba.slice(),de=se.pop(),Z=K(W)._rgba;return K(a.map(se,function(ye,Y){return(1-de)*Z[Y]+de*ye}))},toRgbaString:function(){var W="rgba(",se=a.map(this._rgba,function(de,Z){return de!=null?de:Z>2?1:0});return se[3]===1&&(se.pop(),W="rgb("),W+se.join()+")"},toHslaString:function(){var W="hsla(",se=a.map(this.hsla(),function(de,Z){return de==null&&(de=Z>2?1:0),Z&&3>Z&&(de=Math.round(100*de)+"%"),de});return se[3]===1&&(se.pop(),W="hsl("),W+se.join()+")"},toHexString:function(W){var se=this._rgba.slice(),de=se.pop();return W&&se.push(~~(255*de)),"#"+a.map(se,function(Z){return Z=(Z||0).toString(16),Z.length===1?"0"+Z:Z}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),K.fn.parse.prototype=K.fn,oe.hsla.to=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var se,de,Z=W[0]/255,ye=W[1]/255,Y=W[2]/255,ce=W[3],Ge=Math.max(Z,ye,Y),ht=Math.min(Z,ye,Y),st=Ge-ht,qe=Ge+ht,Se=.5*qe;return se=ht===Ge?0:Z===Ge?60*(ye-Y)/st+360:ye===Ge?60*(Y-Z)/st+120:60*(Z-ye)/st+240,de=st===0?0:.5>=Se?st/qe:st/(2-qe),[Math.round(se)%360,de,Se,ce!=null?ce:1]},oe.hsla.from=function(W){if(W[0]==null||W[1]==null||W[2]==null)return[null,null,null,W[3]];var se=W[0]/360,de=W[1],Z=W[2],ye=W[3],Y=.5>=Z?Z*(1+de):Z+de-Z*de,ce=2*Z-Y;return[Math.round(255*x(ce,Y,se+1/3)),Math.round(255*x(ce,Y,se)),Math.round(255*x(ce,Y,se-1/3)),ye]},ge(oe,function(W,se){var de=se.props,Z=se.cache,ye=se.to,Y=se.from;K.fn[W]=function(ce){if(ye&&!this[Z]&&(this[Z]=ye(this._rgba)),ce===p)return this[Z].slice();var Ge,ht=a.type(ce),st=ht==="array"||ht==="object"?ce:arguments,qe=this[Z].slice();return ge(de,function(Se,Ie){var Re=st[ht==="object"?Se:Ie.idx];Re==null&&(Re=qe[Ie.idx]),qe[Ie.idx]=v(Re,Ie)}),Y?(Ge=K(Y(qe)),Ge[Z]=qe,Ge):K(qe)},ge(de,function(ce,Ge){K.fn[ce]||(K.fn[ce]=function(ht){var st,qe=a.type(ht),Se=ce==="alpha"?this._hsla?"hsla":"rgba":W,Ie=this[Se](),Re=Ie[Ge.idx];return qe==="undefined"?Re:(qe==="function"&&(ht=ht.call(this,Re),qe=a.type(ht)),ht==null&&Ge.empty?this:(qe==="string"&&(st=G.exec(ht),st&&(ht=Re+parseFloat(st[2])*(st[1]==="+"?1:-1))),Ie[Ge.idx]=ht,this[Se](Ie)))})})}),K.hook=function(W){var se=W.split(" ");ge(se,function(de,Z){a.cssHooks[Z]={set:function(ye,Y){var ce,Ge,ht="";if(Y!=="transparent"&&(a.type(Y)!=="string"||(ce=d(Y)))){if(Y=K(ce||Y),!Q.rgba&&Y._rgba[3]!==1){for(Ge=Z==="backgroundColor"?ye.parentNode:ye;(ht===""||ht==="transparent")&&Ge&&Ge.style;)try{ht=a.css(Ge,"backgroundColor"),Ge=Ge.parentNode}catch(st){}Y=Y.blend(ht&&ht!=="transparent"?ht:"_default")}Y=Y.toRgbaString()}try{ye.style[Z]=Y}catch(st){}}},a.fx.step[Z]=function(ye){ye.colorInit||(ye.start=K(ye.elem,Z),ye.end=K(ye.end),ye.colorInit=!0),a.cssHooks[Z].set(ye.elem,ye.start.transition(ye.end,ye.pos))}})},K.hook(N),a.cssHooks.borderColor={expand:function(W){var se={};return ge(["Top","Right","Bottom","Left"],function(de,Z){se["border"+Z+"Color"]=W}),se}},C=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(E),function(){function a(x){var C,N,G=x.ownerDocument.defaultView?x.ownerDocument.defaultView.getComputedStyle(x,null):x.currentStyle,q={};if(G&&G.length&&G[0]&&G[G[0]])for(N=G.length;N--;)C=G[N],typeof G[C]=="string"&&(q[e.camelCase(C)]=G[C]);else for(C in G)typeof G[C]=="string"&&(q[C]=G[C]);return q}function p(x,C){var N,G,q={};for(N in C)G=C[N],x[N]!==G&&(d[N]||(e.fx.step[N]||!isNaN(parseFloat(G)))&&(q[N]=G));return q}var v=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(x,C){e.fx.step[C]=function(N){(N.end!=="none"&&!N.setAttr||N.pos===1&&!N.setAttr)&&(E.style(N.elem,C,N.end),N.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(x){return this.add(x==null?this.prevObject:this.prevObject.filter(x))}),e.effects.animateClass=function(x,C,N,G){var q=e.speed(C,N,G);return this.queue(function(){var K,oe=e(this),J=oe.attr("class")||"",Q=q.children?oe.find("*").addBack():oe;Q=Q.map(function(){var Oe=e(this);return{el:Oe,start:a(this)}}),K=function(){e.each(v,function(Oe,ge){x[ge]&&oe[ge+"Class"](x[ge])})},K(),Q=Q.map(function(){return this.end=a(this.el[0]),this.diff=p(this.start,this.end),this}),oe.attr("class",J),Q=Q.map(function(){var Oe=this,ge=e.Deferred(),W=e.extend({},q,{queue:!1,complete:function(){ge.resolve(Oe)}});return this.el.animate(this.diff,W),ge.promise()}),e.when.apply(e,Q.get()).done(function(){K(),e.each(arguments,function(){var Oe=this.el;e.each(this.diff,function(ge){Oe.css(ge,"")})}),q.complete.call(oe[0])})})},e.fn.extend({addClass:function(x){return function(C,N,G,q){return N?e.effects.animateClass.call(this,{add:C},N,G,q):x.apply(this,arguments)}}(e.fn.addClass),removeClass:function(x){return function(C,N,G,q){return arguments.length>1?e.effects.animateClass.call(this,{remove:C},N,G,q):x.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(x){return function(C,N,G,q,K){return typeof N=="boolean"||N===void 0?G?e.effects.animateClass.call(this,N?{add:C}:{remove:C},G,q,K):x.apply(this,arguments):e.effects.animateClass.call(this,{toggle:C},N,G,q)}}(e.fn.toggleClass),switchClass:function(x,C,N,G,q){return e.effects.animateClass.call(this,{add:C,remove:x},N,G,q)}})}(),function(){function a(v,d,x,C){return e.isPlainObject(v)&&(d=v,v=v.effect),v={effect:v},d==null&&(d={}),e.isFunction(d)&&(C=d,x=null,d={}),(typeof d=="number"||e.fx.speeds[d])&&(C=x,x=d,d={}),e.isFunction(x)&&(C=x,x=null),d&&e.extend(v,d),x=x||d.duration,v.duration=e.fx.off?0:typeof x=="number"?x:x in e.fx.speeds?e.fx.speeds[x]:e.fx.speeds._default,v.complete=C||d.complete,v}function p(v){return!v||typeof v=="number"||e.fx.speeds[v]?!0:typeof v!="string"||e.effects.effect[v]?e.isFunction(v)?!0:!(typeof v!="object"||v.effect):!0}e.extend(e.effects,{version:"1.11.1",save:function(v,d){for(var x=0;d.length>x;x++)d[x]!==null&&v.data(T+d[x],v[0].style[d[x]])},restore:function(v,d){var x,C;for(C=0;d.length>C;C++)d[C]!==null&&(x=v.data(T+d[C]),x===void 0&&(x=""),v.css(d[C],x))},setMode:function(v,d){return d==="toggle"&&(d=v.is(":hidden")?"show":"hide"),d},getBaseline:function(v,d){var x,C;switch(v[0]){case"top":x=0;break;case"middle":x=.5;break;case"bottom":x=1;break;default:x=v[0]/d.height}switch(v[1]){case"left":C=0;break;case"center":C=.5;break;case"right":C=1;break;default:C=v[1]/d.width}return{x:C,y:x}},createWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent();var d={width:v.outerWidth(!0),height:v.outerHeight(!0),float:v.css("float")},x=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),C={width:v.width(),height:v.height()},N=document.activeElement;try{N.id}catch(G){N=document.body}return v.wrap(x),(v[0]===N||e.contains(v[0],N))&&e(N).focus(),x=v.parent(),v.css("position")==="static"?(x.css({position:"relative"}),v.css({position:"relative"})):(e.extend(d,{position:v.css("position"),zIndex:v.css("z-index")}),e.each(["top","left","bottom","right"],function(G,q){d[q]=v.css(q),isNaN(parseInt(d[q],10))&&(d[q]="auto")}),v.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),v.css(C),x.css(d).show()},removeWrapper:function(v){var d=document.activeElement;return v.parent().is(".ui-effects-wrapper")&&(v.parent().replaceWith(v),(v[0]===d||e.contains(v[0],d))&&e(d).focus()),v},setTransition:function(v,d,x,C){return C=C||{},e.each(d,function(N,G){var q=v.cssUnit(G);q[0]>0&&(C[G]=q[0]*x+q[1])}),C}}),e.fn.extend({effect:function(){function v(G){function q(){e.isFunction(oe)&&oe.call(K[0]),e.isFunction(G)&&G()}var K=e(this),oe=d.complete,J=d.mode;(K.is(":hidden")?J==="hide":J==="show")?(K[J](),q()):N.call(K[0],d,q)}var d=a.apply(this,arguments),x=d.mode,C=d.queue,N=e.effects.effect[d.effect];return e.fx.off||!N?x?this[x](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):C===!1?this.each(v):this.queue(C||"fx",v)},show:function(v){return function(d){if(p(d))return v.apply(this,arguments);var x=a.apply(this,arguments);return x.mode="show",this.effect.call(this,x)}}(e.fn.show),hide:function(v){return function(d){if(p(d))return v.apply(this,arguments);var x=a.apply(this,arguments);return x.mode="hide",this.effect.call(this,x)}}(e.fn.hide),toggle:function(v){return function(d){if(p(d)||typeof d=="boolean")return v.apply(this,arguments);var x=a.apply(this,arguments);return x.mode="toggle",this.effect.call(this,x)}}(e.fn.toggle),cssUnit:function(v){var d=this.css(v),x=[];return e.each(["em","px","%","pt"],function(C,N){d.indexOf(N)>0&&(x=[parseFloat(d),N])}),x}})}(),function(){var a={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(p,v){a[v]=function(d){return Math.pow(d,p+2)}}),e.extend(a,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var v,d=4;((v=Math.pow(2,--d))-1)/11>p;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*v-2)/22-p,2)}}),e.each(a,function(p,v){e.easing["easeIn"+p]=v,e.easing["easeOut"+p]=function(d){return 1-v(1-d)},e.easing["easeInOut"+p]=function(d){return .5>d?v(2*d)/2:1-v(-2*d+2)/2}})}(),e.effects,e.effects.effect.blind=function(a,p){var v,d,x,C=e(this),N=/up|down|vertical/,G=/up|left|vertical|horizontal/,q=["position","top","bottom","left","right","height","width"],K=e.effects.setMode(C,a.mode||"hide"),oe=a.direction||"up",J=N.test(oe),Q=J?"height":"width",Oe=J?"top":"left",ge=G.test(oe),W={},se=K==="show";C.parent().is(".ui-effects-wrapper")?e.effects.save(C.parent(),q):e.effects.save(C,q),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=v[Q](),x=parseFloat(v.css(Oe))||0,W[Q]=se?d:0,ge||(C.css(J?"bottom":"right",0).css(J?"top":"left","auto").css({position:"absolute"}),W[Oe]=se?x:d+x),se&&(v.css(Q,0),ge||v.css(Oe,x+d)),v.animate(W,{duration:a.duration,easing:a.easing,queue:!1,complete:function(){K==="hide"&&C.hide(),e.effects.restore(C,q),e.effects.removeWrapper(C),p()}})},e.effects.effect.bounce=function(a,p){var v,d,x,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,a.mode||"effect"),q=G==="hide",K=G==="show",oe=a.direction||"up",J=a.distance,Q=a.times||5,Oe=2*Q+(K||q?1:0),ge=a.duration/Oe,W=a.easing,se=oe==="up"||oe==="down"?"top":"left",de=oe==="up"||oe==="left",Z=C.queue(),ye=Z.length;for((K||q)&&N.push("opacity"),e.effects.save(C,N),C.show(),e.effects.createWrapper(C),J||(J=C[se==="top"?"outerHeight":"outerWidth"]()/3),K&&(x={opacity:1},x[se]=0,C.css("opacity",0).css(se,de?2*-J:2*J).animate(x,ge,W)),q&&(J/=Math.pow(2,Q-1)),x={},x[se]=0,v=0;Q>v;v++)d={},d[se]=(de?"-=":"+=")+J,C.animate(d,ge,W).animate(x,ge,W),J=q?2*J:J/2;q&&(d={opacity:0},d[se]=(de?"-=":"+=")+J,C.animate(d,ge,W)),C.queue(function(){q&&C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),p()}),ye>1&&Z.splice.apply(Z,[1,0].concat(Z.splice(ye,Oe+1))),C.dequeue()},e.effects.effect.clip=function(a,p){var v,d,x,C=e(this),N=["position","top","bottom","left","right","height","width"],G=e.effects.setMode(C,a.mode||"hide"),q=G==="show",K=a.direction||"vertical",oe=K==="vertical",J=oe?"height":"width",Q=oe?"top":"left",Oe={};e.effects.save(C,N),C.show(),v=e.effects.createWrapper(C).css({overflow:"hidden"}),d=C[0].tagName==="IMG"?v:C,x=d[J](),q&&(d.css(J,0),d.css(Q,x/2)),Oe[J]=q?x:0,Oe[Q]=q?0:x/2,d.animate(Oe,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){q||C.hide(),e.effects.restore(C,N),e.effects.removeWrapper(C),p()}})},e.effects.effect.drop=function(a,p){var v,d=e(this),x=["position","top","bottom","left","right","opacity","height","width"],C=e.effects.setMode(d,a.mode||"hide"),N=C==="show",G=a.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left"?"pos":"neg",oe={opacity:N?1:0};e.effects.save(d,x),d.show(),e.effects.createWrapper(d),v=a.distance||d[q==="top"?"outerHeight":"outerWidth"](!0)/2,N&&d.css("opacity",0).css(q,K==="pos"?-v:v),oe[q]=(N?K==="pos"?"+=":"-=":K==="pos"?"-=":"+=")+v,d.animate(oe,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,x),e.effects.removeWrapper(d),p()}})},e.effects.effect.explode=function(a,p){function v(){Z.push(this),Z.length===oe*J&&d()}function d(){Q.css({visibility:"visible"}),e(Z).remove(),ge||Q.hide(),p()}var x,C,N,G,q,K,oe=a.pieces?Math.round(Math.sqrt(a.pieces)):3,J=oe,Q=e(this),Oe=e.effects.setMode(Q,a.mode||"hide"),ge=Oe==="show",W=Q.show().css("visibility","hidden").offset(),se=Math.ceil(Q.outerWidth()/J),de=Math.ceil(Q.outerHeight()/oe),Z=[];for(x=0;oe>x;x++)for(G=W.top+x*de,K=x-(oe-1)/2,C=0;J>C;C++)N=W.left+C*se,q=C-(J-1)/2,Q.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-C*se,top:-x*de}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:se,height:de,left:N+(ge?q*se:0),top:G+(ge?K*de:0),opacity:ge?0:1}).animate({left:N+(ge?0:q*se),top:G+(ge?0:K*de),opacity:ge?1:0},a.duration||500,a.easing,v)},e.effects.effect.fade=function(a,p){var v=e(this),d=e.effects.setMode(v,a.mode||"toggle");v.animate({opacity:d},{queue:!1,duration:a.duration,easing:a.easing,complete:p})},e.effects.effect.fold=function(a,p){var v,d,x=e(this),C=["position","top","bottom","left","right","height","width"],N=e.effects.setMode(x,a.mode||"hide"),G=N==="show",q=N==="hide",K=a.size||15,oe=/([0-9]+)%/.exec(K),J=!!a.horizFirst,Q=G!==J,Oe=Q?["width","height"]:["height","width"],ge=a.duration/2,W={},se={};e.effects.save(x,C),x.show(),v=e.effects.createWrapper(x).css({overflow:"hidden"}),d=Q?[v.width(),v.height()]:[v.height(),v.width()],oe&&(K=parseInt(oe[1],10)/100*d[q?0:1]),G&&v.css(J?{height:0,width:K}:{height:K,width:0}),W[Oe[0]]=G?d[0]:K,se[Oe[1]]=G?d[1]:0,v.animate(W,ge,a.easing).animate(se,ge,a.easing,function(){q&&x.hide(),e.effects.restore(x,C),e.effects.removeWrapper(x),p()})},e.effects.effect.highlight=function(a,p){var v=e(this),d=["backgroundImage","backgroundColor","opacity"],x=e.effects.setMode(v,a.mode||"show"),C={backgroundColor:v.css("backgroundColor")};x==="hide"&&(C.opacity=0),e.effects.save(v,d),v.show().css({backgroundImage:"none",backgroundColor:a.color||"#ffff99"}).animate(C,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){x==="hide"&&v.hide(),e.effects.restore(v,d),p()}})},e.effects.effect.size=function(a,p){var v,d,x,C=e(this),N=["position","top","bottom","left","right","width","height","overflow","opacity"],G=["position","top","bottom","left","right","overflow","opacity"],q=["width","height","overflow"],K=["fontSize"],oe=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],J=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],Q=e.effects.setMode(C,a.mode||"effect"),Oe=a.restore||Q!=="effect",ge=a.scale||"both",W=a.origin||["middle","center"],se=C.css("position"),de=Oe?N:G,Z={height:0,width:0,outerHeight:0,outerWidth:0};Q==="show"&&C.show(),v={height:C.height(),width:C.width(),outerHeight:C.outerHeight(),outerWidth:C.outerWidth()},a.mode==="toggle"&&Q==="show"?(C.from=a.to||Z,C.to=a.from||v):(C.from=a.from||(Q==="show"?Z:v),C.to=a.to||(Q==="hide"?Z:v)),x={from:{y:C.from.height/v.height,x:C.from.width/v.width},to:{y:C.to.height/v.height,x:C.to.width/v.width}},(ge==="box"||ge==="both")&&(x.from.y!==x.to.y&&(de=de.concat(oe),C.from=e.effects.setTransition(C,oe,x.from.y,C.from),C.to=e.effects.setTransition(C,oe,x.to.y,C.to)),x.from.x!==x.to.x&&(de=de.concat(J),C.from=e.effects.setTransition(C,J,x.from.x,C.from),C.to=e.effects.setTransition(C,J,x.to.x,C.to))),(ge==="content"||ge==="both")&&x.from.y!==x.to.y&&(de=de.concat(K).concat(q),C.from=e.effects.setTransition(C,K,x.from.y,C.from),C.to=e.effects.setTransition(C,K,x.to.y,C.to)),e.effects.save(C,de),C.show(),e.effects.createWrapper(C),C.css("overflow","hidden").css(C.from),W&&(d=e.effects.getBaseline(W,v),C.from.top=(v.outerHeight-C.outerHeight())*d.y,C.from.left=(v.outerWidth-C.outerWidth())*d.x,C.to.top=(v.outerHeight-C.to.outerHeight)*d.y,C.to.left=(v.outerWidth-C.to.outerWidth)*d.x),C.css(C.from),(ge==="content"||ge==="both")&&(oe=oe.concat(["marginTop","marginBottom"]).concat(K),J=J.concat(["marginLeft","marginRight"]),q=N.concat(oe).concat(J),C.find("*[width]").each(function(){var ye=e(this),Y={height:ye.height(),width:ye.width(),outerHeight:ye.outerHeight(),outerWidth:ye.outerWidth()};Oe&&e.effects.save(ye,q),ye.from={height:Y.height*x.from.y,width:Y.width*x.from.x,outerHeight:Y.outerHeight*x.from.y,outerWidth:Y.outerWidth*x.from.x},ye.to={height:Y.height*x.to.y,width:Y.width*x.to.x,outerHeight:Y.height*x.to.y,outerWidth:Y.width*x.to.x},x.from.y!==x.to.y&&(ye.from=e.effects.setTransition(ye,oe,x.from.y,ye.from),ye.to=e.effects.setTransition(ye,oe,x.to.y,ye.to)),x.from.x!==x.to.x&&(ye.from=e.effects.setTransition(ye,J,x.from.x,ye.from),ye.to=e.effects.setTransition(ye,J,x.to.x,ye.to)),ye.css(ye.from),ye.animate(ye.to,a.duration,a.easing,function(){Oe&&e.effects.restore(ye,q)})})),C.animate(C.to,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C.to.opacity===0&&C.css("opacity",C.from.opacity),Q==="hide"&&C.hide(),e.effects.restore(C,de),Oe||(se==="static"?C.css({position:"relative",top:C.to.top,left:C.to.left}):e.each(["top","left"],function(ye,Y){C.css(Y,function(ce,Ge){var ht=parseInt(Ge,10),st=ye?C.to.left:C.to.top;return Ge==="auto"?st+"px":ht+st+"px"})})),e.effects.removeWrapper(C),p()}})},e.effects.effect.scale=function(a,p){var v=e(this),d=e.extend(!0,{},a),x=e.effects.setMode(v,a.mode||"effect"),C=parseInt(a.percent,10)||(parseInt(a.percent,10)===0||x==="hide"?0:100),N=a.direction||"both",G=a.origin,q={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()},K={y:N!=="horizontal"?C/100:1,x:N!=="vertical"?C/100:1};d.effect="size",d.queue=!1,d.complete=p,x!=="effect"&&(d.origin=G||["middle","center"],d.restore=!0),d.from=a.from||(x==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:q),d.to={height:q.height*K.y,width:q.width*K.x,outerHeight:q.outerHeight*K.y,outerWidth:q.outerWidth*K.x},d.fade&&(x==="show"&&(d.from.opacity=0,d.to.opacity=1),x==="hide"&&(d.from.opacity=1,d.to.opacity=0)),v.effect(d)},e.effects.effect.puff=function(a,p){var v=e(this),d=e.effects.setMode(v,a.mode||"hide"),x=d==="hide",C=parseInt(a.percent,10)||150,N=C/100,G={height:v.height(),width:v.width(),outerHeight:v.outerHeight(),outerWidth:v.outerWidth()};e.extend(a,{effect:"scale",queue:!1,fade:!0,mode:d,complete:p,percent:x?C:100,from:x?G:{height:G.height*N,width:G.width*N,outerHeight:G.outerHeight*N,outerWidth:G.outerWidth*N}}),v.effect(a)},e.effects.effect.pulsate=function(a,p){var v,d=e(this),x=e.effects.setMode(d,a.mode||"show"),C=x==="show",N=x==="hide",G=C||x==="hide",q=2*(a.times||5)+(G?1:0),K=a.duration/q,oe=0,J=d.queue(),Q=J.length;for((C||!d.is(":visible"))&&(d.css("opacity",0).show(),oe=1),v=1;q>v;v++)d.animate({opacity:oe},K,a.easing),oe=1-oe;d.animate({opacity:oe},K,a.easing),d.queue(function(){N&&d.hide(),p()}),Q>1&&J.splice.apply(J,[1,0].concat(J.splice(Q,q+1))),d.dequeue()},e.effects.effect.shake=function(a,p){var v,d=e(this),x=["position","top","bottom","left","right","height","width"],C=e.effects.setMode(d,a.mode||"effect"),N=a.direction||"left",G=a.distance||20,q=a.times||3,K=2*q+1,oe=Math.round(a.duration/K),J=N==="up"||N==="down"?"top":"left",Q=N==="up"||N==="left",Oe={},ge={},W={},se=d.queue(),de=se.length;for(e.effects.save(d,x),d.show(),e.effects.createWrapper(d),Oe[J]=(Q?"-=":"+=")+G,ge[J]=(Q?"+=":"-=")+2*G,W[J]=(Q?"-=":"+=")+2*G,d.animate(Oe,oe,a.easing),v=1;q>v;v++)d.animate(ge,oe,a.easing).animate(W,oe,a.easing);d.animate(ge,oe,a.easing).animate(Oe,oe/2,a.easing).queue(function(){C==="hide"&&d.hide(),e.effects.restore(d,x),e.effects.removeWrapper(d),p()}),de>1&&se.splice.apply(se,[1,0].concat(se.splice(de,K+1))),d.dequeue()},e.effects.effect.slide=function(a,p){var v,d=e(this),x=["position","top","bottom","left","right","width","height"],C=e.effects.setMode(d,a.mode||"show"),N=C==="show",G=a.direction||"left",q=G==="up"||G==="down"?"top":"left",K=G==="up"||G==="left",oe={};e.effects.save(d,x),d.show(),v=a.distance||d[q==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(d).css({overflow:"hidden"}),N&&d.css(q,K?isNaN(v)?"-"+v:-v:v),oe[q]=(N?K?"+=":"-=":K?"-=":"+=")+v,d.animate(oe,{queue:!1,duration:a.duration,easing:a.easing,complete:function(){C==="hide"&&d.hide(),e.effects.restore(d,x),e.effects.removeWrapper(d),p()}})},e.effects.effect.transfer=function(a,p){var v=e(this),d=e(a.to),x=d.css("position")==="fixed",C=e("body"),N=x?C.scrollTop():0,G=x?C.scrollLeft():0,q=d.offset(),K={top:q.top-N,left:q.left-G,height:d.innerHeight(),width:d.innerWidth()},oe=v.offset(),J=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(a.className).css({top:oe.top-N,left:oe.left-G,height:v.innerHeight(),width:v.innerWidth(),position:x?"fixed":"absolute"}).animate(K,a.duration,a.easing,function(){J.remove(),p()})},e.widget("ui.progressbar",{version:"1.11.1",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===void 0?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),void 0)},_constrainedValue:function(a){return a===void 0&&(a=this.options.value),this.indeterminate=a===!1,typeof a!="number"&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var p=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(p),this._refreshValue()},_setOption:function(a,p){a==="max"&&(p=Math.max(this.min,p)),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p).attr("aria-disabled",p),this._super(a,p)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var a=this.options.value,p=this._percentage();this.valueDiv.toggle(this.indeterminate||a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(p.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":a}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),a===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var a,p=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){a=e(p.options.filter,p.element[0]),a.addClass("ui-selectee"),a.each(function(){var v=e(this),d=v.offset();e.data(this,"selectable-item",{element:this,$element:v,left:d.left,top:d.top,right:d.left+v.outerWidth(),bottom:d.top+v.outerHeight(),startselected:!1,selected:v.hasClass("ui-selected"),selecting:v.hasClass("ui-selecting"),unselecting:v.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(a){var p=this,v=this.options;this.opos=[a.pageX,a.pageY],this.options.disabled||(this.selectees=e(v.filter,this.element[0]),this._trigger("start",a),e(v.appendTo).append(this.helper),this.helper.css({left:a.pageX,top:a.pageY,width:0,height:0}),v.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=e.data(this,"selectable-item");d.startselected=!0,a.metaKey||a.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,p._trigger("unselecting",a,{unselecting:d.element}))}),e(a.target).parents().addBack().each(function(){var d,x=e.data(this,"selectable-item");return x?(d=!a.metaKey&&!a.ctrlKey||!x.$element.hasClass("ui-selected"),x.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),x.unselecting=!d,x.selecting=d,x.selected=d,d?p._trigger("selecting",a,{selecting:x.element}):p._trigger("unselecting",a,{unselecting:x.element}),!1):void 0}))},_mouseDrag:function(a){if(this.dragged=!0,!this.options.disabled){var p,v=this,d=this.options,x=this.opos[0],C=this.opos[1],N=a.pageX,G=a.pageY;return x>N&&(p=N,N=x,x=p),C>G&&(p=G,G=C,C=p),this.helper.css({left:x,top:C,width:N-x,height:G-C}),this.selectees.each(function(){var q=e.data(this,"selectable-item"),K=!1;q&&q.element!==v.element[0]&&(d.tolerance==="touch"?K=!(q.left>N||x>q.right||q.top>G||C>q.bottom):d.tolerance==="fit"&&(K=q.left>x&&N>q.right&&q.top>C&&G>q.bottom),K?(q.selected&&(q.$element.removeClass("ui-selected"),q.selected=!1),q.unselecting&&(q.$element.removeClass("ui-unselecting"),q.unselecting=!1),q.selecting||(q.$element.addClass("ui-selecting"),q.selecting=!0,v._trigger("selecting",a,{selecting:q.element}))):(q.selecting&&((a.metaKey||a.ctrlKey)&&q.startselected?(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.$element.addClass("ui-selected"),q.selected=!0):(q.$element.removeClass("ui-selecting"),q.selecting=!1,q.startselected&&(q.$element.addClass("ui-unselecting"),q.unselecting=!0),v._trigger("unselecting",a,{unselecting:q.element}))),q.selected&&(a.metaKey||a.ctrlKey||q.startselected||(q.$element.removeClass("ui-selected"),q.selected=!1,q.$element.addClass("ui-unselecting"),q.unselecting=!0,v._trigger("unselecting",a,{unselecting:q.element})))))}),!1}},_mouseStop:function(a){var p=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-unselecting"),v.unselecting=!1,v.startselected=!1,p._trigger("unselected",a,{unselected:v.element})}),e(".ui-selecting",this.element[0]).each(function(){var v=e.data(this,"selectable-item");v.$element.removeClass("ui-selecting").addClass("ui-selected"),v.selecting=!1,v.selected=!0,v.startselected=!0,p._trigger("selected",a,{selected:v.element})}),this._trigger("stop",a),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.1",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var a=this,p=this.element.attr("tabindex");this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(v){this.button.focus(),v.preventDefault()}}),this.element.hide(),this.button=e("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:p||this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){a.menuItems||a._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var a=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(p,v){p.preventDefault(),a._select(v.item.data("ui-selectmenu-item"),p)},focus:function(p,v){var d=v.item.data("ui-selectmenu-item");a.focusIndex!=null&&d.index!==a.focusIndex&&(a._trigger("focus",p,{item:d}),a.isOpen||a._select(d,p)),a.focusIndex=d.index,a.button.attr("aria-activedescendant",a.menuItems.eq(d.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a,p=this.element.find("option");p.length&&(this._parseOptions(p),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(a,p){var v=this,d="";e.each(p,function(x,C){C.optgroup!==d&&(e("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(C.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:C.optgroup}).appendTo(a),d=C.optgroup),v._renderItemData(a,C)})},_renderItemData:function(a,p){return this._renderItem(a,p).data("ui-selectmenu-item",p)},_renderItem:function(a,p){var v=e("<li>");return p.disabled&&v.addClass("ui-state-disabled"),this._setText(v,p.label),v.appendTo(a)},_setText:function(a,p){p?a.text(p):a.html("&#160;")},_move:function(a,p){var v,d,x=".ui-menu-item";this.isOpen?v=this.menuItems.eq(this.focusIndex):(v=this.menuItems.eq(this.element[0].selectedIndex),x+=":not(.ui-state-disabled)"),d=a==="first"||a==="last"?v[a==="first"?"prevAll":"nextAll"](x).eq(-1):v[a+"All"](x).eq(0),d.length&&this.menuInstance.focus(p,d)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_documentClick:{mousedown:function(a){this.isOpen&&(e(a.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(a))}},_buttonEvents:{mousedown:function(a){a.preventDefault()},click:"_toggle",keydown:function(a){var p=!0;switch(a.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(a),p=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(a);break;case e.ui.keyCode.UP:a.altKey?this._toggle(a):this._move("prev",a);break;case e.ui.keyCode.DOWN:a.altKey?this._toggle(a):this._move("next",a);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(a):this._toggle(a);break;case e.ui.keyCode.LEFT:this._move("prev",a);break;case e.ui.keyCode.RIGHT:this._move("next",a);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",a);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",a);break;default:this.menu.trigger(a),p=!1}p&&a.preventDefault()}},_selectFocusedItem:function(a){var p=this.menuItems.eq(this.focusIndex);p.hasClass("ui-state-disabled")||this._select(p.data("ui-selectmenu-item"),a)},_select:function(a,p){var v=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index,this._setText(this.buttonText,a.label),this._setAria(a),this._trigger("select",p,{item:a}),a.index!==v&&this._trigger("change",p,{item:a}),this.close(p)},_setAria:function(a){var p=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":p,"aria-activedescendant":p}),this.menu.attr("aria-activedescendant",p)},_setOption:function(a,p){a==="icons"&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(p.button),this._super(a,p),a==="appendTo"&&this.menuWrap.appendTo(this._appendTo()),a==="disabled"&&(this.menuInstance.option("disabled",p),this.button.toggleClass("ui-state-disabled",p).attr("aria-disabled",p),this.element.prop("disabled",p),p?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),a==="width"&&this._resizeButton()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?e(a):this.document.find(a).eq(0)),a&&a[0]||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(a){var p=[];a.each(function(v,d){var x=e(d),C=x.parent("optgroup");p.push({element:x,index:v,value:x.attr("value"),label:x.text(),optgroup:C.attr("label")||"",disabled:C.prop("disabled")||x.prop("disabled")})}),this.items=p},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var a,p,v=this.options,d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),x="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",C=[];for(p=v.values&&v.values.length||1,d.length>p&&(d.slice(p).remove(),d=d.slice(0,p)),a=d.length;p>a;a++)C.push(x);this.handles=d.add(e(C.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(N){e(this).data("ui-slider-handle-index",N)})},_createRange:function(){var a=this.options,p="";a.range?(a.range===!0&&(a.values?a.values.length&&a.values.length!==2?a.values=[a.values[0],a.values[0]]:e.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),p="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(p+(a.range==="min"||a.range==="max"?" ui-slider-range-"+a.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(a){var p,v,d,x,C,N,G,q,K=this,oe=this.options;return oe.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),p={x:a.pageX,y:a.pageY},v=this._normValueFromMouse(p),d=this._valueMax()-this._valueMin()+1,this.handles.each(function(J){var Q=Math.abs(v-K.values(J));(d>Q||d===Q&&(J===K._lastChangedValue||K.values(J)===oe.min))&&(d=Q,x=e(this),C=J)}),N=this._start(a,C),N===!1?!1:(this._mouseSliding=!0,this._handleIndex=C,x.addClass("ui-state-active").focus(),G=x.offset(),q=!e(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=q?{left:0,top:0}:{left:a.pageX-G.left-x.width()/2,top:a.pageY-G.top-x.height()/2-(parseInt(x.css("borderTopWidth"),10)||0)-(parseInt(x.css("borderBottomWidth"),10)||0)+(parseInt(x.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,C,v),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var p={x:a.pageX,y:a.pageY},v=this._normValueFromMouse(p);return this._slide(a,this._handleIndex,v),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var p,v,d,x,C;return this.orientation==="horizontal"?(p=this.elementSize.width,v=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(p=this.elementSize.height,v=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=v/p,d>1&&(d=1),0>d&&(d=0),this.orientation==="vertical"&&(d=1-d),x=this._valueMax()-this._valueMin(),C=this._valueMin()+d*x,this._trimAlignValue(C)},_start:function(a,p){var v={handle:this.handles[p],value:this.value()};return this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._trigger("start",a,v)},_slide:function(a,p,v){var d,x,C;this.options.values&&this.options.values.length?(d=this.values(p?0:1),this.options.values.length===2&&this.options.range===!0&&(p===0&&v>d||p===1&&d>v)&&(v=d),v!==this.values(p)&&(x=this.values(),x[p]=v,C=this._trigger("slide",a,{handle:this.handles[p],value:v,values:x}),d=this.values(p?0:1),C!==!1&&this.values(p,v))):v!==this.value()&&(C=this._trigger("slide",a,{handle:this.handles[p],value:v}),C!==!1&&this.value(v))},_stop:function(a,p){var v={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._trigger("stop",a,v)},_change:function(a,p){if(!this._keySliding&&!this._mouseSliding){var v={handle:this.handles[p],value:this.value()};this.options.values&&this.options.values.length&&(v.value=this.values(p),v.values=this.values()),this._lastChangedValue=p,this._trigger("change",a,v)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,p){var v,d,x;if(arguments.length>1)return this.options.values[a]=this._trimAlignValue(p),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();for(v=this.options.values,d=arguments[0],x=0;v.length>x;x+=1)v[x]=this._trimAlignValue(d[x]),this._change(null,x);this._refreshValue()},_setOption:function(a,p){var v,d=0;switch(a==="range"&&this.options.range===!0&&(p==="min"?(this.options.value=this._values(0),this.options.values=null):p==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(d=this.options.values.length),a==="disabled"&&this.element.toggleClass("ui-state-disabled",!!p),this._super(a,p),a){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css(p==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),v=0;d>v;v+=1)this._change(null,v);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var p,v,d;if(arguments.length)return p=this.options.values[a],p=this._trimAlignValue(p);if(this.options.values&&this.options.values.length){for(v=this.options.values.slice(),d=0;v.length>d;d+=1)v[d]=this._trimAlignValue(v[d]);return v}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var p=this.options.step>0?this.options.step:1,v=(a-this._valueMin())%p,d=a-v;return 2*Math.abs(v)>=p&&(d+=v>0?p:-p),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a,p,v,d,x,C=this.options.range,N=this.options,G=this,q=this._animateOff?!1:N.animate,K={};this.options.values&&this.options.values.length?this.handles.each(function(oe){p=100*((G.values(oe)-G._valueMin())/(G._valueMax()-G._valueMin())),K[G.orientation==="horizontal"?"left":"bottom"]=p+"%",e(this).stop(1,1)[q?"animate":"css"](K,N.animate),G.options.range===!0&&(G.orientation==="horizontal"?(oe===0&&G.range.stop(1,1)[q?"animate":"css"]({left:p+"%"},N.animate),oe===1&&G.range[q?"animate":"css"]({width:p-a+"%"},{queue:!1,duration:N.animate})):(oe===0&&G.range.stop(1,1)[q?"animate":"css"]({bottom:p+"%"},N.animate),oe===1&&G.range[q?"animate":"css"]({height:p-a+"%"},{queue:!1,duration:N.animate}))),a=p}):(v=this.value(),d=this._valueMin(),x=this._valueMax(),p=x!==d?100*((v-d)/(x-d)):0,K[this.orientation==="horizontal"?"left":"bottom"]=p+"%",this.handle.stop(1,1)[q?"animate":"css"](K,N.animate),C==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[q?"animate":"css"]({width:p+"%"},N.animate),C==="max"&&this.orientation==="horizontal"&&this.range[q?"animate":"css"]({width:100-p+"%"},{queue:!1,duration:N.animate}),C==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[q?"animate":"css"]({height:p+"%"},N.animate),C==="max"&&this.orientation==="vertical"&&this.range[q?"animate":"css"]({height:100-p+"%"},{queue:!1,duration:N.animate}))},_handleEvents:{keydown:function(a){var p,v,d,x,C=e(a.target).data("ui-slider-handle-index");switch(a.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(a.target).addClass("ui-state-active"),p=this._start(a,C),p===!1))return}switch(x=this.options.step,v=d=this.options.values&&this.options.values.length?this.values(C):this.value(),a.keyCode){case e.ui.keyCode.HOME:d=this._valueMin();break;case e.ui.keyCode.END:d=this._valueMax();break;case e.ui.keyCode.PAGE_UP:d=this._trimAlignValue(v+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(v-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(v===this._valueMax())return;d=this._trimAlignValue(v+x);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(v===this._valueMin())return;d=this._trimAlignValue(v-x)}this._slide(a,C,d)},keyup:function(a){var p=e(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,p),this._change(a,p),e(a.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,p,v){return a>=p&&p+v>a},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(a,p){this._super(a,p),a==="handle"&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(a,p){var v=null,d=!1,x=this;return this.reverting||this.options.disabled||this.options.type==="static"?!1:(this._refreshItems(a),e(a.target).parents().each(function(){return e.data(this,x.widgetName+"-item")===x?(v=e(this),!1):void 0}),e.data(a.target,x.widgetName+"-item")===x&&(v=e(a.target)),v&&(!this.options.handle||p||(e(this.options.handle,v).find("*").addBack().each(function(){this===a.target&&(d=!0)}),d))?(this.currentItem=v,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(a,p,v){var d,x,C=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(a),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(a),this.originalPageX=a.pageX,this.originalPageY=a.pageY,C.cursorAt&&this._adjustOffsetFromHelper(C.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),C.containment&&this._setContainment(),C.cursor&&C.cursor!=="auto"&&(x=this.document.find("body"),this.storedCursor=x.css("cursor"),x.css("cursor",C.cursor),this.storedStylesheet=e("<style>*{ cursor: "+C.cursor+" !important; }</style>").appendTo(x)),C.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",C.opacity)),C.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",C.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",a,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!v)for(d=this.containers.length-1;d>=0;d--)this.containers[d]._trigger("activate",a,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(a),!0},_mouseDrag:function(a){var p,v,d,x,C=this.options,N=!1;for(this.position=this._generatePosition(a),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<C.scrollSensitivity?this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop+C.scrollSpeed:a.pageY-this.overflowOffset.top<C.scrollSensitivity&&(this.scrollParent[0].scrollTop=N=this.scrollParent[0].scrollTop-C.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<C.scrollSensitivity?this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft+C.scrollSpeed:a.pageX-this.overflowOffset.left<C.scrollSensitivity&&(this.scrollParent[0].scrollLeft=N=this.scrollParent[0].scrollLeft-C.scrollSpeed)):(a.pageY-e(document).scrollTop()<C.scrollSensitivity?N=e(document).scrollTop(e(document).scrollTop()-C.scrollSpeed):e(window).height()-(a.pageY-e(document).scrollTop())<C.scrollSensitivity&&(N=e(document).scrollTop(e(document).scrollTop()+C.scrollSpeed)),a.pageX-e(document).scrollLeft()<C.scrollSensitivity?N=e(document).scrollLeft(e(document).scrollLeft()-C.scrollSpeed):e(window).width()-(a.pageX-e(document).scrollLeft())<C.scrollSensitivity&&(N=e(document).scrollLeft(e(document).scrollLeft()+C.scrollSpeed))),N!==!1&&e.ui.ddmanager&&!C.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,a)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&this.options.axis==="y"||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&this.options.axis==="x"||(this.helper[0].style.top=this.position.top+"px"),p=this.items.length-1;p>=0;p--)if(v=this.items[p],d=v.item[0],x=this._intersectsWithPointer(v),x&&v.instance===this.currentContainer&&d!==this.currentItem[0]&&this.placeholder[x===1?"next":"prev"]()[0]!==d&&!e.contains(this.placeholder[0],d)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],d):!0)){if(this.direction=x===1?"down":"up",this.options.tolerance!=="pointer"&&!this._intersectsWithSides(v))break;this._rearrange(a,v),this._trigger("change",a,this._uiHash());break}return this._contactContainers(a),e.ui.ddmanager&&e.ui.ddmanager.drag(this,a),this._trigger("sort",a,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(a,p){if(a){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,a),this.options.revert){var v=this,d=this.placeholder.offset(),x=this.options.axis,C={};x&&x!=="x"||(C.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),x&&x!=="y"||(C.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(C,parseInt(this.options.revert,10)||500,function(){v._clear(a)})}else this._clear(a,p);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--)this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(a){var p=this._getItemsAsjQuery(a&&a.connected),v=[];return a=a||{},e(p).each(function(){var d=(e(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[\-=_](.+)/);d&&v.push((a.key||d[1]+"[]")+"="+(a.key&&a.expression?d[1]:d[2]))}),!v.length&&a.key&&v.push(a.key+"="),v.join("&")},toArray:function(a){var p=this._getItemsAsjQuery(a&&a.connected),v=[];return a=a||{},p.each(function(){v.push(e(a.item||this).attr(a.attribute||"id")||"")}),v},_intersectsWith:function(a){var p=this.positionAbs.left,v=p+this.helperProportions.width,d=this.positionAbs.top,x=d+this.helperProportions.height,C=a.left,N=C+a.width,G=a.top,q=G+a.height,K=this.offset.click.top,oe=this.offset.click.left,J=this.options.axis==="x"||d+K>G&&q>d+K,Q=this.options.axis==="y"||p+oe>C&&N>p+oe,Oe=J&&Q;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?Oe:p+this.helperProportions.width/2>C&&N>v-this.helperProportions.width/2&&d+this.helperProportions.height/2>G&&q>x-this.helperProportions.height/2},_intersectsWithPointer:function(a){var p=this.options.axis==="x"||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height),v=this.options.axis==="y"||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width),d=p&&v,x=this._getDragVerticalDirection(),C=this._getDragHorizontalDirection();return d?this.floating?C&&C==="right"||x==="down"?2:1:x&&(x==="down"?2:1):!1},_intersectsWithSides:function(a){var p=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),v=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),d=this._getDragVerticalDirection(),x=this._getDragHorizontalDirection();return this.floating&&x?x==="right"&&v||x==="left"&&!v:d&&(d==="down"&&p||d==="up"&&!p)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){function p(){N.push(this)}var v,d,x,C,N=[],G=[],q=this._connectWith();if(q&&a)for(v=q.length-1;v>=0;v--)for(x=e(q[v]),d=x.length-1;d>=0;d--)C=e.data(x[d],this.widgetFullName),C&&C!==this&&!C.options.disabled&&G.push([e.isFunction(C.options.items)?C.options.items.call(C.element):e(C.options.items,C.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),C]);for(G.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),v=G.length-1;v>=0;v--)G[v][0].each(p);return e(N)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(p){for(var v=0;a.length>v;v++)if(a[v]===p.item[0])return!1;return!0})},_refreshItems:function(a){this.items=[],this.containers=[this];var p,v,d,x,C,N,G,q,K=this.items,oe=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):e(this.options.items,this.element),this]],J=this._connectWith();if(J&&this.ready)for(p=J.length-1;p>=0;p--)for(d=e(J[p]),v=d.length-1;v>=0;v--)x=e.data(d[v],this.widgetFullName),x&&x!==this&&!x.options.disabled&&(oe.push([e.isFunction(x.options.items)?x.options.items.call(x.element[0],a,{item:this.currentItem}):e(x.options.items,x.element),x]),this.containers.push(x));for(p=oe.length-1;p>=0;p--)for(C=oe[p][1],N=oe[p][0],v=0,q=N.length;q>v;v++)G=e(N[v]),G.data(this.widgetName+"-item",C),K.push({item:G,instance:C,width:0,height:0,left:0,top:0})},refreshPositions:function(a){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var p,v,d,x;for(p=this.items.length-1;p>=0;p--)v=this.items[p],v.instance!==this.currentContainer&&this.currentContainer&&v.item[0]!==this.currentItem[0]||(d=this.options.toleranceElement?e(this.options.toleranceElement,v.item):v.item,a||(v.width=d.outerWidth(),v.height=d.outerHeight()),x=d.offset(),v.left=x.left,v.top=x.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(p=this.containers.length-1;p>=0;p--)x=this.containers[p].element.offset(),this.containers[p].containerCache.left=x.left,this.containers[p].containerCache.top=x.top,this.containers[p].containerCache.width=this.containers[p].element.outerWidth(),this.containers[p].containerCache.height=this.containers[p].element.outerHeight();return this},_createPlaceholder:function(a){a=a||this;var p,v=a.options;v.placeholder&&v.placeholder.constructor!==String||(p=v.placeholder,v.placeholder={element:function(){var d=a.currentItem[0].nodeName.toLowerCase(),x=e("<"+d+">",a.document[0]).addClass(p||a.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return d==="tr"?a.currentItem.children().each(function(){e("<td>&#160;</td>",a.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(x)}):d==="img"&&x.attr("src",a.currentItem.attr("src")),p||x.css("visibility","hidden"),x},update:function(d,x){(!p||v.forcePlaceholderSize)&&(x.height()||x.height(a.currentItem.innerHeight()-parseInt(a.currentItem.css("paddingTop")||0,10)-parseInt(a.currentItem.css("paddingBottom")||0,10)),x.width()||x.width(a.currentItem.innerWidth()-parseInt(a.currentItem.css("paddingLeft")||0,10)-parseInt(a.currentItem.css("paddingRight")||0,10)))}}),a.placeholder=e(v.placeholder.element.call(a.element,a.currentItem)),a.currentItem.after(a.placeholder),v.placeholder.update(a,a.placeholder)},_contactContainers:function(a){var p,v,d,x,C,N,G,q,K,oe,J=null,Q=null;for(p=this.containers.length-1;p>=0;p--)if(!e.contains(this.currentItem[0],this.containers[p].element[0]))if(this._intersectsWith(this.containers[p].containerCache)){if(J&&e.contains(this.containers[p].element[0],J.element[0]))continue;J=this.containers[p],Q=p}else this.containers[p].containerCache.over&&(this.containers[p]._trigger("out",a,this._uiHash(this)),this.containers[p].containerCache.over=0);if(J)if(this.containers.length===1)this.containers[Q].containerCache.over||(this.containers[Q]._trigger("over",a,this._uiHash(this)),this.containers[Q].containerCache.over=1);else{for(d=1e4,x=null,K=J.floating||this._isFloating(this.currentItem),C=K?"left":"top",N=K?"width":"height",oe=K?"clientX":"clientY",v=this.items.length-1;v>=0;v--)e.contains(this.containers[Q].element[0],this.items[v].item[0])&&this.items[v].item[0]!==this.currentItem[0]&&(G=this.items[v].item.offset()[C],q=!1,a[oe]-G>this.items[v][N]/2&&(q=!0),d>Math.abs(a[oe]-G)&&(d=Math.abs(a[oe]-G),x=this.items[v],this.direction=q?"up":"down"));if(!x&&!this.options.dropOnEmpty||this.currentContainer===this.containers[Q])return;x?this._rearrange(a,x,null,!0):this._rearrange(a,null,this.containers[Q].element,!0),this._trigger("change",a,this._uiHash()),this.containers[Q]._trigger("change",a,this._uiHash(this)),this.currentContainer=this.containers[Q],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[Q]._trigger("over",a,this._uiHash(this)),this.containers[Q].containerCache.over=1}},_createHelper:function(a){var p=this.options,v=e.isFunction(p.helper)?e(p.helper.apply(this.element[0],[a,this.currentItem])):p.helper==="clone"?this.currentItem.clone():this.currentItem;return v.parents("body").length||e(p.appendTo!=="parent"?p.appendTo:this.currentItem[0].parentNode)[0].appendChild(v[0]),v[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!v[0].style.width||p.forceHelperSize)&&v.width(this.currentItem.width()),(!v[0].style.height||p.forceHelperSize)&&v.height(this.currentItem.height()),v},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),e.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();return this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,p,v,d=this.options;d.containment==="parent"&&(d.containment=this.helper[0].parentNode),(d.containment==="document"||d.containment==="window")&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(d.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(d.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(d.containment)||(a=e(d.containment)[0],p=e(d.containment).offset(),v=e(a).css("overflow")!=="hidden",this.containment=[p.left+(parseInt(e(a).css("borderLeftWidth"),10)||0)+(parseInt(e(a).css("paddingLeft"),10)||0)-this.margins.left,p.top+(parseInt(e(a).css("borderTopWidth"),10)||0)+(parseInt(e(a).css("paddingTop"),10)||0)-this.margins.top,p.left+(v?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(e(a).css("borderLeftWidth"),10)||0)-(parseInt(e(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,p.top+(v?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(e(a).css("borderTopWidth"),10)||0)-(parseInt(e(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(a,p){p||(p=this.position);var v=a==="absolute"?1:-1,d=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,x=/(html|body)/i.test(d[0].tagName);return{top:p.top+this.offset.relative.top*v+this.offset.parent.top*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():x?0:d.scrollTop())*v,left:p.left+this.offset.relative.left*v+this.offset.parent.left*v-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():x?0:d.scrollLeft())*v}},_generatePosition:function(a){var p,v,d=this.options,x=a.pageX,C=a.pageY,N=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,G=/(html|body)/i.test(N[0].tagName);return this.cssPosition!=="relative"||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(x=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(C=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(x=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(C=this.containment[3]+this.offset.click.top)),d.grid&&(p=this.originalPageY+Math.round((C-this.originalPageY)/d.grid[1])*d.grid[1],C=this.containment?p-this.offset.click.top>=this.containment[1]&&p-this.offset.click.top<=this.containment[3]?p:p-this.offset.click.top>=this.containment[1]?p-d.grid[1]:p+d.grid[1]:p,v=this.originalPageX+Math.round((x-this.originalPageX)/d.grid[0])*d.grid[0],x=this.containment?v-this.offset.click.left>=this.containment[0]&&v-this.offset.click.left<=this.containment[2]?v:v-this.offset.click.left>=this.containment[0]?v-d.grid[0]:v+d.grid[0]:v)),{top:C-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():G?0:N.scrollTop()),left:x-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():G?0:N.scrollLeft())}},_rearrange:function(a,p,v,d){v?v[0].appendChild(this.placeholder[0]):p.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?p.item[0]:p.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var x=this.counter;this._delay(function(){x===this.counter&&this.refreshPositions(!d)})},_clear:function(a,p){function v(C,N,G){return function(q){G._trigger(C,q,N._uiHash(N))}}this.reverting=!1;var d,x=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)(this._storedCSS[d]==="auto"||this._storedCSS[d]==="static")&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!p&&x.push(function(C){this._trigger("receive",C,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||p||x.push(function(C){this._trigger("update",C,this._uiHash())}),this!==this.currentContainer&&(p||(x.push(function(C){this._trigger("remove",C,this._uiHash())}),x.push(function(C){return function(N){C._trigger("receive",N,this._uiHash(this))}}.call(this,this.currentContainer)),x.push(function(C){return function(N){C._trigger("update",N,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)p||x.push(v("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(x.push(v("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!p){for(this._trigger("beforeStop",a,this._uiHash()),d=0;x.length>d;d++)x[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(p||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!p){for(d=0;x.length>d;d++)x[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(a){var p=a||this;return{helper:p.helper,placeholder:p.placeholder||e([]),position:p.position,originalPosition:p.originalPosition,offset:p.positionAbs,item:p.currentItem,sender:a?a.element:null}}}),e.widget("ui.spinner",{version:"1.11.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this.value()!==""&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var a={},p=this.element;return e.each(["min","max","step"],function(v,d){var x=p.attr(d);x!==void 0&&x.length&&(a[d]=x)}),a},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a),void 0)},mousewheel:function(a,p){if(p){if(!this.spinning&&!this._start(a))return!1;this._spin((p>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(a){function p(){var d=this.element[0]===this.document[0].activeElement;d||(this.element.focus(),this.previous=v,this._delay(function(){this.previous=v}))}var v;v=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),a.preventDefault(),p.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,p.call(this)}),this._start(a)!==!1&&this._repeat(null,e(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){return e(a.currentTarget).hasClass("ui-state-active")?this._start(a)===!1?!1:(this._repeat(null,e(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(a){var p=this.options,v=e.ui.keyCode;switch(a.keyCode){case v.UP:return this._repeat(null,1,a),!0;case v.DOWN:return this._repeat(null,-1,a),!0;case v.PAGE_UP:return this._repeat(null,p.page,a),!0;case v.PAGE_DOWN:return this._repeat(null,-p.page,a),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,p,v){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,p,v)},a),this._spin(p*this.options.step,v)},_spin:function(a,p){var v=this.value()||0;this.counter||(this.counter=1),v=this._adjustValue(v+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",p,{value:v})===!1||(this._value(v),this.counter++)},_increment:function(a){var p=this.options.incremental;return p?e.isFunction(p)?p(a):Math.floor(a*a*a/5e4-a*a/500+17*a/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return this.options.min!==null&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var p=""+a,v=p.indexOf(".");return v===-1?0:p.length-v-1},_adjustValue:function(a){var p,v,d=this.options;return p=d.min!==null?d.min:0,v=a-p,v=Math.round(v/d.step)*d.step,a=p+v,a=parseFloat(a.toFixed(this._precision())),d.max!==null&&a>d.max?d.max:d.min!==null&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,p){if(a==="culture"||a==="numberFormat"){var v=this._parse(this.element.val());return this.options[a]=p,this.element.val(this._format(v)),void 0}(a==="max"||a==="min"||a==="step")&&typeof p=="string"&&(p=this._parse(p)),a==="icons"&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(p.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(p.down)),this._super(a,p),a==="disabled"&&(this.widget().toggleClass("ui-state-disabled",!!p),this.element.prop("disabled",!!p),this.buttons.button(p?"disable":"enable"))},_setOptions:u(function(a){this._super(a)}),_parse:function(a){return typeof a=="string"&&a!==""&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),a===""||isNaN(a)?null:a},_format:function(a){return a===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return a===null?!1:a===this._adjustValue(a)},_value:function(a,p){var v;a!==""&&(v=this._parse(a),v!==null&&(p||(v=this._adjustValue(v)),a=this._format(v))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:u(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:u(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:u(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:u(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?(u(this._value).call(this,a),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.1",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(p){var v,d;p=p.cloneNode(!1),v=p.href.replace(a,""),d=location.href.replace(a,"");try{v=decodeURIComponent(v)}catch(x){}try{d=decodeURIComponent(d)}catch(x){}return p.hash.length>1&&v===d}}(),_create:function(){var a=this,p=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",p.collapsible),this._processTabs(),p.active=this._initialActive(),e.isArray(p.disabled)&&(p.disabled=e.unique(p.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(v){return a.tabs.index(v)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(p.active):e(),this._refresh(),this.active.length&&this.load(p.active)},_initialActive:function(){var a=this.options.active,p=this.options.collapsible,v=location.hash.substring(1);return a===null&&(v&&this.tabs.each(function(d,x){return e(x).attr("aria-controls")===v?(a=d,!1):void 0}),a===null&&(a=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(a===null||a===-1)&&(a=this.tabs.length?0:!1)),a!==!1&&(a=this.tabs.index(this.tabs.eq(a)),a===-1&&(a=p?!1:0)),!p&&a===!1&&this.anchors.length&&(a=0),a},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(a){var p=e(this.document[0].activeElement).closest("li"),v=this.tabs.index(p),d=!0;if(!this._handlePageNav(a)){switch(a.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:v++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:d=!1,v--;break;case e.ui.keyCode.END:v=this.anchors.length-1;break;case e.ui.keyCode.HOME:v=0;break;case e.ui.keyCode.SPACE:return a.preventDefault(),clearTimeout(this.activating),this._activate(v),void 0;case e.ui.keyCode.ENTER:return a.preventDefault(),clearTimeout(this.activating),this._activate(v===this.options.active?!1:v),void 0;default:return}a.preventDefault(),clearTimeout(this.activating),v=this._focusNextTab(v,d),a.ctrlKey||(p.attr("aria-selected","false"),this.tabs.eq(v).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",v)},this.delay))}},_panelKeydown:function(a){this._handlePageNav(a)||a.ctrlKey&&a.keyCode===e.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){return a.altKey&&a.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):a.altKey&&a.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(a,p){function v(){return a>d&&(a=0),0>a&&(a=d),a}for(var d=this.tabs.length-1;e.inArray(v(),this.options.disabled)!==-1;)a=p?a+1:a-1;return a},_focusNextTab:function(a,p){return a=this._findNextTab(a,p),this.tabs.eq(a).focus(),a},_setOption:function(a,p){return a==="active"?(this._activate(p),void 0):a==="disabled"?(this._setupDisabled(p),void 0):(this._super(a,p),a==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",p),p||this.options.active!==!1||this._activate(0)),a==="event"&&this._setupEvents(p),a==="heightStyle"&&this._setupHeightStyle(p),void 0)},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a=this.options,p=this.tablist.children(":has(a[href])");a.disabled=e.map(p.filter(".ui-state-disabled"),function(v){return p.index(v)}),this._processTabs(),a.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===a.disabled.length?(a.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,a.active-1),!1)):a.active=this.tabs.index(this.active):(a.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(p){e(this).is(".ui-state-disabled")&&p.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(p,v){var d,x,C,N=e(v).uniqueId().attr("id"),G=e(v).closest("li"),q=G.attr("aria-controls");a._isLocal(v)?(d=v.hash,C=d.substring(1),x=a.element.find(a._sanitizeSelector(d))):(C=G.attr("aria-controls")||e({}).uniqueId()[0].id,d="#"+C,x=a.element.find(d),x.length||(x=a._createPanel(C),x.insertAfter(a.panels[p-1]||a.tablist)),x.attr("aria-live","polite")),x.length&&(a.panels=a.panels.add(x)),q&&G.data("ui-tabs-aria-controls",q),G.attr({"aria-controls":C,"aria-labelledby":N}),x.attr("aria-labelledby",N)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(a){return e("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(a){e.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var p,v=0;p=this.tabs[v];v++)a===!0||e.inArray(v,a)!==-1?e(p).addClass("ui-state-disabled").attr("aria-disabled","true"):e(p).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=a},_setupEvents:function(a){var p={};a&&e.each(a.split(" "),function(v,d){p[d]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(v){v.preventDefault()}}),this._on(this.anchors,p),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(a){var p,v=this.element.parent();a==="fill"?(p=v.height(),p-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var d=e(this),x=d.css("position");x!=="absolute"&&x!=="fixed"&&(p-=d.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){p-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,p-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):a==="auto"&&(p=0,this.panels.each(function(){p=Math.max(p,e(this).height("").height())}).height(p))},_eventHandler:function(a){var p=this.options,v=this.active,d=e(a.currentTarget),x=d.closest("li"),C=x[0]===v[0],N=C&&p.collapsible,G=N?e():this._getPanelForTab(x),q=v.length?this._getPanelForTab(v):e(),K={oldTab:v,oldPanel:q,newTab:N?e():x,newPanel:G};a.preventDefault(),x.hasClass("ui-state-disabled")||x.hasClass("ui-tabs-loading")||this.running||C&&!p.collapsible||this._trigger("beforeActivate",a,K)===!1||(p.active=N?!1:this.tabs.index(x),this.active=C?e():x,this.xhr&&this.xhr.abort(),q.length||G.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),G.length&&this.load(this.tabs.index(x),a),this._toggle(a,K))},_toggle:function(a,p){function v(){x.running=!1,x._trigger("activate",a,p)}function d(){p.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),C.length&&x.options.show?x._show(C,x.options.show,v):(C.show(),v())}var x=this,C=p.newPanel,N=p.oldPanel;this.running=!0,N.length&&this.options.hide?this._hide(N,this.options.hide,function(){p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d()}):(p.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),N.hide(),d()),N.attr("aria-hidden","true"),p.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),C.length&&N.length?p.oldTab.attr("tabIndex",-1):C.length&&this.tabs.filter(function(){return e(this).attr("tabIndex")===0}).attr("tabIndex",-1),C.attr("aria-hidden","false"),p.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(a){var p,v=this._findActive(a);v[0]!==this.active[0]&&(v.length||(v=this.active),p=v.find(".ui-tabs-anchor")[0],this._eventHandler({target:p,currentTarget:p,preventDefault:e.noop}))},_findActive:function(a){return a===!1?e():this.tabs.eq(a)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var a=e(this),p=a.data("ui-tabs-aria-controls");p?a.attr("aria-controls",p).removeData("ui-tabs-aria-controls"):a.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(a){var p=this.options.disabled;p!==!1&&(a===void 0?p=!1:(a=this._getIndex(a),p=e.isArray(p)?e.map(p,function(v){return v!==a?v:null}):e.map(this.tabs,function(v,d){return d!==a?d:null})),this._setupDisabled(p))},disable:function(a){var p=this.options.disabled;if(p!==!0){if(a===void 0)p=!0;else{if(a=this._getIndex(a),e.inArray(a,p)!==-1)return;p=e.isArray(p)?e.merge([a],p).sort():[a]}this._setupDisabled(p)}},load:function(a,p){a=this._getIndex(a);var v=this,d=this.tabs.eq(a),x=d.find(".ui-tabs-anchor"),C=this._getPanelForTab(d),N={tab:d,panel:C};this._isLocal(x[0])||(this.xhr=e.ajax(this._ajaxSettings(x,p,N)),this.xhr&&this.xhr.statusText!=="canceled"&&(d.addClass("ui-tabs-loading"),C.attr("aria-busy","true"),this.xhr.success(function(G){setTimeout(function(){C.html(G),v._trigger("load",p,N)},1)}).complete(function(G,q){setTimeout(function(){q==="abort"&&v.panels.stop(!1,!0),d.removeClass("ui-tabs-loading"),C.removeAttr("aria-busy"),G===v.xhr&&delete v.xhr},1)})))},_ajaxSettings:function(a,p,v){var d=this;return{url:a.attr("href"),beforeSend:function(x,C){return d._trigger("beforeLoad",p,e.extend({jqXHR:x,ajaxSettings:C},v))}}},_getPanelForTab:function(a){var p=e(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+p))}}),e.widget("ui.tooltip",{version:"1.11.1",options:{content:function(){var a=e(this).attr("title")||"";return e("<a>").text(a).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(a,p){var v=(a.attr("aria-describedby")||"").split(/\s+/);v.push(p),a.data("ui-tooltip-id",p).attr("aria-describedby",e.trim(v.join(" ")))},_removeDescribedBy:function(a){var p=a.data("ui-tooltip-id"),v=(a.attr("aria-describedby")||"").split(/\s+/),d=e.inArray(p,v);d!==-1&&v.splice(d,1),a.removeData("ui-tooltip-id"),v=e.trim(v.join(" ")),v?a.attr("aria-describedby",v):a.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(a,p){var v=this;return a==="disabled"?(this[p?"_disable":"_enable"](),this.options[a]=p,void 0):(this._super(a,p),a==="content"&&e.each(this.tooltips,function(d,x){v._updateContent(x)}),void 0)},_disable:function(){var a=this;e.each(this.tooltips,function(p,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],a.close(d,!0)}),this.element.find(this.options.items).addBack().each(function(){var p=e(this);p.is("[title]")&&p.data("ui-tooltip-title",p.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var a=e(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(a){var p=this,v=e(a?a.target:this.element).closest(this.options.items);v.length&&!v.data("ui-tooltip-id")&&(v.attr("title")&&v.data("ui-tooltip-title",v.attr("title")),v.data("ui-tooltip-open",!0),a&&a.type==="mouseover"&&v.parents().each(function(){var d,x=e(this);x.data("ui-tooltip-open")&&(d=e.Event("blur"),d.target=d.currentTarget=this,p.close(d,!0)),x.attr("title")&&(x.uniqueId(),p.parents[this.id]={element:this,title:x.attr("title")},x.attr("title",""))}),this._updateContent(v,a))},_updateContent:function(a,p){var v,d=this.options.content,x=this,C=p?p.type:null;return typeof d=="string"?this._open(p,a,d):(v=d.call(a[0],function(N){a.data("ui-tooltip-open")&&x._delay(function(){p&&(p.type=C),this._open(p,a,N)})}),v&&this._open(p,a,v),void 0)},_open:function(a,p,v){function d(K){q.of=K,x.is(":hidden")||x.position(q)}var x,C,N,G,q=e.extend({},this.options.position);if(v){if(x=this._find(p),x.length)return x.find(".ui-tooltip-content").html(v),void 0;p.is("[title]")&&(a&&a.type==="mouseover"?p.attr("title",""):p.removeAttr("title")),x=this._tooltip(p),this._addDescribedBy(p,x.attr("id")),x.find(".ui-tooltip-content").html(v),this.liveRegion.children().hide(),v.clone?(G=v.clone(),G.removeAttr("id").find("[id]").removeAttr("id")):G=v,e("<div>").html(G).appendTo(this.liveRegion),this.options.track&&a&&/^mouse/.test(a.type)?(this._on(this.document,{mousemove:d}),d(a)):x.position(e.extend({of:p},this.options.position)),this.hiding=!1,this.closing=!1,x.hide(),this._show(x,this.options.show),this.options.show&&this.options.show.delay&&(N=this.delayedShow=setInterval(function(){x.is(":visible")&&(d(q.of),clearInterval(N))},e.fx.interval)),this._trigger("open",a,{tooltip:x}),C={keyup:function(K){if(K.keyCode===e.ui.keyCode.ESCAPE){var oe=e.Event(K);oe.currentTarget=p[0],this.close(oe,!0)}}},p[0]!==this.element[0]&&(C.remove=function(){this._removeTooltip(x)}),a&&a.type!=="mouseover"||(C.mouseleave="close"),a&&a.type!=="focusin"||(C.focusout="close"),this._on(!0,p,C)}},close:function(a){var p=this,v=e(a?a.currentTarget:this.element),d=this._find(v);this.closing||(clearInterval(this.delayedShow),v.data("ui-tooltip-title")&&!v.attr("title")&&v.attr("title",v.data("ui-tooltip-title")),this._removeDescribedBy(v),this.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){p._removeTooltip(e(this)),this.hiding=!1,this.closing=!1}),v.removeData("ui-tooltip-open"),this._off(v,"mouseleave focusout keyup"),v[0]!==this.element[0]&&this._off(v,"remove"),this._off(this.document,"mousemove"),a&&a.type==="mouseleave"&&e.each(this.parents,function(x,C){e(C.element).attr("title",C.title),delete p.parents[x]}),this.closing=!0,this._trigger("close",a,{tooltip:d}),this.hiding||(this.closing=!1))},_tooltip:function(a){var p=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),v=p.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(p),p.appendTo(this.document[0].body),this.tooltips[v]=a,p},_find:function(a){var p=a.data("ui-tooltip-id");return p?e("#"+p):e()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;e.each(this.tooltips,function(p,v){var d=e.Event("blur");d.target=d.currentTarget=v[0],a.close(d,!0),e("#"+p).remove(),v.data("ui-tooltip-title")&&(v.attr("title")||v.attr("title",v.data("ui-tooltip-title")),v.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})})}),ay={};_3(ay,{default:()=>sf});S3=ny(oy());k3(ay,ny(oy()));iy=S3,{default:ry}=iy,A3=nn(iy,["default"]),sf=ry!==void 0?ry:A3;});var cf={};Fn(cf,{default:()=>sf});var uf=si(()=>{lf();lf()});var Ns,B3,H3,wy,F3,nu,Bs,z3,Py,wf,$y,xy,U3,ru,$d,_y,V3,W3,_a,Yl,ky,Ly,My,q3,Oy,G3,Sy,Y3,vf,Iy,K3,X3,Z3,Od,J3,Q3,e4,Ay,Cy,yf,t4,bf,Ey,i4,r4,n4,Ld,Ty,Md,Ry,Dy=si(()=>{Ns=[],B3=function(){return Ns.some(function(e){return e.activeTargets.length>0})},H3=function(){return Ns.some(function(e){return e.skippedTargets.length>0})},wy="ResizeObserver loop completed with undelivered notifications.",F3=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:wy}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=wy),window.dispatchEvent(e)};(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(nu||(nu={}));Bs=function(e){return Object.freeze(e)},z3=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Bs(this)}return e}(),Py=function(){function e(t,r,s,l){return this.x=t,this.y=r,this.width=s,this.height=l,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Bs(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,s=t.y,l=t.top,o=t.right,c=t.bottom,n=t.left,u=t.width,h=t.height;return{x:r,y:s,top:l,right:o,bottom:c,left:n,width:u,height:h}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),wf=function(e){return e instanceof SVGElement&&"getBBox"in e},$y=function(e){if(wf(e)){var t=e.getBBox(),r=t.width,s=t.height;return!r&&!s}var l=e,o=l.offsetWidth,c=l.offsetHeight;return!(o||c||e.getClientRects().length)},xy=function(e){var t;if(e instanceof Element)return!0;var r=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},U3=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ru=typeof window<"u"?window:{},$d=new WeakMap,_y=/auto|scroll/,V3=/^tb|vertical/,W3=/msie|trident/i.test(ru.navigator&&ru.navigator.userAgent),_a=function(e){return parseFloat(e||"0")},Yl=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new z3((r?t:e)||0,(r?e:t)||0)},ky=Bs({devicePixelContentBoxSize:Yl(),borderBoxSize:Yl(),contentBoxSize:Yl(),contentRect:new Py(0,0,0,0)}),Ly=function(e,t){if(t===void 0&&(t=!1),$d.has(e)&&!t)return $d.get(e);if($y(e))return $d.set(e,ky),ky;var r=getComputedStyle(e),s=wf(e)&&e.ownerSVGElement&&e.getBBox(),l=!W3&&r.boxSizing==="border-box",o=V3.test(r.writingMode||""),c=!s&&_y.test(r.overflowY||""),n=!s&&_y.test(r.overflowX||""),u=s?0:_a(r.paddingTop),h=s?0:_a(r.paddingRight),g=s?0:_a(r.paddingBottom),m=s?0:_a(r.paddingLeft),y=s?0:_a(r.borderTopWidth),_=s?0:_a(r.borderRightWidth),w=s?0:_a(r.borderBottomWidth),k=s?0:_a(r.borderLeftWidth),A=m+h,L=u+g,T=k+_,E=y+w,a=n?e.offsetHeight-E-e.clientHeight:0,p=c?e.offsetWidth-T-e.clientWidth:0,v=l?A+T:0,d=l?L+E:0,x=s?s.width:_a(r.width)-v-p,C=s?s.height:_a(r.height)-d-a,N=x+A+p+T,G=C+L+a+E,q=Bs({devicePixelContentBoxSize:Yl(Math.round(x*devicePixelRatio),Math.round(C*devicePixelRatio),o),borderBoxSize:Yl(N,G,o),contentBoxSize:Yl(x,C,o),contentRect:new Py(m,u,x,C)});return $d.set(e,q),q},My=function(e,t,r){var s=Ly(e,r),l=s.borderBoxSize,o=s.contentBoxSize,c=s.devicePixelContentBoxSize;switch(t){case nu.DEVICE_PIXEL_CONTENT_BOX:return c;case nu.BORDER_BOX:return l;default:return o}},q3=function(){function e(t){var r=Ly(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Bs([r.borderBoxSize]),this.contentBoxSize=Bs([r.contentBoxSize]),this.devicePixelContentBoxSize=Bs([r.devicePixelContentBoxSize])}return e}(),Oy=function(e){if($y(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},G3=function(){var e=1/0,t=[];Ns.forEach(function(o){if(o.activeTargets.length!==0){var c=[];o.activeTargets.forEach(function(n){var u=new q3(n.target),h=Oy(n.target);c.push(u),n.lastReportedSize=My(n.target,n.observedBox),h<e&&(e=h)}),t.push(function(){o.callback.call(o.observer,c,o.observer)}),o.activeTargets.splice(0,o.activeTargets.length)}});for(var r=0,s=t;r<s.length;r++){var l=s[r];l()}return e},Sy=function(e){Ns.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(Oy(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))})})},Y3=function(){var e=0;for(Sy(e);B3();)e=G3(),Sy(e);return H3()&&F3(),e>0},Iy=[],K3=function(){return Iy.splice(0).forEach(function(e){return e()})},X3=function(e){if(!vf){var t=0,r=document.createTextNode(""),s={characterData:!0};new MutationObserver(function(){return K3()}).observe(r,s),vf=function(){r.textContent="".concat(t?t--:t++)}}Iy.push(e),vf()},Z3=function(e){X3(function(){requestAnimationFrame(e)})},Od=0,J3=function(){return!!Od},Q3=250,e4={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ay=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Cy=function(e){return e===void 0&&(e=0),Date.now()+e},yf=!1,t4=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=Q3),!yf){yf=!0;var s=Cy(t);Z3(function(){var l=!1;try{l=Y3()}finally{if(yf=!1,t=s-Cy(),!J3())return;l?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,e4)};document.body?r():ru.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ay.forEach(function(r){return ru.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),Ay.forEach(function(r){return ru.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),bf=new t4,Ey=function(e){!Od&&e>0&&bf.start(),Od+=e,!Od&&bf.stop()},i4=function(e){return!wf(e)&&!U3(e)&&getComputedStyle(e).display==="inline"},r4=function(){function e(t,r){this.target=t,this.observedBox=r||nu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=My(this.target,this.observedBox,!0);return i4(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),n4=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),Ld=new WeakMap,Ty=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},Md=function(){function e(){}return e.connect=function(t,r){var s=new n4(t,r);Ld.set(t,s)},e.observe=function(t,r,s){var l=Ld.get(t),o=l.observationTargets.length===0;Ty(l.observationTargets,r)<0&&(o&&Ns.push(l),l.observationTargets.push(new r4(r,s&&s.box)),Ey(1),bf.schedule())},e.unobserve=function(t,r){var s=Ld.get(t),l=Ty(s.observationTargets,r),o=s.observationTargets.length===1;l>=0&&(o&&Ns.splice(Ns.indexOf(s),1),s.observationTargets.splice(l,1),Ey(-1))},e.disconnect=function(t){var r=this,s=Ld.get(t);s.observationTargets.slice().forEach(function(l){return r.unobserve(t,l.target)}),s.activeTargets.splice(0,s.activeTargets.length)},e}(),Ry=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Md.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xy(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Md.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!xy(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Md.unobserve(this,t)},e.prototype.disconnect=function(){Md.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}()});var jy=si(()=>{Dy()});var o4,Ny=si(()=>{jy();o4=window.ResizeObserver||Ry;window.ResizeObserver=o4});var Do,Hs=si(()=>{Do=class{constructor(){this.resizeObserver=new ResizeObserver(e=>{window.requestAnimationFrame(()=>{for(let t of e){let r=this.resizeHandlers.get(t.target);r==null||r.forEach(s=>{s.handleResize(t)})}})}),this.resizeHandlers=new Map}shutdown(){this.resizeHandlers.forEach((e,t)=>{this.resizeObserver.unobserve(t)}),this.resizeHandlers.clear()}addObserver(e){var t;let r=(t=this.resizeHandlers.get(e.target))!==null&&t!==void 0?t:new Set;r.add(e.handler),this.resizeHandlers.set(e.target,r),this.resizeObserver.observe(e.target,e.options)}removeObserver(e){let t=this.resizeHandlers.get(e.target);t&&(t.delete(e.handler),t.size===0&&(this.resizeObserver.unobserve(e.target),this.resizeHandlers.delete(e.target)))}}});var By=si(()=>{Hs()});var Id=si(()=>{Ny();By();window.SharedResizeObserver=Do});var Fs,xf=si(()=>{Fs=class{constructor(t){this.analyticsBackend=t||window.archive_analytics}send_event(t,r,s,l){this.analyticsBackend&&this.analyticsBackend.send_event(t,r,s,l)}send_event_no_sampling(t,r,s,l){this.analyticsBackend&&this.analyticsBackend.send_event_no_sampling(t,r,s,l)}}});var ls,ka,Sa,Kl=si(()=>{ls={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ka=e=>(...t)=>({_$litDirective$:e,values:t}),Sa=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,r){this._$Ct=e,this._$AM=t,this._$Ci=r}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};});function eb(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Vy!==void 0?Vy.createHTML(t):t}function Jl(e,t,r=e,s){var l,o,c,n;if(t===Zl)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=au(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Jl(e,u._$AS(e,t.values),u,s)),t}var Ef,Bd,Xl,Vy,$f,cs,Xy,E4,Vs,Hd,au,Zy,T4,Tf,ou,Wy,qy,zs,Gy,Yy,Jy,Qy,IM,RM,Zl,Yn,Ky,Us,P4,Lf,$4,ib,Fd,L4,M4,O4,I4,R4,Pf,Mf,us,nb=si(()=>{Kl();Bd=window,Xl=Bd.trustedTypes,Vy=Xl?Xl.createPolicy("lit-html",{createHTML:e=>e}):void 0,$f="$lit$",cs=`lit$${(Math.random()+"").slice(9)}$`,Xy="?"+cs,E4=`<${Xy}>`,Vs=document,Hd=()=>Vs.createComment(""),au=e=>e===null||typeof e!="object"&&typeof e!="function",Zy=Array.isArray,T4=e=>Zy(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Tf=`[ 	
\f\r]`,ou=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Wy=/-->/g,qy=/>/g,zs=RegExp(`>|${Tf}(?:([^\\s"'>=/]+)(${Tf}*=${Tf}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Gy=/'/g,Yy=/"/g,Jy=/^(?:script|style|textarea|title)$/i,Qy=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),IM=Qy(1),RM=Qy(2),Zl=Symbol.for("lit-noChange"),Yn=Symbol.for("lit-nothing"),Ky=new WeakMap,Us=Vs.createTreeWalker(Vs,129,null,!1);P4=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=ou;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===ou?g[1]==="!--"?c=Wy:g[1]!==void 0?c=qy:g[2]!==void 0?(Jy.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=zs):g[3]!==void 0&&(c=zs):c===zs?g[0]===">"?(c=l!=null?l:ou,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?zs:g[3]==='"'?Yy:Gy):c===Yy||c===Gy?c=zs:c===Wy||c===qy?c=ou:(c=zs,l=void 0);let _=c===zs&&e[n+1].startsWith("/>")?" ":"";o+=c===ou?u+E4:m>=0?(s.push(h),u.slice(0,m)+$f+u.slice(m)+cs+_):u+cs+(m===-2?(s.push(void 0),n):_)}return[eb(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Lf=class tb{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=P4(t,r);if(this.el=tb.createElement(h,s),Us.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Us.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith($f)||y.startsWith(cs)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+$f).split(cs),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?L4:k[1]==="?"?O4:k[1]==="@"?I4:Fd})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Jy.test(l.tagName)){let m=l.textContent.split(cs),y=m.length-1;if(y>0){l.textContent=Xl?Xl.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],Hd()),Us.nextNode(),u.push({type:2,index:++o});l.append(m[y],Hd())}}}else if(l.nodeType===8)if(l.data===Xy)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(cs,m+1))!==-1;)u.push({type:7,index:o}),m+=cs.length-1}o++}}static createElement(t,r){let s=Vs.createElement("template");return s.innerHTML=t,s}};$4=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Vs).importNode(r,!0);Us.currentNode=l;let o=Us.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new ib(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new R4(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Us.nextNode(),c++)}return Us.currentNode=Vs,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},ib=class rb{constructor(t,r,s,l){var o;this.type=2,this._$AH=Yn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Jl(this,t,r),au(t)?t===Yn||t==null||t===""?(this._$AH!==Yn&&this._$AR(),this._$AH=Yn):t!==this._$AH&&t!==Zl&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):T4(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Yn&&au(this._$AH)?this._$AA.nextSibling.data=t:this.$(Vs.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Lf.createElement(eb(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new $4(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Ky.get(t.strings);return r===void 0&&Ky.set(t.strings,r=new Lf(t)),r}T(t){Zy(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new rb(this.k(Hd()),this.k(Hd()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Fd=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Yn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Yn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Jl(this,e,t,0),o=!au(e)||e!==this._$AH&&e!==Zl,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Jl(this,c[r+n],t,n),u===Zl&&(u=this._$AH[n]),o||(o=!au(u)||u!==this._$AH[n]),u===Yn?e=Yn:e!==Yn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Yn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},L4=class extends Fd{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Yn?void 0:e}},M4=Xl?Xl.emptyScript:"",O4=class extends Fd{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Yn?this.element.setAttribute(this.name,M4):this.element.removeAttribute(this.name)}},I4=class extends Fd{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Jl(this,e,t,0))!==null&&r!==void 0?r:Yn)===Zl)return;let s=this._$AH,l=e===Yn&&s!==Yn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Yn&&(s===Yn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},R4=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Jl(this,e)}},Pf=Bd.litHtmlPolyfillSupport;Pf==null||Pf(Lf,ib),((Ef=Bd.litHtmlVersions)!==null&&Ef!==void 0?Ef:Bd.litHtmlVersions=[]).push("2.8.0");Mf=class extends Sa{constructor(e){if(super(e),this.et=Yn,e.type!==ls.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===Yn||e==null)return this.ft=void 0,this.et=e;if(e===Zl)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;let t=[e];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}};Mf.directiveName="unsafeHTML",Mf.resultType=1;us=ka(Mf);});var ds=si(()=>{nb()});function xt(e){let t,r,s;return typeof e=="object"?(t=e.hashFunction,r=e.expiring,s=e.tags):t=e,(l,o,c)=>{if(c.value!=null)c.value=bb(c.value,t,r,s);else if(c.get!=null)c.get=bb(c.get,t,r,s);else throw"Only put a Memoize() decorator on a method or get accessor."}}function bb(e,t,r=0,s){let l=Symbol("__memoized_map__");return function(...o){let c;this.hasOwnProperty(l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let n=this[l];if(Array.isArray(s))for(let u of s)Hf.has(u)?Hf.get(u).push(n):Hf.set(u,[n]);if(t||o.length>0||r>0){let u;t===!0?u=o.map(m=>m.toString()).join("!"):t?u=t.apply(this,o):u=o[0];let h=`${u}__timestamp`,g=!1;if(r>0)if(!n.has(h))g=!0;else{let m=n.get(h);g=Date.now()-m>r}n.has(u)&&!g?c=n.get(u):(c=e.apply(this,o),n.set(u,c),r>0&&n.set(h,Date.now()))}else{let u=this;n.has(u)?c=n.get(u):(c=e.apply(this,o),n.set(u,c))}return c}}var Hf,In=si(()=>{Hf=new Map});var Wd,Ql,qd,Gd,Yd,Kd,wb,Xd,ec,Aa=si(()=>{Wd=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};Wd.shared=new Wd;Ql=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};Ql.shared=new Ql;qd=class{parseValue(e){return Ql.shared.parseValue(e)}};qd.shared=new qd;Gd=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let s=new Date(t);return(t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/))&&(s=new Date(s.getTime()+s.getTimezoneOffset()*1e3*60)),s}};Gd.shared=new Gd;Yd=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((s,l)=>{let o=parseFloat(s);if(Number.isNaN(o))return t=!0,0;let c=On(60,e.length-1-l);return o*Math.floor(c)}).reduce((s,l)=>s+l,0);return t?void 0:r}};Yd.shared=new Yd;Kd=class{parseValue(e){if(typeof e=="string")return e}};Kd.shared=new Kd;wb=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let s of this.separators)if(r=t.split(s),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(s=>s.trim()).map(s=>this.parser.parseValue(s)),r=[];return t.forEach(s=>{s!==void 0&&r.push(s)}),r}},Xd=class{parseValue(e){if(typeof e=="string")return e}};Xd.shared=new Xd;ec=class{parseValue(e){return String(e)}};ec.shared=new ec});var sa,Ws,Ao,Ff,Kn,Fr,r6,xb,zf,n6,o6,_r,Va=si(()=>{vr();In();Aa();vr();In();Aa();Aa();Aa();Aa();Aa();Aa();Aa();Aa();sa=class{get values(){return this.parseRawValue()}get value(){return this.values[0]}constructor(e,t){this.parser=e,this.rawValue=t}parseRawValue(){let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};ae([xt()],sa.prototype,"values",null);ae([xt()],sa.prototype,"value",null);Ws=class extends sa{constructor(e){super(Wd.shared,e)}},Ao=class extends sa{constructor(e){super(Gd.shared,e)}},Ff=class extends sa{constructor(e){super(Yd.shared,e)}},Kn=class extends sa{constructor(e){super(Ql.shared,e)}},Fr=class extends sa{constructor(e){super(ec.shared,e)}},r6=class extends sa{constructor(e){super(Xd.shared,e)}},xb=class extends sa{constructor(e){super(qd.shared,e)}},zf=class extends sa{constructor(e){super(Kd.shared,e)}},n6=class extends sa{constructor(e,t){super(t,e)}},o6=class extends n6{constructor(e){let t=new wb(ec.shared);super(e,t)}},_r=class{get identifier(){return this.rawMetadata.identifier}get addeddate(){return this.rawMetadata.addeddate!=null?new Ao(this.rawMetadata.addeddate):void 0}get audio_codec(){return this.rawMetadata.audio_codec!=null?new Fr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){return this.rawMetadata.audio_sample_rate!=null?new Kn(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){return this.rawMetadata.avg_rating!=null?new Kn(this.rawMetadata.avg_rating):void 0}get collection(){return this.rawMetadata.collection!=null?new Fr(this.rawMetadata.collection):void 0}get collections_raw(){return this.rawMetadata.collections_raw!=null?new Fr(this.rawMetadata.collections_raw):void 0}get collection_size(){return this.rawMetadata.collection_size!=null?new xb(this.rawMetadata.collection_size):void 0}get contributor(){return this.rawMetadata.contributor!=null?new Fr(this.rawMetadata.contributor):void 0}get coverage(){return this.rawMetadata.coverage!=null?new Fr(this.rawMetadata.coverage):void 0}get creator(){return this.rawMetadata.creator!=null?new Fr(this.rawMetadata.creator):void 0}get collection_layout(){return this.rawMetadata.collection_layout!=null?new Fr(this.rawMetadata.collection_layout):void 0}get date(){return this.rawMetadata.date!=null?new Ao(this.rawMetadata.date):void 0}get description(){return this.rawMetadata.description!=null?new Fr(this.rawMetadata.description):void 0}get downloads(){return this.rawMetadata.downloads!=null?new Kn(this.rawMetadata.downloads):void 0}get duration(){return this.rawMetadata.duration!=null?new Ff(this.rawMetadata.duration):void 0}get external_identifier(){return this.rawMetadata["external-identifier"]!=null?new Fr(this.rawMetadata["external-identifier"]):void 0}get files_count(){return this.rawMetadata.files_count!=null?new Kn(this.rawMetadata.files_count):void 0}get indexdate(){return this.rawMetadata.indexdate!=null?new Ao(this.rawMetadata.indexdate):void 0}get isbn(){return this.rawMetadata.isbn!=null?new Fr(this.rawMetadata.isbn):void 0}get issue(){return this.rawMetadata.issue!=null?new Fr(this.rawMetadata.issue):void 0}get item_count(){return this.rawMetadata.item_count!=null?new Kn(this.rawMetadata.item_count):void 0}get item_size(){return this.rawMetadata.item_size!=null?new xb(this.rawMetadata.item_size):void 0}get language(){return this.rawMetadata.language!=null?new Fr(this.rawMetadata.language):void 0}get length(){return this.rawMetadata.length!=null?new Ff(this.rawMetadata.length):void 0}get lineage(){return this.rawMetadata.lineage!=null?new Fr(this.rawMetadata.lineage):void 0}get month(){return this.rawMetadata.month!=null?new Kn(this.rawMetadata.month):void 0}get mediatype(){return this.rawMetadata.mediatype!=null?new zf(this.rawMetadata.mediatype):void 0}get noindex(){return this.rawMetadata.noindex!=null?new Ws(this.rawMetadata.noindex):void 0}get notes(){return this.rawMetadata.notes!=null?new Fr(this.rawMetadata.notes):void 0}get num_favorites(){return this.rawMetadata.num_favorites!=null?new Kn(this.rawMetadata.num_favorites):void 0}get num_reviews(){return this.rawMetadata.num_reviews!=null?new Kn(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){return this.rawMetadata.openlibrary_edition!=null?new Fr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){return this.rawMetadata.openlibrary_work!=null?new Fr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){return this.rawMetadata.page_progression!=null?new r6(this.rawMetadata.page_progression):void 0}get partner(){return this.rawMetadata.partner!=null?new Fr(this.rawMetadata.partner):void 0}get ppi(){return this.rawMetadata.ppi!=null?new Kn(this.rawMetadata.ppi):void 0}get publicdate(){return this.rawMetadata.publicdate!=null?new Ao(this.rawMetadata.publicdate):void 0}get publisher(){return this.rawMetadata.publisher!=null?new Fr(this.rawMetadata.publisher):void 0}get reviewdate(){return this.rawMetadata.reviewdate!=null?new Ao(this.rawMetadata.reviewdate):void 0}get runtime(){return this.rawMetadata.runtime!=null?new Ff(this.rawMetadata.runtime):void 0}get scanner(){return this.rawMetadata.scanner!=null?new Fr(this.rawMetadata.scanner):void 0}get source(){return this.rawMetadata.source!=null?new Fr(this.rawMetadata.source):void 0}get start_localtime(){return this.rawMetadata.start_localtime!=null?new Ao(this.rawMetadata.start_localtime):void 0}get start_time(){return this.rawMetadata.start_time!=null?new Ao(this.rawMetadata.start_time):void 0}get stop_time(){return this.rawMetadata.stop_time!=null?new Ao(this.rawMetadata.stop_time):void 0}get subject(){return this.rawMetadata.subject!=null?new o6(this.rawMetadata.subject):void 0}get taper(){return this.rawMetadata.taper!=null?new Fr(this.rawMetadata.taper):void 0}get title(){return this.rawMetadata.title!=null?new Fr(this.rawMetadata.title):void 0}get transferer(){return this.rawMetadata.transferer!=null?new Fr(this.rawMetadata.transferer):void 0}get track(){return this.rawMetadata.track!=null?new Kn(this.rawMetadata.track):void 0}get type(){return this.rawMetadata.type!=null?new Fr(this.rawMetadata.type):void 0}get uploader(){return this.rawMetadata.uploader!=null?new Fr(this.rawMetadata.uploader):void 0}get utc_offset(){return this.rawMetadata.utc_offset!=null?new Kn(this.rawMetadata.utc_offset):void 0}get venue(){return this.rawMetadata.venue!=null?new Fr(this.rawMetadata.venue):void 0}get volume(){return this.rawMetadata.volume!=null?new Fr(this.rawMetadata.volume):void 0}get week(){return this.rawMetadata.week!=null?new Kn(this.rawMetadata.week):void 0}get year(){return this.rawMetadata.year!=null?new Kn(this.rawMetadata.year):void 0}constructor(e={}){this.rawMetadata=e}};ae([xt()],_r.prototype,"addeddate",null);ae([xt()],_r.prototype,"audio_codec",null);ae([xt()],_r.prototype,"audio_sample_rate",null);ae([xt()],_r.prototype,"avg_rating",null);ae([xt()],_r.prototype,"collection",null);ae([xt()],_r.prototype,"collections_raw",null);ae([xt()],_r.prototype,"collection_size",null);ae([xt()],_r.prototype,"contributor",null);ae([xt()],_r.prototype,"coverage",null);ae([xt()],_r.prototype,"creator",null);ae([xt()],_r.prototype,"collection_layout",null);ae([xt()],_r.prototype,"date",null);ae([xt()],_r.prototype,"description",null);ae([xt()],_r.prototype,"downloads",null);ae([xt()],_r.prototype,"duration",null);ae([xt()],_r.prototype,"external_identifier",null);ae([xt()],_r.prototype,"files_count",null);ae([xt()],_r.prototype,"indexdate",null);ae([xt()],_r.prototype,"isbn",null);ae([xt()],_r.prototype,"issue",null);ae([xt()],_r.prototype,"item_count",null);ae([xt()],_r.prototype,"item_size",null);ae([xt()],_r.prototype,"language",null);ae([xt()],_r.prototype,"length",null);ae([xt()],_r.prototype,"lineage",null);ae([xt()],_r.prototype,"month",null);ae([xt()],_r.prototype,"mediatype",null);ae([xt()],_r.prototype,"noindex",null);ae([xt()],_r.prototype,"notes",null);ae([xt()],_r.prototype,"num_favorites",null);ae([xt()],_r.prototype,"num_reviews",null);ae([xt()],_r.prototype,"openlibrary_edition",null);ae([xt()],_r.prototype,"openlibrary_work",null);ae([xt()],_r.prototype,"page_progression",null);ae([xt()],_r.prototype,"partner",null);ae([xt()],_r.prototype,"ppi",null);ae([xt()],_r.prototype,"publicdate",null);ae([xt()],_r.prototype,"publisher",null);ae([xt()],_r.prototype,"reviewdate",null);ae([xt()],_r.prototype,"runtime",null);ae([xt()],_r.prototype,"scanner",null);ae([xt()],_r.prototype,"source",null);ae([xt()],_r.prototype,"start_localtime",null);ae([xt()],_r.prototype,"start_time",null);ae([xt()],_r.prototype,"stop_time",null);ae([xt()],_r.prototype,"subject",null);ae([xt()],_r.prototype,"taper",null);ae([xt()],_r.prototype,"title",null);ae([xt()],_r.prototype,"transferer",null);ae([xt()],_r.prototype,"track",null);ae([xt()],_r.prototype,"type",null);ae([xt()],_r.prototype,"uploader",null);ae([xt()],_r.prototype,"utc_offset",null);ae([xt()],_r.prototype,"venue",null);ae([xt()],_r.prototype,"volume",null);ae([xt()],_r.prototype,"week",null);ae([xt()],_r.prototype,"year",null)});var tc,Wn,Wo,qo,Ca,ic,Zd,rc,Ea,Bn=si(()=>{tc=class{parseValue(e){return typeof e=="string"&&(e==="false"||e==="0")?!1:!!e}};tc.shared=new tc;Wn=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=parseFloat(e);if(!Number.isNaN(t))return t}};Wn.shared=new Wn;Wo=class{parseValue(e){return Wn.shared.parseValue(e)}};Wo.shared=new Wo;qo=class{parseValue(e){return this.parseJSDate(e)||this.parseBracketDate(e)}parseBracketDate(e){if(typeof e!="string")return;let t=e.match(/\[([0-9]{4})\]/);if(!(!t||t.length<2))return this.parseJSDate(t[1])}parseJSDate(e){if(typeof e!="string")return;let t=e;t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}\s{1}[0-9]{2}:[0-9]{2}:[0-9]{2}$/)&&(t=t.replace(" ","T"));let r=Date.parse(t);if(Number.isNaN(r))return;let s=new Date(t);return(t.indexOf("Z")>-1||t.indexOf("+")>-1||t.match(/^[0-9]{4}$/)||t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)||t.match(/^.*?-[0-9]{2}:[0-9]{2}$/)||t.match(/^.*?-[0-9]{4}$/))&&(s=new Date(s.getTime()+s.getTimezoneOffset()*1e3*60)),s}};qo.shared=new qo;Ca=class{parseValue(e){if(typeof e=="number")return e;if(typeof e=="boolean")return;let t=e.split(":"),r;return t.length===1?r=this.parseNumberFormat(t[0]):r=this.parseColonSeparatedFormat(t),r}parseNumberFormat(e){let t=parseFloat(e);return Number.isNaN(t)&&(t=void 0),t}parseColonSeparatedFormat(e){let t=!1,r=e.map((s,l)=>{let o=parseFloat(s);if(Number.isNaN(o))return t=!0,0;let c=On(60,e.length-1-l);return o*Math.floor(c)}).reduce((s,l)=>s+l,0);return t?void 0:r}};Ca.shared=new Ca;ic=class{parseValue(e){if(typeof e=="string")return e}};ic.shared=new ic;Zd=class{constructor(e,t){this.separators=[";",","],this.parser=e,t&&t.separators&&(this.separators=t.separators)}parseValue(e){let t=String(e),r=[];for(let s of this.separators)if(r=t.split(s),r.length>1)break;return this.parseListValues(r)}parseListValues(e){let t=e.map(s=>s.trim()).map(s=>this.parser.parseValue(s)),r=[];return t.forEach(s=>{s!==void 0&&r.push(s)}),r}},rc=class{parseValue(e){if(typeof e=="string")return e}};rc.shared=new rc;Ea=class{parseValue(e){return String(e)}};Ea.shared=new Ea});var nc,oc,Vf,qs,Uf,a6,_b,Jd=si(()=>{Va();vr();In();Bn();vr();In();Bn();nc=class{get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size!=null?Wo.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length!=null?Ca.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height!=null?Wn.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width!=null?Wn.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track!=null?Wn.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}constructor(e={}){this.rawValue=e}};ae([xt()],nc.prototype,"size",null);ae([xt()],nc.prototype,"length",null);ae([xt()],nc.prototype,"height",null);ae([xt()],nc.prototype,"width",null);ae([xt()],nc.prototype,"track",null);oc=class{get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewer_itemname(){return this.rawValue.reviewer_itemname}get reviewdate(){return this.rawValue.reviewdate!=null?qo.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate!=null?qo.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars!=null?Wn.shared.parseValue(this.rawValue.stars):void 0}constructor(e={}){this.rawValue=e}};ae([xt()],oc.prototype,"reviewdate",null);ae([xt()],oc.prototype,"createdate",null);ae([xt()],oc.prototype,"stars",null);Vf=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(s=>new nc(s)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new _r(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(s=>new oc(s))}};(function(e){e.networkError="MetadataService.NetworkError",e.itemNotFound="MetadataService.ItemNotFound",e.decodingError="MetadataService.DecodingError",e.searchEngineError="MetadataService.SearchEngineError"})(qs||(qs={}));Uf=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},a6=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}fetchMetadata(e,t){return vi(this,null,function*(){let r=t?`/${t}`:"",s=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(s,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return vi(this,null,function*(){var r;let s=new URL(e);this.requestScope&&s.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(s.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(qs.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(qs.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(qs.decodingError,c)}})}getErrorResult(e,t,r){return{error:new Uf(e,t,r)}}},_b=class{constructor(e){this.backend=e}fetchMetadata(e){return vi(this,null,function*(){var t;let r=yield this.backend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new Uf(qs.itemNotFound)}:{success:new Vf(r.success)}})}fetchMetadataValue(e,t){return vi(this,null,function*(){var r;let s=yield this.backend.fetchMetadata(e,t);return s.error?s:((r=s.success)===null||r===void 0?void 0:r.result)===void 0?{error:new Uf(qs.itemNotFound)}:{success:s.success.result}})}};_b.default=new _b(new a6)});var k6,qf,S6,A6,C6,E6,jo,T6,Wf,P6,$b,$6,L6,M6,O6,I6,R6,D6,j6,N6,B6,H6,F6,Lb,Mb,z6,Tb,Pb,U6,Gf,Yf=si(()=>{k6=Object.create,qf=Object.defineProperty,S6=Object.getOwnPropertyDescriptor,A6=Object.getOwnPropertyNames,C6=Object.getPrototypeOf,E6=Object.prototype.hasOwnProperty,jo=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),T6=(e,t)=>{for(var r in t)qf(e,r,{get:t[r],enumerable:!0})},Wf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of A6(t))!E6.call(e,l)&&l!==r&&qf(e,l,{get:()=>t[l],enumerable:!(s=S6(t,l))||s.enumerable});return e},P6=(e,t,r)=>(Wf(e,t,"default"),r&&Wf(r,t,"default")),$b=(e,t,r)=>(r=e!=null?k6(C6(e)):{},Wf(t||!e||!e.__esModule?qf(r,"default",{value:e,enumerable:!0}):r,e)),$6=jo(()=>{+function(e){"use strict";function t(){var r=document.createElement("bootstrap"),s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var l in s)if(r.style[l]!==void 0)return{end:s[l]};return!1}e.fn.emulateTransitionEnd=function(r){var s=!1,l=this;e(this).one("bsTransitionEnd",function(){s=!0});var o=function(){s||e(l).trigger(e.support.transition.end)};return setTimeout(o,r),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(r){if(e(r.target).is(this))return r.handleObj.handler.apply(this,arguments)}})})}(jQuery)}),L6=jo(()=>{+function(e){"use strict";var t='[data-dismiss="alert"]',r=function(o){e(o).on("click",t,this.close)};r.VERSION="3.4.1",r.TRANSITION_DURATION=150,r.prototype.close=function(o){var c=e(this),n=c.attr("data-target");n||(n=c.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),n=n==="#"?[]:n;var u=e(document).find(n);if(o&&o.preventDefault(),u.length||(u=c.closest(".alert")),u.trigger(o=e.Event("close.bs.alert")),o.isDefaultPrevented())return;u.removeClass("in");function h(){u.detach().trigger("closed.bs.alert").remove()}e.support.transition&&u.hasClass("fade")?u.one("bsTransitionEnd",h).emulateTransitionEnd(r.TRANSITION_DURATION):h()};function s(o){return this.each(function(){var c=e(this),n=c.data("bs.alert");n||c.data("bs.alert",n=new r(this)),typeof o=="string"&&n[o].call(c)})}var l=e.fn.alert;e.fn.alert=s,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=l,this},e(document).on("click.bs.alert.data-api",t,r.prototype.close)}(jQuery)}),M6=jo(()=>{+function(e){"use strict";var t=function(l,o){this.$element=e(l),this.options=e.extend({},t.DEFAULTS,o),this.isLoading=!1};t.VERSION="3.4.1",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(l){var o="disabled",c=this.$element,n=c.is("input")?"val":"html",u=c.data();l+="Text",u.resetText==null&&c.data("resetText",c[n]()),setTimeout(e.proxy(function(){c[n](u[l]==null?this.options[l]:u[l]),l=="loadingText"?(this.isLoading=!0,c.addClass(o).attr(o,o).prop(o,!0)):this.isLoading&&(this.isLoading=!1,c.removeClass(o).removeAttr(o).prop(o,!1))},this),0)},t.prototype.toggle=function(){var l=!0,o=this.$element.closest('[data-toggle="buttons"]');if(o.length){var c=this.$element.find("input");c.prop("type")=="radio"?(c.prop("checked")&&(l=!1),o.find(".active").removeClass("active"),this.$element.addClass("active")):c.prop("type")=="checkbox"&&(c.prop("checked")!==this.$element.hasClass("active")&&(l=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),l&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.button"),n=typeof l=="object"&&l;c||o.data("bs.button",c=new t(this,n)),l=="toggle"?c.toggle():l&&c.setState(l)})}var s=e.fn.button;e.fn.button=r,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=s,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(l){var o=e(l.target).closest(".btn");r.call(o,"toggle"),e(l.target).is('input[type="radio"], input[type="checkbox"]')||(l.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(l){e(l.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(l.type))})}(jQuery)}),O6=jo(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=600,t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},t.prototype.keydown=function(o){if(!/input|textarea/i.test(o.target.tagName)){switch(o.which){case 37:this.prev();break;case 39:this.next();break;default:return}o.preventDefault()}},t.prototype.cycle=function(o){return o||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getItemIndex=function(o){return this.$items=o.parent().children(".item"),this.$items.index(o||this.$active)},t.prototype.getItemForDirection=function(o,c){var n=this.getItemIndex(c),u=o=="prev"&&n===0||o=="next"&&n==this.$items.length-1;if(u&&!this.options.wrap)return c;var h=o=="prev"?-1:1,g=(n+h)%this.$items.length;return this.$items.eq(g)},t.prototype.to=function(o){var c=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(o>this.$items.length-1||o<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(o)}):n==o?this.pause().cycle():this.slide(o>n?"next":"prev",this.$items.eq(o))},t.prototype.pause=function(o){return o||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(!this.sliding)return this.slide("next")},t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},t.prototype.slide=function(o,c){var n=this.$element.find(".item.active"),u=c||this.getItemForDirection(o,n),h=this.interval,g=o=="next"?"left":"right",m=this;if(u.hasClass("active"))return this.sliding=!1;var y=u[0],_=e.Event("slide.bs.carousel",{relatedTarget:y,direction:g});if(this.$element.trigger(_),!_.isDefaultPrevented()){if(this.sliding=!0,h&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var w=e(this.$indicators.children()[this.getItemIndex(u)]);w&&w.addClass("active")}var k=e.Event("slid.bs.carousel",{relatedTarget:y,direction:g});return e.support.transition&&this.$element.hasClass("slide")?(u.addClass(o),typeof u=="object"&&u.length&&u[0].offsetWidth,n.addClass(g),u.addClass(g),n.one("bsTransitionEnd",function(){u.removeClass([o,g].join(" ")).addClass("active"),n.removeClass(["active",g].join(" ")),m.sliding=!1,setTimeout(function(){m.$element.trigger(k)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(n.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(k)),h&&this.cycle(),this}};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.carousel"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o),h=typeof o=="string"?o:u.slide;n||c.data("bs.carousel",n=new t(this,u)),typeof o=="number"?n.to(o):h?n[h]():u.interval&&n.pause().cycle()})}var s=e.fn.carousel;e.fn.carousel=r,e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=s,this};var l=function(o){var c=e(this),n=c.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var u=c.attr("data-target")||n,h=e(document).find(u);if(h.hasClass("carousel")){var g=e.extend({},h.data(),c.data()),m=c.attr("data-slide-to");m&&(g.interval=!1),r.call(h,g),m&&h.data("bs.carousel").to(m),o.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var o=e(this);r.call(o,o.data())})})}(jQuery)}),I6=jo(()=>{+function(e){"use strict";var t=function(o,c){this.$element=e(o),this.options=e.extend({},t.DEFAULTS,c),this.$trigger=e('[data-toggle="collapse"][href="#'+o.id+'"],[data-toggle="collapse"][data-target="#'+o.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};t.VERSION="3.4.1",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var o=this.$element.hasClass("width");return o?"width":"height"},t.prototype.show=function(){if(!(this.transitioning||this.$element.hasClass("in"))){var o,c=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(c&&c.length&&(o=c.data("bs.collapse"),o&&o.transitioning))){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){c&&c.length&&(s.call(c,"hide"),o||c.data("bs.collapse",null));var u=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return h.call(this);var g=e.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",e.proxy(h,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][g])}}}},t.prototype.hide=function(){if(!(this.transitioning||!this.$element.hasClass("in"))){var o=e.Event("hide.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return n.call(this);this.$element[c](0).one("bsTransitionEnd",e.proxy(n,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(o,c){var n=e(c);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(o,c){var n=o.hasClass("in");o.attr("aria-expanded",n),c.toggleClass("collapsed",!n).attr("aria-expanded",n)};function r(o){var c,n=o.attr("data-target")||(c=o.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function s(o){return this.each(function(){var c=e(this),n=c.data("bs.collapse"),u=e.extend({},t.DEFAULTS,c.data(),typeof o=="object"&&o);!n&&u.toggle&&/show|hide/.test(o)&&(u.toggle=!1),n||c.data("bs.collapse",n=new t(this,u)),typeof o=="string"&&n[o]()})}var l=e.fn.collapse;e.fn.collapse=s,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=l,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var c=e(this);c.attr("data-target")||o.preventDefault();var n=r(c),u=n.data("bs.collapse"),h=u?"toggle":c.data();s.call(n,h)})}(jQuery)}),R6=jo(()=>{+function(e){"use strict";var t=".dropdown-backdrop",r='[data-toggle="dropdown"]',s=function(u){e(u).on("click.bs.dropdown",this.toggle)};s.VERSION="3.4.1";function l(u){var h=u.attr("data-target");h||(h=u.attr("href"),h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,""));var g=h!=="#"?e(document).find(h):null;return g&&g.length?g:u.parent()}function o(u){u&&u.which===3||(e(t).remove(),e(r).each(function(){var h=e(this),g=l(h),m={relatedTarget:this};g.hasClass("open")&&(u&&u.type=="click"&&/input|textarea/i.test(u.target.tagName)&&e.contains(g[0],u.target)||(g.trigger(u=e.Event("hide.bs.dropdown",m)),!u.isDefaultPrevented()&&(h.attr("aria-expanded","false"),g.removeClass("open").trigger(e.Event("hidden.bs.dropdown",m)))))}))}s.prototype.toggle=function(u){var h=e(this);if(!h.is(".disabled, :disabled")){var g=l(h),m=g.hasClass("open");if(o(),!m){"ontouchstart"in document.documentElement&&!g.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",o);var y={relatedTarget:this};if(g.trigger(u=e.Event("show.bs.dropdown",y)),u.isDefaultPrevented())return;h.trigger("focus").attr("aria-expanded","true"),g.toggleClass("open").trigger(e.Event("shown.bs.dropdown",y))}return!1}},s.prototype.keydown=function(u){if(!(!/(38|40|27|32)/.test(u.which)||/input|textarea/i.test(u.target.tagName))){var h=e(this);if(u.preventDefault(),u.stopPropagation(),!h.is(".disabled, :disabled")){var g=l(h),m=g.hasClass("open");if(!m&&u.which!=27||m&&u.which==27)return u.which==27&&g.find(r).trigger("focus"),h.trigger("click");var y=" li:not(.disabled):visible a",_=g.find(".dropdown-menu"+y);if(_.length){var w=_.index(u.target);u.which==38&&w>0&&w--,u.which==40&&w<_.length-1&&w++,~w||(w=0),_.eq(w).trigger("focus")}}}};function c(u){return this.each(function(){var h=e(this),g=h.data("bs.dropdown");g||h.data("bs.dropdown",g=new s(this)),typeof u=="string"&&g[u].call(h)})}var n=e.fn.dropdown;e.fn.dropdown=c,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(u){u.stopPropagation()}).on("click.bs.dropdown.data-api",r,s.prototype.toggle).on("keydown.bs.dropdown.data-api",r,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery)}),D6=jo(()=>{+function(e){"use strict";var t=function(l,o){this.options=o,this.$body=e(document.body),this.$element=e(l),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.VERSION="3.4.1",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(l){return this.isShown?this.hide():this.show(l)},t.prototype.show=function(l){var o=this,c=e.Event("show.bs.modal",{relatedTarget:l});this.$element.trigger(c),!(this.isShown||c.isDefaultPrevented())&&(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(n){e(n.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=e.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var u=e.Event("shown.bs.modal",{relatedTarget:l});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):o.$element.trigger("focus").trigger(u)}))},t.prototype.hide=function(l){l&&l.preventDefault(),l=e.Event("hide.bs.modal"),this.$element.trigger(l),!(!this.isShown||l.isDefaultPrevented())&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(l){document!==l.target&&this.$element[0]!==l.target&&!this.$element.has(l.target).length&&this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(l){l.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var l=this;this.$element.hide(),this.backdrop(function(){l.$body.removeClass("modal-open"),l.resetAdjustments(),l.resetScrollbar(),l.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(l){var o=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&c;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+c).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(h){if(this.ignoreBackdropClick){this.ignoreBackdropClick=!1;return}h.target===h.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!l)return;n?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):l()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var u=function(){o.removeBackdrop(),l&&l()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()}else l&&l()},t.prototype.handleUpdate=function(){this.adjustDialog()},t.prototype.adjustDialog=function(){var l=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&l?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!l?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){var l=window.innerWidth;if(!l){var o=document.documentElement.getBoundingClientRect();l=o.right-Math.abs(o.left)}this.bodyIsOverflowing=document.body.clientWidth<l,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var l=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",l+o),e(this.fixedContent).each(function(c,n){var u=n.style.paddingRight,h=e(n).css("padding-right");e(n).data("padding-right",u).css("padding-right",parseFloat(h)+o+"px")}))},t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(l,o){var c=e(o).data("padding-right");e(o).removeData("padding-right"),o.style.paddingRight=c||""})},t.prototype.measureScrollbar=function(){var l=document.createElement("div");l.className="modal-scrollbar-measure",this.$body.append(l);var o=l.offsetWidth-l.clientWidth;return this.$body[0].removeChild(l),o};function r(l,o){return this.each(function(){var c=e(this),n=c.data("bs.modal"),u=e.extend({},t.DEFAULTS,c.data(),typeof l=="object"&&l);n||c.data("bs.modal",n=new t(this,u)),typeof l=="string"?n[l](o):u.show&&n.show(o)})}var s=e.fn.modal;e.fn.modal=r,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=s,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(l){var o=e(this),c=o.attr("href"),n=o.attr("data-target")||c&&c.replace(/.*(?=#[^\s]+$)/,""),u=e(document).find(n),h=u.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(c)&&c},u.data(),o.data());o.is("a")&&l.preventDefault(),u.one("show.bs.modal",function(g){g.isDefaultPrevented()||u.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),r.call(u,h,this)})}(jQuery)}),j6=jo(()=>{+function(e){"use strict";var t=["sanitize","whiteList","sanitizeFn"],r=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],s=/^aria-[\w-]*$/i,l={"*":["class","dir","id","lang","role",s],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},o=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,c=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function n(y,_){var w=y.nodeName.toLowerCase();if(e.inArray(w,_)!==-1)return e.inArray(w,r)!==-1?!!(y.nodeValue.match(o)||y.nodeValue.match(c)):!0;for(var k=e(_).filter(function(T,E){return E instanceof RegExp}),A=0,L=k.length;A<L;A++)if(w.match(k[A]))return!0;return!1}function u(y,_,w){if(y.length===0)return y;if(w&&typeof w=="function")return w(y);if(!document.implementation||!document.implementation.createHTMLDocument)return y;var k=document.implementation.createHTMLDocument("sanitization");k.body.innerHTML=y;for(var A=e.map(_,function(N,G){return G}),L=e(k.body).find("*"),T=0,E=L.length;T<E;T++){var a=L[T],p=a.nodeName.toLowerCase();if(e.inArray(p,A)===-1){a.parentNode.removeChild(a);continue}for(var v=e.map(a.attributes,function(N){return N}),d=[].concat(_["*"]||[],_[p]||[]),x=0,C=v.length;x<C;x++)n(v[x],d)||a.removeAttribute(v[x].nodeName)}return k.body.innerHTML}var h=function(y,_){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",y,_)};h.VERSION="3.4.1",h.TRANSITION_DURATION=150,h.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:l},h.prototype.init=function(y,_,w){if(this.enabled=!0,this.type=y,this.$element=e(_),this.options=this.getOptions(w),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var k=this.options.trigger.split(" "),A=k.length;A--;){var L=k[A];if(L=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(L!="manual"){var T=L=="hover"?"mouseenter":"focusin",E=L=="hover"?"mouseleave":"focusout";this.$element.on(T+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(E+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},h.prototype.getDefaults=function(){return h.DEFAULTS},h.prototype.getOptions=function(y){var _=this.$element.data();for(var w in _)_.hasOwnProperty(w)&&e.inArray(w,t)!==-1&&delete _[w];return y=e.extend({},this.getDefaults(),_,y),y.delay&&typeof y.delay=="number"&&(y.delay={show:y.delay,hide:y.delay}),y.sanitize&&(y.template=u(y.template,y.whiteList,y.sanitizeFn)),y},h.prototype.getDelegateOptions=function(){var y={},_=this.getDefaults();return this._options&&e.each(this._options,function(w,k){_[w]!=k&&(y[w]=k)}),y},h.prototype.enter=function(y){var _=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(_||(_=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,_)),y instanceof e.Event&&(_.inState[y.type=="focusin"?"focus":"hover"]=!0),_.tip().hasClass("in")||_.hoverState=="in"){_.hoverState="in";return}if(clearTimeout(_.timeout),_.hoverState="in",!_.options.delay||!_.options.delay.show)return _.show();_.timeout=setTimeout(function(){_.hoverState=="in"&&_.show()},_.options.delay.show)},h.prototype.isInStateTrue=function(){for(var y in this.inState)if(this.inState[y])return!0;return!1},h.prototype.leave=function(y){var _=y instanceof this.constructor?y:e(y.currentTarget).data("bs."+this.type);if(_||(_=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,_)),y instanceof e.Event&&(_.inState[y.type=="focusout"?"focus":"hover"]=!1),!_.isInStateTrue()){if(clearTimeout(_.timeout),_.hoverState="out",!_.options.delay||!_.options.delay.hide)return _.hide();_.timeout=setTimeout(function(){_.hoverState=="out"&&_.hide()},_.options.delay.hide)}},h.prototype.show=function(){var y=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(y);var _=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(y.isDefaultPrevented()||!_)return;var w=this,k=this.tip(),A=this.getUID(this.type);this.setContent(),k.attr("id",A),this.$element.attr("aria-describedby",A),this.options.animation&&k.addClass("fade");var L=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement,T=/\s?auto?\s?/i,E=T.test(L);E&&(L=L.replace(T,"")||"top"),k.detach().css({top:0,left:0,display:"block"}).addClass(L).data("bs."+this.type,this),this.options.container?k.appendTo(e(document).find(this.options.container)):k.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var a=this.getPosition(),p=k[0].offsetWidth,v=k[0].offsetHeight;if(E){var d=L,x=this.getPosition(this.$viewport);L=L=="bottom"&&a.bottom+v>x.bottom?"top":L=="top"&&a.top-v<x.top?"bottom":L=="right"&&a.right+p>x.width?"left":L=="left"&&a.left-p<x.left?"right":L,k.removeClass(d).addClass(L)}var C=this.getCalculatedOffset(L,a,p,v);this.applyPlacement(C,L);var N=function(){var G=w.hoverState;w.$element.trigger("shown.bs."+w.type),w.hoverState=null,G=="out"&&w.leave(w)};e.support.transition&&this.$tip.hasClass("fade")?k.one("bsTransitionEnd",N).emulateTransitionEnd(h.TRANSITION_DURATION):N()}},h.prototype.applyPlacement=function(y,_){var w=this.tip(),k=w[0].offsetWidth,A=w[0].offsetHeight,L=parseInt(w.css("margin-top"),10),T=parseInt(w.css("margin-left"),10);isNaN(L)&&(L=0),isNaN(T)&&(T=0),y.top+=L,y.left+=T,e.offset.setOffset(w[0],e.extend({using:function(C){w.css({top:Math.round(C.top),left:Math.round(C.left)})}},y),0),w.addClass("in");var E=w[0].offsetWidth,a=w[0].offsetHeight;_=="top"&&a!=A&&(y.top=y.top+A-a);var p=this.getViewportAdjustedDelta(_,y,E,a);p.left?y.left+=p.left:y.top+=p.top;var v=/top|bottom/.test(_),d=v?p.left*2-k+E:p.top*2-A+a,x=v?"offsetWidth":"offsetHeight";w.offset(y),this.replaceArrow(d,w[0][x],v)},h.prototype.replaceArrow=function(y,_,w){this.arrow().css(w?"left":"top",50*(1-y/_)+"%").css(w?"top":"left","")},h.prototype.setContent=function(){var y=this.tip(),_=this.getTitle();this.options.html?(this.options.sanitize&&(_=u(_,this.options.whiteList,this.options.sanitizeFn)),y.find(".tooltip-inner").html(_)):y.find(".tooltip-inner").text(_),y.removeClass("fade in top bottom left right")},h.prototype.hide=function(y){var _=this,w=e(this.$tip),k=e.Event("hide.bs."+this.type);function A(){_.hoverState!="in"&&w.detach(),_.$element&&_.$element.removeAttr("aria-describedby").trigger("hidden.bs."+_.type),y&&y()}if(this.$element.trigger(k),!k.isDefaultPrevented())return w.removeClass("in"),e.support.transition&&w.hasClass("fade")?w.one("bsTransitionEnd",A).emulateTransitionEnd(h.TRANSITION_DURATION):A(),this.hoverState=null,this},h.prototype.fixTitle=function(){var y=this.$element;(y.attr("title")||typeof y.attr("data-original-title")!="string")&&y.attr("data-original-title",y.attr("title")||"").attr("title","")},h.prototype.hasContent=function(){return this.getTitle()},h.prototype.getPosition=function(y){y=y||this.$element;var _=y[0],w=_.tagName=="BODY",k=_.getBoundingClientRect();k.width==null&&(k=e.extend({},k,{width:k.right-k.left,height:k.bottom-k.top}));var A=window.SVGElement&&_ instanceof window.SVGElement,L=w?{top:0,left:0}:A?null:y.offset(),T={scroll:w?document.documentElement.scrollTop||document.body.scrollTop:y.scrollTop()},E=w?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},k,T,E,L)},h.prototype.getCalculatedOffset=function(y,_,w,k){return y=="bottom"?{top:_.top+_.height,left:_.left+_.width/2-w/2}:y=="top"?{top:_.top-k,left:_.left+_.width/2-w/2}:y=="left"?{top:_.top+_.height/2-k/2,left:_.left-w}:{top:_.top+_.height/2-k/2,left:_.left+_.width}},h.prototype.getViewportAdjustedDelta=function(y,_,w,k){var A={top:0,left:0};if(!this.$viewport)return A;var L=this.options.viewport&&this.options.viewport.padding||0,T=this.getPosition(this.$viewport);if(/right|left/.test(y)){var E=_.top-L-T.scroll,a=_.top+L-T.scroll+k;E<T.top?A.top=T.top-E:a>T.top+T.height&&(A.top=T.top+T.height-a)}else{var p=_.left-L,v=_.left+L+w;p<T.left?A.left=T.left-p:v>T.right&&(A.left=T.left+T.width-v)}return A},h.prototype.getTitle=function(){var y,_=this.$element,w=this.options;return y=_.attr("data-original-title")||(typeof w.title=="function"?w.title.call(_[0]):w.title),y},h.prototype.getUID=function(y){do y+=~~(Math.random()*1e6);while(document.getElementById(y));return y},h.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),this.$tip.length!=1))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},h.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},h.prototype.enable=function(){this.enabled=!0},h.prototype.disable=function(){this.enabled=!1},h.prototype.toggleEnabled=function(){this.enabled=!this.enabled},h.prototype.toggle=function(y){var _=this;y&&(_=e(y.currentTarget).data("bs."+this.type),_||(_=new this.constructor(y.currentTarget,this.getDelegateOptions()),e(y.currentTarget).data("bs."+this.type,_))),y?(_.inState.click=!_.inState.click,_.isInStateTrue()?_.enter(_):_.leave(_)):_.tip().hasClass("in")?_.leave(_):_.enter(_)},h.prototype.destroy=function(){var y=this;clearTimeout(this.timeout),this.hide(function(){y.$element.off("."+y.type).removeData("bs."+y.type),y.$tip&&y.$tip.detach(),y.$tip=null,y.$arrow=null,y.$viewport=null,y.$element=null})},h.prototype.sanitizeHtml=function(y){return u(y,this.options.whiteList,this.options.sanitizeFn)};function g(y){return this.each(function(){var _=e(this),w=_.data("bs.tooltip"),k=typeof y=="object"&&y;!w&&/destroy|hide/.test(y)||(w||_.data("bs.tooltip",w=new h(this,k)),typeof y=="string"&&w[y]())})}var m=e.fn.tooltip;e.fn.tooltip=g,e.fn.tooltip.Constructor=h,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=m,this}}(jQuery)}),N6=jo(()=>{+function(e){"use strict";var t=function(l,o){this.init("popover",l,o)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var l=this.tip(),o=this.getTitle(),c=this.getContent();if(this.options.html){var n=typeof c;this.options.sanitize&&(o=this.sanitizeHtml(o),n==="string"&&(c=this.sanitizeHtml(c))),l.find(".popover-title").html(o),l.find(".popover-content").children().detach().end()[n==="string"?"html":"append"](c)}else l.find(".popover-title").text(o),l.find(".popover-content").children().detach().end().text(c);l.removeClass("fade top bottom left right in"),l.find(".popover-title").html()||l.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var l=this.$element,o=this.options;return l.attr("data-content")||(typeof o.content=="function"?o.content.call(l[0]):o.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.popover"),n=typeof l=="object"&&l;!c&&/destroy|hide/.test(l)||(c||o.data("bs.popover",c=new t(this,n)),typeof l=="string"&&c[l]())})}var s=e.fn.popover;e.fn.popover=r,e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=s,this}}(jQuery)}),B6=jo(()=>{+function(e){"use strict";function t(l,o){this.$body=e(document.body),this.$scrollElement=e(l).is(document.body)?e(window):e(l),this.options=e.extend({},t.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var l=this,o="offset",c=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",c=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var n=e(this),u=n.data("target")||n.attr("href"),h=/^#./.test(u)&&e(u);return h&&h.length&&h.is(":visible")&&[[h[o]().top+c,u]]||null}).sort(function(n,u){return n[0]-u[0]}).each(function(){l.offsets.push(this[0]),l.targets.push(this[1])})},t.prototype.process=function(){var l=this.$scrollElement.scrollTop()+this.options.offset,o=this.getScrollHeight(),c=this.options.offset+o-this.$scrollElement.height(),n=this.offsets,u=this.targets,h=this.activeTarget,g;if(this.scrollHeight!=o&&this.refresh(),l>=c)return h!=(g=u[u.length-1])&&this.activate(g);if(h&&l<n[0])return this.activeTarget=null,this.clear();for(g=n.length;g--;)h!=u[g]&&l>=n[g]&&(n[g+1]===void 0||l<n[g+1])&&this.activate(u[g])},t.prototype.activate=function(l){this.activeTarget=l,this.clear();var o=this.selector+'[data-target="'+l+'"],'+this.selector+'[href="'+l+'"]',c=e(o).parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.scrollspy"),n=typeof l=="object"&&l;c||o.data("bs.scrollspy",c=new t(this,n)),typeof l=="string"&&c[l]()})}var s=e.fn.scrollspy;e.fn.scrollspy=r,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=s,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var l=e(this);r.call(l,l.data())})})}(jQuery)}),H6=jo(()=>{+function(e){"use strict";var t=function(o){this.element=e(o)};t.VERSION="3.4.1",t.TRANSITION_DURATION=150,t.prototype.show=function(){var o=this.element,c=o.closest("ul:not(.dropdown-menu)"),n=o.data("target");if(n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!o.parent("li").hasClass("active")){var u=c.find(".active:last a"),h=e.Event("hide.bs.tab",{relatedTarget:o[0]}),g=e.Event("show.bs.tab",{relatedTarget:u[0]});if(u.trigger(h),o.trigger(g),!(g.isDefaultPrevented()||h.isDefaultPrevented())){var m=e(document).find(n);this.activate(o.closest("li"),c),this.activate(m,m.parent(),function(){u.trigger({type:"hidden.bs.tab",relatedTarget:o[0]}),o.trigger({type:"shown.bs.tab",relatedTarget:u[0]})})}}},t.prototype.activate=function(o,c,n){var u=c.find("> .active"),h=n&&e.support.transition&&(u.length&&u.hasClass("fade")||!!c.find("> .fade").length);function g(){u.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),o.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(o[0].offsetWidth,o.addClass("in")):o.removeClass("fade"),o.parent(".dropdown-menu").length&&o.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}u.length&&h?u.one("bsTransitionEnd",g).emulateTransitionEnd(t.TRANSITION_DURATION):g(),u.removeClass("in")};function r(o){return this.each(function(){var c=e(this),n=c.data("bs.tab");n||c.data("bs.tab",n=new t(this)),typeof o=="string"&&n[o]()})}var s=e.fn.tab;e.fn.tab=r,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=s,this};var l=function(o){o.preventDefault(),r.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery)}),F6=jo(()=>{+function(e){"use strict";var t=function(l,o){this.options=e.extend({},t.DEFAULTS,o);var c=this.options.target===t.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=c.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(l),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};t.VERSION="3.4.1",t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0,target:window},t.prototype.getState=function(l,o,c,n){var u=this.$target.scrollTop(),h=this.$element.offset(),g=this.$target.height();if(c!=null&&this.affixed=="top")return u<c?"top":!1;if(this.affixed=="bottom")return c!=null?u+this.unpin<=h.top?!1:"bottom":u+g<=l-n?!1:"bottom";var m=this.affixed==null,y=m?u:h.top,_=m?g:o;return c!=null&&u<=c?"top":n!=null&&y+_>=l-n?"bottom":!1},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var l=this.$target.scrollTop(),o=this.$element.offset();return this.pinnedOffset=o.top-l},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var l=this.$element.height(),o=this.options.offset,c=o.top,n=o.bottom,u=Math.max(e(document).height(),e(document.body).height());typeof o!="object"&&(n=c=o),typeof c=="function"&&(c=o.top(this.$element)),typeof n=="function"&&(n=o.bottom(this.$element));var h=this.getState(u,l,c,n);if(this.affixed!=h){this.unpin!=null&&this.$element.css("top","");var g="affix"+(h?"-"+h:""),m=e.Event(g+".bs.affix");if(this.$element.trigger(m),m.isDefaultPrevented())return;this.affixed=h,this.unpin=h=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(g).trigger(g.replace("affix","affixed")+".bs.affix")}h=="bottom"&&this.$element.offset({top:u-l-n})}};function r(l){return this.each(function(){var o=e(this),c=o.data("bs.affix"),n=typeof l=="object"&&l;c||o.data("bs.affix",c=new t(this,n)),typeof l=="string"&&c[l]()})}var s=e.fn.affix;e.fn.affix=r,e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=s,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var l=e(this),o=l.data();o.offset=o.offset||{},o.offsetBottom!=null&&(o.offset.bottom=o.offsetBottom),o.offsetTop!=null&&(o.offset.top=o.offsetTop),r.call(l,o)})})}(jQuery)}),Lb=jo(()=>{$6(),L6(),M6(),O6(),I6(),R6(),D6(),j6(),N6(),B6(),H6(),F6()}),Mb={};T6(Mb,{default:()=>Gf});z6=$b(Lb());P6(Mb,$b(Lb()));Tb=z6,{default:Pb}=Tb,U6=nn(Tb,["default"]),Gf=Pb!==void 0?Pb:U6});var Kf={};Fn(Kf,{default:()=>Gf});var Xf=si(()=>{Yf();Yf()});var V6,Jf,W6,q6,G6,Y6,K6,X6,Zf,Z6,Rb,Db,jb,J6,Ob,Ib,Q6,Qf,em=si(()=>{V6=Object.create,Jf=Object.defineProperty,W6=Object.getOwnPropertyDescriptor,q6=Object.getOwnPropertyNames,G6=Object.getPrototypeOf,Y6=Object.prototype.hasOwnProperty,K6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),X6=(e,t)=>{for(var r in t)Jf(e,r,{get:t[r],enumerable:!0})},Zf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of q6(t))!Y6.call(e,l)&&l!==r&&Jf(e,l,{get:()=>t[l],enumerable:!(s=W6(t,l))||s.enumerable});return e},Z6=(e,t,r)=>(Zf(e,t,"default"),r&&Zf(r,t,"default")),Rb=(e,t,r)=>(r=e!=null?V6(G6(e)):{},Zf(t||!e||!e.__esModule?Jf(r,"default",{value:e,enumerable:!0}):r,e)),Db=K6(()=>{(function(e){e.color={},e.color.make=function(r,s,l,o){var c={};return c.r=r||0,c.g=s||0,c.b=l||0,c.a=o!=null?o:1,c.add=function(n,u){for(var h=0;h<n.length;++h)c[n.charAt(h)]+=u;return c.normalize()},c.scale=function(n,u){for(var h=0;h<n.length;++h)c[n.charAt(h)]*=u;return c.normalize()},c.toString=function(){return c.a>=1?"rgb("+[c.r,c.g,c.b].join(",")+")":"rgba("+[c.r,c.g,c.b,c.a].join(",")+")"},c.normalize=function(){function n(u,h,g){return h<u?u:h>g?g:h}return c.r=n(0,parseInt(c.r),255),c.g=n(0,parseInt(c.g),255),c.b=n(0,parseInt(c.b),255),c.a=n(0,c.a,1),c},c.clone=function(){return e.color.make(c.r,c.b,c.g,c.a)},c.normalize()},e.color.extract=function(r,s){var l;do{if(l=r.css(s).toLowerCase(),l!=""&&l!="transparent")break;r=r.parent()}while(r.length&&!e.nodeName(r.get(0),"body"));return l=="rgba(0, 0, 0, 0)"&&(l="transparent"),e.color.parse(l)},e.color.parse=function(r){var s,l=e.color.make;if(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return l(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10));if(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),parseFloat(s[4]));if(s=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return l(parseFloat(s[1])*2.55,parseFloat(s[2])*2.55,parseFloat(s[3])*2.55);if(s=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(r))return l(parseFloat(s[1])*2.55,parseFloat(s[2])*2.55,parseFloat(s[3])*2.55,parseFloat(s[4]));if(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return l(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16));if(s=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return l(parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16));var o=e.trim(r).toLowerCase();return o=="transparent"?l(255,255,255,0):(s=t[o]||[0,0,0],l(s[0],s[1],s[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery),function(e){var t=Object.prototype.hasOwnProperty;e.fn.detach||(e.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})});function r(o,c){var n=c.children("."+o)[0];if(n==null&&(n=document.createElement("canvas"),n.className=o,e(n).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!n.getContext))if(window.G_vmlCanvasManager)n=window.G_vmlCanvasManager.initElement(n);else throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");this.element=n;var u=this.context=n.getContext("2d"),h=window.devicePixelRatio||1,g=u.webkitBackingStorePixelRatio||u.mozBackingStorePixelRatio||u.msBackingStorePixelRatio||u.oBackingStorePixelRatio||u.backingStorePixelRatio||1;this.pixelRatio=h/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}r.prototype.resize=function(o,c){if(o<=0||c<=0)throw new Error("Invalid dimensions for plot, width = "+o+", height = "+c);var n=this.element,u=this.context,h=this.pixelRatio;this.width!=o&&(n.width=o*h,n.style.width=o+"px",this.width=o),this.height!=c&&(n.height=c*h,n.style.height=c+"px",this.height=c),u.restore(),u.save(),u.scale(h,h)},r.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},r.prototype.render=function(){var o=this._textCache;for(var c in o)if(t.call(o,c)){var n=this.getTextLayer(c),u=o[c];n.hide();for(var h in u)if(t.call(u,h)){var g=u[h];for(var m in g)if(t.call(g,m)){for(var y=g[m].positions,_=0,w;w=y[_];_++)w.active?w.rendered||(n.append(w.element),w.rendered=!0):(y.splice(_--,1),w.rendered&&w.element.detach());y.length==0&&delete g[m]}}n.show()}},r.prototype.getTextLayer=function(o){var c=this.text[o];return c==null&&(this.textContainer==null&&(this.textContainer=e("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[o]=e("<div></div>").addClass(o).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},r.prototype.getTextInfo=function(o,c,n,u,h){var g,m,y,_;if(c=""+c,typeof n=="object"?g=n.style+" "+n.variant+" "+n.weight+" "+n.size+"px/"+n.lineHeight+"px "+n.family:g=n,m=this._textCache[o],m==null&&(m=this._textCache[o]={}),y=m[g],y==null&&(y=m[g]={}),_=y[c],_==null){var w=e("<div></div>").html(c).css({position:"absolute","max-width":h,top:-9999}).appendTo(this.getTextLayer(o));typeof n=="object"?w.css({font:g,color:n.color}):typeof n=="string"&&w.addClass(n),_=y[c]={width:w.outerWidth(!0),height:w.outerHeight(!0),element:w,positions:[]},w.detach()}return _},r.prototype.addText=function(o,c,n,u,h,g,m,y,_){var w=this.getTextInfo(o,u,h,g,m),k=w.positions;y=="center"?c-=w.width/2:y=="right"&&(c-=w.width),_=="middle"?n-=w.height/2:_=="bottom"&&(n-=w.height);for(var A=0,L;L=k[A];A++)if(L.x==c&&L.y==n){L.active=!0;return}L={active:!0,rendered:!1,element:k.length?w.element.clone():w.element,x:c,y:n},k.push(L),L.element.css({top:Math.round(n),left:Math.round(c),"text-align":y})},r.prototype.removeText=function(o,c,n,u,h,g){if(u==null){var m=this._textCache[o];if(m!=null){for(var y in m)if(t.call(m,y)){var _=m[y];for(var w in _)if(t.call(_,w))for(var k=_[w].positions,A=0,L;L=k[A];A++)L.active=!1}}}else for(var k=this.getTextInfo(o,u,h,g).positions,A=0,L;L=k[A];A++)L.x==c&&L.y==n&&(L.active=!1)};function s(o,c,n,u){var h=[],g={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:16.666666666666668},hooks:{}},m=null,y=null,_=null,w=null,k=null,A=[],L=[],T={left:0,right:0,top:0,bottom:0},E=0,a=0,p={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},v=this;v.setData=N,v.setupGrid=ht,v.draw=Re,v.getPlaceholder=function(){return o},v.getCanvas=function(){return m.element},v.getPlotOffset=function(){return T},v.width=function(){return E},v.height=function(){return a},v.offset=function(){var I=_.offset();return I.left+=T.left,I.top+=T.top,I},v.getData=function(){return h},v.getAxes=function(){var I={},Ue;return e.each(A.concat(L),function(_e,Ve){Ve&&(I[Ve.direction+(Ve.n!=1?Ve.n:"")+"axis"]=Ve)}),I},v.getXAxes=function(){return A},v.getYAxes=function(){return L},v.c2p=oe,v.p2c=J,v.getOptions=function(){return g},v.highlight=ui,v.unhighlight=Ot,v.triggerRedrawOverlay=ti,v.pointOffset=function(I){return{left:parseInt(A[q(I,"x")-1].p2c(+I.x)+T.left,10),top:parseInt(L[q(I,"y")-1].p2c(+I.y)+T.top,10)}},v.shutdown=de,v.destroy=function(){de(),o.removeData("plot").empty(),h=[],g=null,m=null,y=null,_=null,w=null,k=null,A=[],L=[],p=null,Ce=[],v=null},v.resize=function(){var I=o.width(),Ue=o.height();m.resize(I,Ue),y.resize(I,Ue)},v.hooks=p,x(v),C(n),W(),N(c),ht(),Re(),se();function d(I,Ue){Ue=[v].concat(Ue);for(var _e=0;_e<I.length;++_e)I[_e].apply(this,Ue)}function x(){for(var I={Canvas:r},Ue=0;Ue<u.length;++Ue){var _e=u[Ue];_e.init(v,I),_e.options&&e.extend(!0,g,_e.options)}}function C(I){e.extend(!0,g,I),I&&I.colors&&(g.colors=I.colors),g.xaxis.color==null&&(g.xaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.yaxis.color==null&&(g.yaxis.color=e.color.parse(g.grid.color).scale("a",.22).toString()),g.xaxis.tickColor==null&&(g.xaxis.tickColor=g.grid.tickColor||g.xaxis.color),g.yaxis.tickColor==null&&(g.yaxis.tickColor=g.grid.tickColor||g.yaxis.color),g.grid.borderColor==null&&(g.grid.borderColor=g.grid.color),g.grid.tickColor==null&&(g.grid.tickColor=e.color.parse(g.grid.color).scale("a",.22).toString());var Ue,_e,Ve,Xe=o.css("font-size"),ut=Xe?+Xe.replace("px",""):13,re={style:o.css("font-style"),size:Math.round(.8*ut),variant:o.css("font-variant"),weight:o.css("font-weight"),family:o.css("font-family")};for(Ve=g.xaxes.length||1,Ue=0;Ue<Ve;++Ue)_e=g.xaxes[Ue],_e&&!_e.tickColor&&(_e.tickColor=_e.color),_e=e.extend(!0,{},g.xaxis,_e),g.xaxes[Ue]=_e,_e.font&&(_e.font=e.extend({},re,_e.font),_e.font.color||(_e.font.color=_e.color),_e.font.lineHeight||(_e.font.lineHeight=Math.round(_e.font.size*1.15)));for(Ve=g.yaxes.length||1,Ue=0;Ue<Ve;++Ue)_e=g.yaxes[Ue],_e&&!_e.tickColor&&(_e.tickColor=_e.color),_e=e.extend(!0,{},g.yaxis,_e),g.yaxes[Ue]=_e,_e.font&&(_e.font=e.extend({},re,_e.font),_e.font.color||(_e.font.color=_e.color),_e.font.lineHeight||(_e.font.lineHeight=Math.round(_e.font.size*1.15)));for(g.xaxis.noTicks&&g.xaxis.ticks==null&&(g.xaxis.ticks=g.xaxis.noTicks),g.yaxis.noTicks&&g.yaxis.ticks==null&&(g.yaxis.ticks=g.yaxis.noTicks),g.x2axis&&(g.xaxes[1]=e.extend(!0,{},g.xaxis,g.x2axis),g.xaxes[1].position="top",g.x2axis.min==null&&(g.xaxes[1].min=null),g.x2axis.max==null&&(g.xaxes[1].max=null)),g.y2axis&&(g.yaxes[1]=e.extend(!0,{},g.yaxis,g.y2axis),g.yaxes[1].position="right",g.y2axis.min==null&&(g.yaxes[1].min=null),g.y2axis.max==null&&(g.yaxes[1].max=null)),g.grid.coloredAreas&&(g.grid.markings=g.grid.coloredAreas),g.grid.coloredAreasColor&&(g.grid.markingsColor=g.grid.coloredAreasColor),g.lines&&e.extend(!0,g.series.lines,g.lines),g.points&&e.extend(!0,g.series.points,g.points),g.bars&&e.extend(!0,g.series.bars,g.bars),g.shadowSize!=null&&(g.series.shadowSize=g.shadowSize),g.highlightColor!=null&&(g.series.highlightColor=g.highlightColor),Ue=0;Ue<g.xaxes.length;++Ue)Q(A,Ue+1).options=g.xaxes[Ue];for(Ue=0;Ue<g.yaxes.length;++Ue)Q(L,Ue+1).options=g.yaxes[Ue];for(var Pe in p)g.hooks[Pe]&&g.hooks[Pe].length&&(p[Pe]=p[Pe].concat(g.hooks[Pe]));d(p.processOptions,[g])}function N(I){h=G(I),Oe(),ge()}function G(I){for(var Ue=[],_e=0;_e<I.length;++_e){var Ve=e.extend(!0,{},g.series);I[_e].data!=null?(Ve.data=I[_e].data,delete I[_e].data,e.extend(!0,Ve,I[_e]),I[_e].data=Ve.data):Ve.data=I[_e],Ue.push(Ve)}return Ue}function q(I,Ue){var _e=I[Ue+"axis"];return typeof _e=="object"&&(_e=_e.n),typeof _e!="number"&&(_e=1),_e}function K(){return e.grep(A.concat(L),function(I){return I})}function oe(I){var Ue={},_e,Ve;for(_e=0;_e<A.length;++_e)Ve=A[_e],Ve&&Ve.used&&(Ue["x"+Ve.n]=Ve.c2p(I.left));for(_e=0;_e<L.length;++_e)Ve=L[_e],Ve&&Ve.used&&(Ue["y"+Ve.n]=Ve.c2p(I.top));return Ue.x1!==void 0&&(Ue.x=Ue.x1),Ue.y1!==void 0&&(Ue.y=Ue.y1),Ue}function J(I){var Ue={},_e,Ve,Xe;for(_e=0;_e<A.length;++_e)if(Ve=A[_e],Ve&&Ve.used&&(Xe="x"+Ve.n,I[Xe]==null&&Ve.n==1&&(Xe="x"),I[Xe]!=null)){Ue.left=Ve.p2c(I[Xe]);break}for(_e=0;_e<L.length;++_e)if(Ve=L[_e],Ve&&Ve.used&&(Xe="y"+Ve.n,I[Xe]==null&&Ve.n==1&&(Xe="y"),I[Xe]!=null)){Ue.top=Ve.p2c(I[Xe]);break}return Ue}function Q(I,Ue){return I[Ue-1]||(I[Ue-1]={n:Ue,direction:I==A?"x":"y",options:e.extend(!0,{},I==A?g.xaxis:g.yaxis)}),I[Ue-1]}function Oe(){var I=h.length,Ue=-1,_e;for(_e=0;_e<h.length;++_e){var Ve=h[_e].color;Ve!=null&&(I--,typeof Ve=="number"&&Ve>Ue&&(Ue=Ve))}I<=Ue&&(I=Ue+1);var Xe,ut=[],re=g.colors,Pe=re.length,He=0;for(_e=0;_e<I;_e++)Xe=e.color.parse(re[_e%Pe]||"#666"),_e%Pe==0&&_e&&(He>=0?He<.5?He=-He-.2:He=0:He=-He),ut[_e]=Xe.scale("rgb",1+He);var vt=0,lt;for(_e=0;_e<h.length;++_e){if(lt=h[_e],lt.color==null?(lt.color=ut[vt].toString(),++vt):typeof lt.color=="number"&&(lt.color=ut[lt.color].toString()),lt.lines.show==null){var Et,Ut=!0;for(Et in lt)if(lt[Et]&&lt[Et].show){Ut=!1;break}Ut&&(lt.lines.show=!0)}lt.lines.zero==null&&(lt.lines.zero=!!lt.lines.fill),lt.xaxis=Q(A,q(lt,"x")),lt.yaxis=Q(L,q(lt,"y"))}}function ge(){var I=Number.POSITIVE_INFINITY,Ue=Number.NEGATIVE_INFINITY,_e=Number.MAX_VALUE,Ve,Xe,ut,re,Pe,He,vt,lt,Et,Ut,Jt,Lt,jt,Ye,Me,De;function et(ei,ki,qt){ki<ei.datamin&&ki!=-_e&&(ei.datamin=ki),qt>ei.datamax&&qt!=_e&&(ei.datamax=qt)}for(e.each(K(),function(ei,ki){ki.datamin=I,ki.datamax=Ue,ki.used=!1}),Ve=0;Ve<h.length;++Ve)He=h[Ve],He.datapoints={points:[]},d(p.processRawData,[He,He.data,He.datapoints]);for(Ve=0;Ve<h.length;++Ve){if(He=h[Ve],Me=He.data,De=He.datapoints.format,!De){if(De=[],De.push({x:!0,number:!0,required:!0}),De.push({y:!0,number:!0,required:!0}),He.bars.show||He.lines.show&&He.lines.fill){var Tt=!!(He.bars.show&&He.bars.zero||He.lines.show&&He.lines.zero);De.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:Tt}),He.bars.horizontal&&(delete De[De.length-1].y,De[De.length-1].x=!0)}He.datapoints.format=De}if(He.datapoints.pointsize==null){He.datapoints.pointsize=De.length,lt=He.datapoints.pointsize,vt=He.datapoints.points;var Ht=He.lines.show&&He.lines.steps;for(He.xaxis.used=He.yaxis.used=!0,Xe=ut=0;Xe<Me.length;++Xe,ut+=lt){Ye=Me[Xe];var Ze=Ye==null;if(!Ze)for(re=0;re<lt;++re)Lt=Ye[re],jt=De[re],jt&&(jt.number&&Lt!=null&&(Lt=+Lt,isNaN(Lt)?Lt=null:Lt==1/0?Lt=_e:Lt==-1/0&&(Lt=-_e)),Lt==null&&(jt.required&&(Ze=!0),jt.defaultValue!=null&&(Lt=jt.defaultValue))),vt[ut+re]=Lt;if(Ze)for(re=0;re<lt;++re)Lt=vt[ut+re],Lt!=null&&(jt=De[re],jt.autoscale!==!1&&(jt.x&&et(He.xaxis,Lt,Lt),jt.y&&et(He.yaxis,Lt,Lt))),vt[ut+re]=null;else if(Ht&&ut>0&&vt[ut-lt]!=null&&vt[ut-lt]!=vt[ut]&&vt[ut-lt+1]!=vt[ut+1]){for(re=0;re<lt;++re)vt[ut+lt+re]=vt[ut+re];vt[ut+1]=vt[ut-lt+1],ut+=lt}}}}for(Ve=0;Ve<h.length;++Ve)He=h[Ve],d(p.processDatapoints,[He,He.datapoints]);for(Ve=0;Ve<h.length;++Ve){He=h[Ve],vt=He.datapoints.points,lt=He.datapoints.pointsize,De=He.datapoints.format;var wt=I,_t=I,Xt=Ue,We=Ue;for(Xe=0;Xe<vt.length;Xe+=lt)if(vt[Xe]!=null)for(re=0;re<lt;++re)Lt=vt[Xe+re],jt=De[re],!(!jt||jt.autoscale===!1||Lt==_e||Lt==-_e)&&(jt.x&&(Lt<wt&&(wt=Lt),Lt>Xt&&(Xt=Lt)),jt.y&&(Lt<_t&&(_t=Lt),Lt>We&&(We=Lt)));if(He.bars.show){var ri;switch(He.bars.align){case"left":ri=0;break;case"right":ri=-He.bars.barWidth;break;default:ri=-He.bars.barWidth/2}He.bars.horizontal?(_t+=ri,We+=ri+He.bars.barWidth):(wt+=ri,Xt+=ri+He.bars.barWidth)}et(He.xaxis,wt,Xt),et(He.yaxis,_t,We)}e.each(K(),function(ei,ki){ki.datamin==I&&(ki.datamin=null),ki.datamax==Ue&&(ki.datamax=null)})}function W(){o.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),o.css("position")=="static"&&o.css("position","relative"),m=new r("flot-base",o),y=new r("flot-overlay",o),w=m.context,k=y.context,_=e(y.element).unbind();var I=o.data("plot");I&&(I.shutdown(),y.clear()),o.data("plot",v)}function se(){g.grid.hoverable&&(_.mousemove(Vt),_.bind("mouseleave",ct)),g.grid.clickable&&_.click(gt),d(p.bindEvents,[_])}function de(){Je&&clearTimeout(Je),_.unbind("mousemove",Vt),_.unbind("mouseleave",ct),_.unbind("click",gt),d(p.shutdown,[_])}function Z(I){function Ue(re){return re}var _e,Ve,Xe=I.options.transform||Ue,ut=I.options.inverseTransform;I.direction=="x"?(_e=I.scale=E/Math.abs(Xe(I.max)-Xe(I.min)),Ve=Math.min(Xe(I.max),Xe(I.min))):(_e=I.scale=a/Math.abs(Xe(I.max)-Xe(I.min)),_e=-_e,Ve=Math.max(Xe(I.max),Xe(I.min))),Xe==Ue?I.p2c=function(re){return(re-Ve)*_e}:I.p2c=function(re){return(Xe(re)-Ve)*_e},ut?I.c2p=function(re){return ut(Ve+re/_e)}:I.c2p=function(re){return Ve+re/_e}}function ye(I){for(var Ue=I.options,_e=I.ticks||[],Ve=Ue.labelWidth||0,Xe=Ue.labelHeight||0,ut=Ve||(I.direction=="x"?Math.floor(m.width/(_e.length||1)):null),re=I.direction+"Axis "+I.direction+I.n+"Axis",Pe="flot-"+I.direction+"-axis flot-"+I.direction+I.n+"-axis "+re,He=Ue.font||"flot-tick-label tickLabel",vt=0;vt<_e.length;++vt){var lt=_e[vt];if(lt.label){var Et=m.getTextInfo(Pe,lt.label,He,null,ut);Ve=Math.max(Ve,Et.width),Xe=Math.max(Xe,Et.height)}}I.labelWidth=Ue.labelWidth||Ve,I.labelHeight=Ue.labelHeight||Xe}function Y(I){var Ue=I.labelWidth,_e=I.labelHeight,Ve=I.options.position,Xe=I.direction==="x",ut=I.options.tickLength,re=g.grid.axisMargin,Pe=g.grid.labelMargin,He=!0,vt=!0,lt=!0,Et=!1;e.each(Xe?A:L,function(Ut,Jt){Jt&&(Jt.show||Jt.reserveSpace)&&(Jt===I?Et=!0:Jt.options.position===Ve&&(Et?vt=!1:He=!1),Et||(lt=!1))}),vt&&(re=0),ut==null&&(ut=lt?"full":5),isNaN(+ut)||(Pe+=+ut),Xe?(_e+=Pe,Ve=="bottom"?(T.bottom+=_e+re,I.box={top:m.height-T.bottom,height:_e}):(I.box={top:T.top+re,height:_e},T.top+=_e+re)):(Ue+=Pe,Ve=="left"?(I.box={left:T.left+re,width:Ue},T.left+=Ue+re):(T.right+=Ue+re,I.box={left:m.width-T.right,width:Ue})),I.position=Ve,I.tickLength=ut,I.box.padding=Pe,I.innermost=He}function ce(I){I.direction=="x"?(I.box.left=T.left-I.labelWidth/2,I.box.width=m.width-T.left-T.right+I.labelWidth):(I.box.top=T.top-I.labelHeight/2,I.box.height=m.height-T.bottom-T.top+I.labelHeight)}function Ge(){var I=g.grid.minBorderMargin,Ue,_e;if(I==null)for(I=0,_e=0;_e<h.length;++_e)I=Math.max(I,2*(h[_e].points.radius+h[_e].points.lineWidth/2));var Ve={left:I,right:I,top:I,bottom:I};e.each(K(),function(Xe,ut){ut.reserveSpace&&ut.ticks&&ut.ticks.length&&(ut.direction==="x"?(Ve.left=Math.max(Ve.left,ut.labelWidth/2),Ve.right=Math.max(Ve.right,ut.labelWidth/2)):(Ve.bottom=Math.max(Ve.bottom,ut.labelHeight/2),Ve.top=Math.max(Ve.top,ut.labelHeight/2)))}),T.left=Math.ceil(Math.max(Ve.left,T.left)),T.right=Math.ceil(Math.max(Ve.right,T.right)),T.top=Math.ceil(Math.max(Ve.top,T.top)),T.bottom=Math.ceil(Math.max(Ve.bottom,T.bottom))}function ht(){var I,Ue=K(),_e=g.grid.show;for(var Ve in T){var Xe=g.grid.margin||0;T[Ve]=typeof Xe=="number"?Xe:Xe[Ve]||0}d(p.processOffset,[T]);for(var Ve in T)typeof g.grid.borderWidth=="object"?T[Ve]+=_e?g.grid.borderWidth[Ve]:0:T[Ve]+=_e?g.grid.borderWidth:0;if(e.each(Ue,function(re,Pe){var He=Pe.options;Pe.show=He.show==null?Pe.used:He.show,Pe.reserveSpace=He.reserveSpace==null?Pe.show:He.reserveSpace,st(Pe)}),_e){var ut=e.grep(Ue,function(re){return re.show||re.reserveSpace});for(e.each(ut,function(re,Pe){qe(Pe),Se(Pe),Ie(Pe,Pe.ticks),ye(Pe)}),I=ut.length-1;I>=0;--I)Y(ut[I]);Ge(),e.each(ut,function(re,Pe){ce(Pe)})}E=m.width-T.left-T.right,a=m.height-T.bottom-T.top,e.each(Ue,function(re,Pe){Z(Pe)}),_e&&Qe(),at()}function st(I){var Ue=I.options,_e=+(Ue.min!=null?Ue.min:I.datamin),Ve=+(Ue.max!=null?Ue.max:I.datamax),Xe=Ve-_e;if(Xe==0){var ut=Ve==0?1:.01;Ue.min==null&&(_e-=ut),(Ue.max==null||Ue.min!=null)&&(Ve+=ut)}else{var re=Ue.autoscaleMargin;re!=null&&(Ue.min==null&&(_e-=Xe*re,_e<0&&I.datamin!=null&&I.datamin>=0&&(_e=0)),Ue.max==null&&(Ve+=Xe*re,Ve>0&&I.datamax!=null&&I.datamax<=0&&(Ve=0)))}I.min=_e,I.max=Ve}function qe(I){var Ue=I.options,_e;typeof Ue.ticks=="number"&&Ue.ticks>0?_e=Ue.ticks:_e=.3*Math.sqrt(I.direction=="x"?m.width:m.height);var Ve=(I.max-I.min)/_e,Xe=-Math.floor(Math.log(Ve)/Math.LN10),ut=Ue.tickDecimals;ut!=null&&Xe>ut&&(Xe=ut);var re=Math.pow(10,-Xe),Pe=Ve/re,He;if(Pe<1.5?He=1:Pe<3?(He=2,Pe>2.25&&(ut==null||Xe+1<=ut)&&(He=2.5,++Xe)):Pe<7.5?He=5:He=10,He*=re,Ue.minTickSize!=null&&He<Ue.minTickSize&&(He=Ue.minTickSize),I.delta=Ve,I.tickDecimals=Math.max(0,ut!=null?ut:Xe),I.tickSize=Ue.tickSize||He,Ue.mode=="time"&&!I.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(I.tickGenerator||(I.tickGenerator=function(Jt){var Lt=[],jt=l(Jt.min,Jt.tickSize),Ye=0,Me=Number.NaN,De;do De=Me,Me=jt+Ye*Jt.tickSize,Lt.push(Me),++Ye;while(Me<Jt.max&&Me!=De);return Lt},I.tickFormatter=function(Jt,Lt){var jt=Lt.tickDecimals?Math.pow(10,Lt.tickDecimals):1,Ye=""+Math.round(Jt*jt)/jt;if(Lt.tickDecimals!=null){var Me=Ye.indexOf("."),De=Me==-1?0:Ye.length-Me-1;if(De<Lt.tickDecimals)return(De?Ye:Ye+".")+(""+jt).substr(1,Lt.tickDecimals-De)}return Ye}),e.isFunction(Ue.tickFormatter)&&(I.tickFormatter=function(Jt,Lt){return""+Ue.tickFormatter(Jt,Lt)}),Ue.alignTicksWithAxis!=null){var vt=(I.direction=="x"?A:L)[Ue.alignTicksWithAxis-1];if(vt&&vt.used&&vt!=I){var lt=I.tickGenerator(I);if(lt.length>0&&(Ue.min==null&&(I.min=Math.min(I.min,lt[0])),Ue.max==null&&lt.length>1&&(I.max=Math.max(I.max,lt[lt.length-1]))),I.tickGenerator=function(Jt){var Lt=[],jt,Ye;for(Ye=0;Ye<vt.ticks.length;++Ye)jt=(vt.ticks[Ye].v-vt.min)/(vt.max-vt.min),jt=Jt.min+jt*(Jt.max-Jt.min),Lt.push(jt);return Lt},!I.mode&&Ue.tickDecimals==null){var Et=Math.max(0,-Math.floor(Math.log(I.delta)/Math.LN10)+1),Ut=I.tickGenerator(I);Ut.length>1&&/\..*0$/.test((Ut[1]-Ut[0]).toFixed(Et))||(I.tickDecimals=Et)}}}}function Se(I){var Ue=I.options.ticks,_e=[];Ue==null||typeof Ue=="number"&&Ue>0?_e=I.tickGenerator(I):Ue&&(e.isFunction(Ue)?_e=Ue(I):_e=Ue);var Ve,Xe;for(I.ticks=[],Ve=0;Ve<_e.length;++Ve){var ut=null,re=_e[Ve];typeof re=="object"?(Xe=+re[0],re.length>1&&(ut=re[1])):Xe=+re,ut==null&&(ut=I.tickFormatter(Xe,I)),isNaN(Xe)||I.ticks.push({v:Xe,label:ut})}}function Ie(I,Ue){I.options.autoscaleMargin&&Ue.length>0&&(I.options.min==null&&(I.min=Math.min(I.min,Ue[0].v)),I.options.max==null&&Ue.length>1&&(I.max=Math.max(I.max,Ue[Ue.length-1].v)))}function Re(){m.clear(),d(p.drawBackground,[w]);var I=g.grid;I.show&&I.backgroundColor&&pt(),I.show&&!I.aboveData&&Pt();for(var Ue=0;Ue<h.length;++Ue)d(p.drawSeries,[w,h[Ue]]),ne(h[Ue]);d(p.draw,[w]),I.show&&I.aboveData&&Pt(),m.render(),ti()}function ot(I,Ue){for(var _e,Ve,Xe,ut,re=K(),Pe=0;Pe<re.length;++Pe)if(_e=re[Pe],_e.direction==Ue&&(ut=Ue+_e.n+"axis",!I[ut]&&_e.n==1&&(ut=Ue+"axis"),I[ut])){Ve=I[ut].from,Xe=I[ut].to;break}if(I[ut]||(_e=Ue=="x"?A[0]:L[0],Ve=I[Ue+"1"],Xe=I[Ue+"2"]),Ve!=null&&Xe!=null&&Ve>Xe){var He=Ve;Ve=Xe,Xe=He}return{from:Ve,to:Xe,axis:_e}}function pt(){w.save(),w.translate(T.left,T.top),w.fillStyle=kt(g.grid.backgroundColor,a,0,"rgba(255, 255, 255, 0)"),w.fillRect(0,0,E,a),w.restore()}function Pt(){var I,Ue,_e,Ve;w.save(),w.translate(T.left,T.top);var Xe=g.grid.markings;if(Xe)for(e.isFunction(Xe)&&(Ue=v.getAxes(),Ue.xmin=Ue.xaxis.min,Ue.xmax=Ue.xaxis.max,Ue.ymin=Ue.yaxis.min,Ue.ymax=Ue.yaxis.max,Xe=Xe(Ue)),I=0;I<Xe.length;++I){var ut=Xe[I],re=ot(ut,"x"),Pe=ot(ut,"y");if(re.from==null&&(re.from=re.axis.min),re.to==null&&(re.to=re.axis.max),Pe.from==null&&(Pe.from=Pe.axis.min),Pe.to==null&&(Pe.to=Pe.axis.max),!(re.to<re.axis.min||re.from>re.axis.max||Pe.to<Pe.axis.min||Pe.from>Pe.axis.max)){re.from=Math.max(re.from,re.axis.min),re.to=Math.min(re.to,re.axis.max),Pe.from=Math.max(Pe.from,Pe.axis.min),Pe.to=Math.min(Pe.to,Pe.axis.max);var He=re.from===re.to,vt=Pe.from===Pe.to;if(!(He&&vt))if(re.from=Math.floor(re.axis.p2c(re.from)),re.to=Math.floor(re.axis.p2c(re.to)),Pe.from=Math.floor(Pe.axis.p2c(Pe.from)),Pe.to=Math.floor(Pe.axis.p2c(Pe.to)),He||vt){var lt=ut.lineWidth||g.grid.markingsLineWidth,Et=lt%2?.5:0;w.beginPath(),w.strokeStyle=ut.color||g.grid.markingsColor,w.lineWidth=lt,He?(w.moveTo(re.to+Et,Pe.from),w.lineTo(re.to+Et,Pe.to)):(w.moveTo(re.from,Pe.to+Et),w.lineTo(re.to,Pe.to+Et)),w.stroke()}else w.fillStyle=ut.color||g.grid.markingsColor,w.fillRect(re.from,Pe.to,re.to-re.from,Pe.from-Pe.to)}}Ue=K(),_e=g.grid.borderWidth;for(var Ut=0;Ut<Ue.length;++Ut){var Jt=Ue[Ut],Lt=Jt.box,jt=Jt.tickLength,Ye,Me,De,et;if(!(!Jt.show||Jt.ticks.length==0)){for(w.lineWidth=1,Jt.direction=="x"?(Ye=0,jt=="full"?Me=Jt.position=="top"?0:a:Me=Lt.top-T.top+(Jt.position=="top"?Lt.height:0)):(Me=0,jt=="full"?Ye=Jt.position=="left"?0:E:Ye=Lt.left-T.left+(Jt.position=="left"?Lt.width:0)),Jt.innermost||(w.strokeStyle=Jt.options.color,w.beginPath(),De=et=0,Jt.direction=="x"?De=E+1:et=a+1,w.lineWidth==1&&(Jt.direction=="x"?Me=Math.floor(Me)+.5:Ye=Math.floor(Ye)+.5),w.moveTo(Ye,Me),w.lineTo(Ye+De,Me+et),w.stroke()),w.strokeStyle=Jt.options.tickColor,w.beginPath(),I=0;I<Jt.ticks.length;++I){var Tt=Jt.ticks[I].v;De=et=0,!(isNaN(Tt)||Tt<Jt.min||Tt>Jt.max||jt=="full"&&(typeof _e=="object"&&_e[Jt.position]>0||_e>0)&&(Tt==Jt.min||Tt==Jt.max))&&(Jt.direction=="x"?(Ye=Jt.p2c(Tt),et=jt=="full"?-a:jt,Jt.position=="top"&&(et=-et)):(Me=Jt.p2c(Tt),De=jt=="full"?-E:jt,Jt.position=="left"&&(De=-De)),w.lineWidth==1&&(Jt.direction=="x"?Ye=Math.floor(Ye)+.5:Me=Math.floor(Me)+.5),w.moveTo(Ye,Me),w.lineTo(Ye+De,Me+et))}w.stroke()}}_e&&(Ve=g.grid.borderColor,typeof _e=="object"||typeof Ve=="object"?(typeof _e!="object"&&(_e={top:_e,right:_e,bottom:_e,left:_e}),typeof Ve!="object"&&(Ve={top:Ve,right:Ve,bottom:Ve,left:Ve}),_e.top>0&&(w.strokeStyle=Ve.top,w.lineWidth=_e.top,w.beginPath(),w.moveTo(0-_e.left,0-_e.top/2),w.lineTo(E,0-_e.top/2),w.stroke()),_e.right>0&&(w.strokeStyle=Ve.right,w.lineWidth=_e.right,w.beginPath(),w.moveTo(E+_e.right/2,0-_e.top),w.lineTo(E+_e.right/2,a),w.stroke()),_e.bottom>0&&(w.strokeStyle=Ve.bottom,w.lineWidth=_e.bottom,w.beginPath(),w.moveTo(E+_e.right,a+_e.bottom/2),w.lineTo(0,a+_e.bottom/2),w.stroke()),_e.left>0&&(w.strokeStyle=Ve.left,w.lineWidth=_e.left,w.beginPath(),w.moveTo(0-_e.left/2,a+_e.bottom),w.lineTo(0-_e.left/2,0),w.stroke())):(w.lineWidth=_e,w.strokeStyle=g.grid.borderColor,w.strokeRect(-_e/2,-_e/2,E+_e,a+_e))),w.restore()}function Qe(){e.each(K(),function(I,Ue){var _e=Ue.box,Ve=Ue.direction+"Axis "+Ue.direction+Ue.n+"Axis",Xe="flot-"+Ue.direction+"-axis flot-"+Ue.direction+Ue.n+"-axis "+Ve,ut=Ue.options.font||"flot-tick-label tickLabel",re,Pe,He,vt,lt;if(m.removeText(Xe),!(!Ue.show||Ue.ticks.length==0))for(var Et=0;Et<Ue.ticks.length;++Et)re=Ue.ticks[Et],!(!re.label||re.v<Ue.min||re.v>Ue.max)&&(Ue.direction=="x"?(vt="center",Pe=T.left+Ue.p2c(re.v),Ue.position=="bottom"?He=_e.top+_e.padding:(He=_e.top+_e.height-_e.padding,lt="bottom")):(lt="middle",He=T.top+Ue.p2c(re.v),Ue.position=="left"?(Pe=_e.left+_e.width-_e.padding,vt="right"):Pe=_e.left+_e.padding),m.addText(Xe,Pe,He,re.label,ut,null,null,vt,lt))})}function ne(I){I.lines.show&&ie(I),I.bars.show&&we(I),I.points.show&&Ke(I)}function ie(I){function Ue(Pe,He,vt,lt,Et){var Ut=Pe.points,Jt=Pe.pointsize,Lt=null,jt=null;w.beginPath();for(var Ye=Jt;Ye<Ut.length;Ye+=Jt){var Me=Ut[Ye-Jt],De=Ut[Ye-Jt+1],et=Ut[Ye],Tt=Ut[Ye+1];if(!(Me==null||et==null)){if(De<=Tt&&De<Et.min){if(Tt<Et.min)continue;Me=(Et.min-De)/(Tt-De)*(et-Me)+Me,De=Et.min}else if(Tt<=De&&Tt<Et.min){if(De<Et.min)continue;et=(Et.min-De)/(Tt-De)*(et-Me)+Me,Tt=Et.min}if(De>=Tt&&De>Et.max){if(Tt>Et.max)continue;Me=(Et.max-De)/(Tt-De)*(et-Me)+Me,De=Et.max}else if(Tt>=De&&Tt>Et.max){if(De>Et.max)continue;et=(Et.max-De)/(Tt-De)*(et-Me)+Me,Tt=Et.max}if(Me<=et&&Me<lt.min){if(et<lt.min)continue;De=(lt.min-Me)/(et-Me)*(Tt-De)+De,Me=lt.min}else if(et<=Me&&et<lt.min){if(Me<lt.min)continue;Tt=(lt.min-Me)/(et-Me)*(Tt-De)+De,et=lt.min}if(Me>=et&&Me>lt.max){if(et>lt.max)continue;De=(lt.max-Me)/(et-Me)*(Tt-De)+De,Me=lt.max}else if(et>=Me&&et>lt.max){if(Me>lt.max)continue;Tt=(lt.max-Me)/(et-Me)*(Tt-De)+De,et=lt.max}(Me!=Lt||De!=jt)&&w.moveTo(lt.p2c(Me)+He,Et.p2c(De)+vt),Lt=et,jt=Tt,w.lineTo(lt.p2c(et)+He,Et.p2c(Tt)+vt)}}w.stroke()}function _e(Pe,He,vt){for(var lt=Pe.points,Et=Pe.pointsize,Ut=Math.min(Math.max(0,vt.min),vt.max),Jt=0,Lt,jt=!1,Ye=1,Me=0,De=0;!(Et>0&&Jt>lt.length+Et);){Jt+=Et;var et=lt[Jt-Et],Tt=lt[Jt-Et+Ye],Ht=lt[Jt],Ze=lt[Jt+Ye];if(jt){if(Et>0&&et!=null&&Ht==null){De=Jt,Et=-Et,Ye=2;continue}if(Et<0&&Jt==Me+Et){w.fill(),jt=!1,Et=-Et,Ye=1,Jt=Me=De+Et;continue}}if(!(et==null||Ht==null)){if(et<=Ht&&et<He.min){if(Ht<He.min)continue;Tt=(He.min-et)/(Ht-et)*(Ze-Tt)+Tt,et=He.min}else if(Ht<=et&&Ht<He.min){if(et<He.min)continue;Ze=(He.min-et)/(Ht-et)*(Ze-Tt)+Tt,Ht=He.min}if(et>=Ht&&et>He.max){if(Ht>He.max)continue;Tt=(He.max-et)/(Ht-et)*(Ze-Tt)+Tt,et=He.max}else if(Ht>=et&&Ht>He.max){if(et>He.max)continue;Ze=(He.max-et)/(Ht-et)*(Ze-Tt)+Tt,Ht=He.max}if(jt||(w.beginPath(),w.moveTo(He.p2c(et),vt.p2c(Ut)),jt=!0),Tt>=vt.max&&Ze>=vt.max){w.lineTo(He.p2c(et),vt.p2c(vt.max)),w.lineTo(He.p2c(Ht),vt.p2c(vt.max));continue}else if(Tt<=vt.min&&Ze<=vt.min){w.lineTo(He.p2c(et),vt.p2c(vt.min)),w.lineTo(He.p2c(Ht),vt.p2c(vt.min));continue}var wt=et,_t=Ht;Tt<=Ze&&Tt<vt.min&&Ze>=vt.min?(et=(vt.min-Tt)/(Ze-Tt)*(Ht-et)+et,Tt=vt.min):Ze<=Tt&&Ze<vt.min&&Tt>=vt.min&&(Ht=(vt.min-Tt)/(Ze-Tt)*(Ht-et)+et,Ze=vt.min),Tt>=Ze&&Tt>vt.max&&Ze<=vt.max?(et=(vt.max-Tt)/(Ze-Tt)*(Ht-et)+et,Tt=vt.max):Ze>=Tt&&Ze>vt.max&&Tt<=vt.max&&(Ht=(vt.max-Tt)/(Ze-Tt)*(Ht-et)+et,Ze=vt.max),et!=wt&&w.lineTo(He.p2c(wt),vt.p2c(Tt)),w.lineTo(He.p2c(et),vt.p2c(Tt)),w.lineTo(He.p2c(Ht),vt.p2c(Ze)),Ht!=_t&&(w.lineTo(He.p2c(Ht),vt.p2c(Ze)),w.lineTo(He.p2c(_t),vt.p2c(Ze)))}}}w.save(),w.translate(T.left,T.top),w.lineJoin="round";var Ve=I.lines.lineWidth,Xe=I.shadowSize;if(Ve>0&&Xe>0){w.lineWidth=Xe,w.strokeStyle="rgba(0,0,0,0.1)";var ut=Math.PI/18;Ue(I.datapoints,Math.sin(ut)*(Ve/2+Xe/2),Math.cos(ut)*(Ve/2+Xe/2),I.xaxis,I.yaxis),w.lineWidth=Xe/2,Ue(I.datapoints,Math.sin(ut)*(Ve/2+Xe/4),Math.cos(ut)*(Ve/2+Xe/4),I.xaxis,I.yaxis)}w.lineWidth=Ve,w.strokeStyle=I.color;var re=$e(I.lines,I.color,0,a);re&&(w.fillStyle=re,_e(I.datapoints,I.xaxis,I.yaxis)),Ve>0&&Ue(I.datapoints,0,0,I.xaxis,I.yaxis),w.restore()}function Ke(I){function Ue(Pe,He,vt,lt,Et,Ut,Jt,Lt){for(var jt=Pe.points,Ye=Pe.pointsize,Me=0;Me<jt.length;Me+=Ye){var De=jt[Me],et=jt[Me+1];De==null||De<Ut.min||De>Ut.max||et<Jt.min||et>Jt.max||(w.beginPath(),De=Ut.p2c(De),et=Jt.p2c(et)+lt,Lt=="circle"?w.arc(De,et,He,0,Et?Math.PI:Math.PI*2,!1):Lt(w,De,et,He,Et),w.closePath(),vt&&(w.fillStyle=vt,w.fill()),w.stroke())}}w.save(),w.translate(T.left,T.top);var _e=I.points.lineWidth,Ve=I.shadowSize,Xe=I.points.radius,ut=I.points.symbol;if(_e==0&&(_e=1e-4),_e>0&&Ve>0){var re=Ve/2;w.lineWidth=re,w.strokeStyle="rgba(0,0,0,0.1)",Ue(I.datapoints,Xe,null,re+re/2,!0,I.xaxis,I.yaxis,ut),w.strokeStyle="rgba(0,0,0,0.2)",Ue(I.datapoints,Xe,null,re/2,!0,I.xaxis,I.yaxis,ut)}w.lineWidth=_e,w.strokeStyle=I.color,Ue(I.datapoints,Xe,$e(I.points,I.color),0,!1,I.xaxis,I.yaxis,ut),w.restore()}function Ct(I,Ue,_e,Ve,Xe,ut,re,Pe,He,vt,lt){var Et,Ut,Jt,Lt,jt,Ye,Me,De,et;vt?(De=Ye=Me=!0,jt=!1,Et=_e,Ut=I,Lt=Ue+Ve,Jt=Ue+Xe,Ut<Et&&(et=Ut,Ut=Et,Et=et,jt=!0,Ye=!1)):(jt=Ye=Me=!0,De=!1,Et=I+Ve,Ut=I+Xe,Jt=_e,Lt=Ue,Lt<Jt&&(et=Lt,Lt=Jt,Jt=et,De=!0,Me=!1)),!(Ut<re.min||Et>re.max||Lt<Pe.min||Jt>Pe.max)&&(Et<re.min&&(Et=re.min,jt=!1),Ut>re.max&&(Ut=re.max,Ye=!1),Jt<Pe.min&&(Jt=Pe.min,De=!1),Lt>Pe.max&&(Lt=Pe.max,Me=!1),Et=re.p2c(Et),Jt=Pe.p2c(Jt),Ut=re.p2c(Ut),Lt=Pe.p2c(Lt),ut&&(He.fillStyle=ut(Jt,Lt),He.fillRect(Et,Lt,Ut-Et,Jt-Lt)),lt>0&&(jt||Ye||Me||De)&&(He.beginPath(),He.moveTo(Et,Jt),jt?He.lineTo(Et,Lt):He.moveTo(Et,Lt),Me?He.lineTo(Ut,Lt):He.moveTo(Ut,Lt),Ye?He.lineTo(Ut,Jt):He.moveTo(Ut,Jt),De?He.lineTo(Et,Jt):He.moveTo(Et,Jt),He.stroke()))}function we(I){function Ue(Xe,ut,re,Pe,He,vt){for(var lt=Xe.points,Et=Xe.pointsize,Ut=0;Ut<lt.length;Ut+=Et)lt[Ut]!=null&&Ct(lt[Ut],lt[Ut+1],lt[Ut+2],ut,re,Pe,He,vt,w,I.bars.horizontal,I.bars.lineWidth)}w.save(),w.translate(T.left,T.top),w.lineWidth=I.bars.lineWidth,w.strokeStyle=I.color;var _e;switch(I.bars.align){case"left":_e=0;break;case"right":_e=-I.bars.barWidth;break;default:_e=-I.bars.barWidth/2}var Ve=I.bars.fill?function(Xe,ut){return $e(I.bars,I.color,Xe,ut)}:null;Ue(I.datapoints,_e,_e+I.bars.barWidth,Ve,I.xaxis,I.yaxis),w.restore()}function $e(I,Ue,_e,Ve){var Xe=I.fill;if(!Xe)return null;if(I.fillColor)return kt(I.fillColor,_e,Ve,Ue);var ut=e.color.parse(Ue);return ut.a=typeof Xe=="number"?Xe:.4,ut.normalize(),ut.toString()}function at(){if(g.legend.container!=null?e(g.legend.container).html(""):o.find(".legend").remove(),!!g.legend.show){for(var I=[],Ue=[],_e=!1,Ve=g.legend.labelFormatter,Xe,ut,re=0;re<h.length;++re)Xe=h[re],Xe.label&&(ut=Ve?Ve(Xe.label,Xe):Xe.label,ut&&Ue.push({label:ut,color:Xe.color}));if(g.legend.sorted)if(e.isFunction(g.legend.sorted))Ue.sort(g.legend.sorted);else if(g.legend.sorted=="reverse")Ue.reverse();else{var Pe=g.legend.sorted!="descending";Ue.sort(function(Ye,Me){return Ye.label==Me.label?0:Ye.label<Me.label!=Pe?1:-1})}for(var re=0;re<Ue.length;++re){var He=Ue[re];re%g.legend.noColumns==0&&(_e&&I.push("</tr>"),I.push("<tr>"),_e=!0),I.push('<td class="legendColorBox"><div style="border:1px solid '+g.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+He.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+He.label+"</td>")}if(_e&&I.push("</tr>"),I.length!=0){var vt='<table style="font-size:smaller;color:'+g.grid.color+'">'+I.join("")+"</table>";if(g.legend.container!=null)e(g.legend.container).html(vt);else{var lt="",Et=g.legend.position,Ut=g.legend.margin;Ut[0]==null&&(Ut=[Ut,Ut]),Et.charAt(0)=="n"?lt+="top:"+(Ut[1]+T.top)+"px;":Et.charAt(0)=="s"&&(lt+="bottom:"+(Ut[1]+T.bottom)+"px;"),Et.charAt(1)=="e"?lt+="right:"+(Ut[0]+T.right)+"px;":Et.charAt(1)=="w"&&(lt+="left:"+(Ut[0]+T.left)+"px;");var Jt=e('<div class="legend">'+vt.replace('style="','style="position:absolute;'+lt+";")+"</div>").appendTo(o);if(g.legend.backgroundOpacity!=0){var Lt=g.legend.backgroundColor;Lt==null&&(Lt=g.grid.backgroundColor,Lt&&typeof Lt=="string"?Lt=e.color.parse(Lt):Lt=e.color.extract(Jt,"background-color"),Lt.a=1,Lt=Lt.toString());var jt=Jt.children();e('<div style="position:absolute;width:'+jt.width()+"px;height:"+jt.height()+"px;"+lt+"background-color:"+Lt+';"> </div>').prependTo(Jt).css("opacity",g.legend.backgroundOpacity)}}}}}var Ce=[],Je=null;function tt(I,Ue,_e){var Ve=g.grid.mouseActiveRadius,Xe=Ve*Ve+1,ut=null,re=!1,Pe,He,vt;for(Pe=h.length-1;Pe>=0;--Pe)if(_e(h[Pe])){var lt=h[Pe],Et=lt.xaxis,Ut=lt.yaxis,Jt=lt.datapoints.points,Lt=Et.c2p(I),jt=Ut.c2p(Ue),Ye=Ve/Et.scale,Me=Ve/Ut.scale;if(vt=lt.datapoints.pointsize,Et.options.inverseTransform&&(Ye=Number.MAX_VALUE),Ut.options.inverseTransform&&(Me=Number.MAX_VALUE),lt.lines.show||lt.points.show)for(He=0;He<Jt.length;He+=vt){var De=Jt[He],et=Jt[He+1];if(De!=null&&!(De-Lt>Ye||De-Lt<-Ye||et-jt>Me||et-jt<-Me)){var Tt=Math.abs(Et.p2c(De)-I),Ht=Math.abs(Ut.p2c(et)-Ue),Ze=Tt*Tt+Ht*Ht;Ze<Xe&&(Xe=Ze,ut=[Pe,He/vt])}}if(lt.bars.show&&!ut){var wt,_t;switch(lt.bars.align){case"left":wt=0;break;case"right":wt=-lt.bars.barWidth;break;default:wt=-lt.bars.barWidth/2}for(_t=wt+lt.bars.barWidth,He=0;He<Jt.length;He+=vt){var De=Jt[He],et=Jt[He+1],Xt=Jt[He+2];De!=null&&(h[Pe].bars.horizontal?Lt<=Math.max(Xt,De)&&Lt>=Math.min(Xt,De)&&jt>=et+wt&&jt<=et+_t:Lt>=De+wt&&Lt<=De+_t&&jt>=Math.min(Xt,et)&&jt<=Math.max(Xt,et))&&(ut=[Pe,He/vt])}}}return ut?(Pe=ut[0],He=ut[1],vt=h[Pe].datapoints.pointsize,{datapoint:h[Pe].datapoints.points.slice(He*vt,(He+1)*vt),dataIndex:He,series:h[Pe],seriesIndex:Pe}):null}function Vt(I){g.grid.hoverable&&Rt("plothover",I,function(Ue){return Ue.hoverable!=!1})}function ct(I){g.grid.hoverable&&Rt("plothover",I,function(Ue){return!1})}function gt(I){Rt("plotclick",I,function(Ue){return Ue.clickable!=!1})}function Rt(I,Ue,_e){var Ve=_.offset(),Xe=Ue.pageX-Ve.left-T.left,ut=Ue.pageY-Ve.top-T.top,re=oe({left:Xe,top:ut});re.pageX=Ue.pageX,re.pageY=Ue.pageY;var Pe=tt(Xe,ut,_e);if(Pe&&(Pe.pageX=parseInt(Pe.series.xaxis.p2c(Pe.datapoint[0])+Ve.left+T.left,10),Pe.pageY=parseInt(Pe.series.yaxis.p2c(Pe.datapoint[1])+Ve.top+T.top,10)),g.grid.autoHighlight){for(var He=0;He<Ce.length;++He){var vt=Ce[He];vt.auto==I&&!(Pe&&vt.series==Pe.series&&vt.point[0]==Pe.datapoint[0]&&vt.point[1]==Pe.datapoint[1])&&Ot(vt.series,vt.point)}Pe&&ui(Pe.series,Pe.datapoint,I)}o.trigger(I,[re,Pe])}function ti(){var I=g.interaction.redrawOverlayInterval;if(I==-1){oi();return}Je||(Je=setTimeout(oi,I))}function oi(){Je=null,k.save(),y.clear(),k.translate(T.left,T.top);var I,Ue;for(I=0;I<Ce.length;++I)Ue=Ce[I],Ue.series.bars.show?St(Ue.series,Ue.point):At(Ue.series,Ue.point);k.restore(),d(p.drawOverlay,[k])}function ui(I,Ue,_e){if(typeof I=="number"&&(I=h[I]),typeof Ue=="number"){var Ve=I.datapoints.pointsize;Ue=I.datapoints.points.slice(Ve*Ue,Ve*(Ue+1))}var Xe=It(I,Ue);Xe==-1?(Ce.push({series:I,point:Ue,auto:_e}),ti()):_e||(Ce[Xe].auto=!1)}function Ot(I,Ue){if(I==null&&Ue==null){Ce=[],ti();return}if(typeof I=="number"&&(I=h[I]),typeof Ue=="number"){var _e=I.datapoints.pointsize;Ue=I.datapoints.points.slice(_e*Ue,_e*(Ue+1))}var Ve=It(I,Ue);Ve!=-1&&(Ce.splice(Ve,1),ti())}function It(I,Ue){for(var _e=0;_e<Ce.length;++_e){var Ve=Ce[_e];if(Ve.series==I&&Ve.point[0]==Ue[0]&&Ve.point[1]==Ue[1])return _e}return-1}function At(I,Ue){var _e=Ue[0],Ve=Ue[1],Xe=I.xaxis,ut=I.yaxis,re=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString();if(!(_e<Xe.min||_e>Xe.max||Ve<ut.min||Ve>ut.max)){var Pe=I.points.radius+I.points.lineWidth/2;k.lineWidth=Pe,k.strokeStyle=re;var He=1.5*Pe;_e=Xe.p2c(_e),Ve=ut.p2c(Ve),k.beginPath(),I.points.symbol=="circle"?k.arc(_e,Ve,He,0,2*Math.PI,!1):I.points.symbol(k,_e,Ve,He,!1),k.closePath(),k.stroke()}}function St(I,Ue){var _e=typeof I.highlightColor=="string"?I.highlightColor:e.color.parse(I.color).scale("a",.5).toString(),Ve=_e,Xe;switch(I.bars.align){case"left":Xe=0;break;case"right":Xe=-I.bars.barWidth;break;default:Xe=-I.bars.barWidth/2}k.lineWidth=I.bars.lineWidth,k.strokeStyle=_e,Ct(Ue[0],Ue[1],Ue[2]||0,Xe,Xe+I.bars.barWidth,function(){return Ve},I.xaxis,I.yaxis,k,I.bars.horizontal,I.bars.lineWidth)}function kt(I,Ue,_e,Ve){if(typeof I=="string")return I;for(var Xe=w.createLinearGradient(0,_e,0,Ue),ut=0,re=I.colors.length;ut<re;++ut){var Pe=I.colors[ut];if(typeof Pe!="string"){var He=e.color.parse(Ve);Pe.brightness!=null&&(He=He.scale("rgb",Pe.brightness)),Pe.opacity!=null&&(He.a*=Pe.opacity),Pe=He.toString()}Xe.addColorStop(ut/(re-1),Pe)}return Xe}}e.plot=function(o,c,n){var u=new s(e(o),c,n,e.plot.plugins);return u},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(o,c){return this.each(function(){e.plot(this,o,c)})};function l(o,c){return c*Math.floor(o/c)}}(jQuery)}),jb={};X6(jb,{default:()=>Qf});J6=Rb(Db());Z6(jb,Rb(Db()));Ob=J6,{default:Ib}=Ob,Q6=nn(Ob,["default"]),Qf=Ib!==void 0?Ib:Q6});var Nb={};Fn(Nb,{default:()=>Qf});var Bb=si(()=>{em();em()});var eS,im,tS,iS,rS,nS,oS,aS,tm,sS,zb,Ub,Vb,lS,Hb,Fb,cS,rm,nm=si(()=>{eS=Object.create,im=Object.defineProperty,tS=Object.getOwnPropertyDescriptor,iS=Object.getOwnPropertyNames,rS=Object.getPrototypeOf,nS=Object.prototype.hasOwnProperty,oS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),aS=(e,t)=>{for(var r in t)im(e,r,{get:t[r],enumerable:!0})},tm=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of iS(t))!nS.call(e,l)&&l!==r&&im(e,l,{get:()=>t[l],enumerable:!(s=tS(t,l))||s.enumerable});return e},sS=(e,t,r)=>(tm(e,t,"default"),r&&tm(r,t,"default")),zb=(e,t,r)=>(r=e!=null?eS(rS(e)):{},tm(t||!e||!e.__esModule?im(r,"default",{value:e,enumerable:!0}):r,e)),Ub=oS(()=>{(function(e){var t={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}};function r(m,y){return y*Math.floor(m/y)}function s(m,y,_,w){if(typeof m.strftime=="function")return m.strftime(y);var k=function(d,x){return d=""+d,x=""+(x!=null?x:"0"),d.length==1?x+d:d},A=[],L=!1,T=m.getHours(),E=T<12;_==null&&(_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),w==null&&(w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var a;T>12?a=T-12:T==0?a=12:a=T;for(var p=0;p<y.length;++p){var v=y.charAt(p);if(L){switch(v){case"a":v=""+w[m.getDay()];break;case"b":v=""+_[m.getMonth()];break;case"d":v=k(m.getDate());break;case"e":v=k(m.getDate()," ");break;case"h":case"H":v=k(T);break;case"I":v=k(a);break;case"l":v=k(a," ");break;case"m":v=k(m.getMonth()+1);break;case"M":v=k(m.getMinutes());break;case"q":v=""+(Math.floor(m.getMonth()/3)+1);break;case"S":v=k(m.getSeconds());break;case"y":v=k(m.getFullYear()%100);break;case"Y":v=""+m.getFullYear();break;case"p":v=E?"am":"pm";break;case"P":v=E?"AM":"PM";break;case"w":v=""+m.getDay();break}A.push(v),L=!1}else v=="%"?L=!0:A.push(v)}return A.join("")}function l(m){function y(A,L,T,E){A[L]=function(){return T[E].apply(T,arguments)}}var _={date:m};m.strftime!=null&&y(_,"strftime",m,"strftime"),y(_,"getTime",m,"getTime"),y(_,"setTime",m,"setTime");for(var w=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],k=0;k<w.length;k++)y(_,"get"+w[k],m,"getUTC"+w[k]),y(_,"set"+w[k],m,"setUTC"+w[k]);return _}function o(m,y){if(y.timezone=="browser")return new Date(m);if(!y.timezone||y.timezone=="utc")return l(new Date(m));if(typeof timezoneJS<"u"&&typeof timezoneJS.Date<"u"){var _=new timezoneJS.Date;return _.setTimezone(y.timezone),_.setTime(m),_}else return l(new Date(m))}var c={second:1e3,minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,month:30*24*60*60*1e3,quarter:3*30*24*60*60*1e3,year:365.2425*24*60*60*1e3},n=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],u=n.concat([[3,"month"],[6,"month"],[1,"year"]]),h=n.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);function g(m){m.hooks.processOptions.push(function(y,_){e.each(y.getAxes(),function(w,k){var A=k.options;A.mode=="time"&&(k.tickGenerator=function(L){var T=[],E=o(L.min,A),a=0,p=A.tickSize&&A.tickSize[1]==="quarter"||A.minTickSize&&A.minTickSize[1]==="quarter"?h:u;A.minTickSize!=null&&(typeof A.tickSize=="number"?a=A.tickSize:a=A.minTickSize[0]*c[A.minTickSize[1]]);for(var v=0;v<p.length-1&&!(L.delta<(p[v][0]*c[p[v][1]]+p[v+1][0]*c[p[v+1][1]])/2&&p[v][0]*c[p[v][1]]>=a);++v);var d=p[v][0],x=p[v][1];if(x=="year"){if(A.minTickSize!=null&&A.minTickSize[1]=="year")d=Math.floor(A.minTickSize[0]);else{var C=Math.pow(10,Math.floor(Math.log(L.delta/c.year)/Math.LN10)),N=L.delta/c.year/C;N<1.5?d=1:N<3?d=2:N<7.5?d=5:d=10,d*=C}d<1&&(d=1)}L.tickSize=A.tickSize||[d,x];var G=L.tickSize[0];x=L.tickSize[1];var q=G*c[x];x=="second"?E.setSeconds(r(E.getSeconds(),G)):x=="minute"?E.setMinutes(r(E.getMinutes(),G)):x=="hour"?E.setHours(r(E.getHours(),G)):x=="month"?E.setMonth(r(E.getMonth(),G)):x=="quarter"?E.setMonth(3*r(E.getMonth()/3,G)):x=="year"&&E.setFullYear(r(E.getFullYear(),G)),E.setMilliseconds(0),q>=c.minute&&E.setSeconds(0),q>=c.hour&&E.setMinutes(0),q>=c.day&&E.setHours(0),q>=c.day*4&&E.setDate(1),q>=c.month*2&&E.setMonth(r(E.getMonth(),3)),q>=c.quarter*2&&E.setMonth(r(E.getMonth(),6)),q>=c.year&&E.setMonth(0);var K=0,oe=Number.NaN,J;do if(J=oe,oe=E.getTime(),T.push(oe),x=="month"||x=="quarter")if(G<1){E.setDate(1);var Q=E.getTime();E.setMonth(E.getMonth()+(x=="quarter"?3:1));var Oe=E.getTime();E.setTime(oe+K*c.hour+(Oe-Q)*G),K=E.getHours(),E.setHours(0)}else E.setMonth(E.getMonth()+G*(x=="quarter"?3:1));else x=="year"?E.setFullYear(E.getFullYear()+G):E.setTime(oe+q);while(oe<L.max&&oe!=J);return T},k.tickFormatter=function(L,T){var E=o(L,T.options);if(A.timeformat!=null)return s(E,A.timeformat,A.monthNames,A.dayNames);var a=T.options.tickSize&&T.options.tickSize[1]=="quarter"||T.options.minTickSize&&T.options.minTickSize[1]=="quarter",p=T.tickSize[0]*c[T.tickSize[1]],v=T.max-T.min,d=A.twelveHourClock?" %p":"",x=A.twelveHourClock?"%I":"%H",C;p<c.minute?C=x+":%M:%S"+d:p<c.day?v<2*c.day?C=x+":%M"+d:C="%b %d "+x+":%M"+d:p<c.month?C="%b %d":a&&p<c.quarter||!a&&p<c.year?v<c.year?C="%b":C="%b %Y":a&&p<c.year?v<c.year?C="Q%q":C="Q%q %Y":C="%Y";var N=s(E,C,A.monthNames,A.dayNames);return N})})})}e.plot.plugins.push({init:g,options:t,name:"time",version:"1.0"}),e.plot.formatDate=s,e.plot.dateGenerator=o})(jQuery)}),Vb={};aS(Vb,{default:()=>rm});lS=zb(Ub());sS(Vb,zb(Ub()));Hb=lS,{default:Fb}=Hb,cS=nn(Hb,["default"]),rm=Fb!==void 0?Fb:cS});var Wb={};Fn(Wb,{default:()=>rm});var qb=si(()=>{nm();nm()});var uS,am,dS,hS,pS,fS,mS,gS,om,vS,Kb,Xb,Zb,yS,Gb,Yb,bS,sm,lm=si(()=>{uS=Object.create,am=Object.defineProperty,dS=Object.getOwnPropertyDescriptor,hS=Object.getOwnPropertyNames,pS=Object.getPrototypeOf,fS=Object.prototype.hasOwnProperty,mS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gS=(e,t)=>{for(var r in t)am(e,r,{get:t[r],enumerable:!0})},om=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of hS(t))!fS.call(e,l)&&l!==r&&am(e,l,{get:()=>t[l],enumerable:!(s=dS(t,l))||s.enumerable});return e},vS=(e,t,r)=>(om(e,t,"default"),r&&om(r,t,"default")),Kb=(e,t,r)=>(r=e!=null?uS(pS(e)):{},om(t||!e||!e.__esModule?am(r,"default",{value:e,enumerable:!0}):r,e)),Xb=mS(()=>{(function(e){var t={series:{stack:null}};function r(s){function l(c,n){for(var u=null,h=0;h<n.length&&c!=n[h];++h)n[h].stack==c.stack&&(u=n[h]);return u}function o(c,n,u){if(!(n.stack==null||n.stack===!1)){var h=l(n,c.getData());if(h){for(var g=u.pointsize,m=u.points,y=h.datapoints.pointsize,_=h.datapoints.points,w=[],k,A,L,T,E,a,p=n.lines.show,v=n.bars.horizontal,d=g>2&&(v?u.format[2].x:u.format[2].y),x=p&&n.lines.steps,C=!0,N=v?1:0,G=v?0:1,q=0,K=0,oe,J;!(q>=m.length);){if(oe=w.length,m[q]==null){for(J=0;J<g;++J)w.push(m[q+J]);q+=g}else if(K>=_.length){if(!p)for(J=0;J<g;++J)w.push(m[q+J]);q+=g}else if(_[K]==null){for(J=0;J<g;++J)w.push(null);C=!0,K+=y}else{if(k=m[q+N],A=m[q+G],T=_[K+N],E=_[K+G],a=0,k==T){for(J=0;J<g;++J)w.push(m[q+J]);w[oe+G]+=E,a=E,q+=g,K+=y}else if(k>T){if(p&&q>0&&m[q-g]!=null){for(L=A+(m[q-g+G]-A)*(T-k)/(m[q-g+N]-k),w.push(T),w.push(L+E),J=2;J<g;++J)w.push(m[q+J]);a=E}K+=y}else{if(C&&p){q+=g;continue}for(J=0;J<g;++J)w.push(m[q+J]);p&&K>0&&_[K-y]!=null&&(a=E+(_[K-y+G]-E)*(k-T)/(_[K-y+N]-T)),w[oe+G]+=a,q+=g}C=!1,oe!=w.length&&d&&(w[oe+2]+=a)}if(x&&oe!=w.length&&oe>0&&w[oe]!=null&&w[oe]!=w[oe-g]&&w[oe+1]!=w[oe-g+1]){for(J=0;J<g;++J)w[oe+g+J]=w[oe+J];w[oe+1]=w[oe-g+1]}}u.points=w}}}s.hooks.processDatapoints.push(o)}e.plot.plugins.push({init:r,options:t,name:"stack",version:"1.2"})})(jQuery)}),Zb={};gS(Zb,{default:()=>sm});yS=Kb(Xb());vS(Zb,Kb(Xb()));Gb=yS,{default:Yb}=Gb,bS=nn(Gb,["default"]),sm=Yb!==void 0?Yb:bS});var Jb={};Fn(Jb,{default:()=>sm});var Qb=si(()=>{lm();lm()});var ac,wS,um,xS,_S,kS,SS,AS,CS,ES,cm,TS,i1,r1,n1,PS,e1,t1,$S,dm,hm=si(()=>{Kc();ac=e=>{let t=s=>typeof s.default<"u"?s.default:s,r=s=>Object.assign({},s);switch(e){case"jquery":return t(Jp);default:throw new Error('module "'+e+'" not found')}},wS=Object.create,um=Object.defineProperty,xS=Object.getOwnPropertyDescriptor,_S=Object.getOwnPropertyNames,kS=Object.getPrototypeOf,SS=Object.prototype.hasOwnProperty,AS=(e=>typeof ac<"u"?ac:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof ac<"u"?ac:t)[r]}):e)(function(e){if(typeof ac<"u")return ac.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),CS=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ES=(e,t)=>{for(var r in t)um(e,r,{get:t[r],enumerable:!0})},cm=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of _S(t))!SS.call(e,l)&&l!==r&&um(e,l,{get:()=>t[l],enumerable:!(s=xS(t,l))||s.enumerable});return e},TS=(e,t,r)=>(cm(e,t,"default"),r&&cm(r,t,"default")),i1=(e,t,r)=>(r=e!=null?wS(kS(e)):{},cm(t||!e||!e.__esModule?um(r,"default",{value:e,enumerable:!0}):r,e)),r1=CS((e,t)=>{(function(r){typeof define=="function"&&define.amd?define(["jquery"],r):typeof t=="object"&&typeof t.exports=="object"?t.exports=r(AS("jquery")):r(jQuery)})(function(r){return function(s){"use strict";var l=s.tablesorter={version:"2.32.0",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,resort:!0,headers:null,ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",duplicateSpan:!0,textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,initWidgets:!0,widgetClass:"widget-{name}",widgets:[],widgetOptions:{zebra:["even","odd"]},initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",cssIconDisabled:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[],globalize:0,imgAttr:0},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,null:0,top:!0,bottom:!1},keyCodes:{enter:13},dates:{},instanceMethods:{},setup:function(o,c){if(!o||!o.tHead||o.tBodies.length===0||o.hasInitialized===!0){l.debug(c,"core")&&(o.hasInitialized?console.warn("Stopping initialization. Tablesorter has already been initialized"):console.error("Stopping initialization! No table, thead or tbody",o));return}var n="",u=s(o),h=s.metadata;o.hasInitialized=!1,o.isProcessing=!0,o.config=c,s.data(o,"tablesorter",c),l.debug(c,"core")&&(console[console.group?"group":"log"]("Initializing tablesorter v"+l.version),s.data(o,"startoveralltimer",new Date)),c.supportsDataObject=function(g){return g[0]=parseInt(g[0],10),g[0]>1||g[0]===1&&parseInt(g[1],10)>=4}(s.fn.jquery.split(".")),c.emptyTo=c.emptyTo.toLowerCase(),c.stringTo=c.stringTo.toLowerCase(),c.last={sortList:[],clickedIndex:-1},/tablesorter\-/.test(u.attr("class"))||(n=c.theme!==""?" tablesorter-"+c.theme:""),c.namespace?c.namespace="."+c.namespace.replace(l.regex.nonWord,""):c.namespace=".tablesorter"+Math.random().toString(16).slice(2),c.table=o,c.$table=u.addClass(l.css.table+" "+c.tableClass+n+" "+c.namespace.slice(1)).attr("role","grid"),c.$headers=u.find(c.selectorHeaders),c.$table.children().children("tr").attr("role","row"),c.$tbodies=u.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),c.$table.children("caption").length&&(n=c.$table.children("caption")[0],n.id||(n.id=c.namespace.slice(1)+"caption"),c.$table.attr("aria-labelledby",n.id)),c.widgetInit={},c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic",l.buildHeaders(c),l.fixColumnWidth(o),l.addWidgetFromClass(o),l.applyWidgetOptions(o),l.setupParsers(c),c.totalRows=0,c.debug&&l.validateOptions(c),c.delayInit||l.buildCache(c),l.bindEvents(o,c.$headers,!0),l.bindMethods(c),c.supportsDataObject&&typeof u.data().sortlist<"u"?c.sortList=u.data().sortlist:h&&u.metadata()&&u.metadata().sortlist&&(c.sortList=u.metadata().sortlist),l.applyWidget(o,!0),c.sortList.length>0?(c.last.sortList=c.sortList,l.sortOn(c,c.sortList,{},!c.initWidgets)):(l.setHeadersCss(c),c.initWidgets&&l.applyWidget(o,!1)),c.showProcessing&&u.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(g){clearTimeout(c.timerProcessing),l.isProcessing(o),g.type==="sortBegin"&&(c.timerProcessing=setTimeout(function(){l.isProcessing(o,!0)},500))}),o.hasInitialized=!0,o.isProcessing=!1,l.debug(c,"core")&&(console.log("Overall initialization time:"+l.benchmark(s.data(o,"startoveralltimer"))),l.debug(c,"core")&&console.groupEnd&&console.groupEnd()),u.triggerHandler("tablesorter-initialized",o),typeof c.initialized=="function"&&c.initialized(o)},bindMethods:function(o){var c=o.$table,n=o.namespace,u="sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n+" ");c.unbind(u.replace(l.regex.spaces," ")).bind("sortReset"+n,function(h,g){h.stopPropagation(),l.sortReset(this.config,function(m){m.isApplyingWidgets?setTimeout(function(){l.applyWidget(m,"",g)},100):l.applyWidget(m,"",g)})}).bind("updateAll"+n,function(h,g,m){h.stopPropagation(),l.updateAll(this.config,g,m)}).bind("update"+n+" updateRows"+n,function(h,g,m){h.stopPropagation(),l.update(this.config,g,m)}).bind("updateHeaders"+n,function(h,g){h.stopPropagation(),l.updateHeaders(this.config,g)}).bind("updateCell"+n,function(h,g,m,y){h.stopPropagation(),l.updateCell(this.config,g,m,y)}).bind("addRows"+n,function(h,g,m,y){h.stopPropagation(),l.addRows(this.config,g,m,y)}).bind("updateComplete"+n,function(){this.isUpdating=!1}).bind("sorton"+n,function(h,g,m,y){h.stopPropagation(),l.sortOn(this.config,g,m,y)}).bind("appendCache"+n,function(h,g,m){h.stopPropagation(),l.appendCache(this.config,m),s.isFunction(g)&&g(this)}).bind("updateCache"+n,function(h,g,m){h.stopPropagation(),l.updateCache(this.config,g,m)}).bind("applyWidgetId"+n,function(h,g){h.stopPropagation(),l.applyWidgetId(this,g)}).bind("applyWidgets"+n,function(h,g){h.stopPropagation(),l.applyWidget(this,!1,g)}).bind("refreshWidgets"+n,function(h,g,m){h.stopPropagation(),l.refreshWidgets(this,g,m)}).bind("removeWidget"+n,function(h,g,m){h.stopPropagation(),l.removeWidget(this,g,m)}).bind("destroy"+n,function(h,g,m){h.stopPropagation(),l.destroy(this,g,m)}).bind("resetToLoadState"+n,function(h){h.stopPropagation(),l.removeWidget(this,!0,!1);var g=s.extend(!0,{},o.originalSettings);o=s.extend(!0,{},l.defaults,g),o.originalSettings=g,this.hasInitialized=!1,l.setup(this,o)})},bindEvents:function(o,c,n){o=s(o)[0];var u,h=o.config,g=h.namespace,m=null;n!==!0&&(c.addClass(g.slice(1)+"_extra_headers"),u=l.getClosest(c,"table"),u.length&&u[0].nodeName==="TABLE"&&u[0]!==o&&s(u[0]).addClass(g.slice(1)+"_extra_table")),u=(h.pointerDown+" "+h.pointerUp+" "+h.pointerClick+" sort keyup ").replace(l.regex.spaces," ").split(" ").join(g+" "),c.find(h.selectorSort).add(c.filter(h.selectorSort)).unbind(u).bind(u,function(y,_){var w,k,A,L=s(y.target),T=" "+y.type+" ";if(!((y.which||y.button)!==1&&!T.match(" "+h.pointerClick+" | sort | keyup ")||T===" keyup "&&y.which!==l.keyCodes.enter||T.match(" "+h.pointerClick+" ")&&typeof y.which<"u")&&!(T.match(" "+h.pointerUp+" ")&&m!==y.target&&_!==!0)){if(T.match(" "+h.pointerDown+" ")){m=y.target,A=L.jquery.split("."),A[0]==="1"&&A[1]<4&&y.preventDefault();return}if(m=null,w=l.getClosest(s(this),"."+l.css.header),l.regex.formElements.test(y.target.nodeName)||L.hasClass(h.cssNoSort)||L.parents("."+h.cssNoSort).length>0||w.hasClass("sorter-false")||L.parents("button").length>0)return!h.cancelSelection;h.delayInit&&l.isEmptyObject(h.cache)&&l.buildCache(h),h.last.clickedIndex=w.attr("data-column")||w.index(),k=h.$headerIndexed[h.last.clickedIndex][0],k&&!k.sortDisabled&&l.initSort(h,k,y)}}),h.cancelSelection&&c.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},buildHeaders:function(o){var c,n,u,h;for(o.headerList=[],o.headerContent=[],o.sortVars=[],l.debug(o,"core")&&(u=new Date),o.columns=l.computeColumnIndex(o.$table.children("thead, tfoot").children("tr")),n=o.cssIcon?'<i class="'+(o.cssIcon===l.css.icon?l.css.icon:o.cssIcon+" "+l.css.icon)+'"></i>':"",o.$headers=s(s.map(o.$table.find(o.selectorHeaders),function(g,m){var y,_,w,k,A,L=s(g);if(!l.getClosest(L,"tr").hasClass(o.cssIgnoreRow))return/(th|td)/i.test(g.nodeName)||(A=l.getClosest(L,"th, td"),L.attr("data-column",A.attr("data-column"))),y=l.getColumnData(o.table,o.headers,m,!0),o.headerContent[m]=L.html(),o.headerTemplate!==""&&!L.find("."+l.css.headerIn).length&&(k=o.headerTemplate.replace(l.regex.templateContent,L.html()).replace(l.regex.templateIcon,L.find("."+l.css.icon).length?"":n),o.onRenderTemplate&&(_=o.onRenderTemplate.apply(L,[m,k]),_&&typeof _=="string"&&(k=_)),L.html('<div class="'+l.css.headerIn+'">'+k+"</div>")),o.onRenderHeader&&o.onRenderHeader.apply(L,[m,o,o.$table]),w=parseInt(L.attr("data-column"),10),g.column=w,A=l.getOrder(l.getData(L,y,"sortInitialOrder")||o.sortInitialOrder),o.sortVars[w]={count:-1,order:A?o.sortReset?[1,0,2]:[1,0]:o.sortReset?[0,1,2]:[0,1],lockedOrder:!1,sortedBy:""},A=l.getData(L,y,"lockedOrder")||!1,typeof A<"u"&&A!==!1&&(o.sortVars[w].lockedOrder=!0,o.sortVars[w].order=l.getOrder(A)?[1,1]:[0,0]),o.headerList[m]=g,L.addClass(l.css.header+" "+o.cssHeader),l.getClosest(L,"tr").addClass(l.css.headerRow+" "+o.cssHeaderRow).attr("role","row"),o.tabIndex&&L.attr("tabindex",0),g})),o.$headerIndexed=[],h=0;h<o.columns;h++)l.isEmptyObject(o.sortVars[h])&&(o.sortVars[h]={}),c=o.$headers.filter('[data-column="'+h+'"]'),o.$headerIndexed[h]=c.length?c.not(".sorter-false").length?c.not(".sorter-false").filter(":last"):c.filter(":last"):s();o.$table.find(o.selectorHeaders).attr({scope:"col",role:"columnheader"}),l.updateHeader(o),l.debug(o,"core")&&(console.log("Built headers:"+l.benchmark(u)),console.log(o.$headers))},addInstanceMethods:function(o){s.extend(l.instanceMethods,o)},setupParsers:function(o,c){var n,u,h,g,m,y,_,w,k,A,L,T,E,a,p=o.table,v=0,d=l.debug(o,"core"),x={};if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),E=typeof c>"u"?o.$tbodies:c,a=E.length,a===0)return d?console.warn("Warning: *Empty table!* Not building a parser cache"):"";for(d&&(T=new Date,console[console.group?"group":"log"]("Detecting parsers for each column")),u={extractors:[],parsers:[]};v<a;){if(n=E[v].rows,n.length)for(m=0,g=o.columns,y=0;y<g;y++){if(_=o.$headerIndexed[m],_&&_.length&&(w=l.getColumnData(p,o.headers,m),L=l.getParserById(l.getData(_,w,"extractor")),A=l.getParserById(l.getData(_,w,"sorter")),k=l.getData(_,w,"parser")==="false",o.empties[m]=(l.getData(_,w,"empty")||o.emptyTo||(o.emptyToBottom?"bottom":"top")).toLowerCase(),o.strings[m]=(l.getData(_,w,"string")||o.stringTo||"max").toLowerCase(),k&&(A=l.getParserById("no-parser")),L||(L=!1),A||(A=l.detectParserForColumn(o,n,-1,m)),d&&(x["("+m+") "+_.text()]={parser:A.id,extractor:L?L.id:"none",string:o.strings[m],empty:o.empties[m]}),u.parsers[m]=A,u.extractors[m]=L,h=_[0].colSpan-1,h>0))for(m+=h,g+=h;h+1>0;)u.parsers[m-h]=A,u.extractors[m-h]=L,h--;m++}v+=u.parsers.length?a:1}d&&(l.isEmptyObject(x)?console.warn("  No parsers detected!"):console[console.table?"table":"log"](x),console.log("Completed detecting parsers"+l.benchmark(T)),console.groupEnd&&console.groupEnd()),o.parsers=u.parsers,o.extractors=u.extractors},addParser:function(o){var c,n=l.parsers.length,u=!0;for(c=0;c<n;c++)l.parsers[c].id.toLowerCase()===o.id.toLowerCase()&&(u=!1);u&&(l.parsers[l.parsers.length]=o)},getParserById:function(o){if(o=="false")return!1;var c,n=l.parsers.length;for(c=0;c<n;c++)if(l.parsers[c].id.toLowerCase()===o.toString().toLowerCase())return l.parsers[c];return!1},detectParserForColumn:function(o,c,n,u){for(var h,g,m,y=l.parsers.length,_=!1,w="",k=l.debug(o,"core"),A=!0;w===""&&A;)n++,m=c[n],m&&n<50?m.className.indexOf(l.cssIgnoreRow)<0&&(_=c[n].cells[u],w=l.getElementText(o,_,u),g=s(_),k&&console.log("Checking if value was empty on row "+n+", column: "+u+': "'+w+'"')):A=!1;for(;--y>=0;)if(h=l.parsers[y],h&&h.id!=="text"&&h.is&&h.is(w,o.table,_,g))return h;return l.getParserById("text")},getElementText:function(o,c,n){if(!c)return"";var u,h=o.textExtraction||"",g=c.jquery?c:s(c);return typeof h=="string"?h==="basic"&&typeof(u=g.attr(o.textAttribute))<"u"?s.trim(u):s.trim(c.textContent||g.text()):typeof h=="function"?s.trim(h(g[0],o.table,n)):typeof(u=l.getColumnData(o.table,h,n))=="function"?s.trim(u(g[0],o.table,n)):s.trim(g[0].textContent||g.text())},getParsedText:function(o,c,n,u){typeof u>"u"&&(u=l.getElementText(o,c,n));var h=""+u,g=o.parsers[n],m=o.extractors[n];return g&&(m&&typeof m.format=="function"&&(u=m.format(u,o.table,c,n)),h=g.id==="no-parser"?"":g.format(""+u,o.table,c,n),o.ignoreCase&&typeof h=="string"&&(h=h.toLowerCase())),h},buildCache:function(o,c,n){var u,h,g,m,y,_,w,k,A,L,T,E,a,p,v,d,x,C,N,G,q,K,oe=o.table,J=o.parsers,Q=l.debug(o,"core");if(o.$tbodies=o.$table.children("tbody:not(."+o.cssInfoBlock+")"),w=typeof n>"u"?o.$tbodies:n,o.cache={},o.totalRows=0,!J)return Q?console.warn("Warning: *Empty table!* Not building a cache"):"";for(Q&&(E=new Date),o.showProcessing&&l.isProcessing(oe,!0),_=0;_<w.length;_++){for(d=[],u=o.cache[_]={normalized:[]},a=w[_]&&w[_].rows.length||0,m=0;m<a;++m)if(p={child:[],raw:[]},k=s(w[_].rows[m]),A=[],!k.hasClass(o.selectorRemove.slice(1))){if(k.hasClass(o.cssChildRow)&&m!==0){for(q=u.normalized.length-1,v=u.normalized[q][o.columns],v.$row=v.$row.add(k),k.prev().hasClass(o.cssChildRow)||k.prev().addClass(l.css.cssHasChild),L=k.children("th, td"),q=v.child.length,v.child[q]=[],C=0,G=o.columns,y=0;y<G;y++)T=L[y],T&&(v.child[q][y]=l.getParsedText(o,T,y),x=L[y].colSpan-1,x>0&&(C+=x,G+=x)),C++;continue}for(p.$row=k,p.order=m,C=0,G=o.columns,y=0;y<G;++y){if(T=k[0].cells[y],T&&C<o.columns&&(N=typeof J[C]<"u",!N&&Q&&console.warn("No parser found for row: "+m+", column: "+y+'; cell containing: "'+s(T).text()+'"; does it have a header?'),h=l.getElementText(o,T,C),p.raw[C]=h,g=l.getParsedText(o,T,C,h),A[C]=g,N&&(J[C].type||"").toLowerCase()==="numeric"&&(d[C]=Math.max(Math.abs(g)||0,d[C]||0)),x=T.colSpan-1,x>0)){for(K=0;K<=x;)g=o.duplicateSpan||K===0?g:typeof o.textExtraction!="string"&&l.getElementText(o,T,C+K)||"",p.raw[C+K]=g,A[C+K]=g,K++;C+=x,G+=x}C++}A[o.columns]=p,u.normalized[u.normalized.length]=A}u.colMax=d,o.totalRows+=u.normalized.length}if(o.showProcessing&&l.isProcessing(oe),Q){for(q=Math.min(5,o.cache[0].normalized.length),console[console.group?"group":"log"]("Building cache for "+o.totalRows+" rows (showing "+q+" rows in log) and "+o.columns+" columns"+l.benchmark(E)),h={},y=0;y<o.columns;y++)for(C=0;C<q;C++)h["row: "+C]||(h["row: "+C]={}),h["row: "+C][o.$headerIndexed[y].text()]=o.cache[0].normalized[C][y];console[console.table?"table":"log"](h),console.groupEnd&&console.groupEnd()}s.isFunction(c)&&c(oe)},getColumnText:function(o,c,n,u){o=s(o)[0];var h,g,m,y,_,w,k,A,L,T,E=typeof n=="function",a=c==="all",p={raw:[],parsed:[],$cell:[]},v=o.config;if(l.isEmptyObject(v))l.debug(v,"core")&&console.warn("No cache found - aborting getColumnText function!");else{for(_=v.$tbodies.length,h=0;h<_;h++)for(m=v.cache[h].normalized,w=m.length,g=0;g<w;g++)y=m[g],!(u&&!y[v.columns].$row.is(u))&&(T=!0,A=a?y.slice(0,v.columns):y[c],y=y[v.columns],k=a?y.raw:y.raw[c],L=a?y.$row.children():y.$row.children().eq(c),E&&(T=n({tbodyIndex:h,rowIndex:g,parsed:A,raw:k,$row:y.$row,$cell:L})),T!==!1&&(p.parsed[p.parsed.length]=A,p.raw[p.raw.length]=k,p.$cell[p.$cell.length]=L));return p}},setHeadersCss:function(o){var c,n,u=o.sortList,h=u.length,g=l.css.sortNone+" "+o.cssNone,m=[l.css.sortAsc+" "+o.cssAsc,l.css.sortDesc+" "+o.cssDesc],y=[o.cssIconAsc,o.cssIconDesc,o.cssIconNone],_=["ascending","descending"],w=function(L,T){L.removeClass(g).addClass(m[T]).attr("aria-sort",_[T]).find("."+l.css.icon).removeClass(y[2]).addClass(y[T])},k=o.$table.find("tfoot tr").children("td, th").add(s(o.namespace+"_extra_headers")).removeClass(m.join(" ")),A=o.$headers.add(s("thead "+o.namespace+"_extra_headers")).removeClass(m.join(" ")).addClass(g).attr("aria-sort","none").find("."+l.css.icon).removeClass(y.join(" ")).end();for(A.not(".sorter-false").find("."+l.css.icon).addClass(y[2]),o.cssIconDisabled&&A.filter(".sorter-false").find("."+l.css.icon).addClass(o.cssIconDisabled),c=0;c<h;c++)if(u[c][1]!==2){if(A=o.$headers.filter(function(L){for(var T=!0,E=o.$headers.eq(L),a=parseInt(E.attr("data-column"),10),p=a+l.getClosest(E,"th, td")[0].colSpan;a<p;a++)T=T?T||l.isValueInArray(a,o.sortList)>-1:!1;return T}),A=A.not(".sorter-false").filter('[data-column="'+u[c][0]+'"]'+(h===1?":last":"")),A.length)for(n=0;n<A.length;n++)A[n].sortDisabled||w(A.eq(n),u[c][1]);k.length&&w(k.filter('[data-column="'+u[c][0]+'"]'),u[c][1])}for(h=o.$headers.length,c=0;c<h;c++)l.setColumnAriaLabel(o,o.$headers.eq(c))},getClosest:function(o,c){return s.fn.closest?o.closest(c):o.is(c)?o:o.parents(c).filter(":first")},setColumnAriaLabel:function(o,c,n){if(c.length){var u=parseInt(c.attr("data-column"),10),h=o.sortVars[u],g=c.hasClass(l.css.sortAsc)?"sortAsc":c.hasClass(l.css.sortDesc)?"sortDesc":"sortNone",m=s.trim(c.text())+": "+l.language[g];c.hasClass("sorter-false")||n===!1?m+=l.language.sortDisabled:(g=(h.count+1)%h.order.length,n=h.order[g],m+=l.language[n===0?"nextAsc":n===1?"nextDesc":"nextNone"]),c.attr("aria-label",m),h.sortedBy?c.attr("data-sortedBy",h.sortedBy):c.removeAttr("data-sortedBy")}},updateHeader:function(o){var c,n,u,h,g=o.table,m=o.$headers.length;for(c=0;c<m;c++)u=o.$headers.eq(c),h=l.getColumnData(g,o.headers,c,!0),n=l.getData(u,h,"sorter")==="false"||l.getData(u,h,"parser")==="false",l.setColumnSort(o,u,n)},setColumnSort:function(o,c,n){var u=o.table.id;c[0].sortDisabled=n,c[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),o.tabIndex&&(n?c.removeAttr("tabindex"):c.attr("tabindex","0")),u&&(n?c.removeAttr("aria-controls"):c.attr("aria-controls",u))},updateHeaderSortCount:function(o,c){var n,u,h,g,m,y,_,w,k=c||o.sortList,A=k.length;for(o.sortList=[],g=0;g<A;g++)if(_=k[g],n=parseInt(_[0],10),n<o.columns){switch(o.sortVars[n].order||(l.getOrder(o.sortInitialOrder)?w=o.sortReset?[1,0,2]:[1,0]:w=o.sortReset?[0,1,2]:[0,1],o.sortVars[n].order=w,o.sortVars[n].count=0),w=o.sortVars[n].order,u=(""+_[1]).match(/^(1|d|s|o|n)/),u=u?u[0]:"",u){case"1":case"d":u=1;break;case"s":u=m||0;break;case"o":y=w[(m||0)%w.length],u=y===0?1:y===1?0:2;break;case"n":u=w[++o.sortVars[n].count%w.length];break;default:u=0;break}m=g===0?u:m,h=[n,parseInt(u,10)||0],o.sortList[o.sortList.length]=h,u=s.inArray(h[1],w),o.sortVars[n].count=u>=0?u:h[1]%w.length}},updateAll:function(o,c,n){var u=o.table;u.isUpdating=!0,l.refreshWidgets(u,!0,!0),l.buildHeaders(o),l.bindEvents(u,o.$headers,!0),l.bindMethods(o),l.commonUpdate(o,c,n)},update:function(o,c,n){var u=o.table;u.isUpdating=!0,l.updateHeader(o),l.commonUpdate(o,c,n)},updateHeaders:function(o,c){o.table.isUpdating=!0,l.buildHeaders(o),l.bindEvents(o.table,o.$headers,!0),l.resortComplete(o,c)},updateCell:function(o,c,n,u){if(s(c).closest("tr").hasClass(o.cssChildRow)){console.warn('Tablesorter Warning! "updateCell" for child row content has been disabled, use "update" instead');return}if(l.isEmptyObject(o.cache)){l.updateHeader(o),l.commonUpdate(o,n,u);return}o.table.isUpdating=!0,o.$table.find(o.selectorRemove).remove();var h,g,m,y,_,w,k=o.$tbodies,A=s(c),L=k.index(l.getClosest(A,"tbody")),T=o.cache[L],E=l.getClosest(A,"tr");if(c=A[0],k.length&&L>=0){if(m=k.eq(L).find("tr").not("."+o.cssChildRow).index(E),_=T.normalized[m],w=E[0].cells.length,w!==o.columns)for(y=0,h=!1,g=0;g<w;g++)!h&&E[0].cells[g]!==c?y+=E[0].cells[g].colSpan:h=!0;else y=A.index();h=l.getElementText(o,c,y),_[o.columns].raw[y]=h,h=l.getParsedText(o,c,y,h),_[y]=h,(o.parsers[y].type||"").toLowerCase()==="numeric"&&(T.colMax[y]=Math.max(Math.abs(h)||0,T.colMax[y]||0)),h=n!=="undefined"?n:o.resort,h!==!1?l.checkResort(o,h,u):l.resortComplete(o,u)}else l.debug(o,"core")&&console.error("updateCell aborted, tbody missing or not within the indicated table"),o.table.isUpdating=!1},addRows:function(o,c,n,u){var h,g,m,y,_,w,k,A,L,T,E,a,p,v=typeof c=="string"&&o.$tbodies.length===1&&/<tr/.test(c||""),d=o.table;if(v)c=s(c),o.$tbodies.append(c);else if(!c||!(c instanceof s)||l.getClosest(c,"table")[0]!==o.table)return l.debug(o,"core")&&console.error("addRows method requires (1) a jQuery selector reference to rows that have already been added to the table, or (2) row HTML string to be added to a table with only one tbody"),!1;if(d.isUpdating=!0,l.isEmptyObject(o.cache))l.updateHeader(o),l.commonUpdate(o,n,u);else{for(_=c.filter("tr").attr("role","row").length,m=o.$tbodies.index(c.parents("tbody").filter(":first")),o.parsers&&o.parsers.length||l.setupParsers(o),y=0;y<_;y++){for(L=0,k=c[y].cells.length,A=o.cache[m].normalized.length,E=[],T={child:[],raw:[],$row:c.eq(y),order:A},w=0;w<k;w++)a=c[y].cells[w],h=l.getElementText(o,a,L),T.raw[L]=h,g=l.getParsedText(o,a,L,h),E[L]=g,(o.parsers[L].type||"").toLowerCase()==="numeric"&&(o.cache[m].colMax[L]=Math.max(Math.abs(g)||0,o.cache[m].colMax[L]||0)),p=a.colSpan-1,p>0&&(L+=p),L++;E[o.columns]=T,o.cache[m].normalized[A]=E}l.checkResort(o,n,u)}},updateCache:function(o,c,n){o.parsers&&o.parsers.length||l.setupParsers(o,n),l.buildCache(o,c,n)},appendCache:function(o,c){var n,u,h,g,m,y,_,w=o.table,k=o.$tbodies,A=[],L=o.cache;if(l.isEmptyObject(L))return o.appender?o.appender(w,A):w.isUpdating?o.$table.triggerHandler("updateComplete",w):"";for(l.debug(o,"core")&&(_=new Date),y=0;y<k.length;y++)if(h=k.eq(y),h.length){for(g=l.processTbody(w,h,!0),n=L[y].normalized,u=n.length,m=0;m<u;m++)A[A.length]=n[m][o.columns].$row,(!o.appender||o.pager&&!o.pager.removeRows&&!o.pager.ajax)&&g.append(n[m][o.columns].$row);l.processTbody(w,g,!1)}o.appender&&o.appender(w,A),l.debug(o,"core")&&console.log("Rebuilt table"+l.benchmark(_)),!c&&!o.appender&&l.applyWidget(w),w.isUpdating&&o.$table.triggerHandler("updateComplete",w)},commonUpdate:function(o,c,n){o.$table.find(o.selectorRemove).remove(),l.setupParsers(o),l.buildCache(o),l.checkResort(o,c,n)},initSort:function(o,c,n){if(o.table.isUpdating)return setTimeout(function(){l.initSort(o,c,n)},50);var u,h,g,m,y,_,w,k=!n[o.sortMultiSortKey],A=o.table,L=o.$headers.length,T=l.getClosest(s(c),"th, td"),E=parseInt(T.attr("data-column"),10),a=n.type==="mouseup"?"user":n.type,p=o.sortVars[E].order;if(T=T[0],o.$table.triggerHandler("sortStart",A),_=(o.sortVars[E].count+1)%p.length,o.sortVars[E].count=n[o.sortResetKey]?2:_,o.sortRestart)for(g=0;g<L;g++)w=o.$headers.eq(g),_=parseInt(w.attr("data-column"),10),E!==_&&(k||w.hasClass(l.css.sortNone))&&(o.sortVars[_].count=-1);if(k){if(s.each(o.sortVars,function(v){o.sortVars[v].sortedBy=""}),o.sortList=[],o.last.sortList=[],o.sortForce!==null)for(u=o.sortForce,h=0;h<u.length;h++)u[h][0]!==E&&(o.sortList[o.sortList.length]=u[h],o.sortVars[u[h][0]].sortedBy="sortForce");if(m=p[o.sortVars[E].count],m<2&&(o.sortList[o.sortList.length]=[E,m],o.sortVars[E].sortedBy=a,T.colSpan>1))for(h=1;h<T.colSpan;h++)o.sortList[o.sortList.length]=[E+h,m],o.sortVars[E+h].count=s.inArray(m,p),o.sortVars[E+h].sortedBy=a}else if(o.sortList=s.extend([],o.last.sortList),l.isValueInArray(E,o.sortList)>=0)for(o.sortVars[E].sortedBy=a,h=0;h<o.sortList.length;h++)_=o.sortList[h],_[0]===E&&(_[1]=p[o.sortVars[E].count],_[1]===2&&(o.sortList.splice(h,1),o.sortVars[E].count=-1));else if(m=p[o.sortVars[E].count],o.sortVars[E].sortedBy=a,m<2&&(o.sortList[o.sortList.length]=[E,m],T.colSpan>1))for(h=1;h<T.colSpan;h++)o.sortList[o.sortList.length]=[E+h,m],o.sortVars[E+h].count=s.inArray(m,p),o.sortVars[E+h].sortedBy=a;if(o.last.sortList=s.extend([],o.sortList),o.sortList.length&&o.sortAppend&&(u=s.isArray(o.sortAppend)?o.sortAppend:o.sortAppend[o.sortList[0][0]],!l.isEmptyObject(u))){for(h=0;h<u.length;h++)if(u[h][0]!==E&&l.isValueInArray(u[h][0],o.sortList)<0){if(m=u[h][1],y=(""+m).match(/^(a|d|s|o|n)/),y)switch(_=o.sortList[0][1],y[0]){case"d":m=1;break;case"s":m=_;break;case"o":m=_===0?1:0;break;case"n":m=(_+1)%p.length;break;default:m=0;break}o.sortList[o.sortList.length]=[u[h][0],m],o.sortVars[u[h][0]].sortedBy="sortAppend"}}o.$table.triggerHandler("sortBegin",A),setTimeout(function(){l.setHeadersCss(o),l.multisort(o),l.appendCache(o),o.$table.triggerHandler("sortBeforeEnd",A),o.$table.triggerHandler("sortEnd",A)},1)},multisort:function(o){var c,n,u,h,g,m=o.table,y=[],_=0,w=o.textSorter||"",k=o.sortList,A=k.length,L=o.$tbodies.length;if(!(o.serverSideSorting||l.isEmptyObject(o.cache))){if(l.debug(o,"core")&&(n=new Date),typeof w=="object")for(u=o.columns;u--;)g=l.getColumnData(m,w,u),typeof g=="function"&&(y[u]=g);for(c=0;c<L;c++)u=o.cache[c].colMax,h=o.cache[c].normalized,h.sort(function(T,E){var a,p,v,d,x,C,N;for(a=0;a<A;a++){if(v=k[a][0],d=k[a][1],_=d===0,o.sortStable&&T[v]===E[v]&&A===1)return T[o.columns].order-E[o.columns].order;if(p=/n/i.test(l.getSortType(o.parsers,v)),p&&o.strings[v]?(typeof l.string[o.strings[v]]=="boolean"?p=(_?1:-1)*(l.string[o.strings[v]]?-1:1):p=o.strings[v]&&l.string[o.strings[v]]||0,x=o.numberSorter?o.numberSorter(T[v],E[v],_,u[v],m):l["sortNumeric"+(_?"Asc":"Desc")](T[v],E[v],p,u[v],v,o)):(C=_?T:E,N=_?E:T,typeof w=="function"?x=w(C[v],N[v],_,v,m):typeof y[v]=="function"?x=y[v](C[v],N[v],_,v,m):x=l["sortNatural"+(_?"Asc":"Desc")](T[v]||"",E[v]||"",v,o)),x)return x}return T[o.columns].order-E[o.columns].order});l.debug(o,"core")&&console.log("Applying sort "+k.toString()+l.benchmark(n))}},resortComplete:function(o,c){o.table.isUpdating&&o.$table.triggerHandler("updateComplete",o.table),s.isFunction(c)&&c(o.table)},checkResort:function(o,c,n){var u=s.isArray(c)?c:o.sortList,h=typeof c>"u"?o.resort:c;h!==!1&&!o.serverSideSorting&&!o.table.isProcessing?u.length?l.sortOn(o,u,function(){l.resortComplete(o,n)},!0):l.sortReset(o,function(){l.resortComplete(o,n),l.applyWidget(o.table,!1)}):(l.resortComplete(o,n),l.applyWidget(o.table,!1))},sortOn:function(o,c,n,u){var h,g=o.table;for(o.$table.triggerHandler("sortStart",g),h=0;h<o.columns;h++)o.sortVars[h].sortedBy=l.isValueInArray(h,c)>-1?"sorton":"";l.updateHeaderSortCount(o,c),l.setHeadersCss(o),o.delayInit&&l.isEmptyObject(o.cache)&&l.buildCache(o),o.$table.triggerHandler("sortBegin",g),l.multisort(o),l.appendCache(o,u),o.$table.triggerHandler("sortBeforeEnd",g),o.$table.triggerHandler("sortEnd",g),l.applyWidget(g),s.isFunction(n)&&n(g)},sortReset:function(o,c){o.sortList=[];var n;for(n=0;n<o.columns;n++)o.sortVars[n].count=-1,o.sortVars[n].sortedBy="";l.setHeadersCss(o),l.multisort(o),l.appendCache(o),s.isFunction(c)&&c(o.table)},getSortType:function(o,c){return o&&o[c]&&o[c].type||""},getOrder:function(o){return/^d/i.test(o)||o===1},sortNatural:function(o,c){if(o===c)return 0;o=(o||"").toString(),c=(c||"").toString();var n,u,h,g,m,y,_=l.regex;if(_.hex.test(c)){if(n=parseInt(o.match(_.hex),16),u=parseInt(c.match(_.hex),16),n<u)return-1;if(n>u)return 1}for(n=o.replace(_.chunk,"\\0$1\\0").replace(_.chunks,"").split("\\0"),u=c.replace(_.chunk,"\\0$1\\0").replace(_.chunks,"").split("\\0"),y=Math.max(n.length,u.length),m=0;m<y;m++){if(h=isNaN(n[m])?n[m]||0:parseFloat(n[m])||0,g=isNaN(u[m])?u[m]||0:parseFloat(u[m])||0,isNaN(h)!==isNaN(g))return isNaN(h)?1:-1;if(typeof h!=typeof g&&(h+="",g+=""),h<g)return-1;if(h>g)return 1}return 0},sortNaturalAsc:function(o,c,n,u){if(o===c)return 0;var h=l.string[u.empties[n]||u.emptyTo];return o===""&&h!==0?typeof h=="boolean"?h?-1:1:-h||-1:c===""&&h!==0?typeof h=="boolean"?h?1:-1:h||1:l.sortNatural(o,c)},sortNaturalDesc:function(o,c,n,u){if(o===c)return 0;var h=l.string[u.empties[n]||u.emptyTo];return o===""&&h!==0?typeof h=="boolean"?h?-1:1:h||1:c===""&&h!==0?typeof h=="boolean"?h?1:-1:-h||-1:l.sortNatural(c,o)},sortText:function(o,c){return o>c?1:o<c?-1:0},getTextValue:function(o,c,n){if(n){var u,h=o?o.length:0,g=n+c;for(u=0;u<h;u++)g+=o.charCodeAt(u);return c*g}return 0},sortNumericAsc:function(o,c,n,u,h,g){if(o===c)return 0;var m=l.string[g.empties[h]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:-m||-1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:m||1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),o-c)},sortNumericDesc:function(o,c,n,u,h,g){if(o===c)return 0;var m=l.string[g.empties[h]||g.emptyTo];return o===""&&m!==0?typeof m=="boolean"?m?-1:1:m||1:c===""&&m!==0?typeof m=="boolean"?m?1:-1:-m||-1:(isNaN(o)&&(o=l.getTextValue(o,n,u)),isNaN(c)&&(c=l.getTextValue(c,n,u)),c-o)},sortNumeric:function(o,c){return o-c},addWidget:function(o){o.id&&!l.isEmptyObject(l.getWidgetById(o.id))&&console.warn('"'+o.id+'" widget was loaded more than once!'),l.widgets[l.widgets.length]=o},hasWidget:function(o,c){return o=s(o),o.length&&o[0].config&&o[0].config.widgetInit[c]||!1},getWidgetById:function(o){var c,n,u=l.widgets.length;for(c=0;c<u;c++)if(n=l.widgets[c],n&&n.id&&n.id.toLowerCase()===o.toLowerCase())return n},applyWidgetOptions:function(o){var c,n,u,h=o.config,g=h.widgets.length;if(g)for(c=0;c<g;c++)n=l.getWidgetById(h.widgets[c]),n&&n.options&&(u=s.extend(!0,{},n.options),h.widgetOptions=s.extend(!0,u,h.widgetOptions),s.extend(!0,l.defaults.widgetOptions,n.options))},addWidgetFromClass:function(o){var c,n,u=o.config,h="^"+u.widgetClass.replace(l.regex.templateName,"(\\S+)+")+"$",g=new RegExp(h,"g"),m=(o.className||"").split(l.regex.spaces);if(m.length)for(c=m.length,n=0;n<c;n++)m[n].match(g)&&(u.widgets[u.widgets.length]=m[n].replace(g,"$1"))},applyWidgetId:function(o,c,n){o=s(o)[0];var u,h,g,m=o.config,y=m.widgetOptions,_=l.debug(m,"core"),w=l.getWidgetById(c);w&&(g=w.id,u=!1,s.inArray(g,m.widgets)<0&&(m.widgets[m.widgets.length]=g),_&&(h=new Date),(n||!m.widgetInit[g])&&(m.widgetInit[g]=!0,o.hasInitialized&&l.applyWidgetOptions(o),typeof w.init=="function"&&(u=!0,_&&console[console.group?"group":"log"]("Initializing "+g+" widget"),w.init(o,w,m,y))),!n&&typeof w.format=="function"&&(u=!0,_&&console[console.group?"group":"log"]("Updating "+g+" widget"),w.format(o,m,y,!1)),_&&u&&(console.log("Completed "+(n?"initializing ":"applying ")+g+" widget"+l.benchmark(h)),console.groupEnd&&console.groupEnd()))},applyWidget:function(o,c,n){o=s(o)[0];var u,h,g,m,y,_=o.config,w=l.debug(_,"core"),k=[];if(!(c!==!1&&o.hasInitialized&&(o.isApplyingWidgets||o.isUpdating))){if(w&&(y=new Date),l.addWidgetFromClass(o),clearTimeout(_.timerReady),_.widgets.length){for(o.isApplyingWidgets=!0,_.widgets=s.grep(_.widgets,function(A,L){return s.inArray(A,_.widgets)===L}),g=_.widgets||[],h=g.length,u=0;u<h;u++)m=l.getWidgetById(g[u]),m&&m.id?(m.priority||(m.priority=10),k[u]=m):w&&console.warn('"'+g[u]+'" was enabled, but the widget code has not been loaded!');for(k.sort(function(A,L){return A.priority<L.priority?-1:A.priority===L.priority?0:1}),h=k.length,w&&console[console.group?"group":"log"]("Start "+(c?"initializing":"applying")+" widgets"),u=0;u<h;u++)m=k[u],m&&m.id&&l.applyWidgetId(o,m.id,c);w&&console.groupEnd&&console.groupEnd()}_.timerReady=setTimeout(function(){o.isApplyingWidgets=!1,s.data(o,"lastWidgetApplication",new Date),_.$table.triggerHandler("tablesorter-ready"),!c&&typeof n=="function"&&n(o),w&&(m=_.widgets.length,console.log("Completed "+(c===!0?"initializing ":"applying ")+m+" widget"+(m!==1?"s":"")+l.benchmark(y)))},10)}},removeWidget:function(o,c,n){o=s(o)[0];var u,h,g,m,y=o.config;if(c===!0)for(c=[],m=l.widgets.length,g=0;g<m;g++)h=l.widgets[g],h&&h.id&&(c[c.length]=h.id);else c=(s.isArray(c)?c.join(","):c||"").toLowerCase().split(/[\s,]+/);for(m=c.length,u=0;u<m;u++)h=l.getWidgetById(c[u]),g=s.inArray(c[u],y.widgets),g>=0&&n!==!0&&y.widgets.splice(g,1),h&&h.remove&&(l.debug(y,"core")&&console.log((n?"Refreshing":"Removing")+' "'+c[u]+'" widget'),h.remove(o,y,y.widgetOptions,n),y.widgetInit[c[u]]=!1);y.$table.triggerHandler("widgetRemoveEnd",o)},refreshWidgets:function(o,c,n){o=s(o)[0];var u,h,g=o.config,m=g.widgets,y=l.widgets,_=y.length,w=[],k=function(A){s(A).triggerHandler("refreshComplete")};for(u=0;u<_;u++)h=y[u],h&&h.id&&(c||s.inArray(h.id,m)<0)&&(w[w.length]=h.id);l.removeWidget(o,w.join(","),!0),n!==!0?(l.applyWidget(o,c||!1,k),c&&l.applyWidget(o,!1,k)):k(o)},benchmark:function(o){return" ("+(new Date().getTime()-o.getTime())+" ms)"},log:function(){console.log(arguments)},debug:function(o,c){return o&&(o.debug===!0||typeof o.debug=="string"&&o.debug.indexOf(c)>-1)},isEmptyObject:function(o){for(var c in o)return!1;return!0},isValueInArray:function(o,c){var n,u=c&&c.length||0;for(n=0;n<u;n++)if(c[n][0]===o)return n;return-1},formatFloat:function(o,c){if(typeof o!="string"||o==="")return o;var n,u=c&&c.config?c.config.usNumberFormat!==!1:typeof c<"u"?c:!0;return u?o=o.replace(l.regex.comma,""):o=o.replace(l.regex.digitNonUS,"").replace(l.regex.comma,"."),l.regex.digitNegativeTest.test(o)&&(o=o.replace(l.regex.digitNegativeReplace,"-$1")),n=parseFloat(o),isNaN(n)?s.trim(o):n},isDigit:function(o){return isNaN(o)?l.regex.digitTest.test(o.toString().replace(l.regex.digitReplace,"")):o!==""},computeColumnIndex:function(o,c){var n,u,h,g,m,y,_,w,k,A,L=c&&c.columns||0,T=[],E=new Array(L);for(n=0;n<o.length;n++)for(y=o[n].cells,u=0;u<y.length;u++){for(m=y[u],_=n,w=m.rowSpan||1,k=m.colSpan||1,typeof T[_]>"u"&&(T[_]=[]),h=0;h<T[_].length+1;h++)if(typeof T[_][h]>"u"){A=h;break}for(L&&m.cellIndex===A||(m.setAttribute?m.setAttribute("data-column",A):s(m).attr("data-column",A)),h=_;h<_+w;h++)for(typeof T[h]>"u"&&(T[h]=[]),E=T[h],g=A;g<A+k;g++)E[g]="x"}return l.checkColumnCount(o,T,E.length),E.length},checkColumnCount:function(o,c,n){var u,h,g=!0,m=[];for(u=0;u<c.length;u++)if(c[u]&&(h=c[u].length,c[u].length!==n)){g=!1;break}g||(o.each(function(y,_){var w=_.parentElement.nodeName;m.indexOf(w)<0&&m.push(w)}),console.error("Invalid or incorrect number of columns in the "+m.join(" or ")+"; expected "+n+", but found "+h+" columns"))},fixColumnWidth:function(o){o=s(o)[0];var c,n,u,h,g,m=o.config,y=m.$table.children("colgroup");if(y.length&&y.hasClass(l.css.colgroup)&&y.remove(),m.widthFixed&&m.$table.children("colgroup").length===0){for(y=s('<colgroup class="'+l.css.colgroup+'">'),c=m.$table.width(),u=m.$tbodies.find("tr:first").children(":visible"),h=u.length,g=0;g<h;g++)n=parseInt(u.eq(g).width()/c*1e3,10)/10+"%",y.append(s("<col>").css("width",n));m.$table.prepend(y)}},getData:function(o,c,n){var u,h,g="",m=s(o);return m.length?(u=s.metadata?m.metadata():!1,h=" "+(m.attr("class")||""),typeof m.data(n)<"u"||typeof m.data(n.toLowerCase())<"u"?g+=m.data(n)||m.data(n.toLowerCase()):u&&typeof u[n]<"u"?g+=u[n]:c&&typeof c[n]<"u"?g+=c[n]:h!==" "&&h.match(" "+n+"-")&&(g=h.match(new RegExp("\\s"+n+"-([\\w-]+)"))[1]||""),s.trim(g)):""},getColumnData:function(o,c,n,u,h){if(typeof c!="object"||c===null)return c;o=s(o)[0];var g,m,y=o.config,_=h||y.$headers,w=y.$headerIndexed&&y.$headerIndexed[n]||_.find('[data-column="'+n+'"]:last');if(typeof c[n]<"u")return u?c[n]:c[_.index(w)];for(m in c)if(typeof m=="string"&&(g=w.filter(m).add(w.find(m)),g.length))return c[m]},isProcessing:function(o,c,n){o=s(o);var u=o[0].config,h=n||o.find("."+l.css.header);c?(typeof n<"u"&&u.sortList.length>0&&(h=h.filter(function(){return this.sortDisabled?!1:l.isValueInArray(parseFloat(s(this).attr("data-column")),u.sortList)>=0})),o.add(h).addClass(l.css.processing+" "+u.cssProcessing)):o.add(h).removeClass(l.css.processing+" "+u.cssProcessing)},processTbody:function(o,c,n){if(o=s(o)[0],n)return o.isProcessing=!0,c.before('<colgroup class="tablesorter-savemyplace"/>'),s.fn.detach?c.detach():c.remove();var u=s(o).find("colgroup.tablesorter-savemyplace");c.insertAfter(u),u.remove(),o.isProcessing=!1},clearTableBody:function(o){s(o)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"\xE1\xE0\xE2\xE3\xE4\u0105\xE5",A:"\xC1\xC0\xC2\xC3\xC4\u0104\xC5",c:"\xE7\u0107\u010D",C:"\xC7\u0106\u010C",e:"\xE9\xE8\xEA\xEB\u011B\u0119",E:"\xC9\xC8\xCA\xCB\u011A\u0118",i:"\xED\xEC\u0130\xEE\xEF\u0131",I:"\xCD\xCC\u0130\xCE\xCF",o:"\xF3\xF2\xF4\xF5\xF6\u014D",O:"\xD3\xD2\xD4\xD5\xD6\u014C",ss:"\xDF",SS:"\u1E9E",u:"\xFA\xF9\xFB\xFC\u016F",U:"\xDA\xD9\xDB\xDC\u016E"},replaceAccents:function(o){var c,n="[",u=l.characterEquivalents;if(!l.characterRegex){l.characterRegexArray={};for(c in u)typeof c=="string"&&(n+=u[c],l.characterRegexArray[c]=new RegExp("["+u[c]+"]","g"));l.characterRegex=new RegExp(n+"]")}if(l.characterRegex.test(o))for(c in u)typeof c=="string"&&(o=o.replace(l.characterRegexArray[c],c));return o},validateOptions:function(o){var c,n,u,h,g="headers sortForce sortList sortAppend widgets".split(" "),m=o.originalSettings;if(m){l.debug(o,"core")&&(h=new Date);for(c in m)if(u=typeof l.defaults[c],u==="undefined")console.warn('Tablesorter Warning! "table.config.'+c+'" option not recognized');else if(u==="object")for(n in m[c])u=l.defaults[c]&&typeof l.defaults[c][n],s.inArray(c,g)<0&&u==="undefined"&&console.warn('Tablesorter Warning! "table.config.'+c+"."+n+'" option not recognized');l.debug(o,"core")&&console.log("validate options time:"+l.benchmark(h))}},restoreHeaders:function(o){var c,n,u=s(o)[0].config,h=u.$table.find(u.selectorHeaders),g=h.length;for(c=0;c<g;c++)n=h.eq(c),n.find("."+l.css.headerIn).length&&n.html(u.headerContent[c])},destroy:function(o,c,n){if(o=s(o)[0],!!o.hasInitialized){l.removeWidget(o,!0,!1);var u,h=s(o),g=o.config,m=h.find("thead:first"),y=m.find("tr."+l.css.headerRow).removeClass(l.css.headerRow+" "+g.cssHeaderRow),_=h.find("tfoot:first > tr").children("th, td");c===!1&&s.inArray("uitheme",g.widgets)>=0&&(h.triggerHandler("applyWidgetId",["uitheme"]),h.triggerHandler("applyWidgetId",["zebra"])),m.find("tr").not(y).remove(),u="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets removeWidget destroy mouseup mouseleave "+"keypress sortBegin sortEnd resetToLoadState ".split(" ").join(g.namespace+" "),h.removeData("tablesorter").unbind(u.replace(l.regex.spaces," ")),g.$headers.add(_).removeClass([l.css.header,g.cssHeader,g.cssAsc,g.cssDesc,l.css.sortAsc,l.css.sortDesc,l.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),y.find(g.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(g.namespace+" ").replace(l.regex.spaces," ")),l.restoreHeaders(o),h.toggleClass(l.css.table+" "+g.tableClass+" tablesorter-"+g.theme,c===!1),h.removeClass(g.namespace.slice(1)),o.hasInitialized=!1,delete o.config.cache,typeof n=="function"&&n(o),l.debug(g,"core")&&console.log("tablesorter has been removed")}}};s.fn.tablesorter=function(o){return this.each(function(){var c=this,n=s.extend(!0,{},l.defaults,o,l.instanceMethods);n.originalSettings=o,!c.hasInitialized&&l.buildTable&&this.nodeName!=="TABLE"?l.buildTable(c,n):l.setup(c,n)})},window.console&&window.console.log||(l.logs=[],console={},console.log=console.warn=console.error=console.table=function(){var o=arguments.length>1?arguments:arguments[0];l.logs[l.logs.length]={date:Date.now(),log:o}}),l.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),l.addParser({id:"text",is:function(){return!0},format:function(o,c){var n=c.config;return o&&(o=s.trim(n.ignoreCase?o.toLocaleLowerCase():o),o=n.sortLocaleCompare?l.replaceAccents(o):o),o},type:"text"}),l.regex.nondigit=/[^\w,. \-()]/g,l.addParser({id:"digit",is:function(o){return l.isDigit(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&s.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.currencyReplace=/[+\-,. ]/g,l.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/,l.addParser({id:"currency",is:function(o){return o=(o||"").replace(l.regex.currencyReplace,""),l.regex.currencyTest.test(o)},format:function(o,c){var n=l.formatFloat((o||"").replace(l.regex.nondigit,""),c);return o&&typeof n=="number"?n:o&&s.trim(o&&c.config.ignoreCase?o.toLocaleLowerCase():o)},type:"numeric"}),l.regex.urlProtocolTest=/^(https?|ftp|file):\/\//,l.regex.urlProtocolReplace=/(https?|ftp|file):\/\/(www\.)?/,l.addParser({id:"url",is:function(o){return l.regex.urlProtocolTest.test(o)},format:function(o){return o&&s.trim(o.replace(l.regex.urlProtocolReplace,""))},type:"text"}),l.regex.dash=/-/g,l.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/,l.addParser({id:"isoDate",is:function(o){return l.regex.isoDate.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dash,"/"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.percent=/%/g,l.regex.percentTest=/(\d\s*?%|%\s*?\d)/,l.addParser({id:"percent",is:function(o){return l.regex.percentTest.test(o)&&o.length<15},format:function(o,c){return o&&l.formatFloat(o.replace(l.regex.percent,""),c)},type:"numeric"}),l.addParser({id:"image",is:function(o,c,n,u){return u.find("img").length>0},format:function(o,c,n){return s(n).find("img").attr(c.config.imgAttr||"alt")||o},parsed:!0,type:"text"}),l.regex.dateReplace=/(\S)([AP]M)$/i,l.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i,l.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i,l.addParser({id:"usLongDate",is:function(o){return l.regex.usLongDateTest1.test(o)||l.regex.usLongDateTest2.test(o)},format:function(o){var c=o&&new Date(o.replace(l.regex.dateReplace,"$1 $2"));return c instanceof Date&&isFinite(c)?c.getTime():o},type:"numeric"}),l.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/,l.regex.shortDateReplace=/[\-.,]/g,l.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,l.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,l.convertFormat=function(o,c){o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),c==="mmddyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$1/$2"):c==="ddmmyyyy"?o=o.replace(l.regex.shortDateXXY,"$3/$2/$1"):c==="yyyymmdd"&&(o=o.replace(l.regex.shortDateYMD,"$1/$2/$3"));var n=new Date(o);return n instanceof Date&&isFinite(n)?n.getTime():""},l.addParser({id:"shortDate",is:function(o){return o=(o||"").replace(l.regex.spaces," ").replace(l.regex.shortDateReplace,"/"),l.regex.shortDateTest.test(o)},format:function(o,c,n,u){if(o){var h=c.config,g=h.$headerIndexed[u],m=g.length&&g.data("dateFormat")||l.getData(g,l.getColumnData(c,h.headers,u),"dateFormat")||h.dateFormat;return g.length&&g.data("dateFormat",m),l.convertFormat(o,m)||o}return o},type:"numeric"}),l.regex.timeTest=/^(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)$|^((?:[01]\d|[2][0-4]):[0-5]\d)$/i,l.regex.timeMatch=/(0?[1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i,l.addParser({id:"time",is:function(o){return l.regex.timeTest.test(o)},format:function(o){var c,n=(o||"").match(l.regex.timeMatch),u=new Date(o),h=o&&(n!==null?n[0]:"00:00 AM"),g=h&&new Date("2000/01/01 "+h.replace(l.regex.dateReplace,"$1 $2"));return g instanceof Date&&isFinite(g)?(c=u instanceof Date&&isFinite(u)?u.getTime():0,c?parseFloat(g.getTime()+"."+u.getTime()):g.getTime()):o},type:"numeric"}),l.addParser({id:"metadata",is:function(){return!1},format:function(o,c,n){var u=c.config,h=u.parserMetadataName?u.parserMetadataName:"sortValue";return s(n).metadata()[h]},type:"numeric"}),l.addWidget({id:"zebra",priority:90,format:function(o,c,n){var u,h,g,m,y,_,w,k=new RegExp(c.cssChildRow,"i"),A=c.$tbodies.add(s(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(y=0;y<A.length;y++)for(g=0,u=A.eq(y).children("tr:visible").not(c.selectorRemove),w=u.length,_=0;_<w;_++)h=u.eq(_),k.test(h[0].className)||g++,m=g%2===0,h.removeClass(n.zebra[m?1:0]).addClass(n.zebra[m?0:1])},remove:function(o,c,n,u){if(!u){var h,g,m=c.$tbodies,y=(n.zebra||["even","odd"]).join(" ");for(h=0;h<m.length;h++)g=l.processTbody(o,m.eq(h),!0),g.children().removeClass(y),l.processTbody(o,g,!1)}}})}(r),function(s,l,o){"use strict";var c=s.tablesorter||{};s.extend(!0,c.defaults,{fixedUrl:"",widgetOptions:{storage_fixedUrl:"",storage_group:"",storage_page:"",storage_storageType:"",storage_tableId:"",storage_useSessionStorage:""}}),c.storage=function(n,u,h,g){n=s(n)[0];var m,y,_,w=!1,k={},A=n.config,L=A&&A.widgetOptions,T=c.debug(A,"storage"),E=(g&&g.storageType||L&&L.storage_storageType).toString().charAt(0).toLowerCase(),a=E?"":g&&g.useSessionStorage||L&&L.storage_useSessionStorage,p=s(n),v=g&&g.id||p.attr(g&&g.group||L&&L.storage_group||"data-table-group")||L&&L.storage_tableId||n.id||s(".tablesorter").index(p),d=g&&g.url||p.attr(g&&g.page||L&&L.storage_page||"data-table-page")||L&&L.storage_fixedUrl||A&&A.fixedUrl||l.location.pathname;if(E!=="c"&&(E=E==="s"||a?"sessionStorage":"localStorage",E in l))try{l[E].setItem("_tmptest","temp"),w=!0,l[E].removeItem("_tmptest")}catch(x){console.warn(E+" is not supported in this browser")}if(T&&console.log("Storage >> Using",w?E:"cookies"),s.parseJSON&&(w?k=s.parseJSON(l[E][u]||"null")||{}:(y=o.cookie.split(/[;\s|=]/),m=s.inArray(u,y)+1,k=m!==0?s.parseJSON(y[m]||"null")||{}:{})),typeof h<"u"&&l.JSON&&JSON.hasOwnProperty("stringify"))k[d]||(k[d]={}),k[d][v]=h,w?l[E][u]=JSON.stringify(k):(_=new Date,_.setTime(_.getTime()+31536e6),o.cookie=u+"="+JSON.stringify(k).replace(/\"/g,'"')+"; expires="+_.toGMTString()+"; path=/");else return k&&k[d]?k[d][v]:""}}(r,window,document),function(s){"use strict";var l=s.tablesorter||{};l.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"glyphicon glyphicon-chevron-up",iconSortDesc:"glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s ui-icon-caret-2-n-s",iconSortAsc:"ui-icon-carat-1-n ui-icon-caret-1-n",iconSortDesc:"ui-icon-carat-1-s ui-icon-caret-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}},s.extend(l.css,{wrapper:"tablesorter-wrapper"}),l.addWidget({id:"uitheme",priority:10,format:function(o,c,n){var u,h,g,m,y,_,w,k,A,L,T,E,a,p=l.themes,v=c.$table.add(s(c.namespace+"_extra_table")),d=c.$headers.add(s(c.namespace+"_extra_headers")),x=c.theme||"jui",C=p[x]||{},N=s.trim([C.sortNone,C.sortDesc,C.sortAsc,C.active].join(" ")),G=s.trim([C.iconSortNone,C.iconSortDesc,C.iconSortAsc].join(" ")),q=l.debug(c,"uitheme");for(q&&(y=new Date),(!v.hasClass("tablesorter-"+x)||c.theme!==c.appliedTheme||!n.uitheme_applied)&&(n.uitheme_applied=!0,L=p[c.appliedTheme]||{},a=!s.isEmptyObject(L),T=a?[L.sortNone,L.sortDesc,L.sortAsc,L.active].join(" "):"",E=a?[L.iconSortNone,L.iconSortDesc,L.iconSortAsc].join(" "):"",a&&(n.zebra[0]=s.trim(" "+n.zebra[0].replace(" "+L.even,"")),n.zebra[1]=s.trim(" "+n.zebra[1].replace(" "+L.odd,"")),c.$tbodies.children().removeClass([L.even,L.odd].join(" "))),C.even&&(n.zebra[0]+=" "+C.even),C.odd&&(n.zebra[1]+=" "+C.odd),v.children("caption").removeClass(L.caption||"").addClass(C.caption),k=v.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(L.table||"")).addClass("tablesorter-"+x+" "+(C.table||"")).children("tfoot"),c.appliedTheme=c.theme,k.length&&k.children("tr").removeClass(L.footerRow||"").addClass(C.footerRow).children("th, td").removeClass(L.footerCells||"").addClass(C.footerCells),d.removeClass((a?[L.header,L.hover,T].join(" "):"")||"").addClass(C.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(K){s(this)[K.type==="mouseenter"?"addClass":"removeClass"](C.hover||"")}),d.each(function(){var K=s(this);K.find("."+l.css.wrapper).length||K.wrapInner('<div class="'+l.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}),c.cssIcon&&d.find("."+l.css.icon).removeClass(a?[L.icons,E].join(" "):"").addClass(C.icons||""),l.hasWidget(c.table,"filter")&&(h=function(){v.children("thead").children("."+l.css.filterRow).removeClass(a&&L.filterRow||"").addClass(C.filterRow||"")},n.filter_initialized?h():v.one("filterInit",function(){h()}))),u=0;u<c.columns;u++)_=c.$headers.add(s(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+u+'"]'),w=l.css.icon?_.find("."+l.css.icon):s(),A=d.not(".sorter-false").filter('[data-column="'+u+'"]:last'),A.length&&(_.removeClass(N),w.removeClass(G),A[0].sortDisabled?w.removeClass(C.icons||""):(g=C.sortNone,m=C.iconSortNone,A.hasClass(l.css.sortAsc)?(g=[C.sortAsc,C.active].join(" "),m=C.iconSortAsc):A.hasClass(l.css.sortDesc)&&(g=[C.sortDesc,C.active].join(" "),m=C.iconSortDesc),_.addClass(g),w.addClass(m||"")));q&&console.log("uitheme >> Applied "+x+" theme"+l.benchmark(y))},remove:function(o,c,n,u){if(n.uitheme_applied){var h=c.$table,g=c.appliedTheme||"jui",m=l.themes[g]||l.themes.jui,y=h.children("thead").children(),_=m.sortNone+" "+m.sortDesc+" "+m.sortAsc,w=m.iconSortNone+" "+m.iconSortDesc+" "+m.iconSortAsc;h.removeClass("tablesorter-"+g+" "+m.table),n.uitheme_applied=!1,!u&&(h.find(l.css.header).removeClass(m.header),y.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(m.hover+" "+_+" "+m.active).filter("."+l.css.filterRow).removeClass(m.filterRow),y.find("."+l.css.icon).removeClass(m.icons+" "+w))}}})}(r),function(s){"use strict";var l=s.tablesorter||{};l.addWidget({id:"columns",priority:65,options:{columns:["primary","secondary","tertiary"]},format:function(o,c,n){var u,h,g,m,y,_,w,k,A=c.$table,L=c.$tbodies,T=c.sortList,E=T.length,a=n&&n.columns||["primary","secondary","tertiary"],p=a.length-1;for(w=a.join(" "),h=0;h<L.length;h++)u=l.processTbody(o,L.eq(h),!0),g=u.children("tr"),g.each(function(){if(y=s(this),this.style.display!=="none"&&(_=y.children().removeClass(w),T&&T[0]&&(_.eq(T[0][0]).addClass(a[0]),E>1)))for(k=1;k<E;k++)_.eq(T[k][0]).addClass(a[k]||a[p])}),l.processTbody(o,u,!1);if(m=n.columns_thead!==!1?["thead tr"]:[],n.columns_tfoot!==!1&&m.push("tfoot tr"),m.length&&(g=A.find(m.join(",")).children().removeClass(w),E))for(k=0;k<E;k++)g.filter('[data-column="'+T[k][0]+'"]').addClass(a[k]||a[p])},remove:function(o,c,n){var u,h,g=c.$tbodies,m=(n.columns||["primary","secondary","tertiary"]).join(" ");for(c.$headers.removeClass(m),c.$table.children("tfoot").children("tr").children("th, td").removeClass(m),u=0;u<g.length;u++)h=l.processTbody(o,g.eq(u),!0),h.children("tr").each(function(){s(this).children().removeClass(m)}),l.processTbody(o,h,!1)}})}(r),function(s){"use strict";var l,o,c=s.tablesorter||{},n=c.css,u=c.keyCodes;s.extend(n,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"}),s.extend(u,{backSpace:8,escape:27,space:32,left:37,down:40}),c.addWidget({id:"filter",priority:50,options:{filter_cellFilter:"",filter_childRows:!1,filter_childByColumn:!1,filter_childWithSibs:!0,filter_columnAnyMatch:!0,filter_columnFilters:!0,filter_cssFilter:"",filter_defaultAttrib:"data-value",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_filterLabel:'Filter "{{label}}" column by...',filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_matchType:{input:"exact",select:"exact"},filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_resetOnEsc:!0,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_selectSourceSeparator:"|",filter_serversideFiltering:!1,filter_startsWith:!1,filter_useParsedData:!1},format:function(h,g,m){g.$table.hasClass("hasFilters")||l.init(h,g,m)},remove:function(h,g,m,y){var _,w,k=g.$table,A=g.$tbodies,L="addRows updateCell update updateRows updateComplete appendCache filterReset filterAndSortReset filterFomatterUpdate filterEnd search stickyHeadersInit ".split(" ").join(g.namespace+"filter ");if(k.removeClass("hasFilters").unbind(L.replace(c.regex.spaces," ")).find("."+n.filterRow).remove(),m.filter_initialized=!1,!y){for(_=0;_<A.length;_++)w=c.processTbody(h,A.eq(_),!0),w.children().removeClass(m.filter_filteredRow).show(),c.processTbody(h,w,!1);m.filter_reset&&s(document).undelegate(m.filter_reset,"click"+g.namespace+"filter")}}}),l=c.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([migyu]{0,5})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(h,g,m){if((o.orTest.test(g.iFilter)||o.orSplit.test(g.filter))&&!o.regex.test(g.filter)){var y,_,w,k,A=s.extend({},g),L=g.filter.split(o.orSplit),T=g.iFilter.split(o.orSplit),E=L.length;for(y=0;y<E;y++){A.nestedFilters=!0,A.filter=""+(l.parseFilter(h,L[y],g)||""),A.iFilter=""+(l.parseFilter(h,T[y],g)||""),w="("+(l.parseFilter(h,A.filter,g)||"")+")";try{if(k=new RegExp(g.isMatch?w:"^"+w+"$",h.widgetOptions.filter_ignoreCase?"i":""),_=k.test(A.exact)||l.processTypes(h,A,m),_)return _}catch(a){return null}}return _||!1}return null},and:function(h,g,m){if(o.andTest.test(g.filter)){var y,_,w,k,A,L=s.extend({},g),T=g.filter.split(o.andSplit),E=g.iFilter.split(o.andSplit),a=T.length;for(y=0;y<a;y++){L.nestedFilters=!0,L.filter=""+(l.parseFilter(h,T[y],g)||""),L.iFilter=""+(l.parseFilter(h,E[y],g)||""),k=("("+(l.parseFilter(h,L.filter,g)||"")+")").replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*");try{A=new RegExp(g.isMatch?k:"^"+k+"$",h.widgetOptions.filter_ignoreCase?"i":""),w=A.test(L.exact)||l.processTypes(h,L,m),y===0?_=w:_=_&&w}catch(p){return null}}return _||!1}return null},regex:function(h,g){if(o.regex.test(g.filter)){var m,y=g.filter_regexCache[g.index]||o.regex.exec(g.filter),_=y instanceof RegExp;try{_||(g.filter_regexCache[g.index]=y=new RegExp(y[1],y[2])),m=y.test(g.exact)}catch(w){m=!1}return m}return null},operators:function(h,g){if(o.operTest.test(g.iFilter)&&g.iExact!==""){var m,y,_,w=h.table,k=g.parsed[g.index],A=c.formatFloat(g.iFilter.replace(o.operators,""),w),L=h.parsers[g.index]||{},T=A;return(k||L.type==="numeric")&&(_=s.trim(""+g.iFilter.replace(o.operators,"")),y=l.parseFilter(h,_,g,!0),A=typeof y=="number"&&y!==""&&!isNaN(y)?y:A),(k||L.type==="numeric")&&!isNaN(A)&&typeof g.cache<"u"?m=g.cache:(_=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(_,w)),o.gtTest.test(g.iFilter)?y=o.gteTest.test(g.iFilter)?m>=A:m>A:o.ltTest.test(g.iFilter)&&(y=o.lteTest.test(g.iFilter)?m<=A:m<A),!y&&T===""&&(y=!0),y}return null},notMatch:function(h,g){if(o.notTest.test(g.iFilter)){var m,y=g.iFilter.replace("!",""),_=l.parseFilter(h,y,g)||"";return o.exact.test(_)?(_=_.replace(o.exact,""),_===""?!0:s.trim(_)!==g.iExact):(m=g.iExact.search(s.trim(_)),_===""?!0:g.anyMatch?m<0:!(h.widgetOptions.filter_startsWith?m===0:m>=0))}return null},exact:function(h,g){if(o.exact.test(g.iFilter)){var m=g.iFilter.replace(o.exact,""),y=l.parseFilter(h,m,g)||"";return g.anyMatch?s.inArray(y,g.rowArray)>=0:y==g.iExact}return null},range:function(h,g){if(o.toTest.test(g.iFilter)){var m,y,_,w,k=h.table,A=g.index,L=g.parsed[A],T=g.iFilter.split(o.toSplit);return y=T[0].replace(c.regex.nondigit,"")||"",_=c.formatFloat(l.parseFilter(h,y,g),k),y=T[1].replace(c.regex.nondigit,"")||"",w=c.formatFloat(l.parseFilter(h,y,g),k),(L||h.parsers[A].type==="numeric")&&(m=h.parsers[A].format(""+T[0],k,h.$headers.eq(A),A),_=m!==""&&!isNaN(m)?m:_,m=h.parsers[A].format(""+T[1],k,h.$headers.eq(A),A),w=m!==""&&!isNaN(m)?m:w),(L||h.parsers[A].type==="numeric")&&!isNaN(_)&&!isNaN(w)?m=g.cache:(y=isNaN(g.iExact)?g.iExact.replace(c.regex.nondigit,""):g.iExact,m=c.formatFloat(y,k)),_>w&&(y=_,_=w,w=y),m>=_&&m<=w||_===""||w===""}return null},wild:function(h,g){if(o.wildOrTest.test(g.iFilter)){var m=""+(l.parseFilter(h,g.iFilter,g)||"");!o.wildTest.test(m)&&g.nestedFilters&&(m=g.isMatch?m:"^("+m+")$");try{return new RegExp(m.replace(o.wild01,"\\S{1}").replace(o.wild0More,"\\S*"),h.widgetOptions.filter_ignoreCase?"i":"").test(g.exact)}catch(y){return null}}return null},fuzzy:function(h,g){if(o.fuzzyTest.test(g.iFilter)){var m,y=0,_=g.iExact.length,w=g.iFilter.slice(1),k=l.parseFilter(h,w,g)||"";for(m=0;m<_;m++)g.iExact[m]===k[y]&&(y+=1);return y===k.length}return null}},init:function(h){c.language=s.extend(!0,{},{to:"to",or:"or",and:"and"},c.language);var g,m,y,_,w,k,A,L,T=h.config,E=T.widgetOptions,a=function(p,v,d){return v=v.trim(),v===""?"":(p||"")+v+(d||"")};if(T.$table.addClass("hasFilters"),T.lastSearch=[],E.filter_searchTimer=null,E.filter_initTimer=null,E.filter_formatterCount=0,E.filter_formatterInit=[],E.filter_anyColumnSelector='[data-column="all"],[data-column="any"]',E.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]',k="\\{"+o.query+"\\}",s.extend(o,{child:new RegExp(T.cssChildRow),filtered:new RegExp(E.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+(-"+a("|",c.language.or)+a("|",c.language.to)+")\\s+)","i"),toTest:new RegExp("\\s+(-"+a("|",c.language.to)+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-"+a("|",c.language.to)+")\\s+)","gi"),andTest:new RegExp("\\s+("+a("",c.language.and,"|")+"&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+a("",c.language.and,"|")+"&&)\\s+)","gi"),orTest:new RegExp("(\\|"+a("|\\s+",c.language.or,"\\s+")+")","i"),orSplit:new RegExp("(?:\\|"+a("|\\s+(?:",c.language.or,")\\s+")+")","gi"),iQuery:new RegExp(k,"i"),igQuery:new RegExp(k,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/}),k=T.$headers.filter(".filter-false, .parser-false").length,E.filter_columnFilters!==!1&&k!==T.$headers.length&&l.buildRow(h,T,E),y="addRows updateCell update updateRows updateComplete appendCache filterReset "+"filterAndSortReset filterResetSaved filterEnd search ".split(" ").join(T.namespace+"filter "),T.$table.bind(y,function(p,v){return k=E.filter_hideEmpty&&s.isEmptyObject(T.cache)&&!(T.delayInit&&p.type==="appendCache"),T.$table.find("."+n.filterRow).toggleClass(E.filter_filteredRow,k),/(search|filter)/.test(p.type)||(p.stopPropagation(),l.buildDefault(h,!0)),p.type==="filterReset"||p.type==="filterAndSortReset"?(T.$table.find("."+n.filter).add(E.filter_$externalFilters).val(""),p.type==="filterAndSortReset"?c.sortReset(this.config,function(){l.searching(h,[])}):l.searching(h,[])):p.type==="filterResetSaved"?c.storage(h,"tablesorter-filters",""):p.type==="filterEnd"?l.buildDefault(h,!0):(v=p.type==="search"?v:p.type==="updateComplete"?T.$table.data("lastSearch"):"",/(update|add)/.test(p.type)&&p.type!=="updateComplete"&&(T.lastCombinedFilter=null,T.lastSearch=[],setTimeout(function(){T.$table.triggerHandler("filterFomatterUpdate")},100)),l.searching(h,v,!0)),!1}),E.filter_reset&&(E.filter_reset instanceof s?E.filter_reset.click(function(){T.$table.triggerHandler("filterReset")}):s(E.filter_reset).length&&s(document).undelegate(E.filter_reset,"click"+T.namespace+"filter").delegate(E.filter_reset,"click"+T.namespace+"filter",function(){T.$table.triggerHandler("filterReset")})),E.filter_functions){for(w=0;w<T.columns;w++)if(A=c.getColumnData(h,E.filter_functions,w),A){if(_=T.$headerIndexed[w].removeClass("filter-select"),L=!(_.hasClass("filter-false")||_.hasClass("parser-false")),g="",A===!0&&L)l.buildSelect(h,w);else if(typeof A=="object"&&L){for(m in A)typeof m=="string"&&(g+=g===""?'<option value="">'+(_.data("placeholder")||_.attr("data-placeholder")||E.filter_placeholder.select||"")+"</option>":"",k=m,y=m,m.indexOf(E.filter_selectSourceSeparator)>=0&&(k=m.split(E.filter_selectSourceSeparator),y=k[1],k=k[0]),g+="<option "+(y===k?"":'data-function-name="'+m+'" ')+'value="'+k+'">'+y+"</option>");T.$table.find("thead").find("select."+n.filter+'[data-column="'+w+'"]').append(g),y=E.filter_selectSource,A=typeof y=="function"?!0:c.getColumnData(h,y,w),A&&l.buildSelect(T.table,w,"",!0,_.hasClass(E.filter_onlyAvail))}}}l.buildDefault(h,!0),l.bindSearch(h,T.$table.find("."+n.filter),!0),E.filter_external&&l.bindSearch(h,E.filter_external),E.filter_hideFilters&&l.hideFilters(T),T.showProcessing&&(y="filterStart filterEnd ".split(" ").join(T.namespace+"filter-sp "),T.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(p,v){_=v?T.$table.find("."+n.header).filter("[data-column]").filter(function(){return v[s(this).data("column")]!==""}):"",c.isProcessing(h,p.type==="filterStart",v?_:"")})),T.filteredRows=T.totalRows,y="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(T.namespace+"filter "),T.$table.unbind(y.replace(c.regex.spaces," ")).bind(y,function(){l.completeInit(this)}),T.pager&&T.pager.initialized&&!E.filter_initialized?(T.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){l.filterInitComplete(T)},100)):E.filter_initialized||l.completeInit(h)},completeInit:function(h){var g=h.config,m=g.widgetOptions,y=l.setDefaults(h,g,m)||[];y.length&&(g.delayInit&&y.join("")===""||c.setFilters(h,y,!0)),g.$table.triggerHandler("filterFomatterUpdate"),setTimeout(function(){m.filter_initialized||l.filterInitComplete(g)},100)},formatterUpdated:function(h,g){var m=h&&h.closest("table"),y=m.length&&m[0].config,_=y&&y.widgetOptions;_&&!_.filter_initialized&&(_.filter_formatterInit[g]=1)},filterInitComplete:function(h){var g,m,y=h.widgetOptions,_=0,w=function(){y.filter_initialized=!0,h.lastSearch=h.$table.data("lastSearch"),h.$table.triggerHandler("filterInit",h),l.findRows(h.table,h.lastSearch||[]),c.debug(h,"filter")&&console.log("Filter >> Widget initialized")};if(s.isEmptyObject(y.filter_formatter))w();else{for(m=y.filter_formatterInit.length,g=0;g<m;g++)y.filter_formatterInit[g]===1&&_++;clearTimeout(y.filter_initTimer),!y.filter_initialized&&_===y.filter_formatterCount?w():y.filter_initialized||(y.filter_initTimer=setTimeout(function(){w()},500))}},processFilters:function(h,g){var m,y=[],_=g?encodeURIComponent:decodeURIComponent,w=h.length;for(m=0;m<w;m++)h[m]&&(y[m]=_(h[m]));return y},setDefaults:function(h,g,m){var y,_,w,k,A,L=c.getFilters(h)||[];if(m.filter_saveFilters&&c.storage&&(_=c.storage(h,"tablesorter-filters")||[],y=s.isArray(_),y&&_.join("")===""||!y||(L=l.processFilters(_))),L.join("")==="")for(A=g.$headers.add(m.filter_$externalFilters).filter("["+m.filter_defaultAttrib+"]"),w=0;w<=g.columns;w++)k=w===g.columns?"all":w,L[w]=A.filter('[data-column="'+k+'"]').attr(m.filter_defaultAttrib)||L[w]||"";return g.$table.data("lastSearch",L),L},parseFilter:function(h,g,m,y){return y||m.parsed[m.index]?h.parsers[m.index].format(g,h.table,[],m.index):g},buildRow:function(h,g,m){var y,_,w,k,A,L,T,E,a,p=m.filter_cellFilter,v=g.columns,d=s.isArray(p),x='<tr role="search" class="'+n.filterRow+" "+g.cssIgnoreRow+'">';for(w=0;w<v;w++)g.$headerIndexed[w].length&&(a=g.$headerIndexed[w]&&g.$headerIndexed[w][0].colSpan||0,a>1?x+='<td data-column="'+w+"-"+(w+a-1)+'" colspan="'+a+'"':x+='<td data-column="'+w+'"',d?x+=p[w]?' class="'+p[w]+'"':"":x+=p!==""?' class="'+p+'"':"",x+="></td>");for(g.$filters=s(x+="</tr>").appendTo(g.$table.children("thead").eq(0)).children("td"),w=0;w<v;w++)L=!1,k=g.$headerIndexed[w],k&&k.length&&(y=l.getColumnElm(g,g.$filters,w),E=c.getColumnData(h,m.filter_functions,w),A=m.filter_functions&&E&&typeof E!="function"||k.hasClass("filter-select"),_=c.getColumnData(h,g.headers,w),L=c.getData(k[0],_,"filter")==="false"||c.getData(k[0],_,"parser")==="false",A?x=s("<select>").appendTo(y):(E=c.getColumnData(h,m.filter_formatter,w),E?(m.filter_formatterCount++,x=E(y,w),x&&x.length===0&&(x=y.children("input")),x&&(x.parent().length===0||x.parent().length&&x.parent()[0]!==y[0])&&y.append(x)):x=s('<input type="search">').appendTo(y),x&&(a=k.data("placeholder")||k.attr("data-placeholder")||m.filter_placeholder.search||"",x.attr("placeholder",a))),x&&(T=(s.isArray(m.filter_cssFilter)?typeof m.filter_cssFilter[w]<"u"&&m.filter_cssFilter[w]||"":m.filter_cssFilter)||"",x.addClass(n.filter+" "+T),T=m.filter_filterLabel,a=T.match(/{{([^}]+?)}}/g),a||(a=["{{label}}"]),s.each(a,function(C,N){var G=new RegExp(N,"g"),q=k.attr("data-"+N.replace(/{{|}}/g,"")),K=typeof q>"u"?k.text():q;T=T.replace(G,s.trim(K))}),x.attr({"data-column":y.attr("data-column"),"aria-label":T}),L&&(x.attr("placeholder","").addClass(n.filterDisabled)[0].disabled=!0)))},bindSearch:function(h,g,m){if(h=s(h)[0],g=s(g),!!g.length){var y,_=h.config,w=_.widgetOptions,k=_.namespace+"filter",A=w.filter_$externalFilters;m!==!0&&(y=w.filter_anyColumnSelector+","+w.filter_multipleColumnSelector,w.filter_$anyMatch=g.filter(y),A&&A.length?w.filter_$externalFilters=w.filter_$externalFilters.add(g):w.filter_$externalFilters=g,c.setFilters(h,_.$table.data("lastSearch")||[],m===!1)),y="keypress keyup keydown search change input ".split(" ").join(k+" "),g.attr("data-lastSearchTime",new Date().getTime()).unbind(y.replace(c.regex.spaces," ")).bind("keydown"+k,function(L){if(L.which===u.escape&&!h.config.widgetOptions.filter_resetOnEsc)return!1}).bind("keyup"+k,function(L){w=h.config.widgetOptions;var T=parseInt(s(this).attr("data-column"),10),E=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(h,w.filter_liveSearch,T);if(typeof E>"u"&&(E=w.filter_liveSearch.fallback||!1),s(this).attr("data-lastSearchTime",new Date().getTime()),L.which===u.escape)this.value=w.filter_resetOnEsc?"":_.lastSearch[T];else if(this.value!==""&&(typeof E=="number"&&this.value.length<E||L.which!==u.enter&&L.which!==u.backSpace&&(L.which<u.space||L.which>=u.left&&L.which<=u.down))||E===!1&&this.value!==""&&L.which!==u.enter)return;l.searching(h,!0,!0,T)}).bind("search change keypress input blur ".split(" ").join(k+" "),function(L){var T=parseInt(s(this).attr("data-column"),10),E=L.type,a=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(h,w.filter_liveSearch,T);h.config.widgetOptions.filter_initialized&&(L.which===u.enter||E==="search"||E==="blur"||(E==="change"||E==="input")&&(a===!0||a!==!0&&L.target.nodeName!=="INPUT")&&this.value!==_.lastSearch[T])&&(L.preventDefault(),s(this).attr("data-lastSearchTime",new Date().getTime()),l.searching(h,E!=="keypress"||L.which===u.enter,!0,T))})}},searching:function(h,g,m,y){var _,w=h.config.widgetOptions;typeof y>"u"?_=!1:(_=typeof w.filter_liveSearch=="boolean"?w.filter_liveSearch:c.getColumnData(h,w.filter_liveSearch,y),typeof _>"u"&&(_=w.filter_liveSearch.fallback||!1)),clearTimeout(w.filter_searchTimer),typeof g>"u"||g===!0?w.filter_searchTimer=setTimeout(function(){l.checkFilters(h,g,m)},_?w.filter_searchDelay:10):l.checkFilters(h,g,m)},equalFilters:function(h,g,m){var y,_=[],w=[],k=h.columns+1;for(g=s.isArray(g)?g:[],m=s.isArray(m)?m:[],y=0;y<k;y++)_[y]=g[y]||"",w[y]=m[y]||"";return _.join(",")===w.join(",")},checkFilters:function(h,g,m){var y=h.config,_=y.widgetOptions,w=s.isArray(g),k=w?g:c.getFilters(h,!0),A=k||[];if(s.isEmptyObject(y.cache)){y.delayInit&&(!y.pager||y.pager&&y.pager.initialized)&&c.updateCache(y,function(){l.checkFilters(h,!1,m)});return}if(w&&(c.setFilters(h,k,!1,m!==!0),_.filter_initialized||(y.lastSearch=[],y.lastCombinedFilter="")),_.filter_hideFilters&&y.$table.find("."+n.filterRow).triggerHandler(l.hideFiltersCheck(y)?"mouseleave":"mouseenter"),l.equalFilters(y,y.lastSearch,A)){if(g!==!1)return;y.lastCombinedFilter="",y.lastSearch=[]}if(k=k||[],k=Array.prototype.map?k.map(String):k.join("\uFFFD").split("\uFFFD"),_.filter_initialized&&y.$table.triggerHandler("filterStart",[k]),y.showProcessing)setTimeout(function(){return l.findRows(h,k,A),!1},30);else return l.findRows(h,k,A),!1},hideFiltersCheck:function(h){if(typeof h.widgetOptions.filter_hideFilters=="function"){var g=h.widgetOptions.filter_hideFilters(h);if(typeof g=="boolean")return g}return c.getFilters(h.$table).join("")===""},hideFilters:function(h,g){var m;(g||h.$table).find("."+n.filterRow).addClass(n.filterRowHide).bind("mouseenter mouseleave",function(y){var _=y,w=s(this);clearTimeout(m),m=setTimeout(function(){/enter|over/.test(_.type)?w.removeClass(n.filterRowHide):s(document.activeElement).closest("tr")[0]!==w[0]&&w.toggleClass(n.filterRowHide,l.hideFiltersCheck(h))},200)}).find("input, select").bind("focus blur",function(y){var _=y,w=s(this).closest("tr");clearTimeout(m),m=setTimeout(function(){clearTimeout(m),w.toggleClass(n.filterRowHide,l.hideFiltersCheck(h)&&_.type!=="focus")},200)})},defaultFilter:function(h,g){if(h==="")return h;var m=o.iQuery,y=g.match(o.igQuery).length,_=y>1?s.trim(h).split(/\s/):[s.trim(h)],w=_.length-1,k=0,A=g;for(w<1&&y>1&&(_[1]=_[0]);m.test(A);)A=A.replace(m,_[k++]||""),m.test(A)&&k<w&&(_[k]||"")!==""&&(A=g.replace(m,A));return A},getLatestSearch:function(h){return h?h.sort(function(g,m){return s(m).attr("data-lastSearchTime")-s(g).attr("data-lastSearchTime")}):h||s()},findRange:function(h,g,m){var y,_,w,k,A,L,T,E,a,p=[];if(/^[0-9]+$/.test(g))return[parseInt(g,10)];if(!m&&/-/.test(g))for(_=g.match(/(\d+)\s*-\s*(\d+)/g),a=_?_.length:0,E=0;E<a;E++){for(w=_[E].split(/\s*-\s*/),k=parseInt(w[0],10)||0,A=parseInt(w[1],10)||h.columns-1,k>A&&(y=k,k=A,A=y),A>=h.columns&&(A=h.columns-1);k<=A;k++)p[p.length]=k;g=g.replace(_[E],"")}if(!m&&/,/.test(g))for(L=g.split(/\s*,\s*/),a=L.length,T=0;T<a;T++)L[T]!==""&&(E=parseInt(L[T],10),E<h.columns&&(p[p.length]=E));if(!p.length)for(E=0;E<h.columns;E++)p[p.length]=E;return p},getColumnElm:function(h,g,m){return g.filter(function(){var y=l.findRange(h,s(this).attr("data-column"));return s.inArray(m,y)>-1})},multipleColumns:function(h,g){var m=h.widgetOptions,y=m.filter_initialized||!g.filter(m.filter_anyColumnSelector).length,_=s.trim(l.getLatestSearch(g).attr("data-column")||"");return l.findRange(h,_,!y)},processTypes:function(h,g,m){var y,_=null,w=null;for(y in l.types)s.inArray(y,m.excludeMatch)<0&&w===null&&(w=l.types[y](h,g,m),w!==null&&(g.matchedOn=y,_=w));return _},matchType:function(h,g){var m,y=h.widgetOptions,_=h.$headerIndexed[g];return _.hasClass("filter-exact")?m=!1:_.hasClass("filter-match")?m=!0:(y.filter_columnFilters?_=h.$filters.find("."+n.filter).add(y.filter_$externalFilters).filter('[data-column="'+g+'"]'):y.filter_$externalFilters&&(_=y.filter_$externalFilters.filter('[data-column="'+g+'"]')),m=_.length?h.widgetOptions.filter_matchType[(_[0].nodeName||"").toLowerCase()]==="match":!1),m},processRow:function(h,g,m){var y,_,w,k,A,L=h.widgetOptions,T=!0,E=L.filter_$anyMatch&&L.filter_$anyMatch.length,a=L.filter_$anyMatch&&L.filter_$anyMatch.length?l.multipleColumns(h,L.filter_$anyMatch):[];if(g.$cells=g.$row.children(),g.matchedOn=null,g.anyMatchFlag&&a.length>1||g.anyMatchFilter&&!E){if(g.anyMatch=!0,g.isMatch=!0,g.rowArray=g.$cells.map(function(p){if(s.inArray(p,a)>-1||g.anyMatchFilter&&!E)return g.parsed[p]?A=g.cacheArray[p]:(A=g.rawArray[p],A=s.trim(L.filter_ignoreCase?A.toLowerCase():A),h.sortLocaleCompare&&(A=c.replaceAccents(A))),A}).get(),g.filter=g.anyMatchFilter,g.iFilter=g.iAnyMatchFilter,g.exact=g.rowArray.join(" "),g.iExact=L.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.cache=g.cacheArray.slice(0,-1).join(" "),m.excludeMatch=m.noAnyMatch,_=l.processTypes(h,g,m),_!==null)T=_;else if(L.filter_startsWith)for(T=!1,a=Math.min(h.columns,g.rowArray.length);!T&&a>0;)a--,T=T||g.rowArray[a].indexOf(g.iFilter)===0;else T=(g.iExact+g.childRowText).indexOf(g.iFilter)>=0;if(g.anyMatch=!1,g.filters.join("")===g.filter)return T}for(a=0;a<h.columns;a++)g.filter=g.filters[a],g.index=a,m.excludeMatch=m.excludeFilter[a],g.filter&&(g.cache=g.cacheArray[a],y=g.parsed[a]?g.cache:g.rawArray[a]||"",g.exact=h.sortLocaleCompare?c.replaceAccents(y):y,g.iExact=!o.type.test(typeof g.exact)&&L.filter_ignoreCase?g.exact.toLowerCase():g.exact,g.isMatch=l.matchType(h,a),y=T,k=L.filter_columnFilters&&h.$filters.add(L.filter_$externalFilters).filter('[data-column="'+a+'"]').find("select option:selected").attr("data-function-name")||"",h.sortLocaleCompare&&(g.filter=c.replaceAccents(g.filter)),L.filter_defaultFilter&&o.iQuery.test(m.defaultColFilter[a])&&(g.filter=l.defaultFilter(g.filter,m.defaultColFilter[a])),g.iFilter=L.filter_ignoreCase?(g.filter||"").toLowerCase():g.filter,w=m.functions[a],_=null,w&&(typeof w=="function"?_=w(g.exact,g.cache,g.filter,a,g.$row,h,g):typeof w[k||g.filter]=="function"&&(A=k||g.filter,_=w[A](g.exact,g.cache,g.filter,a,g.$row,h,g))),_===null?(_=l.processTypes(h,g,m),A=w===!0&&(g.matchedOn==="and"||g.matchedOn==="or"),_!==null&&!A?y=_:w===!0?y=g.isMatch?(""+g.iExact).search(g.iFilter)>=0:g.filter===g.exact:(A=(g.iExact+g.childRowText).indexOf(l.parseFilter(h,g.iFilter,g)),y=!L.filter_startsWith&&A>=0||L.filter_startsWith&&A===0)):y=_,T=y?T:!1);return T},findRows:function(h,g,m){if(!(l.equalFilters(h.config,h.config.lastSearch,m)||!h.config.widgetOptions.filter_initialized)){var y,_,w,k,A,L,T,E,a,p,v,d,x,C,N,G,q,K,oe,J,Q,Oe,ge,W,se=s.extend([],g),de=h.config,Z=de.widgetOptions,ye=c.debug(de,"filter"),Y={anyMatch:!1,filters:g,filter_regexCache:[]},ce={noAnyMatch:["range","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:c.getColumnData(h,Z.filter_defaultFilter,de.columns,!0)||""};for(Y.parsed=[],a=0;a<de.columns;a++)Y.parsed[a]=Z.filter_useParsedData||de.parsers&&de.parsers[a]&&de.parsers[a].parsed||c.getData&&c.getData(de.$headerIndexed[a],c.getColumnData(h,de.headers,a),"filter")==="parsed"||de.$headerIndexed[a].hasClass("filter-parsed"),ce.functions[a]=c.getColumnData(h,Z.filter_functions,a)||de.$headerIndexed[a].hasClass("filter-select"),ce.defaultColFilter[a]=c.getColumnData(h,Z.filter_defaultFilter,a)||"",ce.excludeFilter[a]=(c.getColumnData(h,Z.filter_excludeFilter,a,!0)||"").split(/\s+/);for(ye&&(console.log("Filter >> Starting filter widget search",g),N=new Date),de.filteredRows=0,de.totalRows=0,m=se||[],T=0;T<de.$tbodies.length;T++){if(E=c.processTbody(h,de.$tbodies.eq(T),!0),a=de.columns,_=de.cache[T].normalized,k=s(s.map(_,function(Ge){return Ge[a].$row.get()})),m.join("")===""||Z.filter_serversideFiltering)k.removeClass(Z.filter_filteredRow).not("."+de.cssChildRow).css("display","");else{if(k=k.not("."+de.cssChildRow),y=k.length,(Z.filter_$anyMatch&&Z.filter_$anyMatch.length||typeof g[de.columns]<"u")&&(Y.anyMatchFlag=!0,Y.anyMatchFilter=""+(g[de.columns]||Z.filter_$anyMatch&&l.getLatestSearch(Z.filter_$anyMatch).val()||""),Z.filter_columnAnyMatch)){for(J=Y.anyMatchFilter.split(o.andSplit),Q=!1,q=0;q<J.length;q++)Oe=J[q].split(":"),Oe.length>1&&(isNaN(Oe[0])?s.each(de.headerContent,function(Ge,ht){ht.toLowerCase().indexOf(Oe[0])>-1&&(ge=Ge,g[ge]=Oe[1])}):ge=parseInt(Oe[0],10)-1,ge>=0&&ge<de.columns&&(g[ge]=Oe[1],J.splice(q,1),q--,Q=!0));Q&&(Y.anyMatchFilter=J.join(" && "))}if(oe=Z.filter_searchFiltered,d=de.lastSearch||de.$table.data("lastSearch")||[],oe)for(q=0;q<a+1;q++)G=g[q]||"",oe||(q=a),oe=oe&&d.length&&G.indexOf(d[q]||"")===0&&!o.alreadyFiltered.test(G)&&!o.exactTest.test(G)&&!(o.isNeg1.test(G)||o.isNeg2.test(G))&&!(G!==""&&de.$filters&&de.$filters.filter('[data-column="'+q+'"]').find("select").length&&!l.matchType(de,q));for(K=k.not("."+Z.filter_filteredRow).length,oe&&K===0&&(oe=!1),ye&&console.log("Filter >> Searching through "+(oe&&K<y?K:"all")+" rows"),Y.anyMatchFlag&&(de.sortLocaleCompare&&(Y.anyMatchFilter=c.replaceAccents(Y.anyMatchFilter)),Z.filter_defaultFilter&&o.iQuery.test(ce.defaultAnyFilter)&&(Y.anyMatchFilter=l.defaultFilter(Y.anyMatchFilter,ce.defaultAnyFilter),oe=!1),Y.iAnyMatchFilter=Z.filter_ignoreCase&&de.ignoreCase?Y.anyMatchFilter.toLowerCase():Y.anyMatchFilter),L=0;L<y;L++)if(W=k[L].className,p=L&&o.child.test(W),!(p||oe&&o.filtered.test(W))){if(Y.$row=k.eq(L),Y.rowIndex=L,Y.cacheArray=_[L],w=Y.cacheArray[de.columns],Y.rawArray=w.raw,Y.childRowText="",!Z.filter_childByColumn){for(W="",v=w.child,q=0;q<v.length;q++)W+=" "+v[q].join(" ")||"";Y.childRowText=Z.filter_childRows?Z.filter_ignoreCase?W.toLowerCase():W:""}if(x=!1,C=l.processRow(de,Y,ce),A=w.$row,G=!!C,v=w.$row.filter(":gt(0)"),Z.filter_childRows&&v.length){if(Z.filter_childByColumn)for(Z.filter_childWithSibs||(v.addClass(Z.filter_filteredRow),A=A.eq(0)),q=0;q<v.length;q++)Y.$row=v.eq(q),Y.cacheArray=w.child[q],Y.rawArray=Y.cacheArray,G=l.processRow(de,Y,ce),x=x||G,!Z.filter_childWithSibs&&G&&v.eq(q).removeClass(Z.filter_filteredRow);x=x||C}else x=G;A.toggleClass(Z.filter_filteredRow,!x)[0].display=x?"":"none"}}de.filteredRows+=k.not("."+Z.filter_filteredRow).length,de.totalRows+=k.length,c.processTbody(h,E,!1)}de.lastCombinedFilter=se.join(""),de.lastSearch=se,de.$table.data("lastSearch",se),Z.filter_saveFilters&&c.storage&&c.storage(h,"tablesorter-filters",l.processFilters(se,!0)),ye&&console.log("Filter >> Completed search"+c.benchmark(N)),Z.filter_initialized&&(de.$table.triggerHandler("filterBeforeEnd",de),de.$table.triggerHandler("filterEnd",de)),setTimeout(function(){c.applyWidget(de.table)},0)}},getOptionSource:function(h,g,m){h=s(h)[0];var y=h.config,_=y.widgetOptions,w=!1,k=_.filter_selectSource,A=y.$table.data("lastSearch")||[],L=typeof k=="function"?!0:c.getColumnData(h,k,g);if(m&&A[g]!==""&&(m=!1),L===!0)w=k(h,g,m);else{if(L instanceof s||s.type(L)==="string"&&L.indexOf("</option>")>=0)return L;if(s.isArray(L))w=L;else if(s.type(k)==="object"&&L&&(w=L(h,g,m),w===null))return null}return w===!1&&(w=l.getOptions(h,g,m)),l.processOptions(h,g,w)},processOptions:function(h,g,m){if(!s.isArray(m))return!1;h=s(h)[0];var y,_,w,k,A,L,T=h.config,E=typeof g<"u"&&g!==null&&g>=0&&g<T.columns,a=E?T.$headerIndexed[g].hasClass("filter-select-sort-desc"):!1,p=[];if(m=s.grep(m,function(v,d){return v.text?!0:s.inArray(v,m)===d}),E&&T.$headerIndexed[g].hasClass("filter-select-nosort"))return m;for(k=m.length,w=0;w<k;w++)_=m[w],L=_.text?_.text:_,A=(E&&T.parsers&&T.parsers.length&&T.parsers[g].format(L,h,[],g)||L).toString(),A=T.widgetOptions.filter_ignoreCase?A.toLowerCase():A,_.text?(_.parsed=A,p[p.length]=_):p[p.length]={text:_,parsed:A};for(y=T.textSorter||"",p.sort(function(v,d){var x=a?d.parsed:v.parsed,C=a?v.parsed:d.parsed;return E&&typeof y=="function"?y(x,C,!0,g,h):E&&typeof y=="object"&&y.hasOwnProperty(g)?y[g](x,C,!0,g,h):c.sortNatural?c.sortNatural(x,C):!0}),m=[],k=p.length,w=0;w<k;w++)m[m.length]=p[w];return m},getOptions:function(h,g,m){h=s(h)[0];var y,_,w,k,A,L,T,E,a=h.config,p=a.widgetOptions,v=[];for(_=0;_<a.$tbodies.length;_++)for(A=a.cache[_],w=a.cache[_].normalized.length,y=0;y<w;y++)if(k=A.row?A.row[y]:A.normalized[y][a.columns].$row[0],!(m&&k.className.match(p.filter_filteredRow))){if(p.filter_useParsedData||a.parsers[g].parsed||a.$headerIndexed[g].hasClass("filter-parsed")){if(v[v.length]=""+A.normalized[y][g],p.filter_childRows&&p.filter_childByColumn)for(E=A.normalized[y][a.columns].$row.length-1,L=0;L<E;L++)v[v.length]=""+A.normalized[y][a.columns].child[L][g]}else if(v[v.length]=A.normalized[y][a.columns].raw[g],p.filter_childRows&&p.filter_childByColumn)for(E=A.normalized[y][a.columns].$row.length,L=1;L<E;L++)T=A.normalized[y][a.columns].$row.eq(L).children().eq(g),v[v.length]=""+c.getElementText(a,T,g)}return v},buildSelect:function(h,g,m,y,_){if(h=s(h)[0],g=parseInt(g,10),!(!h.config.cache||s.isEmptyObject(h.config.cache))){var w,k,A,L,T,E,a,p=h.config,v=p.widgetOptions,d=p.$headerIndexed[g],x='<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||v.filter_placeholder.select||"")+"</option>",C=p.$table.find("thead").find("select."+n.filter+'[data-column="'+g+'"]').val();if(!((typeof m>"u"||m==="")&&(m=l.getOptionSource(h,g,_),m===null))){if(s.isArray(m)){for(w=0;w<m.length;w++)if(a=m[w],a.text){a["data-function-name"]=typeof a.value>"u"?a.text:a.value,x+="<option";for(k in a)a.hasOwnProperty(k)&&k!=="text"&&(x+=" "+k+'="'+a[k].replace(o.quote,"&quot;")+'"');a.value||(x+=' value="'+a.text.replace(o.quote,"&quot;")+'"'),x+=">"+a.text.replace(o.quote,"&quot;")+"</option>"}else""+a!="[object Object]"&&(A=a=(""+a).replace(o.quote,"&quot;"),k=A,A.indexOf(v.filter_selectSourceSeparator)>=0&&(L=A.split(v.filter_selectSourceSeparator),k=L[0],A=L[1]),x+=a!==""?"<option "+(k===A?"":'data-function-name="'+a+'" ')+'value="'+k+'">'+A+"</option>":"");m=[]}T=(p.$filters?p.$filters:p.$table.children("thead")).find("."+n.filter),v.filter_$externalFilters&&(T=T&&T.length?T.add(v.filter_$externalFilters):v.filter_$externalFilters),E=T.filter('select[data-column="'+g+'"]'),E.length&&(E[y?"html":"append"](x),s.isArray(m)||E.append(m).val(C),E.val(C))}}},buildDefault:function(h,g){var m,y,_,w=h.config,k=w.widgetOptions,A=w.columns;for(m=0;m<A;m++)y=w.$headerIndexed[m],_=!(y.hasClass("filter-false")||y.hasClass("parser-false")),(y.hasClass("filter-select")||c.getColumnData(h,k.filter_functions,m)===!0)&&_&&l.buildSelect(h,m,"",g,y.hasClass(k.filter_onlyAvail))}},o=l.regex,c.getFilters=function(h,g,m,y){var _,w,k,A,L=[],T=h?s(h)[0].config:"",E=T?T.widgetOptions:"";if(g!==!0&&E&&!E.filter_columnFilters||s.isArray(m)&&l.equalFilters(T,m,T.lastSearch))return s(h).data("lastSearch")||[];if(T&&(T.$filters&&(w=T.$filters.find("."+n.filter)),E.filter_$externalFilters&&(w=w&&w.length?w.add(E.filter_$externalFilters):E.filter_$externalFilters),w&&w.length))for(L=m||[],_=0;_<T.columns+1;_++)A=_===T.columns?E.filter_anyColumnSelector+","+E.filter_multipleColumnSelector:'[data-column="'+_+'"]',k=w.filter(A),k.length&&(k=l.getLatestSearch(k),s.isArray(m)?(y&&k.length>1&&(k=k.slice(1)),_===T.columns&&(A=k.filter(E.filter_anyColumnSelector),k=A.length?A:k),k.val(m[_]).trigger("change"+T.namespace)):(L[_]=k.val()||"",_===T.columns?k.slice(1).filter('[data-column*="'+k.attr("data-column")+'"]').val(L[_]):k.slice(1).val(L[_])),_===T.columns&&k.length&&(E.filter_$anyMatch=k));return L},c.setFilters=function(h,g,m,y){var _=h?s(h)[0].config:"",w=c.getFilters(h,!0,g,y);return typeof m>"u"&&(m=!0),_&&m&&(_.lastCombinedFilter=null,_.lastSearch=[],l.searching(_.table,g,y),_.$table.triggerHandler("filterFomatterUpdate")),w.length!==0}}(r),function(s,l){"use strict";var o=s.tablesorter||{};s.extend(o.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"}),o.addHeaderResizeEvent=function(n,u,h){if(n=s(n)[0],!!n.config){var g={timer:250},m=s.extend({},g,h),y=n.config,_=y.widgetOptions,w=function(k){var A,L,T,E,a,p,v=y.$headers.length;for(_.resize_flag=!0,L=[],A=0;A<v;A++)T=y.$headers.eq(A),E=T.data("savedSizes")||[0,0],a=T[0].offsetWidth,p=T[0].offsetHeight,(a!==E[0]||p!==E[1])&&(T.data("savedSizes",[a,p]),L.push(T[0]));L.length&&k!==!1&&y.$table.triggerHandler("resize",[L]),_.resize_flag=!1};if(clearInterval(_.resize_timer),u)return _.resize_flag=!1,!1;w(!1),_.resize_timer=setInterval(function(){_.resize_flag||w()},m.timer)}};function c(n,u){var h=isNaN(u.stickyHeaders_offset)?s(u.stickyHeaders_offset):[];return h.length?h.height()||0:parseInt(u.stickyHeaders_offset,10)||0}o.addWidget({id:"stickyHeaders",priority:54,options:{stickyHeaders:"",stickyHeaders_appendTo:null,stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,u,h){if(!(u.$table.hasClass("hasStickyHeaders")||s.inArray("filter",u.widgets)>=0&&!u.$table.hasClass("hasFilters"))){var g,m,y,_=u.$table,w=s(h.stickyHeaders_attachTo||h.stickyHeaders_appendTo),k=u.namespace+"stickyheaders ",A=s(h.stickyHeaders_yScroll||h.stickyHeaders_attachTo||l),L=s(h.stickyHeaders_xScroll||h.stickyHeaders_attachTo||l),T=_.children("thead:first"),E=T.children("tr").not(".sticky-false").children(),a=_.children("tfoot"),p=c(u,h),v=_.parent().closest("."+o.css.table).hasClass("hasStickyHeaders")?_.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],d=v.length?v.height():0,x=h.$sticky=_.clone().addClass("containsStickyHeaders "+o.css.sticky+" "+h.stickyHeaders+" "+u.namespace.slice(1)+"_extra_table").wrap('<div class="'+o.css.stickyWrap+'">'),C=x.parent().addClass(o.css.stickyHide).css({position:w.length?"absolute":"fixed",padding:parseInt(x.parent().parent().css("padding-left"),10),top:p+d,left:0,visibility:"hidden",zIndex:h.stickyHeaders_zIndex||2}),N=x.children("thead:first"),G,q="",K=function(Oe,ge){var W,se,de,Z,ye,Y=Oe.filter(":visible"),ce=Y.length;for(W=0;W<ce;W++)Z=ge.filter(":visible").eq(W),ye=Y.eq(W),ye.css("box-sizing")==="border-box"?se=ye.outerWidth():Z.css("border-collapse")==="collapse"?l.getComputedStyle?se=parseFloat(l.getComputedStyle(ye[0],null).width):(de=parseFloat(ye.css("border-width")),se=ye.outerWidth()-parseFloat(ye.css("padding-left"))-parseFloat(ye.css("padding-right"))-de):se=ye.width(),Z.css({width:se,"min-width":se,"max-width":se})},oe=function(Oe){return Oe===!1&&v.length?_.position().left:w.length?parseInt(w.css("padding-left"),10)||0:_.offset().left-parseInt(_.css("margin-left"),10)-s(l).scrollLeft()},J=function(){C.css({left:oe(),width:_.outerWidth()}),K(_,x),K(E,G)},Q=function(Oe){if(_.is(":visible")){d=v.length?v.offset().top-A.scrollTop()+v.height():0;var ge,W=_.offset(),se=c(u,h),de=s.isWindow(A[0]),Z=de?A.scrollTop():v.length?parseInt(v[0].style.top,10):A.offset().top,ye=w.length?Z:A.scrollTop(),Y=h.stickyHeaders_includeCaption?0:_.children("caption").height()||0,ce=ye+se+d-Y,Ge=_.height()-(C.height()+(a.height()||0))-Y,ht=ce>W.top&&ce<W.top+Ge?"visible":"hidden",st=ht==="visible"?o.css.stickyVis:o.css.stickyHide,qe=!C.hasClass(st),Se={visibility:ht};w.length&&(qe=!0,Se.top=de?ce-w.offset().top:w.scrollTop()),ge=oe(de),ge!==parseInt(C.css("left"),10)&&(qe=!0,Se.left=ge),Se.top=(Se.top||0)+(!de&&v.length?v.height():se+d),qe&&C.removeClass(o.css.stickyVis+" "+o.css.stickyHide).addClass(st).css(Se),(ht!==q||Oe)&&(J(),q=ht)}};if(w.length&&!w.css("position")&&w.css("position","relative"),x.attr("id")&&(x[0].id+=h.stickyHeaders_cloneId),x.find("> thead:gt(0), tr.sticky-false").hide(),x.find("> tbody, > tfoot").remove(),x.find("caption").toggle(h.stickyHeaders_includeCaption),G=N.children().children(),x.css({height:0,width:0,margin:0}),G.find("."+o.css.resizer).remove(),_.addClass("hasStickyHeaders").bind("pagerComplete"+k,function(){J()}),o.bindEvents(n,N.children().children("."+o.css.header)),h.stickyHeaders_appendTo?s(h.stickyHeaders_appendTo).append(C):_.after(C),u.onRenderHeader)for(y=N.children("tr").children(),m=y.length,g=0;g<m;g++)u.onRenderHeader.apply(y.eq(g),[g,u,x]);L.add(A).unbind("scroll resize ".split(" ").join(k).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(k),function(Oe){Q(Oe.type==="resize")}),u.$table.unbind("stickyHeadersUpdate"+k).bind("stickyHeadersUpdate"+k,function(){Q(!0)}),h.stickyHeaders_addResizeEvent&&o.addHeaderResizeEvent(n),_.hasClass("hasFilters")&&h.filter_columnFilters&&(_.bind("filterEnd"+k,function(){var Oe=s(document.activeElement).closest("td"),ge=Oe.parent().children().index(Oe);C.hasClass(o.css.stickyVis)&&h.stickyHeaders_filteredToTop&&(l.scrollTo(0,_.position().top),ge>=0&&u.$filters&&u.$filters.eq(ge).find("a, select, input").filter(":visible").focus())}),o.filter.bindSearch(_,G.find("."+o.css.filter)),h.filter_hideFilters&&o.filter.hideFilters(u,x)),h.stickyHeaders_addResizeEvent&&_.bind("resize"+u.namespace+"stickyheaders",function(){J()}),Q(!0),_.triggerHandler("stickyHeadersInit")}},remove:function(n,u,h){var g=u.namespace+"stickyheaders ";u.$table.removeClass("hasStickyHeaders").unbind("pagerComplete resize filterEnd stickyHeadersUpdate ".split(" ").join(g).replace(/\s+/g," ")).next("."+o.css.stickyWrap).remove(),h.$sticky&&h.$sticky.length&&h.$sticky.remove(),s(l).add(h.stickyHeaders_xScroll).add(h.stickyHeaders_yScroll).add(h.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(g).replace(/\s+/g," ")),o.addHeaderResizeEvent(n,!0)}})}(r,window),function(s,l){"use strict";var o=s.tablesorter||{};s.extend(o.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"}),s(function(){var c="<style>body."+o.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;-khtml-user-select: none; -webkit-user-select: none; user-select: none; }."+o.css.resizableContainer+" { position: relative; height: 1px; }."+o.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }</style>";s("head").append(c)}),o.resizable={init:function(c,n){if(!c.$table.hasClass("hasResizable")){c.$table.addClass("hasResizable");var u,h,g,m,y,_=c.$table,w=_.parent(),k=parseInt(_.css("margin-top"),10),A=n.resizable_vars={useStorage:o.storage&&n.resizable!==!1,$wrap:w,mouseXPosition:0,$target:null,$next:null,overflow:w.css("overflow")==="auto"||w.css("overflow")==="scroll"||w.css("overflow-x")==="auto"||w.css("overflow-x")==="scroll",storedSizes:[]};for(o.resizableReset(c.table,!0),A.tableWidth=_.width(),A.fullWidth=Math.abs(w.width()-A.tableWidth)<20,A.useStorage&&A.overflow&&(o.storage(c.table,"tablesorter-table-original-css-width",A.tableWidth),y=o.storage(c.table,"tablesorter-table-resized-width")||"auto",o.resizable.setWidth(_,y,!0)),n.resizable_vars.storedSizes=m=(A.useStorage?o.storage(c.table,o.css.resizableStorage):[])||[],o.resizable.setWidths(c,n,m),o.resizable.updateStoredSizes(c,n),n.$resizable_container=s('<div class="'+o.css.resizableContainer+'">').css({top:k}).insertBefore(_),g=0;g<c.columns;g++)h=c.$headerIndexed[g],y=o.getColumnData(c.table,c.headers,g),u=o.getData(h,y,"resizable")==="false",u||s('<div class="'+o.css.resizableHandle+'">').appendTo(n.$resizable_container).attr({"data-column":g,unselectable:"on"}).data("header",h).bind("selectstart",!1);o.resizable.bindings(c,n)}},updateStoredSizes:function(c,n){var u,h,g=c.columns,m=n.resizable_vars;for(m.storedSizes=[],u=0;u<g;u++)h=c.$headerIndexed[u],m.storedSizes[u]=h.is(":visible")?h.width():0},setWidth:function(c,n,u){c.css({width:n,"min-width":u?n:"","max-width":u?n:""})},setWidths:function(c,n,u){var h,g,m=n.resizable_vars,y=s(c.namespace+"_extra_headers"),_=c.$table.children("colgroup").children("col");if(u=u||m.storedSizes||[],u.length){for(h=0;h<c.columns;h++)o.resizable.setWidth(c.$headerIndexed[h],u[h],m.overflow),y.length&&(g=y.eq(h).add(_.eq(h)),o.resizable.setWidth(g,u[h],m.overflow));g=s(c.namespace+"_extra_table"),g.length&&!o.hasWidget(c.table,"scroller")&&o.resizable.setWidth(g,c.$table.outerWidth(),m.overflow)}},setHandlePosition:function(c,n){var u,h=c.$table.height(),g=n.$resizable_container.children(),m=Math.floor(g.width()/2);o.hasWidget(c.table,"scroller")&&(h=0,c.$table.closest("."+o.css.scrollerWrap).children().each(function(){var y=s(this);h+=y.filter('[style*="height"]').length?y.height():y.children("table").height()})),!n.resizable_includeFooter&&c.$table.children("tfoot").length&&(h-=c.$table.children("tfoot").height()),u=parseFloat(s.fn.jquery)>=3.3?0:c.$table.position().left,g.each(function(){var y=s(this),_=parseInt(y.attr("data-column"),10),w=c.columns-1,k=y.data("header");k&&(!k.is(":visible")||!n.resizable_addLastColumn&&o.resizable.checkVisibleColumns(c,_)?y.hide():(_<w||_===w&&n.resizable_addLastColumn)&&y.css({display:"inline-block",height:h,left:k.position().left-u+k.outerWidth()-m}))})},checkVisibleColumns:function(c,n){var u,h=0;for(u=n+1;u<c.columns;u++)h+=c.$headerIndexed[u].is(":visible")?1:0;return h===0},toggleTextSelection:function(c,n,u){var h=c.namespace+"tsresize";n.resizable_vars.disabled=u,s("body").toggleClass(o.css.resizableNoSelect,u),u?s("body").attr("unselectable","on").bind("selectstart"+h,!1):s("body").removeAttr("unselectable").unbind("selectstart"+h)},bindings:function(c,n){var u=c.namespace+"tsresize";n.$resizable_container.children().bind("mousedown",function(h){var g,m=n.resizable_vars,y=s(c.namespace+"_extra_headers"),_=s(h.target).data("header");g=parseInt(_.attr("data-column"),10),m.$target=_=_.add(y.filter('[data-column="'+g+'"]')),m.target=g,m.$next=h.shiftKey||n.resizable_targetLast?_.parent().children().not(".resizable-false").filter(":last"):_.nextAll(":not(.resizable-false)").eq(0),g=parseInt(m.$next.attr("data-column"),10),m.$next=m.$next.add(y.filter('[data-column="'+g+'"]')),m.next=g,m.mouseXPosition=h.pageX,o.resizable.updateStoredSizes(c,n),o.resizable.toggleTextSelection(c,n,!0)}),s(document).bind("mousemove"+u,function(h){var g=n.resizable_vars;!g.disabled||g.mouseXPosition===0||!g.$target||(n.resizable_throttle?(clearTimeout(g.timer),g.timer=setTimeout(function(){o.resizable.mouseMove(c,n,h)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):o.resizable.mouseMove(c,n,h))}).bind("mouseup"+u,function(){n.resizable_vars.disabled&&(o.resizable.toggleTextSelection(c,n,!1),o.resizable.stopResize(c,n),o.resizable.setHandlePosition(c,n))}),s(l).bind("resize"+u+" resizeEnd"+u,function(){o.resizable.setHandlePosition(c,n)}),c.$table.bind("columnUpdate pagerComplete resizableUpdate ".split(" ").join(u+" "),function(){o.resizable.setHandlePosition(c,n)}).bind("resizableReset"+u,function(){o.resizableReset(c.table)}).find("thead:first").add(s(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+u,function(){var h=n.resizable_vars.storedSizes.length===0;return o.resizableReset(c.table),o.resizable.setHandlePosition(c,n),n.resizable_vars.storedSizes=[],h})},mouseMove:function(c,n,u){if(!(n.resizable_vars.mouseXPosition===0||!n.resizable_vars.$target)){var h,g=0,m=n.resizable_vars,y=m.$next,_=m.storedSizes[m.target],w=u.pageX-m.mouseXPosition;if(m.overflow){if(_+w>0){for(m.storedSizes[m.target]+=w,o.resizable.setWidth(m.$target,m.storedSizes[m.target],!0),h=0;h<c.columns;h++)g+=m.storedSizes[h];o.resizable.setWidth(c.$table.add(s(c.namespace+"_extra_table")),g)}y.length||(m.$wrap[0].scrollLeft=c.$table.width())}else m.fullWidth?(m.storedSizes[m.target]+=w,m.storedSizes[m.next]-=w,o.resizable.setWidths(c,n)):(m.storedSizes[m.target]+=w,o.resizable.setWidths(c,n));m.mouseXPosition=u.pageX,c.$table.triggerHandler("stickyHeadersUpdate")}},stopResize:function(c,n){var u=n.resizable_vars;o.resizable.updateStoredSizes(c,n),u.useStorage&&(o.storage(c.table,o.css.resizableStorage,u.storedSizes),o.storage(c.table,"tablesorter-table-resized-width",c.$table.width())),u.mouseXPosition=0,u.$target=u.$next=null,c.$table.triggerHandler("stickyHeadersUpdate"),c.$table.triggerHandler("resizableComplete")}},o.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_includeFooter:!0,resizable_widths:[],resizable_throttle:!1,resizable_targetLast:!1},init:function(c,n,u,h){o.resizable.init(u,h)},format:function(c,n,u){o.resizable.setHandlePosition(n,u)},remove:function(c,n,u,h){if(u.$resizable_container){var g=n.namespace+"tsresize";n.$table.add(s(n.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+g),u.$resizable_container.remove(),o.resizable.toggleTextSelection(n,u,!1),o.resizableReset(c,h),s(document).unbind("mousemove"+g+" mouseup"+g)}}}),o.resizableReset=function(c,n){s(c).each(function(){var u,h,g=this.config,m=g&&g.widgetOptions,y=m.resizable_vars;if(c&&g&&g.$headerIndexed.length){for(y.overflow&&y.tableWidth&&(o.resizable.setWidth(g.$table,y.tableWidth,!0),y.useStorage&&o.storage(c,"tablesorter-table-resized-width",y.tableWidth)),u=0;u<g.columns;u++)h=g.$headerIndexed[u],m.resizable_widths&&m.resizable_widths[u]?o.resizable.setWidth(h,m.resizable_widths[u],y.overflow):h.hasClass("resizable-false")||o.resizable.setWidth(h,"",y.overflow);g.$table.triggerHandler("stickyHeadersUpdate"),o.storage&&!n&&o.storage(this,o.css.resizableStorage,[])}})}}(r,window),function(s){"use strict";var l=s.tablesorter||{};function o(n){var u=l.storage(n.table,"tablesorter-savesort");return u&&u.hasOwnProperty("sortList")&&s.isArray(u.sortList)?u.sortList:[]}function c(n,u){return(u||o(n)).join(",")!==n.sortList.join(",")}l.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(n,u,h,g){u.format(n,h,g,!0)},format:function(n,u,h,g){var m,y=u.$table,_=h.saveSort!==!1,w={sortList:u.sortList},k=l.debug(u,"saveSort");k&&(m=new Date),y.hasClass("hasSaveSort")?_&&n.hasInitialized&&l.storage&&c(u)&&(l.storage(n,"tablesorter-savesort",w),k&&console.log("saveSort >> Saving last sort: "+u.sortList+l.benchmark(m))):(y.addClass("hasSaveSort"),w="",l.storage&&(w=o(u),k&&console.log('saveSort >> Last sort loaded: "'+w+'"'+l.benchmark(m)),y.bind("saveSortReset",function(A){A.stopPropagation(),l.storage(n,"tablesorter-savesort","")})),g&&w&&w.length>0?u.sortList=w:n.hasInitialized&&w&&w.length>0&&c(u,w)&&l.sortOn(u,w))},remove:function(n,u){u.$table.removeClass("hasSaveSort"),l.storage&&l.storage(n,"tablesorter-savesort","")}})}(r),r.tablesorter})}),n1={};ES(n1,{default:()=>dm});PS=i1(r1());TS(n1,i1(r1()));e1=PS,{default:t1}=e1,$S=nn(e1,["default"]),dm=t1!==void 0?t1:$S;});var o1={};Fn(o1,{default:()=>dm});var a1=si(()=>{Kc();hm();hm()});var UA,J1,Q1,VA,ew,Im=si(()=>{UA={};(function(){var e,t={2617:function(o){o.exports=function(){var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=function(P){return!(!P||!P.Window)&&P instanceof P.Window};var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.getWindow=function(P){return(0,c.default)(P)?P:(P.ownerDocument||P).defaultView||h.window},n.init=g,n.window=n.realWindow=void 0;var u=void 0;n.realWindow=u;var h=void 0;function g(P){n.realWindow=u=P;var D=P.document.createTextNode("");D.ownerDocument!==P.document&&typeof P.wrap=="function"&&P.wrap(D)===D&&(P=P.wrap(P)),n.window=h=P}n.window=h,typeof window<"u"&&window&&g(window);var m={};function y(P){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},y(P)}Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var _=function(P){return!!P&&y(P)==="object"},w=function(P){return typeof P=="function"},k={window:function(P){return P===n.window||(0,c.default)(P)},docFrag:function(P){return _(P)&&P.nodeType===11},object:_,func:w,number:function(P){return typeof P=="number"},bool:function(P){return typeof P=="boolean"},string:function(P){return typeof P=="string"},element:function(P){if(!P||y(P)!=="object")return!1;var D=n.getWindow(P)||n.window;return/object|function/.test(typeof Element>"u"?"undefined":y(Element))?P instanceof Element||P instanceof D.Element:P.nodeType===1&&typeof P.nodeName=="string"},plainObject:function(P){return _(P)&&!!P.constructor&&/function Object\b/.test(P.constructor.toString())},array:function(P){return _(P)&&P.length!==void 0&&w(P.splice)}};m.default=k;var A={};function L(P){var D=P.interaction;if(D.prepared.name==="drag"){var z=D.prepared.axis;z==="x"?(D.coords.cur.page.y=D.coords.start.page.y,D.coords.cur.client.y=D.coords.start.client.y,D.coords.velocity.client.y=0,D.coords.velocity.page.y=0):z==="y"&&(D.coords.cur.page.x=D.coords.start.page.x,D.coords.cur.client.x=D.coords.start.client.x,D.coords.velocity.client.x=0,D.coords.velocity.page.x=0)}}function T(P){var D=P.iEvent,z=P.interaction;if(z.prepared.name==="drag"){var V=z.prepared.axis;if(V==="x"||V==="y"){var te=V==="x"?"y":"x";D.page[te]=z.coords.start.page[te],D.client[te]=z.coords.start.client[te],D.delta[te]=0}}}Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var E={id:"actions/drag",install:function(P){var D=P.actions,z=P.Interactable,V=P.defaults;z.prototype.draggable=E.draggable,D.map.drag=E,D.methodDict.drag="draggable",V.actions.drag=E.defaults},listeners:{"interactions:before-action-move":L,"interactions:action-resume":L,"interactions:action-move":T,"auto-start:check":function(P){var D=P.interaction,z=P.interactable,V=P.buttons,te=z.options.drag;if(te&&te.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||V&z.options.drag.mouseButtons))return P.action={name:"drag",axis:te.lockAxis==="start"?te.startAxis:te.lockAxis},!1}},draggable:function(P){return m.default.object(P)?(this.options.drag.enabled=P.enabled!==!1,this.setPerAction("drag",P),this.setOnEvents("drag",P),/^(xy|x|y|start)$/.test(P.lockAxis)&&(this.options.drag.lockAxis=P.lockAxis),/^(xy|x|y)$/.test(P.startAxis)&&(this.options.drag.startAxis=P.startAxis),this):m.default.bool(P)?(this.options.drag.enabled=P,this):this.options.drag},beforeMove:L,move:T,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},a=E;A.default=a;var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var v={init:function(P){var D=P;v.document=D.document,v.DocumentFragment=D.DocumentFragment||d,v.SVGElement=D.SVGElement||d,v.SVGSVGElement=D.SVGSVGElement||d,v.SVGElementInstance=D.SVGElementInstance||d,v.Element=D.Element||d,v.HTMLElement=D.HTMLElement||v.Element,v.Event=D.Event,v.Touch=D.Touch||d,v.PointerEvent=D.PointerEvent||D.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function d(){}var x=v;p.default=x;var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=void 0;var N={init:function(P){var D=p.default.Element,z=P.navigator||{};N.supportsTouch="ontouchstart"in P||m.default.func(P.DocumentTouch)&&p.default.document instanceof P.DocumentTouch,N.supportsPointerEvent=z.pointerEnabled!==!1&&!!p.default.PointerEvent,N.isIOS=/iP(hone|od|ad)/.test(z.platform),N.isIOS7=/iP(hone|od|ad)/.test(z.platform)&&/OS 7[^\d]/.test(z.appVersion),N.isIe9=/MSIE 9/.test(z.userAgent),N.isOperaMobile=z.appName==="Opera"&&N.supportsTouch&&/Presto/.test(z.userAgent),N.prefixedMatchesSelector="matches"in D.prototype?"matches":"webkitMatchesSelector"in D.prototype?"webkitMatchesSelector":"mozMatchesSelector"in D.prototype?"mozMatchesSelector":"oMatchesSelector"in D.prototype?"oMatchesSelector":"msMatchesSelector",N.pEventTypes=N.supportsPointerEvent?p.default.PointerEvent===P.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,N.wheelEvent=p.default.document&&"onmousewheel"in p.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},G=N;C.default=G;var q={};function K(P){var D=P.parentNode;if(m.default.docFrag(D)){for(;(D=D.host)&&m.default.docFrag(D););return D}return D}function oe(P,D){return n.window!==n.realWindow&&(D=D.replace(/\/deep\//g," ")),P[C.default.prefixedMatchesSelector](D)}Object.defineProperty(q,"__esModule",{value:!0}),q.closest=function(P,D){for(;m.default.element(P);){if(oe(P,D))return P;P=K(P)}return null},q.getActualElement=function(P){return P.correspondingUseElement||P},q.getElementClientRect=ge,q.getElementRect=function(P){var D=ge(P);if(!C.default.isIOS7&&D){var z=Oe(n.getWindow(P));D.left+=z.x,D.right+=z.x,D.top+=z.y,D.bottom+=z.y}return D},q.getPath=function(P){for(var D=[];P;)D.push(P),P=K(P);return D},q.getScrollXY=Oe,q.indexOfDeepestElement=function(P){for(var D,z=[],V=0;V<P.length;V++){var te=P[V],ke=P[D];if(te&&V!==D)if(ke){var Fe=J(te),Be=J(ke);if(Fe!==te.ownerDocument)if(Be!==te.ownerDocument)if(Fe!==Be){z=z.length?z:Q(ke);var it=void 0;if(ke instanceof p.default.HTMLElement&&te instanceof p.default.SVGElement&&!(te instanceof p.default.SVGSVGElement)){if(te===Be)continue;it=te.ownerSVGElement}else it=te;for(var Ft=Q(it,ke.ownerDocument),Bt=0;Ft[Bt]&&Ft[Bt]===z[Bt];)Bt++;var Qt=[Ft[Bt-1],Ft[Bt],z[Bt]];if(Qt[0])for(var wi=Qt[0].lastChild;wi;){if(wi===Qt[1]){D=V,z=Ft;break}if(wi===Qt[2])break;wi=wi.previousSibling}}else Ti=te,pi=ke,(parseInt(n.getWindow(Ti).getComputedStyle(Ti).zIndex,10)||0)>=(parseInt(n.getWindow(pi).getComputedStyle(pi).zIndex,10)||0)&&(D=V);else D=V}else D=V}var Ti,pi;return D},q.matchesSelector=oe,q.matchesUpTo=function(P,D,z){for(;m.default.element(P);){if(oe(P,D))return!0;if((P=K(P))===z)return oe(P,D)}return!1},q.nodeContains=function(P,D){if(P.contains)return P.contains(D);for(;D;){if(D===P)return!0;D=D.parentNode}return!1},q.parentNode=K,q.trySelector=function(P){return!!m.default.string(P)&&(p.default.document.querySelector(P),!0)};var J=function(P){return P.parentNode||P.host};function Q(P,D){for(var z,V=[],te=P;(z=J(te))&&te!==D&&z!==te.ownerDocument;)V.unshift(te),te=z;return V}function Oe(P){return{x:(P=P||n.window).scrollX||P.document.documentElement.scrollLeft,y:P.scrollY||P.document.documentElement.scrollTop}}function ge(P){var D=P instanceof p.default.SVGElement?P.getBoundingClientRect():P.getClientRects()[0];return D&&{left:D.left,right:D.right,top:D.top,bottom:D.bottom,width:D.width||D.right-D.left,height:D.height||D.bottom-D.top}}var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(P,D){for(var z in D)P[z]=D[z];return P};var se={};function de(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}function Z(P,D,z){return P==="parent"?(0,q.parentNode)(z):P==="self"?D.getRect(z):(0,q.closest)(z,P)}Object.defineProperty(se,"__esModule",{value:!0}),se.addEdges=function(P,D,z){P.left&&(D.left+=z.x),P.right&&(D.right+=z.x),P.top&&(D.top+=z.y),P.bottom&&(D.bottom+=z.y),D.width=D.right-D.left,D.height=D.bottom-D.top},se.getStringOptionResult=Z,se.rectToXY=function(P){return P&&{x:"x"in P?P.x:P.left,y:"y"in P?P.y:P.top}},se.resolveRectLike=function(P,D,z,V){var te,ke=P;return m.default.string(ke)?ke=Z(ke,D,z):m.default.func(ke)&&(ke=ke.apply(void 0,function(Fe){if(Array.isArray(Fe))return de(Fe)}(te=V)||function(Fe){if(typeof Symbol<"u"&&Fe[Symbol.iterator]!=null||Fe["@@iterator"]!=null)return Array.from(Fe)}(te)||function(Fe,Be){if(Fe){if(typeof Fe=="string")return de(Fe,Be);var it=Object.prototype.toString.call(Fe).slice(8,-1);return it==="Object"&&Fe.constructor&&(it=Fe.constructor.name),it==="Map"||it==="Set"?Array.from(Fe):it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it)?de(Fe,Be):void 0}}(te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),m.default.element(ke)&&(ke=(0,q.getElementRect)(ke)),ke},se.tlbrToXywh=function(P){return!P||"x"in P&&"y"in P||((P=(0,W.default)({},P)).x=P.left||0,P.y=P.top||0,P.width=P.width||(P.right||0)-P.x,P.height=P.height||(P.bottom||0)-P.y),P},se.xywhToTlbr=function(P){return!P||"left"in P&&"top"in P||((P=(0,W.default)({},P)).left=P.x||0,P.top=P.y||0,P.right=P.right||P.left+P.width,P.bottom=P.bottom||P.top+P.height),P};var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=function(P,D,z){var V=P.options[z],te=V&&V.origin||P.options.origin,ke=(0,se.resolveRectLike)(te,P,D,[P&&D]);return(0,se.rectToXY)(ke)||{x:0,y:0}};var Y={};function ce(P){return P.trim().split(/ +/)}Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function P(D,z,V){if(V=V||{},m.default.string(D)&&D.search(" ")!==-1&&(D=ce(D)),m.default.array(D))return D.reduce(function(it,Ft){return(0,W.default)(it,P(Ft,z,V))},V);if(m.default.object(D)&&(z=D,D=""),m.default.func(z))V[D]=V[D]||[],V[D].push(z);else if(m.default.array(z))for(var te=0;te<z.length;te++){var ke;ke=z[te],P(D,ke,V)}else if(m.default.object(z))for(var Fe in z){var Be=ce(Fe).map(function(it){return"".concat(D).concat(it)});P(Be,z[Fe],V)}return V};var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=void 0,Ge.default=function(P,D){return Math.sqrt(P*P+D*D)};var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=function(P,D){P.__set||(P.__set={});var z=function(te){typeof P[te]!="function"&&te!=="__set"&&Object.defineProperty(P,te,{get:function(){return te in P.__set?P.__set[te]:P.__set[te]=D[te]},set:function(ke){P.__set[te]=ke},configurable:!0})};for(var V in D)z(V);return P};var st={};function qe(P){return P instanceof p.default.Event||P instanceof p.default.Touch}function Se(P,D,z){return P=P||"page",(z=z||{}).x=D[P+"X"],z.y=D[P+"Y"],z}function Ie(P,D){return D=D||{x:0,y:0},C.default.isOperaMobile&&qe(P)?(Se("screen",P,D),D.x+=window.scrollX,D.y+=window.scrollY):Se("page",P,D),D}function Re(P,D){return D=D||{},C.default.isOperaMobile&&qe(P)?Se("screen",P,D):Se("client",P,D),D}function ot(P){var D=[];return m.default.array(P)?(D[0]=P[0],D[1]=P[1]):P.type==="touchend"?P.touches.length===1?(D[0]=P.touches[0],D[1]=P.changedTouches[0]):P.touches.length===0&&(D[0]=P.changedTouches[0],D[1]=P.changedTouches[1]):(D[0]=P.touches[0],D[1]=P.touches[1]),D}function pt(P){for(var D={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},z=0;z<P.length;z++){var V=P[z];for(var te in D)D[te]+=V[te]}for(var ke in D)D[ke]/=P.length;return D}Object.defineProperty(st,"__esModule",{value:!0}),st.coordsToEvent=function(P){return{coords:P,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},st.copyCoords=function(P,D){P.page=P.page||{},P.page.x=D.page.x,P.page.y=D.page.y,P.client=P.client||{},P.client.x=D.client.x,P.client.y=D.client.y,P.timeStamp=D.timeStamp},st.getClientXY=Re,st.getEventTargets=function(P){var D=m.default.func(P.composedPath)?P.composedPath():P.path;return[q.getActualElement(D?D[0]:P.target),q.getActualElement(P.currentTarget)]},st.getPageXY=Ie,st.getPointerId=function(P){return m.default.number(P.pointerId)?P.pointerId:P.identifier},st.getPointerType=function(P){return m.default.string(P.pointerType)?P.pointerType:m.default.number(P.pointerType)?[void 0,void 0,"touch","pen","mouse"][P.pointerType]:/touch/.test(P.type||"")||P instanceof p.default.Touch?"touch":"mouse"},st.getTouchPair=ot,st.getXY=Se,st.isNativePointer=qe,st.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},st.pointerAverage=pt,Object.defineProperty(st,"pointerExtend",{enumerable:!0,get:function(){return ht.default}}),st.setCoordDeltas=function(P,D,z){P.page.x=z.page.x-D.page.x,P.page.y=z.page.y-D.page.y,P.client.x=z.client.x-D.client.x,P.client.y=z.client.y-D.client.y,P.timeStamp=z.timeStamp-D.timeStamp},st.setCoordVelocity=function(P,D){var z=Math.max(D.timeStamp/1e3,.001);P.page.x=D.page.x/z,P.page.y=D.page.y/z,P.client.x=D.client.x/z,P.client.y=D.client.y/z,P.timeStamp=z},st.setCoords=function(P,D,z){var V=D.length>1?pt(D):D[0];Ie(V,P.page),Re(V,P.client),P.timeStamp=z},st.setZeroCoords=function(P){P.page.x=0,P.page.y=0,P.client.x=0,P.client.y=0},st.touchAngle=function(P,D){var z=D+"X",V=D+"Y",te=ot(P),ke=te[1][z]-te[0][z],Fe=te[1][V]-te[0][V];return 180*Math.atan2(Fe,ke)/Math.PI},st.touchBBox=function(P){if(!P.length)return null;var D=ot(P),z=Math.min(D[0].pageX,D[1].pageX),V=Math.min(D[0].pageY,D[1].pageY),te=Math.max(D[0].pageX,D[1].pageX),ke=Math.max(D[0].pageY,D[1].pageY);return{x:z,y:V,left:z,top:V,right:te,bottom:ke,width:te-z,height:ke-V}},st.touchDistance=function(P,D){var z=D+"X",V=D+"Y",te=ot(P),ke=te[0][z]-te[1][z],Fe=te[0][V]-te[1][V];return(0,Ge.default)(ke,Fe)};var Pt={};function Qe(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.BaseEvent=void 0;var ne=function(){function P(V){(function(te,ke){if(!(te instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,P),Qe(this,"immediatePropagationStopped",!1),Qe(this,"propagationStopped",!1),this._interaction=V}var D,z;return D=P,(z=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();Pt.BaseEvent=ne,Object.defineProperty(ne.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.remove=ie.merge=ie.from=ie.findIndex=ie.find=ie.contains=void 0,ie.contains=function(P,D){return P.indexOf(D)!==-1},ie.remove=function(P,D){return P.splice(P.indexOf(D),1)};var Ke=function(P,D){for(var z=0;z<D.length;z++){var V=D[z];P.push(V)}return P};ie.merge=Ke,ie.from=function(P){return Ke([],P)};var Ct=function(P,D){for(var z=0;z<P.length;z++)if(D(P[z],z,P))return z;return-1};ie.findIndex=Ct,ie.find=function(P,D){return P[Ct(P,D)]};var we={};function $e(P){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},$e(P)}function at(P,D){return at=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},at(P,D)}function Ce(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function Je(P){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},Je(P)}function tt(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(we,"__esModule",{value:!0}),we.DropEvent=void 0;var Vt=function(P){(function(Be,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(it&&it.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),it&&at(Be,it)})(Fe,P);var D,z,V,te,ke=(V=Fe,te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Be){return!1}}(),function(){var Be,it=Je(V);if(te){var Ft=Je(this).constructor;Be=Reflect.construct(it,arguments,Ft)}else Be=it.apply(this,arguments);return function(Bt,Qt){if(Qt&&($e(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(Bt)}(this,Be)});function Fe(Be,it,Ft){var Bt;(function(pi,Ui){if(!(pi instanceof Ui))throw new TypeError("Cannot call a class as a function")})(this,Fe),tt(Ce(Bt=ke.call(this,it._interaction)),"dropzone",void 0),tt(Ce(Bt),"dragEvent",void 0),tt(Ce(Bt),"relatedTarget",void 0),tt(Ce(Bt),"draggable",void 0),tt(Ce(Bt),"propagationStopped",!1),tt(Ce(Bt),"immediatePropagationStopped",!1);var Qt=Ft==="dragleave"?Be.prev:Be.cur,wi=Qt.element,Ti=Qt.dropzone;return Bt.type=Ft,Bt.target=wi,Bt.currentTarget=wi,Bt.dropzone=Ti,Bt.dragEvent=it,Bt.relatedTarget=it.target,Bt.draggable=it.interactable,Bt.timeStamp=it.timeStamp,Bt}return D=Fe,(z=[{key:"reject",value:function(){var Be=this,it=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&it.cur.dropzone===this.dropzone&&it.cur.element===this.target)if(it.prev.dropzone=this.dropzone,it.prev.element=this.target,it.rejected=!0,it.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var Ft=it.activeDrops,Bt=ie.findIndex(Ft,function(wi){var Ti=wi.dropzone,pi=wi.element;return Ti===Be.dropzone&&pi===Be.target});it.activeDrops.splice(Bt,1);var Qt=new Fe(it,this.dragEvent,"dropdeactivate");Qt.dropzone=this.dropzone,Qt.target=this.target,this.dropzone.fire(Qt)}else this.dropzone.fire(new Fe(it,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(Be,it){for(var Ft=0;Ft<it.length;Ft++){var Bt=it[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Be,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Fe}(Pt.BaseEvent);we.DropEvent=Vt;var ct={};function gt(P,D){for(var z=0;z<P.slice().length;z++){var V=P.slice()[z],te=V.dropzone,ke=V.element;D.dropzone=te,D.target=ke,te.fire(D),D.propagationStopped=D.immediatePropagationStopped=!1}}function Rt(P,D){for(var z=function(ke,Fe){for(var Be=ke.interactables,it=[],Ft=0;Ft<Be.list.length;Ft++){var Bt=Be.list[Ft];if(Bt.options.drop.enabled){var Qt=Bt.options.drop.accept;if(!(m.default.element(Qt)&&Qt!==Fe||m.default.string(Qt)&&!q.matchesSelector(Fe,Qt)||m.default.func(Qt)&&!Qt({dropzone:Bt,draggableElement:Fe})))for(var wi=m.default.string(Bt.target)?Bt._context.querySelectorAll(Bt.target):m.default.array(Bt.target)?Bt.target:[Bt.target],Ti=0;Ti<wi.length;Ti++){var pi=wi[Ti];pi!==Fe&&it.push({dropzone:Bt,element:pi,rect:Bt.getRect(pi)})}}}return it}(P,D),V=0;V<z.length;V++){var te=z[V];te.rect=te.dropzone.getRect(te.element)}return z}function ti(P,D,z){for(var V=P.dropState,te=P.interactable,ke=P.element,Fe=[],Be=0;Be<V.activeDrops.length;Be++){var it=V.activeDrops[Be],Ft=it.dropzone,Bt=it.element,Qt=it.rect;Fe.push(Ft.dropCheck(D,z,te,ke,Bt,Qt)?Bt:null)}var wi=q.indexOfDeepestElement(Fe);return V.activeDrops[wi]||null}function oi(P,D,z){var V=P.dropState,te={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return z.type==="dragstart"&&(te.activate=new we.DropEvent(V,z,"dropactivate"),te.activate.target=null,te.activate.dropzone=null),z.type==="dragend"&&(te.deactivate=new we.DropEvent(V,z,"dropdeactivate"),te.deactivate.target=null,te.deactivate.dropzone=null),V.rejected||(V.cur.element!==V.prev.element&&(V.prev.dropzone&&(te.leave=new we.DropEvent(V,z,"dragleave"),z.dragLeave=te.leave.target=V.prev.element,z.prevDropzone=te.leave.dropzone=V.prev.dropzone),V.cur.dropzone&&(te.enter=new we.DropEvent(V,z,"dragenter"),z.dragEnter=V.cur.element,z.dropzone=V.cur.dropzone)),z.type==="dragend"&&V.cur.dropzone&&(te.drop=new we.DropEvent(V,z,"drop"),z.dropzone=V.cur.dropzone,z.relatedTarget=V.cur.element),z.type==="dragmove"&&V.cur.dropzone&&(te.move=new we.DropEvent(V,z,"dropmove"),te.move.dragmove=z,z.dropzone=V.cur.dropzone)),te}function ui(P,D){var z=P.dropState,V=z.activeDrops,te=z.cur,ke=z.prev;D.leave&&ke.dropzone.fire(D.leave),D.enter&&te.dropzone.fire(D.enter),D.move&&te.dropzone.fire(D.move),D.drop&&te.dropzone.fire(D.drop),D.deactivate&&gt(V,D.deactivate),z.prev.dropzone=te.dropzone,z.prev.element=te.element}function Ot(P,D){var z=P.interaction,V=P.iEvent,te=P.event;if(V.type==="dragmove"||V.type==="dragend"){var ke=z.dropState;D.dynamicDrop&&(ke.activeDrops=Rt(D,z.element));var Fe=V,Be=ti(z,Fe,te);ke.rejected=ke.rejected&&!!Be&&Be.dropzone===ke.cur.dropzone&&Be.element===ke.cur.element,ke.cur.dropzone=Be&&Be.dropzone,ke.cur.element=Be&&Be.element,ke.events=oi(z,0,Fe)}}Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0;var It={id:"actions/drop",install:function(P){var D=P.actions,z=P.interactStatic,V=P.Interactable,te=P.defaults;P.usePlugin(A.default),V.prototype.dropzone=function(ke){return function(Fe,Be){if(m.default.object(Be)){if(Fe.options.drop.enabled=Be.enabled!==!1,Be.listeners){var it=(0,Y.default)(Be.listeners),Ft=Object.keys(it).reduce(function(Bt,Qt){return Bt[/^(enter|leave)/.test(Qt)?"drag".concat(Qt):/^(activate|deactivate|move)/.test(Qt)?"drop".concat(Qt):Qt]=it[Qt],Bt},{});Fe.off(Fe.options.drop.listeners),Fe.on(Ft),Fe.options.drop.listeners=Ft}return m.default.func(Be.ondrop)&&Fe.on("drop",Be.ondrop),m.default.func(Be.ondropactivate)&&Fe.on("dropactivate",Be.ondropactivate),m.default.func(Be.ondropdeactivate)&&Fe.on("dropdeactivate",Be.ondropdeactivate),m.default.func(Be.ondragenter)&&Fe.on("dragenter",Be.ondragenter),m.default.func(Be.ondragleave)&&Fe.on("dragleave",Be.ondragleave),m.default.func(Be.ondropmove)&&Fe.on("dropmove",Be.ondropmove),/^(pointer|center)$/.test(Be.overlap)?Fe.options.drop.overlap=Be.overlap:m.default.number(Be.overlap)&&(Fe.options.drop.overlap=Math.max(Math.min(1,Be.overlap),0)),"accept"in Be&&(Fe.options.drop.accept=Be.accept),"checker"in Be&&(Fe.options.drop.checker=Be.checker),Fe}return m.default.bool(Be)?(Fe.options.drop.enabled=Be,Fe):Fe.options.drop}(this,ke)},V.prototype.dropCheck=function(ke,Fe,Be,it,Ft,Bt){return function(Qt,wi,Ti,pi,Ui,qi,Ji){var sr=!1;if(!(Ji=Ji||Qt.getRect(qi)))return!!Qt.options.drop.checker&&Qt.options.drop.checker(wi,Ti,sr,Qt,qi,pi,Ui);var Hr=Qt.options.drop.overlap;if(Hr==="pointer"){var qr=(0,ye.default)(pi,Ui,"drag"),un=st.getPageXY(wi);un.x+=qr.x,un.y+=qr.y;var kn=un.x>Ji.left&&un.x<Ji.right,an=un.y>Ji.top&&un.y<Ji.bottom;sr=kn&&an}var Sn=pi.getRect(Ui);if(Sn&&Hr==="center"){var ya=Sn.left+Sn.width/2,za=Sn.top+Sn.height/2;sr=ya>=Ji.left&&ya<=Ji.right&&za>=Ji.top&&za<=Ji.bottom}return Sn&&m.default.number(Hr)&&(sr=Math.max(0,Math.min(Ji.right,Sn.right)-Math.max(Ji.left,Sn.left))*Math.max(0,Math.min(Ji.bottom,Sn.bottom)-Math.max(Ji.top,Sn.top))/(Sn.width*Sn.height)>=Hr),Qt.options.drop.checker&&(sr=Qt.options.drop.checker(wi,Ti,sr,Qt,qi,pi,Ui)),sr}(this,ke,Fe,Be,it,Ft,Bt)},z.dynamicDrop=function(ke){return m.default.bool(ke)?(P.dynamicDrop=ke,z):P.dynamicDrop},(0,W.default)(D.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),D.methodDict.drop="dropzone",P.dynamicDrop=!1,te.actions.drop=It.defaults},listeners:{"interactions:before-action-start":function(P){var D=P.interaction;D.prepared.name==="drag"&&(D.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(P,D){var z=P.interaction,V=(P.event,P.iEvent);if(z.prepared.name==="drag"){var te=z.dropState;te.activeDrops=null,te.events=null,te.activeDrops=Rt(D,z.element),te.events=oi(z,0,V),te.events.activate&&(gt(te.activeDrops,te.events.activate),D.fire("actions/drop:start",{interaction:z,dragEvent:V}))}},"interactions:action-move":Ot,"interactions:after-action-move":function(P,D){var z=P.interaction,V=P.iEvent;z.prepared.name==="drag"&&(ui(z,z.dropState.events),D.fire("actions/drop:move",{interaction:z,dragEvent:V}),z.dropState.events={})},"interactions:action-end":function(P,D){if(P.interaction.prepared.name==="drag"){var z=P.interaction,V=P.iEvent;Ot(P,D),ui(z,z.dropState.events),D.fire("actions/drop:end",{interaction:z,dragEvent:V})}},"interactions:stop":function(P){var D=P.interaction;if(D.prepared.name==="drag"){var z=D.dropState;z&&(z.activeDrops=null,z.events=null,z.cur.dropzone=null,z.cur.element=null,z.prev.dropzone=null,z.prev.element=null,z.rejected=!1)}}},getActiveDrops:Rt,getDrop:ti,getDropEvents:oi,fireDropEvents:ui,defaults:{enabled:!1,accept:null,overlap:"pointer"}},At=It;ct.default=At;var St={};function kt(P){var D=P.interaction,z=P.iEvent,V=P.phase;if(D.prepared.name==="gesture"){var te=D.pointers.map(function(Ft){return Ft.pointer}),ke=V==="start",Fe=V==="end",Be=D.interactable.options.deltaSource;if(z.touches=[te[0],te[1]],ke)z.distance=st.touchDistance(te,Be),z.box=st.touchBBox(te),z.scale=1,z.ds=0,z.angle=st.touchAngle(te,Be),z.da=0,D.gesture.startDistance=z.distance,D.gesture.startAngle=z.angle;else if(Fe){var it=D.prevEvent;z.distance=it.distance,z.box=it.box,z.scale=it.scale,z.ds=0,z.angle=it.angle,z.da=0}else z.distance=st.touchDistance(te,Be),z.box=st.touchBBox(te),z.scale=z.distance/D.gesture.startDistance,z.angle=st.touchAngle(te,Be),z.ds=z.scale-D.gesture.scale,z.da=z.angle-D.gesture.angle;D.gesture.distance=z.distance,D.gesture.angle=z.angle,m.default.number(z.scale)&&z.scale!==1/0&&!isNaN(z.scale)&&(D.gesture.scale=z.scale)}}Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var I={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(P){var D=P.actions,z=P.Interactable,V=P.defaults;z.prototype.gesturable=function(te){return m.default.object(te)?(this.options.gesture.enabled=te.enabled!==!1,this.setPerAction("gesture",te),this.setOnEvents("gesture",te),this):m.default.bool(te)?(this.options.gesture.enabled=te,this):this.options.gesture},D.map.gesture=I,D.methodDict.gesture="gesturable",V.actions.gesture=I.defaults},listeners:{"interactions:action-start":kt,"interactions:action-move":kt,"interactions:action-end":kt,"interactions:new":function(P){P.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(P){if(!(P.interaction.pointers.length<2)){var D=P.interactable.options.gesture;if(D&&D.enabled)return P.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ue=I;St.default=Ue;var _e={};function Ve(P,D,z,V,te,ke,Fe){if(!D)return!1;if(D===!0){var Be=m.default.number(ke.width)?ke.width:ke.right-ke.left,it=m.default.number(ke.height)?ke.height:ke.bottom-ke.top;if(Fe=Math.min(Fe,Math.abs((P==="left"||P==="right"?Be:it)/2)),Be<0&&(P==="left"?P="right":P==="right"&&(P="left")),it<0&&(P==="top"?P="bottom":P==="bottom"&&(P="top")),P==="left"){var Ft=Be>=0?ke.left:ke.right;return z.x<Ft+Fe}if(P==="top"){var Bt=it>=0?ke.top:ke.bottom;return z.y<Bt+Fe}if(P==="right")return z.x>(Be>=0?ke.right:ke.left)-Fe;if(P==="bottom")return z.y>(it>=0?ke.bottom:ke.top)-Fe}return!!m.default.element(V)&&(m.default.element(D)?D===V:q.matchesUpTo(V,D,te))}function Xe(P){var D=P.iEvent,z=P.interaction;if(z.prepared.name==="resize"&&z.resizeAxes){var V=D;z.interactable.options.resize.square?(z.resizeAxes==="y"?V.delta.x=V.delta.y:V.delta.y=V.delta.x,V.axes="xy"):(V.axes=z.resizeAxes,z.resizeAxes==="x"?V.delta.y=0:z.resizeAxes==="y"&&(V.delta.x=0))}}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var ut={id:"actions/resize",before:["actions/drag"],install:function(P){var D=P.actions,z=P.browser,V=P.Interactable,te=P.defaults;ut.cursors=function(ke){return ke.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(z),ut.defaultMargin=z.supportsTouch||z.supportsPointerEvent?20:10,V.prototype.resizable=function(ke){return function(Fe,Be,it){return m.default.object(Be)?(Fe.options.resize.enabled=Be.enabled!==!1,Fe.setPerAction("resize",Be),Fe.setOnEvents("resize",Be),m.default.string(Be.axis)&&/^x$|^y$|^xy$/.test(Be.axis)?Fe.options.resize.axis=Be.axis:Be.axis===null&&(Fe.options.resize.axis=it.defaults.actions.resize.axis),m.default.bool(Be.preserveAspectRatio)?Fe.options.resize.preserveAspectRatio=Be.preserveAspectRatio:m.default.bool(Be.square)&&(Fe.options.resize.square=Be.square),Fe):m.default.bool(Be)?(Fe.options.resize.enabled=Be,Fe):Fe.options.resize}(this,ke,P)},D.map.resize=ut,D.methodDict.resize="resizable",te.actions.resize=ut.defaults},listeners:{"interactions:new":function(P){P.interaction.resizeAxes="xy"},"interactions:action-start":function(P){(function(D){var z=D.iEvent,V=D.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var te=z,ke=V.rect;V._rects={start:(0,W.default)({},ke),corrected:(0,W.default)({},ke),previous:(0,W.default)({},ke),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},te.edges=V.prepared.edges,te.rect=V._rects.corrected,te.deltaRect=V._rects.delta}})(P),Xe(P)},"interactions:action-move":function(P){(function(D){var z=D.iEvent,V=D.interaction;if(V.prepared.name==="resize"&&V.prepared.edges){var te=z,ke=V.interactable.options.resize.invert,Fe=ke==="reposition"||ke==="negate",Be=V.rect,it=V._rects,Ft=it.start,Bt=it.corrected,Qt=it.delta,wi=it.previous;if((0,W.default)(wi,Bt),Fe){if((0,W.default)(Bt,Be),ke==="reposition"){if(Bt.top>Bt.bottom){var Ti=Bt.top;Bt.top=Bt.bottom,Bt.bottom=Ti}if(Bt.left>Bt.right){var pi=Bt.left;Bt.left=Bt.right,Bt.right=pi}}}else Bt.top=Math.min(Be.top,Ft.bottom),Bt.bottom=Math.max(Be.bottom,Ft.top),Bt.left=Math.min(Be.left,Ft.right),Bt.right=Math.max(Be.right,Ft.left);for(var Ui in Bt.width=Bt.right-Bt.left,Bt.height=Bt.bottom-Bt.top,Bt)Qt[Ui]=Bt[Ui]-wi[Ui];te.edges=V.prepared.edges,te.rect=Bt,te.deltaRect=Qt}})(P),Xe(P)},"interactions:action-end":function(P){var D=P.iEvent,z=P.interaction;if(z.prepared.name==="resize"&&z.prepared.edges){var V=D;V.edges=z.prepared.edges,V.rect=z._rects.corrected,V.deltaRect=z._rects.delta}},"auto-start:check":function(P){var D=P.interaction,z=P.interactable,V=P.element,te=P.rect,ke=P.buttons;if(te){var Fe=(0,W.default)({},D.coords.cur.page),Be=z.options.resize;if(Be&&Be.enabled&&(!D.pointerIsDown||!/mouse|pointer/.test(D.pointerType)||ke&Be.mouseButtons)){if(m.default.object(Be.edges)){var it={left:!1,right:!1,top:!1,bottom:!1};for(var Ft in it)it[Ft]=Ve(Ft,Be.edges[Ft],Fe,D._latestPointer.eventTarget,V,te,Be.margin||ut.defaultMargin);it.left=it.left&&!it.right,it.top=it.top&&!it.bottom,(it.left||it.right||it.top||it.bottom)&&(P.action={name:"resize",edges:it})}else{var Bt=Be.axis!=="y"&&Fe.x>te.right-ut.defaultMargin,Qt=Be.axis!=="x"&&Fe.y>te.bottom-ut.defaultMargin;(Bt||Qt)&&(P.action={name:"resize",axes:(Bt?"x":"")+(Qt?"y":"")})}return!P.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(P){var D=P.edges,z=P.axis,V=P.name,te=ut.cursors,ke=null;if(z)ke=te[V+z];else if(D){for(var Fe="",Be=["top","bottom","left","right"],it=0;it<Be.length;it++){var Ft=Be[it];D[Ft]&&(Fe+=Ft)}ke=te[Fe]}return ke},defaultMargin:null},re=ut;_e.default=re;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.default=void 0;var He={id:"actions",install:function(P){P.usePlugin(St.default),P.usePlugin(_e.default),P.usePlugin(A.default),P.usePlugin(ct.default)}};Pe.default=He;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=void 0;var lt,Et,Ut=0,Jt={request:function(P){return lt(P)},cancel:function(P){return Et(P)},init:function(P){if(lt=P.requestAnimationFrame,Et=P.cancelAnimationFrame,!lt)for(var D=["ms","moz","webkit","o"],z=0;z<D.length;z++){var V=D[z];lt=P["".concat(V,"RequestAnimationFrame")],Et=P["".concat(V,"CancelAnimationFrame")]||P["".concat(V,"CancelRequestAnimationFrame")]}lt=lt&&lt.bind(P),Et=Et&&Et.bind(P),lt||(lt=function(te){var ke=Date.now(),Fe=Math.max(0,16-(ke-Ut)),Be=P.setTimeout(function(){te(ke+Fe)},Fe);return Ut=ke+Fe,Be},Et=function(te){return clearTimeout(te)})}};vt.default=Jt;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0,Lt.getContainer=Ye,Lt.getScroll=Me,Lt.getScrollSize=function(P){return m.default.window(P)&&(P=window.document.body),{x:P.scrollWidth,y:P.scrollHeight}},Lt.getScrollSizeDelta=function(P,D){var z=P.interaction,V=P.element,te=z&&z.interactable.options[z.prepared.name].autoScroll;if(!te||!te.enabled)return D(),{x:0,y:0};var ke=Ye(te.container,z.interactable,V),Fe=Me(ke);D();var Be=Me(ke);return{x:Be.x-Fe.x,y:Be.y-Fe.y}};var jt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(P){jt.isScrolling=!0,vt.default.cancel(jt.i),P.autoScroll=jt,jt.interaction=P,jt.prevTime=jt.now(),jt.i=vt.default.request(jt.scroll)},stop:function(){jt.isScrolling=!1,jt.interaction&&(jt.interaction.autoScroll=null),vt.default.cancel(jt.i)},scroll:function(){var P=jt.interaction,D=P.interactable,z=P.element,V=P.prepared.name,te=D.options[V].autoScroll,ke=Ye(te.container,D,z),Fe=jt.now(),Be=(Fe-jt.prevTime)/1e3,it=te.speed*Be;if(it>=1){var Ft={x:jt.x*it,y:jt.y*it};if(Ft.x||Ft.y){var Bt=Me(ke);m.default.window(ke)?ke.scrollBy(Ft.x,Ft.y):ke&&(ke.scrollLeft+=Ft.x,ke.scrollTop+=Ft.y);var Qt=Me(ke),wi={x:Qt.x-Bt.x,y:Qt.y-Bt.y};(wi.x||wi.y)&&D.fire({type:"autoscroll",target:z,interactable:D,delta:wi,interaction:P,container:ke})}jt.prevTime=Fe}jt.isScrolling&&(vt.default.cancel(jt.i),jt.i=vt.default.request(jt.scroll))},check:function(P,D){var z;return(z=P.options[D].autoScroll)==null?void 0:z.enabled},onInteractionMove:function(P){var D=P.interaction,z=P.pointer;if(D.interacting()&&jt.check(D.interactable,D.prepared.name))if(D.simulation)jt.x=jt.y=0;else{var V,te,ke,Fe,Be=D.interactable,it=D.element,Ft=D.prepared.name,Bt=Be.options[Ft].autoScroll,Qt=Ye(Bt.container,Be,it);if(m.default.window(Qt))Fe=z.clientX<jt.margin,V=z.clientY<jt.margin,te=z.clientX>Qt.innerWidth-jt.margin,ke=z.clientY>Qt.innerHeight-jt.margin;else{var wi=q.getElementClientRect(Qt);Fe=z.clientX<wi.left+jt.margin,V=z.clientY<wi.top+jt.margin,te=z.clientX>wi.right-jt.margin,ke=z.clientY>wi.bottom-jt.margin}jt.x=te?1:Fe?-1:0,jt.y=ke?1:V?-1:0,jt.isScrolling||(jt.margin=Bt.margin,jt.speed=Bt.speed,jt.start(D))}}};function Ye(P,D,z){return(m.default.string(P)?(0,se.getStringOptionResult)(P,D,z):P)||(0,n.getWindow)(z)}function Me(P){return m.default.window(P)&&(P=window.document.body),{x:P.scrollLeft,y:P.scrollTop}}var De={id:"auto-scroll",install:function(P){var D=P.defaults,z=P.actions;P.autoScroll=jt,jt.now=function(){return P.now()},z.phaselessTypes.autoscroll=!0,D.perAction.autoScroll=jt.defaults},listeners:{"interactions:new":function(P){P.interaction.autoScroll=null},"interactions:destroy":function(P){P.interaction.autoScroll=null,jt.stop(),jt.interaction&&(jt.interaction=null)},"interactions:stop":jt.stop,"interactions:action-move":function(P){return jt.onInteractionMove(P)}}},et=De;Lt.default=et;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.copyAction=function(P,D){return P.name=D.name,P.axis=D.axis,P.edges=D.edges,P},Tt.sign=void 0,Tt.warnOnce=function(P,D){var z=!1;return function(){return z||(n.window.console.warn(D),z=!0),P.apply(this,arguments)}},Tt.sign=function(P){return P>=0?1:-1};var Ht={};function Ze(P){return m.default.bool(P)?(this.options.styleCursor=P,this):P===null?(delete this.options.styleCursor,this):this.options.styleCursor}function wt(P){return m.default.func(P)?(this.options.actionChecker=P,this):P===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var _t={id:"auto-start/interactableMethods",install:function(P){var D=P.Interactable;D.prototype.getAction=function(z,V,te,ke){var Fe=function(Be,it,Ft,Bt,Qt){var wi=Be.getRect(Bt),Ti={action:null,interactable:Be,interaction:Ft,element:Bt,rect:wi,buttons:it.buttons||{0:1,1:4,3:8,4:16}[it.button]};return Qt.fire("auto-start:check",Ti),Ti.action}(this,V,te,ke,P);return this.options.actionChecker?this.options.actionChecker(z,V,Fe,this,ke,te):Fe},D.prototype.ignoreFrom=(0,Tt.warnOnce)(function(z){return this._backCompatOption("ignoreFrom",z)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),D.prototype.allowFrom=(0,Tt.warnOnce)(function(z){return this._backCompatOption("allowFrom",z)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),D.prototype.actionChecker=wt,D.prototype.styleCursor=Ze}};Ht.default=_t;var Xt={};function We(P,D,z,V,te){return D.testIgnoreAllow(D.options[P.name],z,V)&&D.options[P.name].enabled&&qt(D,z,P,te)?P:null}function ri(P,D,z,V,te,ke,Fe){for(var Be=0,it=V.length;Be<it;Be++){var Ft=V[Be],Bt=te[Be],Qt=Ft.getAction(D,z,P,Bt);if(Qt){var wi=We(Qt,Ft,Bt,ke,Fe);if(wi)return{action:wi,interactable:Ft,element:Bt}}}return{action:null,interactable:null,element:null}}function ei(P,D,z,V,te){var ke=[],Fe=[],Be=V;function it(Bt){ke.push(Bt),Fe.push(Be)}for(;m.default.element(Be);){ke=[],Fe=[],te.interactables.forEachMatch(Be,it);var Ft=ri(P,D,z,ke,Fe,V,te);if(Ft.action&&!Ft.interactable.options[Ft.action.name].manualStart)return Ft;Be=q.parentNode(Be)}return{action:null,interactable:null,element:null}}function ki(P,D,z){var V=D.action,te=D.interactable,ke=D.element;V=V||{name:null},P.interactable=te,P.element=ke,(0,Tt.copyAction)(P.prepared,V),P.rect=te&&V.name?te.getRect(ke):null,Mi(P,z),z.fire("autoStart:prepared",{interaction:P})}function qt(P,D,z,V){var te=P.options,ke=te[z.name].max,Fe=te[z.name].maxPerElement,Be=V.autoStart.maxInteractions,it=0,Ft=0,Bt=0;if(!(ke&&Fe&&Be))return!1;for(var Qt=0;Qt<V.interactions.list.length;Qt++){var wi=V.interactions.list[Qt],Ti=wi.prepared.name;if(wi.interacting()&&(++it>=Be||wi.interactable===P&&((Ft+=Ti===z.name?1:0)>=ke||wi.element===D&&(Bt++,Ti===z.name&&Bt>=Fe))))return!1}return Be>0}function ci(P,D){return m.default.number(P)?(D.autoStart.maxInteractions=P,this):D.autoStart.maxInteractions}function Ei(P,D,z){var V=z.autoStart.cursorElement;V&&V!==P&&(V.style.cursor=""),P.ownerDocument.documentElement.style.cursor=D,P.style.cursor=D,z.autoStart.cursorElement=D?P:null}function Mi(P,D){var z=P.interactable,V=P.element,te=P.prepared;if(P.pointerType==="mouse"&&z&&z.options.styleCursor){var ke="";if(te.name){var Fe=z.options[te.name].cursorChecker;ke=m.default.func(Fe)?Fe(te,z,V,P._interacting):D.actions.map[te.name].getCursor(te)}Ei(P.element,ke||"",D)}else D.autoStart.cursorElement&&Ei(D.autoStart.cursorElement,"",D)}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var ir={id:"auto-start/base",before:["actions"],install:function(P){var D=P.interactStatic,z=P.defaults;P.usePlugin(Ht.default),z.base.actionChecker=null,z.base.styleCursor=!0,(0,W.default)(z.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),D.maxInteractions=function(V){return ci(V,P)},P.autoStart={maxInteractions:1/0,withinInteractionLimit:qt,cursorElement:null}},listeners:{"interactions:down":function(P,D){var z=P.interaction,V=P.pointer,te=P.event,ke=P.eventTarget;z.interacting()||ki(z,ei(z,V,te,ke,D),D)},"interactions:move":function(P,D){(function(z,V){var te=z.interaction,ke=z.pointer,Fe=z.event,Be=z.eventTarget;te.pointerType!=="mouse"||te.pointerIsDown||te.interacting()||ki(te,ei(te,ke,Fe,Be,V),V)})(P,D),function(z,V){var te=z.interaction;if(te.pointerIsDown&&!te.interacting()&&te.pointerWasMoved&&te.prepared.name){V.fire("autoStart:before-start",z);var ke=te.interactable,Fe=te.prepared.name;Fe&&ke&&(ke.options[Fe].manualStart||!qt(ke,te.element,te.prepared,V)?te.stop():(te.start(te.prepared,ke,te.element),Mi(te,V)))}}(P,D)},"interactions:stop":function(P,D){var z=P.interaction,V=z.interactable;V&&V.options.styleCursor&&Ei(z.element,"",D)}},maxInteractions:ci,withinInteractionLimit:qt,validateAction:We},Yi=ir;Xt.default=Yi;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.default=void 0;var Sr={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(P,D){var z=P.interaction,V=P.eventTarget,te=P.dx,ke=P.dy;if(z.prepared.name==="drag"){var Fe=Math.abs(te),Be=Math.abs(ke),it=z.interactable.options.drag,Ft=it.startAxis,Bt=Fe>Be?"x":Fe<Be?"y":"xy";if(z.prepared.axis=it.lockAxis==="start"?Bt[0]:it.lockAxis,Bt!=="xy"&&Ft!=="xy"&&Ft!==Bt){z.prepared.name=null;for(var Qt=V,wi=function(pi){if(pi!==z.interactable){var Ui=z.interactable.options.drag;if(!Ui.manualStart&&pi.testIgnoreAllow(Ui,Qt,V)){var qi=pi.getAction(z.downPointer,z.downEvent,z,Qt);if(qi&&qi.name==="drag"&&function(Ji,sr){if(!sr)return!1;var Hr=sr.options.drag.startAxis;return Ji==="xy"||Hr==="xy"||Hr===Ji}(Bt,pi)&&Xt.default.validateAction(qi,pi,Qt,V,D))return pi}}};m.default.element(Qt);){var Ti=D.interactables.forEachMatch(Qt,wi);if(Ti){z.prepared.name="drag",z.interactable=Ti,z.element=Qt;break}Qt=(0,q.parentNode)(Qt)}}}}}};Gi.default=Sr;var tr={};function yr(P){var D=P.prepared&&P.prepared.name;if(!D)return null;var z=P.interactable.options;return z[D].hold||z[D].delay}Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var xr={id:"auto-start/hold",install:function(P){var D=P.defaults;P.usePlugin(Xt.default),D.perAction.hold=0,D.perAction.delay=0},listeners:{"interactions:new":function(P){P.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(P){var D=P.interaction,z=yr(D);z>0&&(D.autoStartHoldTimer=setTimeout(function(){D.start(D.prepared,D.interactable,D.element)},z))},"interactions:move":function(P){var D=P.interaction,z=P.duplicate;D.autoStartHoldTimer&&D.pointerWasMoved&&!z&&(clearTimeout(D.autoStartHoldTimer),D.autoStartHoldTimer=null)},"autoStart:before-start":function(P){var D=P.interaction;yr(D)>0&&(D.prepared.name=null)}},getHoldDuration:yr},Tr=xr;tr.default=Tr;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0;var ln={id:"auto-start",install:function(P){P.usePlugin(Xt.default),P.usePlugin(tr.default),P.usePlugin(Gi.default)}};Xr.default=ln;var Pr={};function Dr(P){return/^(always|never|auto)$/.test(P)?(this.options.preventDefault=P,this):m.default.bool(P)?(this.options.preventDefault=P?"always":"never",this):this.options.preventDefault}function Gr(P){var D=P.interaction,z=P.event;D.interactable&&D.interactable.checkAndPreventDefault(z)}function Vr(P){var D=P.Interactable;D.prototype.preventDefault=Dr,D.prototype.checkAndPreventDefault=function(z){return function(V,te,ke){var Fe=V.options.preventDefault;if(Fe!=="never")if(Fe!=="always"){if(te.events.supportsPassive&&/^touch(start|move)$/.test(ke.type)){var Be=(0,n.getWindow)(ke.target).document,it=te.getDocOptions(Be);if(!it||!it.events||it.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(ke.type)||m.default.element(ke.target)&&(0,q.matchesSelector)(ke.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||ke.preventDefault()}else ke.preventDefault()}(this,P,z)},P.interactions.docEvents.push({type:"dragstart",listener:function(z){for(var V=0;V<P.interactions.list.length;V++){var te=P.interactions.list[V];if(te.element&&(te.element===z.target||(0,q.nodeContains)(te.element,z.target)))return void te.interactable.checkAndPreventDefault(z)}}})}Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.default=void 0,Pr.install=Vr;var ve={id:"core/interactablePreventDefault",install:Vr,listeners:["down","move","up","cancel"].reduce(function(P,D){return P["interactions:".concat(D)]=Gr,P},{})};Pr.default=ve;var he={};Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0,he.default={};var B,be={};Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0,function(P){P.touchAction="touchAction",P.boxSizing="boxSizing",P.noListeners="noListeners"}(B||(B={})),B.touchAction,B.boxSizing,B.noListeners,be.default={id:"dev-tools",install:function(){}};var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=function P(D){var z={};for(var V in D){var te=D[V];m.default.plainObject(te)?z[V]=P(te):m.default.array(te)?z[V]=ie.from(te):z[V]=te}return z};var $t={};function zt(P,D){return function(z){if(Array.isArray(z))return z}(P)||function(z,V){var te=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(te!=null){var ke,Fe,Be=[],it=!0,Ft=!1;try{for(te=te.call(z);!(it=(ke=te.next()).done)&&(Be.push(ke.value),!V||Be.length!==V);it=!0);}catch(Bt){Ft=!0,Fe=Bt}finally{try{it||te.return==null||te.return()}finally{if(Ft)throw Fe}}return Be}}(P,D)||function(z,V){if(z){if(typeof z=="string")return gi(z,V);var te=Object.prototype.toString.call(z).slice(8,-1);return te==="Object"&&z.constructor&&(te=z.constructor.name),te==="Map"||te==="Set"?Array.from(z):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?gi(z,V):void 0}}(P,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gi(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}function mi(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=void 0,$t.getRectOffset=or;var Fi=function(){function P(V){(function(te,ke){if(!(te instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,P),mi(this,"states",[]),mi(this,"startOffset",{left:0,right:0,top:0,bottom:0}),mi(this,"startDelta",void 0),mi(this,"result",void 0),mi(this,"endResult",void 0),mi(this,"startEdges",void 0),mi(this,"edges",void 0),mi(this,"interaction",void 0),this.interaction=V,this.result=hr(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var D,z;return D=P,(z=[{key:"start",value:function(V,te){var ke=V.phase,Fe=this.interaction,Be=function(Ft){var Bt=Ft.interactable.options[Ft.prepared.name],Qt=Bt.modifiers;return Qt&&Qt.length?Qt:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(wi){var Ti=Bt[wi];return Ti&&Ti.enabled&&{options:Ti,methods:Ti._methods}}).filter(function(wi){return!!wi})}(Fe);this.prepareStates(Be),this.startEdges=(0,W.default)({},Fe.edges),this.edges=(0,W.default)({},this.startEdges),this.startOffset=or(Fe.rect,te),this.startDelta={x:0,y:0};var it=this.fillArg({phase:ke,pageCoords:te,preEnd:!1});return this.result=hr(),this.startAll(it),this.result=this.setAll(it)}},{key:"fillArg",value:function(V){var te=this.interaction;return V.interaction=te,V.interactable=te.interactable,V.element=te.element,V.rect||(V.rect=te.rect),V.edges||(V.edges=this.startEdges),V.startOffset=this.startOffset,V}},{key:"startAll",value:function(V){for(var te=0;te<this.states.length;te++){var ke=this.states[te];ke.methods.start&&(V.state=ke,ke.methods.start(V))}}},{key:"setAll",value:function(V){var te=V.phase,ke=V.preEnd,Fe=V.skipModifiers,Be=V.rect,it=V.edges;V.coords=(0,W.default)({},V.pageCoords),V.rect=(0,W.default)({},Be),V.edges=(0,W.default)({},it);for(var Ft=Fe?this.states.slice(Fe):this.states,Bt=hr(V.coords,V.rect),Qt=0;Qt<Ft.length;Qt++){var wi,Ti=Ft[Qt],pi=Ti.options,Ui=(0,W.default)({},V.coords),qi=null;(wi=Ti.methods)!=null&&wi.set&&this.shouldDo(pi,ke,te)&&(V.state=Ti,qi=Ti.methods.set(V),se.addEdges(V.edges,V.rect,{x:V.coords.x-Ui.x,y:V.coords.y-Ui.y})),Bt.eventProps.push(qi)}(0,W.default)(this.edges,V.edges),Bt.delta.x=V.coords.x-V.pageCoords.x,Bt.delta.y=V.coords.y-V.pageCoords.y,Bt.rectDelta.left=V.rect.left-Be.left,Bt.rectDelta.right=V.rect.right-Be.right,Bt.rectDelta.top=V.rect.top-Be.top,Bt.rectDelta.bottom=V.rect.bottom-Be.bottom;var Ji=this.result.coords,sr=this.result.rect;if(Ji&&sr){var Hr=Bt.rect.left!==sr.left||Bt.rect.right!==sr.right||Bt.rect.top!==sr.top||Bt.rect.bottom!==sr.bottom;Bt.changed=Hr||Ji.x!==Bt.coords.x||Ji.y!==Bt.coords.y}return Bt}},{key:"applyToInteraction",value:function(V){var te=this.interaction,ke=V.phase,Fe=te.coords.cur,Be=te.coords.start,it=this.result,Ft=this.startDelta,Bt=it.delta;ke==="start"&&(0,W.default)(this.startDelta,it.delta);for(var Qt=0;Qt<2;Qt++){var wi=zt([[Be,Ft],[Fe,Bt]][Qt],2),Ti=wi[0],pi=wi[1];Ti.page.x+=pi.x,Ti.page.y+=pi.y,Ti.client.x+=pi.x,Ti.client.y+=pi.y}var Ui=this.result.rectDelta,qi=V.rect||te.rect;qi.left+=Ui.left,qi.right+=Ui.right,qi.top+=Ui.top,qi.bottom+=Ui.bottom,qi.width=qi.right-qi.left,qi.height=qi.bottom-qi.top}},{key:"setAndApply",value:function(V){var te=this.interaction,ke=V.phase,Fe=V.preEnd,Be=V.skipModifiers,it=this.setAll(this.fillArg({preEnd:Fe,phase:ke,pageCoords:V.modifiedCoords||te.coords.cur.page}));if(this.result=it,!it.changed&&(!Be||Be<this.states.length)&&te.interacting())return!1;if(V.modifiedCoords){var Ft=te.coords.cur.page,Bt={x:V.modifiedCoords.x-Ft.x,y:V.modifiedCoords.y-Ft.y};it.coords.x+=Bt.x,it.coords.y+=Bt.y,it.delta.x+=Bt.x,it.delta.y+=Bt.y}this.applyToInteraction(V)}},{key:"beforeEnd",value:function(V){var te=V.interaction,ke=V.event,Fe=this.states;if(Fe&&Fe.length){for(var Be=!1,it=0;it<Fe.length;it++){var Ft=Fe[it];V.state=Ft;var Bt=Ft.options,Qt=Ft.methods,wi=Qt.beforeEnd&&Qt.beforeEnd(V);if(wi)return this.endResult=wi,!1;Be=Be||!Be&&this.shouldDo(Bt,!0,V.phase,!0)}Be&&te.move({event:ke,preEnd:!0})}}},{key:"stop",value:function(V){var te=V.interaction;if(this.states&&this.states.length){var ke=(0,W.default)({states:this.states,interactable:te.interactable,element:te.element,rect:null},V);this.fillArg(ke);for(var Fe=0;Fe<this.states.length;Fe++){var Be=this.states[Fe];ke.state=Be,Be.methods.stop&&Be.methods.stop(ke)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(V){this.states=[];for(var te=0;te<V.length;te++){var ke=V[te],Fe=ke.options,Be=ke.methods,it=ke.name;this.states.push({options:Fe,methods:Be,index:te,name:it})}return this.states}},{key:"restoreInteractionCoords",value:function(V){var te=V.interaction,ke=te.coords,Fe=te.rect,Be=te.modification;if(Be.result){for(var it=Be.startDelta,Ft=Be.result,Bt=Ft.delta,Qt=Ft.rectDelta,wi=[[ke.start,it],[ke.cur,Bt]],Ti=0;Ti<wi.length;Ti++){var pi=zt(wi[Ti],2),Ui=pi[0],qi=pi[1];Ui.page.x-=qi.x,Ui.page.y-=qi.y,Ui.client.x-=qi.x,Ui.client.y-=qi.y}Fe.left-=Qt.left,Fe.right-=Qt.right,Fe.top-=Qt.top,Fe.bottom-=Qt.bottom}}},{key:"shouldDo",value:function(V,te,ke,Fe){return!(!V||V.enabled===!1||Fe&&!V.endOnly||V.endOnly&&!te||ke==="start"&&!V.setStart)}},{key:"copyFrom",value:function(V){this.startOffset=V.startOffset,this.startDelta=V.startDelta,this.startEdges=V.startEdges,this.edges=V.edges,this.states=V.states.map(function(te){return(0,xe.default)(te)}),this.result=hr((0,W.default)({},V.result.coords),(0,W.default)({},V.result.rect))}},{key:"destroy",value:function(){for(var V in this)this[V]=null}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();function hr(P,D){return{rect:D,coords:P,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function or(P,D){return P?{left:D.x-P.left,top:D.y-P.top,right:P.right-D.x,bottom:P.bottom-D.y}:{left:0,top:0,right:0,bottom:0}}$t.default=Fi;var Ur={};function ue(P){var D=P.iEvent,z=P.interaction.modification.result;z&&(D.modifiers=z.eventProps)}Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.addEventModifiers=ue,Ur.default=void 0,Ur.makeModifier=function(P,D){var z=P.defaults,V={start:P.start,set:P.set,beforeEnd:P.beforeEnd,stop:P.stop},te=function(ke){var Fe=ke||{};for(var Be in Fe.enabled=Fe.enabled!==!1,z)Be in Fe||(Fe[Be]=z[Be]);var it={options:Fe,methods:V,name:D,enable:function(){return Fe.enabled=!0,it},disable:function(){return Fe.enabled=!1,it}};return it};return D&&typeof D=="string"&&(te._defaults=z,te._methods=V),te};var jn={id:"modifiers/base",before:["actions"],install:function(P){P.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(P){var D=P.interaction;D.modification=new $t.default(D)},"interactions:before-action-start":function(P){var D=P.interaction,z=P.interaction.modification;z.start(P,D.coords.start.page),D.edges=z.edges,z.applyToInteraction(P)},"interactions:before-action-move":function(P){var D=P.interaction,z=D.modification,V=z.setAndApply(P);return D.edges=z.edges,V},"interactions:before-action-end":function(P){var D=P.interaction,z=D.modification,V=z.beforeEnd(P);return D.edges=z.startEdges,V},"interactions:action-start":ue,"interactions:action-move":ue,"interactions:action-end":ue,"interactions:after-action-start":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:after-action-move":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:stop":function(P){return P.interaction.modification.stop(P)}}},wn=jn;Ur.default=wn;var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.defaults=void 0,$n.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var xn={};function di(P){return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},di(P)}function Si(P,D){return Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},Si(P,D)}function yi(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function rr(P){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},rr(P)}function ar(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(xn,"__esModule",{value:!0}),xn.InteractEvent=void 0;var Ln=function(P){(function(Be,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(it&&it.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),it&&Si(Be,it)})(Fe,P);var D,z,V,te,ke=(V=Fe,te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Be){return!1}}(),function(){var Be,it=rr(V);if(te){var Ft=rr(this).constructor;Be=Reflect.construct(it,arguments,Ft)}else Be=it.apply(this,arguments);return function(Bt,Qt){if(Qt&&(di(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(Bt)}(this,Be)});function Fe(Be,it,Ft,Bt,Qt,wi,Ti){var pi;(function(kn,an){if(!(kn instanceof an))throw new TypeError("Cannot call a class as a function")})(this,Fe),ar(yi(pi=ke.call(this,Be)),"relatedTarget",null),ar(yi(pi),"screenX",void 0),ar(yi(pi),"screenY",void 0),ar(yi(pi),"button",void 0),ar(yi(pi),"buttons",void 0),ar(yi(pi),"ctrlKey",void 0),ar(yi(pi),"shiftKey",void 0),ar(yi(pi),"altKey",void 0),ar(yi(pi),"metaKey",void 0),ar(yi(pi),"page",void 0),ar(yi(pi),"client",void 0),ar(yi(pi),"delta",void 0),ar(yi(pi),"rect",void 0),ar(yi(pi),"x0",void 0),ar(yi(pi),"y0",void 0),ar(yi(pi),"t0",void 0),ar(yi(pi),"dt",void 0),ar(yi(pi),"duration",void 0),ar(yi(pi),"clientX0",void 0),ar(yi(pi),"clientY0",void 0),ar(yi(pi),"velocity",void 0),ar(yi(pi),"speed",void 0),ar(yi(pi),"swipe",void 0),ar(yi(pi),"axes",void 0),ar(yi(pi),"preEnd",void 0),Qt=Qt||Be.element;var Ui=Be.interactable,qi=(Ui&&Ui.options||$n.defaults).deltaSource,Ji=(0,ye.default)(Ui,Qt,Ft),sr=Bt==="start",Hr=Bt==="end",qr=sr?yi(pi):Be.prevEvent,un=sr?Be.coords.start:Hr?{page:qr.page,client:qr.client,timeStamp:Be.coords.cur.timeStamp}:Be.coords.cur;return pi.page=(0,W.default)({},un.page),pi.client=(0,W.default)({},un.client),pi.rect=(0,W.default)({},Be.rect),pi.timeStamp=un.timeStamp,Hr||(pi.page.x-=Ji.x,pi.page.y-=Ji.y,pi.client.x-=Ji.x,pi.client.y-=Ji.y),pi.ctrlKey=it.ctrlKey,pi.altKey=it.altKey,pi.shiftKey=it.shiftKey,pi.metaKey=it.metaKey,pi.button=it.button,pi.buttons=it.buttons,pi.target=Qt,pi.currentTarget=Qt,pi.preEnd=wi,pi.type=Ti||Ft+(Bt||""),pi.interactable=Ui,pi.t0=sr?Be.pointers[Be.pointers.length-1].downTime:qr.t0,pi.x0=Be.coords.start.page.x-Ji.x,pi.y0=Be.coords.start.page.y-Ji.y,pi.clientX0=Be.coords.start.client.x-Ji.x,pi.clientY0=Be.coords.start.client.y-Ji.y,pi.delta=sr||Hr?{x:0,y:0}:{x:pi[qi].x-qr[qi].x,y:pi[qi].y-qr[qi].y},pi.dt=Be.coords.delta.timeStamp,pi.duration=pi.timeStamp-pi.t0,pi.velocity=(0,W.default)({},Be.coords.velocity[qi]),pi.speed=(0,Ge.default)(pi.velocity.x,pi.velocity.y),pi.swipe=Hr||Bt==="inertiastart"?pi.getSwipe():null,pi}return D=Fe,(z=[{key:"getSwipe",value:function(){var Be=this._interaction;if(Be.prevEvent.speed<600||this.timeStamp-Be.prevEvent.timeStamp>150)return null;var it=180*Math.atan2(Be.prevEvent.velocityY,Be.prevEvent.velocityX)/Math.PI;it<0&&(it+=360);var Ft=112.5<=it&&it<247.5,Bt=202.5<=it&&it<337.5;return{up:Bt,down:!Bt&&22.5<=it&&it<157.5,left:Ft,right:!Ft&&(292.5<=it||it<67.5),angle:it,speed:Be.prevEvent.speed,velocity:{x:Be.prevEvent.velocityX,y:Be.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(Be,it){for(var Ft=0;Ft<it.length;Ft++){var Bt=it[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Be,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Fe}(Pt.BaseEvent);xn.InteractEvent=Ln,Object.defineProperties(Ln.prototype,{pageX:{get:function(){return this.page.x},set:function(P){this.page.x=P}},pageY:{get:function(){return this.page.y},set:function(P){this.page.y=P}},clientX:{get:function(){return this.client.x},set:function(P){this.client.x=P}},clientY:{get:function(){return this.client.y},set:function(P){this.client.y=P}},dx:{get:function(){return this.delta.x},set:function(P){this.delta.x=P}},dy:{get:function(){return this.delta.y},set:function(P){this.delta.y=P}},velocityX:{get:function(){return this.velocity.x},set:function(P){this.velocity.x=P}},velocityY:{get:function(){return this.velocity.y},set:function(P){this.velocity.y=P}}});var yn={};function _o(P,D){for(var z=0;z<D.length;z++){var V=D[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}function fo(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(yn,"__esModule",{value:!0}),yn.PointerInfo=void 0;var is=function(P,D,z){return D&&_o(P.prototype,D),z&&_o(P,z),Object.defineProperty(P,"prototype",{writable:!1}),P}(function P(D,z,V,te,ke){(function(Fe,Be){if(!(Fe instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,P),fo(this,"id",void 0),fo(this,"pointer",void 0),fo(this,"event",void 0),fo(this,"downTime",void 0),fo(this,"downTarget",void 0),this.id=D,this.pointer=z,this.event=V,this.downTime=te,this.downTarget=ke});yn.PointerInfo=is;var ma,Eo,Nn={};function Jr(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.Interaction=void 0,Object.defineProperty(Nn,"PointerInfo",{enumerable:!0,get:function(){return yn.PointerInfo}}),Nn.default=Nn._ProxyValues=Nn._ProxyMethods=void 0,Nn._ProxyValues=ma,function(P){P.interactable="",P.element="",P.prepared="",P.pointerIsDown="",P.pointerWasMoved="",P._proxy=""}(ma||(Nn._ProxyValues=ma={})),Nn._ProxyMethods=Eo,function(P){P.start="",P.move="",P.end="",P.stop="",P.interacting=""}(Eo||(Nn._ProxyMethods=Eo={}));var mo=0,To=function(){function P(V){var te=this,ke=V.pointerType,Fe=V.scopeFire;(function(wi,Ti){if(!(wi instanceof Ti))throw new TypeError("Cannot call a class as a function")})(this,P),Jr(this,"interactable",null),Jr(this,"element",null),Jr(this,"rect",null),Jr(this,"_rects",void 0),Jr(this,"edges",null),Jr(this,"_scopeFire",void 0),Jr(this,"prepared",{name:null,axis:null,edges:null}),Jr(this,"pointerType",void 0),Jr(this,"pointers",[]),Jr(this,"downEvent",null),Jr(this,"downPointer",{}),Jr(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Jr(this,"prevEvent",null),Jr(this,"pointerIsDown",!1),Jr(this,"pointerWasMoved",!1),Jr(this,"_interacting",!1),Jr(this,"_ending",!1),Jr(this,"_stopped",!0),Jr(this,"_proxy",null),Jr(this,"simulation",null),Jr(this,"doMove",(0,Tt.warnOnce)(function(wi){this.move(wi)},"The interaction.doMove() method has been renamed to interaction.move()")),Jr(this,"coords",{start:st.newCoords(),prev:st.newCoords(),cur:st.newCoords(),delta:st.newCoords(),velocity:st.newCoords()}),Jr(this,"_id",mo++),this._scopeFire=Fe,this.pointerType=ke;var Be=this;this._proxy={};var it=function(wi){Object.defineProperty(te._proxy,wi,{get:function(){return Be[wi]}})};for(var Ft in ma)it(Ft);var Bt=function(wi){Object.defineProperty(te._proxy,wi,{value:function(){return Be[wi].apply(Be,arguments)}})};for(var Qt in Eo)Bt(Qt);this._scopeFire("interactions:new",{interaction:this})}var D,z;return D=P,z=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(V,te,ke){var Fe=this.updatePointer(V,te,ke,!0),Be=this.pointers[Fe];this._scopeFire("interactions:down",{pointer:V,event:te,eventTarget:ke,pointerIndex:Fe,pointerInfo:Be,type:"down",interaction:this})}},{key:"start",value:function(V,te,ke){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(V.name==="gesture"?2:1)||!te.options[V.name].enabled)&&((0,Tt.copyAction)(this.prepared,V),this.interactable=te,this.element=ke,this.rect=te.getRect(ke),this.edges=this.prepared.edges?(0,W.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(V,te,ke){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(V,te,ke,!1);var Fe,Be,it=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(Fe=this.coords.cur.client.x-this.coords.start.client.x,Be=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,Ge.default)(Fe,Be)>this.pointerMoveTolerance);var Ft=this.getPointerIndex(V),Bt={pointer:V,pointerIndex:Ft,pointerInfo:this.pointers[Ft],event:te,type:"move",eventTarget:ke,dx:Fe,dy:Be,duplicate:it,interaction:this};it||st.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",Bt),it||this.simulation||(this.interacting()&&(Bt.type=null,this.move(Bt)),this.pointerWasMoved&&st.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(V){V&&V.event||st.setZeroCoords(this.coords.delta),(V=(0,W.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},V||{})).phase="move",this._doPhase(V)}},{key:"pointerUp",value:function(V,te,ke,Fe){var Be=this.getPointerIndex(V);Be===-1&&(Be=this.updatePointer(V,te,ke,!1));var it=/cancel$/i.test(te.type)?"cancel":"up";this._scopeFire("interactions:".concat(it),{pointer:V,pointerIndex:Be,pointerInfo:this.pointers[Be],event:te,eventTarget:ke,type:it,curEventTarget:Fe,interaction:this}),this.simulation||this.end(te),this.removePointer(V,te)}},{key:"documentBlur",value:function(V){this.end(V),this._scopeFire("interactions:blur",{event:V,type:"blur",interaction:this})}},{key:"end",value:function(V){var te;this._ending=!0,V=V||this._latestPointer.event,this.interacting()&&(te=this._doPhase({event:V,interaction:this,phase:"end"})),this._ending=!1,te===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(V){var te=st.getPointerId(V);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ie.findIndex(this.pointers,function(ke){return ke.id===te})}},{key:"getPointerInfo",value:function(V){return this.pointers[this.getPointerIndex(V)]}},{key:"updatePointer",value:function(V,te,ke,Fe){var Be=st.getPointerId(V),it=this.getPointerIndex(V),Ft=this.pointers[it];return Fe=Fe!==!1&&(Fe||/(down|start)$/i.test(te.type)),Ft?Ft.pointer=V:(Ft=new yn.PointerInfo(Be,V,te,null,null),it=this.pointers.length,this.pointers.push(Ft)),st.setCoords(this.coords.cur,this.pointers.map(function(Bt){return Bt.pointer}),this._now()),st.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),Fe&&(this.pointerIsDown=!0,Ft.downTime=this.coords.cur.timeStamp,Ft.downTarget=ke,st.pointerExtend(this.downPointer,V),this.interacting()||(st.copyCoords(this.coords.start,this.coords.cur),st.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=te,this.pointerWasMoved=!1)),this._updateLatestPointer(V,te,ke),this._scopeFire("interactions:update-pointer",{pointer:V,event:te,eventTarget:ke,down:Fe,pointerInfo:Ft,pointerIndex:it,interaction:this}),it}},{key:"removePointer",value:function(V,te){var ke=this.getPointerIndex(V);if(ke!==-1){var Fe=this.pointers[ke];this._scopeFire("interactions:remove-pointer",{pointer:V,event:te,eventTarget:null,pointerIndex:ke,pointerInfo:Fe,interaction:this}),this.pointers.splice(ke,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(V,te,ke){this._latestPointer.pointer=V,this._latestPointer.event=te,this._latestPointer.eventTarget=ke}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(V,te,ke,Fe){return new xn.InteractEvent(this,V,this.prepared.name,te,this.element,ke,Fe)}},{key:"_fireEvent",value:function(V){var te;(te=this.interactable)==null||te.fire(V),(!this.prevEvent||V.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=V)}},{key:"_doPhase",value:function(V){var te=V.event,ke=V.phase,Fe=V.preEnd,Be=V.type,it=this.rect;if(it&&ke==="move"&&(se.addEdges(this.edges,it,this.coords.delta[this.interactable.options.deltaSource]),it.width=it.right-it.left,it.height=it.bottom-it.top),this._scopeFire("interactions:before-action-".concat(ke),V)===!1)return!1;var Ft=V.iEvent=this._createPreparedEvent(te,ke,Fe,Be);return this._scopeFire("interactions:action-".concat(ke),V),ke==="start"&&(this.prevEvent=Ft),this._fireEvent(Ft),this._scopeFire("interactions:after-action-".concat(ke),V),!0}},{key:"_now",value:function(){return Date.now()}}],z&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();Nn.Interaction=To;var ga=To;Nn.default=ga;var Qn={};function Da(P){P.pointerIsDown&&(zo(P.coords.cur,P.offset.total),P.offset.pending.x=0,P.offset.pending.y=0)}function rs(P){ja(P.interaction)}function ja(P){if(!function(z){return!(!z.offset.pending.x&&!z.offset.pending.y)}(P))return!1;var D=P.offset.pending;return zo(P.coords.cur,D),zo(P.coords.delta,D),se.addEdges(P.edges,P.rect,D),D.x=0,D.y=0,!0}function co(P){var D=P.x,z=P.y;this.offset.pending.x+=D,this.offset.pending.y+=z,this.offset.total.x+=D,this.offset.total.y+=z}function zo(P,D){var z=P.page,V=P.client,te=D.x,ke=D.y;z.x+=te,z.y+=ke,V.x+=te,V.y+=ke}Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.addTotal=Da,Qn.applyPending=ja,Qn.default=void 0,Nn._ProxyMethods.offsetBy="";var Ko={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(P){P.Interaction.prototype.offsetBy=co},listeners:{"interactions:new":function(P){P.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(P){return Da(P.interaction)},"interactions:before-action-start":rs,"interactions:before-action-move":rs,"interactions:before-action-end":function(P){var D=P.interaction;if(ja(D))return D.move({offset:!0}),D.end(),!1},"interactions:stop":function(P){var D=P.interaction;D.offset.total.x=0,D.offset.total.y=0,D.offset.pending.x=0,D.offset.pending.y=0}}},Xo=Ko;Qn.default=Xo;var go={};function _n(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(go,"__esModule",{value:!0}),go.default=go.InertiaState=void 0;var f=function(){function P(V){(function(te,ke){if(!(te instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,P),_n(this,"active",!1),_n(this,"isModified",!1),_n(this,"smoothEnd",!1),_n(this,"allowResume",!1),_n(this,"modification",void 0),_n(this,"modifierCount",0),_n(this,"modifierArg",void 0),_n(this,"startCoords",void 0),_n(this,"t0",0),_n(this,"v0",0),_n(this,"te",0),_n(this,"targetOffset",void 0),_n(this,"modifiedOffset",void 0),_n(this,"currentOffset",void 0),_n(this,"lambda_v0",0),_n(this,"one_ve_v0",0),_n(this,"timeout",void 0),_n(this,"interaction",void 0),this.interaction=V}var D,z;return D=P,(z=[{key:"start",value:function(V){var te=this.interaction,ke=b(te);if(!ke||!ke.enabled)return!1;var Fe=te.coords.velocity.client,Be=(0,Ge.default)(Fe.x,Fe.y),it=this.modification||(this.modification=new $t.default(te));if(it.copyFrom(te.modification),this.t0=te._now(),this.allowResume=ke.allowResume,this.v0=Be,this.currentOffset={x:0,y:0},this.startCoords=te.coords.cur.page,this.modifierArg=it.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-te.coords.cur.timeStamp<50&&Be>ke.minSpeed&&Be>ke.endSpeed)this.startInertia();else{if(it.result=it.setAll(this.modifierArg),!it.result.changed)return!1;this.startSmoothEnd()}return te.modification.result.rect=null,te.offsetBy(this.targetOffset),te._doPhase({interaction:te,event:V,phase:"inertiastart"}),te.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),te.modification.result.rect=null,this.active=!0,te.simulation=this,!0}},{key:"startInertia",value:function(){var V=this,te=this.interaction.coords.velocity.client,ke=b(this.interaction),Fe=ke.resistance,Be=-Math.log(ke.endSpeed/this.v0)/Fe;this.targetOffset={x:(te.x-Be)/Fe,y:(te.y-Be)/Fe},this.te=Be,this.lambda_v0=Fe/this.v0,this.one_ve_v0=1-ke.endSpeed/this.v0;var it=this.modification,Ft=this.modifierArg;Ft.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},it.result=it.setAll(Ft),it.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+it.result.delta.x,y:this.targetOffset.y+it.result.delta.y}),this.onNextFrame(function(){return V.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var V=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return V.smoothEndTick()})}},{key:"onNextFrame",value:function(V){var te=this;this.timeout=vt.default.request(function(){te.active&&V()})}},{key:"inertiaTick",value:function(){var V,te,ke,Fe,Be,it=this,Ft=this.interaction,Bt=b(Ft).resistance,Qt=(Ft._now()-this.t0)/1e3;if(Qt<this.te){var wi,Ti=1-(Math.exp(-Bt*Qt)-this.lambda_v0)/this.one_ve_v0;this.isModified?(V=this.targetOffset.x,te=this.targetOffset.y,ke=this.modifiedOffset.x,Fe=this.modifiedOffset.y,wi={x:M(Be=Ti,0,V,ke),y:M(Be,0,te,Fe)}):wi={x:this.targetOffset.x*Ti,y:this.targetOffset.y*Ti};var pi={x:wi.x-this.currentOffset.x,y:wi.y-this.currentOffset.y};this.currentOffset.x+=pi.x,this.currentOffset.y+=pi.y,Ft.offsetBy(pi),Ft.move(),this.onNextFrame(function(){return it.inertiaTick()})}else Ft.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var V=this,te=this.interaction,ke=te._now()-this.t0,Fe=b(te).smoothEndDuration;if(ke<Fe){var Be={x:H(ke,0,this.targetOffset.x,Fe),y:H(ke,0,this.targetOffset.y,Fe)},it={x:Be.x-this.currentOffset.x,y:Be.y-this.currentOffset.y};this.currentOffset.x+=it.x,this.currentOffset.y+=it.y,te.offsetBy(it),te.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return V.smoothEndTick()})}else te.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(V){var te=V.pointer,ke=V.event,Fe=V.eventTarget,Be=this.interaction;Be.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),Be.updatePointer(te,ke,Fe,!0),Be._doPhase({interaction:Be,event:ke,phase:"resume"}),(0,st.copyCoords)(Be.coords.prev,Be.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,vt.default.cancel(this.timeout)}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();function b(P){var D=P.interactable,z=P.prepared;return D&&D.options&&z.name&&D.options[z.name].inertia}go.InertiaState=f;var S={id:"inertia",before:["modifiers","actions"],install:function(P){var D=P.defaults;P.usePlugin(Qn.default),P.usePlugin(Ur.default),P.actions.phases.inertiastart=!0,P.actions.phases.resume=!0,D.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(P){var D=P.interaction;D.inertia=new f(D)},"interactions:before-action-end":function(P){var D=P.interaction,z=P.event;return(!D._interacting||D.simulation||!D.inertia.start(z))&&null},"interactions:down":function(P){var D=P.interaction,z=P.eventTarget,V=D.inertia;if(V.active)for(var te=z;m.default.element(te);){if(te===D.element){V.resume(P);break}te=q.parentNode(te)}},"interactions:stop":function(P){var D=P.interaction.inertia;D.active&&D.stop()},"interactions:before-action-resume":function(P){var D=P.interaction.modification;D.stop(P),D.start(P,P.interaction.coords.cur.page),D.applyToInteraction(P)},"interactions:before-action-inertiastart":function(P){return P.interaction.modification.setAndApply(P)},"interactions:action-resume":Ur.addEventModifiers,"interactions:action-inertiastart":Ur.addEventModifiers,"interactions:after-action-inertiastart":function(P){return P.interaction.modification.restoreInteractionCoords(P)},"interactions:after-action-resume":function(P){return P.interaction.modification.restoreInteractionCoords(P)}}};function M(P,D,z,V){var te=1-P;return te*te*D+2*te*P*z+P*P*V}function H(P,D,z,V){return-z*(P/=V)*(P-2)+D}var F=S;go.default=F;var X={};function Ne(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}function Te(P,D){for(var z=0;z<D.length;z++){var V=D[z];if(P.immediatePropagationStopped)break;V(P)}}Object.defineProperty(X,"__esModule",{value:!0}),X.Eventable=void 0;var mt=function(){function P(V){(function(te,ke){if(!(te instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,P),Ne(this,"options",void 0),Ne(this,"types",{}),Ne(this,"propagationStopped",!1),Ne(this,"immediatePropagationStopped",!1),Ne(this,"global",void 0),this.options=(0,W.default)({},V||{})}var D,z;return D=P,(z=[{key:"fire",value:function(V){var te,ke=this.global;(te=this.types[V.type])&&Te(V,te),!V.propagationStopped&&ke&&(te=ke[V.type])&&Te(V,te)}},{key:"on",value:function(V,te){var ke=(0,Y.default)(V,te);for(V in ke)this.types[V]=ie.merge(this.types[V]||[],ke[V])}},{key:"off",value:function(V,te){var ke=(0,Y.default)(V,te);for(V in ke){var Fe=this.types[V];if(Fe&&Fe.length)for(var Be=0;Be<ke[V].length;Be++){var it=ke[V][Be],Ft=Fe.indexOf(it);Ft!==-1&&Fe.splice(Ft,1)}}}},{key:"getRect",value:function(V){return null}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();X.Eventable=mt;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=function(P,D){if(D.phaselessTypes[P])return!0;for(var z in D.map)if(P.indexOf(z)===0&&P.substr(z.length)in D.phases)return!0;return!1};var ii={};Object.defineProperty(ii,"__esModule",{value:!0}),ii.createInteractStatic=function(P){var D=function z(V,te){var ke=P.interactables.get(V,te);return ke||((ke=P.interactables.new(V,te)).events.global=z.globalEvents),ke};return D.getPointerAverage=st.pointerAverage,D.getTouchBBox=st.touchBBox,D.getTouchDistance=st.touchDistance,D.getTouchAngle=st.touchAngle,D.getElementRect=q.getElementRect,D.getElementClientRect=q.getElementClientRect,D.matchesSelector=q.matchesSelector,D.closest=q.closest,D.globalEvents={},D.version="1.10.18",D.scope=P,D.use=function(z,V){return this.scope.usePlugin(z,V),this},D.isSet=function(z,V){return!!this.scope.interactables.get(z,V&&V.context)},D.on=(0,Tt.warnOnce)(function(z,V,te){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var ke=0;ke<z.length;ke++){var Fe=z[ke];this.on(Fe,V,te)}return this}if(m.default.object(z)){for(var Be in z)this.on(Be,z[Be],V);return this}return(0,Dt.default)(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(V):this.globalEvents[z]=[V]:this.scope.events.add(this.scope.document,z,V,{options:te}),this},"The interact.on() method is being deprecated"),D.off=(0,Tt.warnOnce)(function(z,V,te){if(m.default.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),m.default.array(z)){for(var ke=0;ke<z.length;ke++){var Fe=z[ke];this.off(Fe,V,te)}return this}if(m.default.object(z)){for(var Be in z)this.off(Be,z[Be],V);return this}var it;return(0,Dt.default)(z,this.scope.actions)?z in this.globalEvents&&(it=this.globalEvents[z].indexOf(V))!==-1&&this.globalEvents[z].splice(it,1):this.scope.events.remove(this.scope.document,z,V,te),this},"The interact.off() method is being deprecated"),D.debug=function(){return this.scope},D.supportsTouch=function(){return C.default.supportsTouch},D.supportsPointerEvent=function(){return C.default.supportsPointerEvent},D.stop=function(){for(var z=0;z<this.scope.interactions.list.length;z++)this.scope.interactions.list[z].stop();return this},D.pointerMoveTolerance=function(z){return m.default.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},D.addDocument=function(z,V){this.scope.addDocument(z,V)},D.removeDocument=function(z){this.scope.removeDocument(z)},D};var Mt={};function rt(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Interactable=void 0;var $i=function(){function P(V,te,ke,Fe){(function(Be,it){if(!(Be instanceof it))throw new TypeError("Cannot call a class as a function")})(this,P),rt(this,"options",void 0),rt(this,"_actions",void 0),rt(this,"target",void 0),rt(this,"events",new X.Eventable),rt(this,"_context",void 0),rt(this,"_win",void 0),rt(this,"_doc",void 0),rt(this,"_scopeEvents",void 0),rt(this,"_rectChecker",void 0),this._actions=te.actions,this.target=V,this._context=te.context||ke,this._win=(0,n.getWindow)((0,q.trySelector)(V)?this._context:V),this._doc=this._win.document,this._scopeEvents=Fe,this.set(te)}var D,z;return D=P,(z=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(V,te){return m.default.func(te.onstart)&&this.on("".concat(V,"start"),te.onstart),m.default.func(te.onmove)&&this.on("".concat(V,"move"),te.onmove),m.default.func(te.onend)&&this.on("".concat(V,"end"),te.onend),m.default.func(te.oninertiastart)&&this.on("".concat(V,"inertiastart"),te.oninertiastart),this}},{key:"updatePerActionListeners",value:function(V,te,ke){(m.default.array(te)||m.default.object(te))&&this.off(V,te),(m.default.array(ke)||m.default.object(ke))&&this.on(V,ke)}},{key:"setPerAction",value:function(V,te){var ke=this._defaults;for(var Fe in te){var Be=Fe,it=this.options[V],Ft=te[Be];Be==="listeners"&&this.updatePerActionListeners(V,it.listeners,Ft),m.default.array(Ft)?it[Be]=ie.from(Ft):m.default.plainObject(Ft)?(it[Be]=(0,W.default)(it[Be]||{},(0,xe.default)(Ft)),m.default.object(ke.perAction[Be])&&"enabled"in ke.perAction[Be]&&(it[Be].enabled=Ft.enabled!==!1)):m.default.bool(Ft)&&m.default.object(ke.perAction[Be])?it[Be].enabled=Ft:it[Be]=Ft}}},{key:"getRect",value:function(V){return V=V||(m.default.element(this.target)?this.target:null),m.default.string(this.target)&&(V=V||this._context.querySelector(this.target)),(0,q.getElementRect)(V)}},{key:"rectChecker",value:function(V){var te=this;return m.default.func(V)?(this._rectChecker=V,this.getRect=function(ke){var Fe=(0,W.default)({},te._rectChecker(ke));return"width"in Fe||(Fe.width=Fe.right-Fe.left,Fe.height=Fe.bottom-Fe.top),Fe},this):V===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(V,te){if((0,q.trySelector)(te)||m.default.object(te)){for(var ke in this.options[V]=te,this._actions.map)this.options[ke][V]=te;return this}return this.options[V]}},{key:"origin",value:function(V){return this._backCompatOption("origin",V)}},{key:"deltaSource",value:function(V){return V==="page"||V==="client"?(this.options.deltaSource=V,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(V){return this._context===V.ownerDocument||(0,q.nodeContains)(this._context,V)}},{key:"testIgnoreAllow",value:function(V,te,ke){return!this.testIgnore(V.ignoreFrom,te,ke)&&this.testAllow(V.allowFrom,te,ke)}},{key:"testAllow",value:function(V,te,ke){return!V||!!m.default.element(ke)&&(m.default.string(V)?(0,q.matchesUpTo)(ke,V,te):!!m.default.element(V)&&(0,q.nodeContains)(V,ke))}},{key:"testIgnore",value:function(V,te,ke){return!(!V||!m.default.element(ke))&&(m.default.string(V)?(0,q.matchesUpTo)(ke,V,te):!!m.default.element(V)&&(0,q.nodeContains)(V,ke))}},{key:"fire",value:function(V){return this.events.fire(V),this}},{key:"_onOff",value:function(V,te,ke,Fe){m.default.object(te)&&!m.default.array(te)&&(Fe=ke,ke=null);var Be=V==="on"?"add":"remove",it=(0,Y.default)(te,ke);for(var Ft in it){Ft==="wheel"&&(Ft=C.default.wheelEvent);for(var Bt=0;Bt<it[Ft].length;Bt++){var Qt=it[Ft][Bt];(0,Dt.default)(Ft,this._actions)?this.events[V](Ft,Qt):m.default.string(this.target)?this._scopeEvents["".concat(Be,"Delegate")](this.target,this._context,Ft,Qt,Fe):this._scopeEvents[Be](this.target,Ft,Qt,Fe)}}return this}},{key:"on",value:function(V,te,ke){return this._onOff("on",V,te,ke)}},{key:"off",value:function(V,te,ke){return this._onOff("off",V,te,ke)}},{key:"set",value:function(V){var te=this._defaults;for(var ke in m.default.object(V)||(V={}),this.options=(0,xe.default)(te.base),this._actions.methodDict){var Fe=ke,Be=this._actions.methodDict[Fe];this.options[Fe]={},this.setPerAction(Fe,(0,W.default)((0,W.default)({},te.perAction),te.actions[Fe])),this[Be](V[Fe])}for(var it in V)m.default.func(this[it])&&this[it](V[it]);return this}},{key:"unset",value:function(){if(m.default.string(this.target))for(var V in this._scopeEvents.delegatedEvents)for(var te=this._scopeEvents.delegatedEvents[V],ke=te.length-1;ke>=0;ke--){var Fe=te[ke],Be=Fe.selector,it=Fe.context,Ft=Fe.listeners;Be===this.target&&it===this._context&&te.splice(ke,1);for(var Bt=Ft.length-1;Bt>=0;Bt--)this._scopeEvents.removeDelegate(this.target,this._context,V,Ft[Bt][0],Ft[Bt][1])}else this._scopeEvents.remove(this.target,"all")}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();Mt.Interactable=$i;var R={};function O(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(R,"__esModule",{value:!0}),R.InteractableSet=void 0;var j=function(){function P(V){var te=this;(function(ke,Fe){if(!(ke instanceof Fe))throw new TypeError("Cannot call a class as a function")})(this,P),O(this,"list",[]),O(this,"selectorMap",{}),O(this,"scope",void 0),this.scope=V,V.addListeners({"interactable:unset":function(ke){var Fe=ke.interactable,Be=Fe.target,it=Fe._context,Ft=m.default.string(Be)?te.selectorMap[Be]:Be[te.scope.id],Bt=ie.findIndex(Ft,function(Qt){return Qt.context===it});Ft[Bt]&&(Ft[Bt].context=null,Ft[Bt].interactable=null),Ft.splice(Bt,1)}})}var D,z;return D=P,(z=[{key:"new",value:function(V,te){te=(0,W.default)(te||{},{actions:this.scope.actions});var ke=new this.scope.Interactable(V,te,this.scope.document,this.scope.events),Fe={context:ke._context,interactable:ke};return this.scope.addDocument(ke._doc),this.list.push(ke),m.default.string(V)?(this.selectorMap[V]||(this.selectorMap[V]=[]),this.selectorMap[V].push(Fe)):(ke.target[this.scope.id]||Object.defineProperty(V,this.scope.id,{value:[],configurable:!0}),V[this.scope.id].push(Fe)),this.scope.fire("interactable:new",{target:V,options:te,interactable:ke,win:this.scope._win}),ke}},{key:"get",value:function(V,te){var ke=te&&te.context||this.scope.document,Fe=m.default.string(V),Be=Fe?this.selectorMap[V]:V[this.scope.id];if(!Be)return null;var it=ie.find(Be,function(Ft){return Ft.context===ke&&(Fe||Ft.interactable.inContext(V))});return it&&it.interactable}},{key:"forEachMatch",value:function(V,te){for(var ke=0;ke<this.list.length;ke++){var Fe=this.list[ke],Be=void 0;if((m.default.string(Fe.target)?m.default.element(V)&&q.matchesSelector(V,Fe.target):V===Fe.target)&&Fe.inContext(V)&&(Be=te(Fe)),Be!==void 0)return Be}}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();R.InteractableSet=j;var U={};function le(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}function fe(P,D){return function(z){if(Array.isArray(z))return z}(P)||function(z,V){var te=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(te!=null){var ke,Fe,Be=[],it=!0,Ft=!1;try{for(te=te.call(z);!(it=(ke=te.next()).done)&&(Be.push(ke.value),!V||Be.length!==V);it=!0);}catch(Bt){Ft=!0,Fe=Bt}finally{try{it||te.return==null||te.return()}finally{if(Ft)throw Fe}}return Be}}(P,D)||function(z,V){if(z){if(typeof z=="string")return Ae(z,V);var te=Object.prototype.toString.call(z).slice(8,-1);return te==="Object"&&z.constructor&&(te=z.constructor.name),te==="Map"||te==="Set"?Array.from(z):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Ae(z,V):void 0}}(P,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ae(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var Nt=function(){function P(V){(function(te,ke){if(!(te instanceof ke))throw new TypeError("Cannot call a class as a function")})(this,P),le(this,"currentTarget",void 0),le(this,"originalEvent",void 0),le(this,"type",void 0),this.originalEvent=V,(0,ht.default)(this,V)}var D,z;return D=P,(z=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(V,te){for(var ke=0;ke<te.length;ke++){var Fe=te[ke];Fe.enumerable=Fe.enumerable||!1,Fe.configurable=!0,"value"in Fe&&(Fe.writable=!0),Object.defineProperty(V,Fe.key,Fe)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),P}();function yt(P){if(!m.default.object(P))return{capture:!!P,passive:!1};var D=(0,W.default)({},P);return D.capture=!!P.capture,D.passive=!!P.passive,D}var Yt={id:"events",install:function(P){var D,z=[],V={},te=[],ke={add:Fe,remove:Be,addDelegate:function(Bt,Qt,wi,Ti,pi){var Ui=yt(pi);if(!V[wi]){V[wi]=[];for(var qi=0;qi<te.length;qi++){var Ji=te[qi];Fe(Ji,wi,it),Fe(Ji,wi,Ft,!0)}}var sr=V[wi],Hr=ie.find(sr,function(qr){return qr.selector===Bt&&qr.context===Qt});Hr||(Hr={selector:Bt,context:Qt,listeners:[]},sr.push(Hr)),Hr.listeners.push([Ti,Ui])},removeDelegate:function(Bt,Qt,wi,Ti,pi){var Ui,qi=yt(pi),Ji=V[wi],sr=!1;if(Ji)for(Ui=Ji.length-1;Ui>=0;Ui--){var Hr=Ji[Ui];if(Hr.selector===Bt&&Hr.context===Qt){for(var qr=Hr.listeners,un=qr.length-1;un>=0;un--){var kn=fe(qr[un],2),an=kn[0],Sn=kn[1],ya=Sn.capture,za=Sn.passive;if(an===Ti&&ya===qi.capture&&za===qi.passive){qr.splice(un,1),qr.length||(Ji.splice(Ui,1),Be(Qt,wi,it),Be(Qt,wi,Ft,!0)),sr=!0;break}}if(sr)break}}},delegateListener:it,delegateUseCapture:Ft,delegatedEvents:V,documents:te,targets:z,supportsOptions:!1,supportsPassive:!1};function Fe(Bt,Qt,wi,Ti){var pi=yt(Ti),Ui=ie.find(z,function(qi){return qi.eventTarget===Bt});Ui||(Ui={eventTarget:Bt,events:{}},z.push(Ui)),Ui.events[Qt]||(Ui.events[Qt]=[]),Bt.addEventListener&&!ie.contains(Ui.events[Qt],wi)&&(Bt.addEventListener(Qt,wi,ke.supportsOptions?pi:pi.capture),Ui.events[Qt].push(wi))}function Be(Bt,Qt,wi,Ti){var pi=yt(Ti),Ui=ie.findIndex(z,function(un){return un.eventTarget===Bt}),qi=z[Ui];if(qi&&qi.events)if(Qt!=="all"){var Ji=!1,sr=qi.events[Qt];if(sr){if(wi==="all"){for(var Hr=sr.length-1;Hr>=0;Hr--)Be(Bt,Qt,sr[Hr],pi);return}for(var qr=0;qr<sr.length;qr++)if(sr[qr]===wi){Bt.removeEventListener(Qt,wi,ke.supportsOptions?pi:pi.capture),sr.splice(qr,1),sr.length===0&&(delete qi.events[Qt],Ji=!0);break}}Ji&&!Object.keys(qi.events).length&&z.splice(Ui,1)}else for(Qt in qi.events)qi.events.hasOwnProperty(Qt)&&Be(Bt,Qt,"all")}function it(Bt,Qt){for(var wi=yt(Qt),Ti=new Nt(Bt),pi=V[Bt.type],Ui=fe(st.getEventTargets(Bt),1)[0],qi=Ui;m.default.element(qi);){for(var Ji=0;Ji<pi.length;Ji++){var sr=pi[Ji],Hr=sr.selector,qr=sr.context;if(q.matchesSelector(qi,Hr)&&q.nodeContains(qr,Ui)&&q.nodeContains(qr,qi)){var un=sr.listeners;Ti.currentTarget=qi;for(var kn=0;kn<un.length;kn++){var an=fe(un[kn],2),Sn=an[0],ya=an[1],za=ya.capture,pp=ya.passive;za===wi.capture&&pp===wi.passive&&Sn(Ti)}}}qi=q.parentNode(qi)}}function Ft(Bt){return it(Bt,!0)}return(D=P.document)==null||D.createElement("div").addEventListener("test",null,{get capture(){return ke.supportsOptions=!0},get passive(){return ke.supportsPassive=!0}}),P.events=ke,ke}};U.default=Yt;var li={};Object.defineProperty(li,"__esModule",{value:!0}),li.default=void 0;var Pi={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(P){for(var D=0;D<Pi.methodOrder.length;D++){var z;z=Pi.methodOrder[D];var V=Pi[z](P);if(V)return V}return null},simulationResume:function(P){var D=P.pointerType,z=P.eventType,V=P.eventTarget,te=P.scope;if(!/down|start/i.test(z))return null;for(var ke=0;ke<te.interactions.list.length;ke++){var Fe=te.interactions.list[ke],Be=V;if(Fe.simulation&&Fe.simulation.allowResume&&Fe.pointerType===D)for(;Be;){if(Be===Fe.element)return Fe;Be=q.parentNode(Be)}}return null},mouseOrPen:function(P){var D,z=P.pointerId,V=P.pointerType,te=P.eventType,ke=P.scope;if(V!=="mouse"&&V!=="pen")return null;for(var Fe=0;Fe<ke.interactions.list.length;Fe++){var Be=ke.interactions.list[Fe];if(Be.pointerType===V){if(Be.simulation&&!Ii(Be,z))continue;if(Be.interacting())return Be;D||(D=Be)}}if(D)return D;for(var it=0;it<ke.interactions.list.length;it++){var Ft=ke.interactions.list[it];if(!(Ft.pointerType!==V||/down/i.test(te)&&Ft.simulation))return Ft}return null},hasPointer:function(P){for(var D=P.pointerId,z=P.scope,V=0;V<z.interactions.list.length;V++){var te=z.interactions.list[V];if(Ii(te,D))return te}return null},idle:function(P){for(var D=P.pointerType,z=P.scope,V=0;V<z.interactions.list.length;V++){var te=z.interactions.list[V];if(te.pointers.length===1){var ke=te.interactable;if(ke&&(!ke.options.gesture||!ke.options.gesture.enabled))continue}else if(te.pointers.length>=2)continue;if(!te.interacting()&&D===te.pointerType)return te}return null}};function Ii(P,D){return P.pointers.some(function(z){return z.id===D})}var Li=Pi;li.default=Li;var cr={};function Wi(P){return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Wi(P)}function Di(P,D){return function(z){if(Array.isArray(z))return z}(P)||function(z,V){var te=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(te!=null){var ke,Fe,Be=[],it=!0,Ft=!1;try{for(te=te.call(z);!(it=(ke=te.next()).done)&&(Be.push(ke.value),!V||Be.length!==V);it=!0);}catch(Bt){Ft=!0,Fe=Bt}finally{try{it||te.return==null||te.return()}finally{if(Ft)throw Fe}}return Be}}(P,D)||function(z,V){if(z){if(typeof z=="string")return Xi(z,V);var te=Object.prototype.toString.call(z).slice(8,-1);return te==="Object"&&z.constructor&&(te=z.constructor.name),te==="Map"||te==="Set"?Array.from(z):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?Xi(z,V):void 0}}(P,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xi(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}function er(P,D){return er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},er(P,D)}function Zi(P){return Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},Zi(P)}Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var gr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ir(P,D){return function(z){var V=D.interactions.list,te=st.getPointerType(z),ke=Di(st.getEventTargets(z),2),Fe=ke[0],Be=ke[1],it=[];if(/^touch/.test(z.type)){D.prevTouchTime=D.now();for(var Ft=0;Ft<z.changedTouches.length;Ft++){var Bt=z.changedTouches[Ft],Qt={pointer:Bt,pointerId:st.getPointerId(Bt),pointerType:te,eventType:z.type,eventTarget:Fe,curEventTarget:Be,scope:D},wi=Oi(Qt);it.push([Qt.pointer,Qt.eventTarget,Qt.curEventTarget,wi])}}else{var Ti=!1;if(!C.default.supportsPointerEvent&&/mouse/.test(z.type)){for(var pi=0;pi<V.length&&!Ti;pi++)Ti=V[pi].pointerType!=="mouse"&&V[pi].pointerIsDown;Ti=Ti||D.now()-D.prevTouchTime<500||z.timeStamp===0}if(!Ti){var Ui={pointer:z,pointerId:st.getPointerId(z),pointerType:te,eventType:z.type,curEventTarget:Be,eventTarget:Fe,scope:D},qi=Oi(Ui);it.push([Ui.pointer,Ui.eventTarget,Ui.curEventTarget,qi])}}for(var Ji=0;Ji<it.length;Ji++){var sr=Di(it[Ji],4),Hr=sr[0],qr=sr[1],un=sr[2];sr[3][P](Hr,z,qr,un)}}}function Oi(P){var D=P.pointerType,z=P.scope,V={interaction:li.default.search(P),searchDetails:P};return z.fire("interactions:find",V),V.interaction||z.interactions.new({pointerType:D})}function ur(P,D){var z=P.doc,V=P.scope,te=P.options,ke=V.interactions.docEvents,Fe=V.events,Be=Fe[D];for(var it in V.browser.isIOS&&!te.events&&(te.events={passive:!1}),Fe.delegatedEvents)Be(z,it,Fe.delegateListener),Be(z,it,Fe.delegateUseCapture,!0);for(var Ft=te&&te.events,Bt=0;Bt<ke.length;Bt++){var Qt=ke[Bt];Be(z,Qt.type,Qt.listener,Ft)}}var Yr={id:"core/interactions",install:function(P){for(var D={},z=0;z<gr.length;z++){var V=gr[z];D[V]=Ir(V,P)}var te,ke=C.default.pEventTypes;function Fe(){for(var Be=0;Be<P.interactions.list.length;Be++){var it=P.interactions.list[Be];if(it.pointerIsDown&&it.pointerType==="touch"&&!it._interacting)for(var Ft=function(){var Qt=it.pointers[Bt];P.documents.some(function(wi){var Ti=wi.doc;return(0,q.nodeContains)(Ti,Qt.downTarget)})||it.removePointer(Qt.pointer,Qt.event)},Bt=0;Bt<it.pointers.length;Bt++)Ft()}}(te=p.default.PointerEvent?[{type:ke.down,listener:Fe},{type:ke.down,listener:D.pointerDown},{type:ke.move,listener:D.pointerMove},{type:ke.up,listener:D.pointerUp},{type:ke.cancel,listener:D.pointerUp}]:[{type:"mousedown",listener:D.pointerDown},{type:"mousemove",listener:D.pointerMove},{type:"mouseup",listener:D.pointerUp},{type:"touchstart",listener:Fe},{type:"touchstart",listener:D.pointerDown},{type:"touchmove",listener:D.pointerMove},{type:"touchend",listener:D.pointerUp},{type:"touchcancel",listener:D.pointerUp}]).push({type:"blur",listener:function(Be){for(var it=0;it<P.interactions.list.length;it++)P.interactions.list[it].documentBlur(Be)}}),P.prevTouchTime=0,P.Interaction=function(Be){(function(pi,Ui){if(typeof Ui!="function"&&Ui!==null)throw new TypeError("Super expression must either be null or a function");pi.prototype=Object.create(Ui&&Ui.prototype,{constructor:{value:pi,writable:!0,configurable:!0}}),Object.defineProperty(pi,"prototype",{writable:!1}),Ui&&er(pi,Ui)})(Ti,Be);var it,Ft,Bt,Qt,wi=(Bt=Ti,Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(pi){return!1}}(),function(){var pi,Ui=Zi(Bt);if(Qt){var qi=Zi(this).constructor;pi=Reflect.construct(Ui,arguments,qi)}else pi=Ui.apply(this,arguments);return function(Ji,sr){if(sr&&(Wi(sr)==="object"||typeof sr=="function"))return sr;if(sr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Hr){if(Hr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Hr}(Ji)}(this,pi)});function Ti(){return function(pi,Ui){if(!(pi instanceof Ui))throw new TypeError("Cannot call a class as a function")}(this,Ti),wi.apply(this,arguments)}return it=Ti,(Ft=[{key:"pointerMoveTolerance",get:function(){return P.interactions.pointerMoveTolerance},set:function(pi){P.interactions.pointerMoveTolerance=pi}},{key:"_now",value:function(){return P.now()}}])&&function(pi,Ui){for(var qi=0;qi<Ui.length;qi++){var Ji=Ui[qi];Ji.enumerable=Ji.enumerable||!1,Ji.configurable=!0,"value"in Ji&&(Ji.writable=!0),Object.defineProperty(pi,Ji.key,Ji)}}(it.prototype,Ft),Object.defineProperty(it,"prototype",{writable:!1}),Ti}(Nn.default),P.interactions={list:[],new:function(Be){Be.scopeFire=function(Ft,Bt){return P.fire(Ft,Bt)};var it=new P.Interaction(Be);return P.interactions.list.push(it),it},listeners:D,docEvents:te,pointerMoveTolerance:1},P.usePlugin(Pr.default)},listeners:{"scope:add-document":function(P){return ur(P,"add")},"scope:remove-document":function(P){return ur(P,"remove")},"interactable:unset":function(P,D){for(var z=P.interactable,V=D.interactions.list.length-1;V>=0;V--){var te=D.interactions.list[V];te.interactable===z&&(te.stop(),D.fire("interactions:destroy",{interaction:te}),te.destroy(),D.interactions.list.length>2&&D.interactions.list.splice(V,1))}}},onDocSignal:ur,doOnInteractions:Ir,methodNames:gr},mr=Yr;cr.default=mr;var Br={};function Mr(P){return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Mr(P)}function mn(){return mn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(P,D,z){var V=function(ke,Fe){for(;!Object.prototype.hasOwnProperty.call(ke,Fe)&&(ke=Or(ke))!==null;);return ke}(P,D);if(V){var te=Object.getOwnPropertyDescriptor(V,D);return te.get?te.get.call(arguments.length<3?P:z):te.value}},mn.apply(this,arguments)}function jr(P,D){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},jr(P,D)}function Or(P){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},Or(P)}function Kr(P,D){if(!(P instanceof D))throw new TypeError("Cannot call a class as a function")}function me(P,D){for(var z=0;z<D.length;z++){var V=D[z];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(P,V.key,V)}}function pe(P,D,z){return D&&me(P.prototype,D),z&&me(P,z),Object.defineProperty(P,"prototype",{writable:!1}),P}function Ee(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(Br,"__esModule",{value:!0}),Br.Scope=void 0,Br.initScope=bt;var Wt=function(){function P(){var D=this;Kr(this,P),Ee(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Ee(this,"isInitialized",!1),Ee(this,"listenerMaps",[]),Ee(this,"browser",C.default),Ee(this,"defaults",(0,xe.default)($n.defaults)),Ee(this,"Eventable",X.Eventable),Ee(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Ee(this,"interactStatic",(0,ii.createInteractStatic)(this)),Ee(this,"InteractEvent",xn.InteractEvent),Ee(this,"Interactable",void 0),Ee(this,"interactables",new R.InteractableSet(this)),Ee(this,"_win",void 0),Ee(this,"document",void 0),Ee(this,"window",void 0),Ee(this,"documents",[]),Ee(this,"_plugins",{list:[],map:{}}),Ee(this,"onWindowUnload",function(V){return D.removeDocument(V.target)});var z=this;this.Interactable=function(V){(function(it,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),Ft&&jr(it,Ft)})(Be,V);var te,ke,Fe=(te=Be,ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(it){return!1}}(),function(){var it,Ft=Or(te);if(ke){var Bt=Or(this).constructor;it=Reflect.construct(Ft,arguments,Bt)}else it=Ft.apply(this,arguments);return function(Qt,wi){if(wi&&(Mr(wi)==="object"||typeof wi=="function"))return wi;if(wi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ti){if(Ti===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ti}(Qt)}(this,it)});function Be(){return Kr(this,Be),Fe.apply(this,arguments)}return pe(Be,[{key:"_defaults",get:function(){return z.defaults}},{key:"set",value:function(it){return mn(Or(Be.prototype),"set",this).call(this,it),z.fire("interactable:set",{options:it,interactable:this}),this}},{key:"unset",value:function(){mn(Or(Be.prototype),"unset",this).call(this);var it=z.interactables.list.indexOf(this);it<0||(mn(Or(Be.prototype),"unset",this).call(this),z.interactables.list.splice(it,1),z.fire("interactable:unset",{interactable:this}))}}]),Be}(Mt.Interactable)}return pe(P,[{key:"addListeners",value:function(D,z){this.listenerMaps.push({id:z,map:D})}},{key:"fire",value:function(D,z){for(var V=0;V<this.listenerMaps.length;V++){var te=this.listenerMaps[V].map[D];if(te&&te(z,this,D)===!1)return!1}}},{key:"init",value:function(D){return this.isInitialized?this:bt(this,D)}},{key:"pluginIsInstalled",value:function(D){return this._plugins.map[D.id]||this._plugins.list.indexOf(D)!==-1}},{key:"usePlugin",value:function(D,z){if(!this.isInitialized)return this;if(this.pluginIsInstalled(D))return this;if(D.id&&(this._plugins.map[D.id]=D),this._plugins.list.push(D),D.install&&D.install(this,z),D.listeners&&D.before){for(var V=0,te=this.listenerMaps.length,ke=D.before.reduce(function(Be,it){return Be[it]=!0,Be[ai(it)]=!0,Be},{});V<te;V++){var Fe=this.listenerMaps[V].id;if(ke[Fe]||ke[ai(Fe)])break}this.listenerMaps.splice(V,0,{id:D.id,map:D.listeners})}else D.listeners&&this.listenerMaps.push({id:D.id,map:D.listeners});return this}},{key:"addDocument",value:function(D,z){if(this.getDocIndex(D)!==-1)return!1;var V=n.getWindow(D);z=z?(0,W.default)({},z):{},this.documents.push({doc:D,options:z}),this.events.documents.push(D),D!==this.document&&this.events.add(V,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:D,window:V,scope:this,options:z})}},{key:"removeDocument",value:function(D){var z=this.getDocIndex(D),V=n.getWindow(D),te=this.documents[z].options;this.events.remove(V,"unload",this.onWindowUnload),this.documents.splice(z,1),this.events.documents.splice(z,1),this.fire("scope:remove-document",{doc:D,window:V,scope:this,options:te})}},{key:"getDocIndex",value:function(D){for(var z=0;z<this.documents.length;z++)if(this.documents[z].doc===D)return z;return-1}},{key:"getDocOptions",value:function(D){var z=this.getDocIndex(D);return z===-1?null:this.documents[z].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),P}();function bt(P,D){return P.isInitialized=!0,m.default.window(D)&&n.init(D),p.default.init(D),C.default.init(D),vt.default.init(D),P.window=D,P.document=D.document,P.usePlugin(cr.default),P.usePlugin(U.default),P}function ai(P){return P&&P.replace(/\/.*$/,"")}Br.Scope=Wt;var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0;var zi=new Br.Scope,Ri=zi.interactStatic;_i.default=Ri;var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;zi.init(Qi);var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.default=void 0,fr.default=function(){};var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0,wr.default=function(){};var Po={};function Na(P,D){return function(z){if(Array.isArray(z))return z}(P)||function(z,V){var te=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(te!=null){var ke,Fe,Be=[],it=!0,Ft=!1;try{for(te=te.call(z);!(it=(ke=te.next()).done)&&(Be.push(ke.value),!V||Be.length!==V);it=!0);}catch(Bt){Ft=!0,Fe=Bt}finally{try{it||te.return==null||te.return()}finally{if(Ft)throw Fe}}return Be}}(P,D)||function(z,V){if(z){if(typeof z=="string")return dr(z,V);var te=Object.prototype.toString.call(z).slice(8,-1);return te==="Object"&&z.constructor&&(te=z.constructor.name),te==="Map"||te==="Set"?Array.from(z):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?dr(z,V):void 0}}(P,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dr(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}Object.defineProperty(Po,"__esModule",{value:!0}),Po.default=void 0,Po.default=function(P){var D=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(V){var te=Na(V,2),ke=te[0],Fe=te[1];return ke in P||Fe in P}),z=function(V,te){for(var ke=P.range,Fe=P.limits,Be=Fe===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:Fe,it=P.offset,Ft=it===void 0?{x:0,y:0}:it,Bt={range:ke,grid:P,x:null,y:null},Qt=0;Qt<D.length;Qt++){var wi=Na(D[Qt],2),Ti=wi[0],pi=wi[1],Ui=Math.round((V-Ft.x)/P[Ti]),qi=Math.round((te-Ft.y)/P[pi]);Bt[Ti]=Math.max(Be.left,Math.min(Be.right,Ui*P[Ti]+Ft.x)),Bt[pi]=Math.max(Be.top,Math.min(Be.bottom,qi*P[pi]+Ft.y))}return Bt};return z.grid=P,z.coordFields=D,z};var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Object.defineProperty(Mn,"edgeTarget",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(Mn,"elements",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(Mn,"grid",{enumerable:!0,get:function(){return Po.default}});var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0;var gn={id:"snappers",install:function(P){var D=P.interactStatic;D.snappers=(0,W.default)(D.snappers||{},Mn),D.createSnapGrid=D.snappers.grid}},Zo=gn;pn.default=Zo;var ko={};function Jo(P,D){var z=Object.keys(P);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(P);D&&(V=V.filter(function(te){return Object.getOwnPropertyDescriptor(P,te).enumerable})),z.push.apply(z,V)}return z}function Ba(P){for(var D=1;D<arguments.length;D++){var z=arguments[D]!=null?arguments[D]:{};D%2?Jo(Object(z),!0).forEach(function(V){Ha(P,V,z[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(z)):Jo(Object(z)).forEach(function(V){Object.defineProperty(P,V,Object.getOwnPropertyDescriptor(z,V))})}return P}function Ha(P,D,z){return D in P?Object.defineProperty(P,D,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[D]=z,P}Object.defineProperty(ko,"__esModule",{value:!0}),ko.default=ko.aspectRatio=void 0;var Un={start:function(P){var D=P.state,z=P.rect,V=P.edges,te=P.pageCoords,ke=D.options,Fe=ke.ratio,Be=ke.enabled,it=D.options,Ft=it.equalDelta,Bt=it.modifiers;Fe==="preserve"&&(Fe=z.width/z.height),D.startCoords=(0,W.default)({},te),D.startRect=(0,W.default)({},z),D.ratio=Fe,D.equalDelta=Ft;var Qt=D.linkedEdges={top:V.top||V.left&&!V.bottom,left:V.left||V.top&&!V.right,bottom:V.bottom||V.right&&!V.top,right:V.right||V.bottom&&!V.left};if(D.xIsPrimaryAxis=!(!V.left&&!V.right),D.equalDelta){var wi=(Qt.left?1:-1)*(Qt.top?1:-1);D.edgeSign={x:wi,y:wi}}else D.edgeSign={x:Qt.left?-1:1,y:Qt.top?-1:1};if(Be!==!1&&(0,W.default)(V,Qt),Bt!=null&&Bt.length){var Ti=new $t.default(P.interaction);Ti.copyFrom(P.interaction.modification),Ti.prepareStates(Bt),D.subModification=Ti,Ti.startAll(Ba({},P))}},set:function(P){var D=P.state,z=P.rect,V=P.coords,te=D.linkedEdges,ke=(0,W.default)({},V),Fe=D.equalDelta?Qo:Fa;if((0,W.default)(P.edges,te),Fe(D,D.xIsPrimaryAxis,V,z),!D.subModification)return null;var Be=(0,W.default)({},z);(0,se.addEdges)(te,Be,{x:V.x-ke.x,y:V.y-ke.y});var it=D.subModification.setAll(Ba(Ba({},P),{},{rect:Be,edges:te,pageCoords:V,prevCoords:V,prevRect:Be})),Ft=it.delta;return it.changed&&(Fe(D,Math.abs(Ft.x)>Math.abs(Ft.y),it.coords,it.rect),(0,W.default)(V,it.coords)),it.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Qo(P,D,z){var V=P.startCoords,te=P.edgeSign;D?z.y=V.y+(z.x-V.x)*te.y:z.x=V.x+(z.y-V.y)*te.x}function Fa(P,D,z,V){var te=P.startRect,ke=P.startCoords,Fe=P.ratio,Be=P.edgeSign;if(D){var it=V.width/Fe;z.y=ke.y+(it-te.height)*Be.y}else{var Ft=V.height*Fe;z.x=ke.x+(Ft-te.width)*Be.x}}ko.aspectRatio=Un;var ea=(0,Ur.makeModifier)(Un,"aspectRatio");ko.default=ea;var so={};Object.defineProperty(so,"__esModule",{value:!0}),so.default=void 0;var va=function(){};va._defaults={};var Nc=va;so.default=Nc;var $o={};Object.defineProperty($o,"__esModule",{value:!0}),Object.defineProperty($o,"default",{enumerable:!0,get:function(){return so.default}});var Hn={};function ta(P,D,z){return m.default.func(P)?se.resolveRectLike(P,D.interactable,D.element,[z.x,z.y,D]):se.resolveRectLike(P,D.interactable,D.element)}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0,Hn.getRestrictionRect=ta,Hn.restrict=void 0;var jl={start:function(P){var D=P.rect,z=P.startOffset,V=P.state,te=P.interaction,ke=P.pageCoords,Fe=V.options,Be=Fe.elementRect,it=(0,W.default)({left:0,top:0,right:0,bottom:0},Fe.offset||{});if(D&&Be){var Ft=ta(Fe.restriction,te,ke);if(Ft){var Bt=Ft.right-Ft.left-D.width,Qt=Ft.bottom-Ft.top-D.height;Bt<0&&(it.left+=Bt,it.right+=Bt),Qt<0&&(it.top+=Qt,it.bottom+=Qt)}it.left+=z.left-D.width*Be.left,it.top+=z.top-D.height*Be.top,it.right+=z.right-D.width*(1-Be.right),it.bottom+=z.bottom-D.height*(1-Be.bottom)}V.offset=it},set:function(P){var D=P.coords,z=P.interaction,V=P.state,te=V.options,ke=V.offset,Fe=ta(te.restriction,z,D);if(Fe){var Be=se.xywhToTlbr(Fe);D.x=Math.max(Math.min(Be.right-ke.right,D.x),Be.left+ke.left),D.y=Math.max(Math.min(Be.bottom-ke.bottom,D.y),Be.top+ke.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Hn.restrict=jl;var ee=(0,Ur.makeModifier)(jl,"restrict");Hn.default=ee;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.restrictEdges=Le.default=void 0;var nt={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Gt={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ft(P,D){for(var z=["top","left","bottom","right"],V=0;V<z.length;V++){var te=z[V];te in P||(P[te]=D[te])}return P}var Zt={noInner:nt,noOuter:Gt,start:function(P){var D,z=P.interaction,V=P.startOffset,te=P.state,ke=te.options;if(ke){var Fe=(0,Hn.getRestrictionRect)(ke.offset,z,z.coords.start.page);D=se.rectToXY(Fe)}D=D||{x:0,y:0},te.offset={top:D.y+V.top,left:D.x+V.left,bottom:D.y-V.bottom,right:D.x-V.right}},set:function(P){var D=P.coords,z=P.edges,V=P.interaction,te=P.state,ke=te.offset,Fe=te.options;if(z){var Be=(0,W.default)({},D),it=(0,Hn.getRestrictionRect)(Fe.inner,V,Be)||{},Ft=(0,Hn.getRestrictionRect)(Fe.outer,V,Be)||{};ft(it,nt),ft(Ft,Gt),z.top?D.y=Math.min(Math.max(Ft.top+ke.top,Be.y),it.top+ke.top):z.bottom&&(D.y=Math.max(Math.min(Ft.bottom+ke.bottom,Be.y),it.bottom+ke.bottom)),z.left?D.x=Math.min(Math.max(Ft.left+ke.left,Be.x),it.left+ke.left):z.right&&(D.x=Math.max(Math.min(Ft.right+ke.right,Be.x),it.right+ke.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Le.restrictEdges=Zt;var ni=(0,Ur.makeModifier)(Zt,"restrictEdges");Le.default=ni;var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.restrictRect=hi.default=void 0;var bi=(0,W.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(P){}},Hn.restrict.defaults),Bi={start:Hn.restrict.start,set:Hn.restrict.set,defaults:bi};hi.restrictRect=Bi;var ji=(0,Ur.makeModifier)(Bi,"restrictRect");hi.default=ji;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.restrictSize=Ni.default=void 0;var nr={width:-1/0,height:-1/0},Er={width:1/0,height:1/0},Hi={start:function(P){return Le.restrictEdges.start(P)},set:function(P){var D=P.interaction,z=P.state,V=P.rect,te=P.edges,ke=z.options;if(te){var Fe=se.tlbrToXywh((0,Hn.getRestrictionRect)(ke.min,D,P.coords))||nr,Be=se.tlbrToXywh((0,Hn.getRestrictionRect)(ke.max,D,P.coords))||Er;z.options={endOnly:ke.endOnly,inner:(0,W.default)({},Le.restrictEdges.noInner),outer:(0,W.default)({},Le.restrictEdges.noOuter)},te.top?(z.options.inner.top=V.bottom-Fe.height,z.options.outer.top=V.bottom-Be.height):te.bottom&&(z.options.inner.bottom=V.top+Fe.height,z.options.outer.bottom=V.top+Be.height),te.left?(z.options.inner.left=V.right-Fe.width,z.options.outer.left=V.right-Be.width):te.right&&(z.options.inner.right=V.left+Fe.width,z.options.outer.right=V.left+Be.width),Le.restrictEdges.set(P),z.options=ke}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ni.restrictSize=Hi;var Wr=(0,Ur.makeModifier)(Hi,"restrictSize");Ni.default=Wr;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Object.defineProperty(Qr,"default",{enumerable:!0,get:function(){return so.default}});var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.snap=tn.default=void 0;var $r={start:function(P){var D,z=P.interaction,V=P.interactable,te=P.element,ke=P.rect,Fe=P.state,Be=P.startOffset,it=Fe.options,Ft=it.offsetWithOrigin?function(wi){var Ti=wi.interaction.element;return(0,se.rectToXY)((0,se.resolveRectLike)(wi.state.options.origin,null,null,[Ti]))||(0,ye.default)(wi.interactable,Ti,wi.interaction.prepared.name)}(P):{x:0,y:0};if(it.offset==="startCoords")D={x:z.coords.start.page.x,y:z.coords.start.page.y};else{var Bt=(0,se.resolveRectLike)(it.offset,V,te,[z]);(D=(0,se.rectToXY)(Bt)||{x:0,y:0}).x+=Ft.x,D.y+=Ft.y}var Qt=it.relativePoints;Fe.offsets=ke&&Qt&&Qt.length?Qt.map(function(wi,Ti){return{index:Ti,relativePoint:wi,x:Be.left-ke.width*wi.x+D.x,y:Be.top-ke.height*wi.y+D.y}}):[{index:0,relativePoint:null,x:D.x,y:D.y}]},set:function(P){var D=P.interaction,z=P.coords,V=P.state,te=V.options,ke=V.offsets,Fe=(0,ye.default)(D.interactable,D.element,D.prepared.name),Be=(0,W.default)({},z),it=[];te.offsetWithOrigin||(Be.x-=Fe.x,Be.y-=Fe.y);for(var Ft=0;Ft<ke.length;Ft++)for(var Bt=ke[Ft],Qt=Be.x-Bt.x,wi=Be.y-Bt.y,Ti=0,pi=te.targets.length;Ti<pi;Ti++){var Ui,qi=te.targets[Ti];(Ui=m.default.func(qi)?qi(Qt,wi,D._proxy,Bt,Ti):qi)&&it.push({x:(m.default.number(Ui.x)?Ui.x:Qt)+Bt.x,y:(m.default.number(Ui.y)?Ui.y:wi)+Bt.y,range:m.default.number(Ui.range)?Ui.range:te.range,source:qi,index:Ti,offset:Bt})}for(var Ji={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},sr=0;sr<it.length;sr++){var Hr=it[sr],qr=Hr.range,un=Hr.x-Be.x,kn=Hr.y-Be.y,an=(0,Ge.default)(un,kn),Sn=an<=qr;qr===1/0&&Ji.inRange&&Ji.range!==1/0&&(Sn=!1),Ji.target&&!(Sn?Ji.inRange&&qr!==1/0?an/qr<Ji.distance/Ji.range:qr===1/0&&Ji.range!==1/0||an<Ji.distance:!Ji.inRange&&an<Ji.distance)||(Ji.target=Hr,Ji.distance=an,Ji.range=qr,Ji.inRange=Sn,Ji.delta.x=un,Ji.delta.y=kn)}return Ji.inRange&&(z.x=Ji.target.x,z.y=Ji.target.y),V.closest=Ji,Ji},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};tn.snap=$r;var Lo=(0,Ur.makeModifier)($r,"snap");tn.default=Lo;var Vn={};function fn(P,D){(D==null||D>P.length)&&(D=P.length);for(var z=0,V=Array(D);z<D;z++)V[z]=P[z];return V}Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.snapSize=Vn.default=void 0;var Xv={start:function(P){var D=P.state,z=P.edges,V=D.options;if(!z)return null;P.state={options:{targets:null,relativePoints:[{x:z.left?0:1,y:z.top?0:1}],offset:V.offset||"self",origin:{x:0,y:0},range:V.range}},D.targetFields=D.targetFields||[["width","height"],["x","y"]],tn.snap.start(P),D.offsets=P.state.offsets,P.state=D},set:function(P){var D,z=P.interaction,V=P.state,te=P.coords,ke=V.options,Fe=V.offsets,Be={x:te.x-Fe[0].x,y:te.y-Fe[0].y};V.options=(0,W.default)({},ke),V.options.targets=[];for(var it=0;it<(ke.targets||[]).length;it++){var Ft=(ke.targets||[])[it],Bt=void 0;if(Bt=m.default.func(Ft)?Ft(Be.x,Be.y,z):Ft){for(var Qt=0;Qt<V.targetFields.length;Qt++){var wi=function(qi){if(Array.isArray(qi))return qi}(D=V.targetFields[Qt])||function(qi,Ji){var sr=qi==null?null:typeof Symbol<"u"&&qi[Symbol.iterator]||qi["@@iterator"];if(sr!=null){var Hr,qr,un=[],kn=!0,an=!1;try{for(sr=sr.call(qi);!(kn=(Hr=sr.next()).done)&&(un.push(Hr.value),un.length!==2);kn=!0);}catch(Sn){an=!0,qr=Sn}finally{try{kn||sr.return==null||sr.return()}finally{if(an)throw qr}}return un}}(D)||function(qi,Ji){if(qi){if(typeof qi=="string")return fn(qi,2);var sr=Object.prototype.toString.call(qi).slice(8,-1);return sr==="Object"&&qi.constructor&&(sr=qi.constructor.name),sr==="Map"||sr==="Set"?Array.from(qi):sr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sr)?fn(qi,2):void 0}}(D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),Ti=wi[0],pi=wi[1];if(Ti in Bt||pi in Bt){Bt.x=Bt[Ti],Bt.y=Bt[pi];break}}V.options.targets.push(Bt)}}var Ui=tn.snap.set(P);return V.options=ke,Ui},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Vn.snapSize=Xv;var zk=(0,Ur.makeModifier)(Xv,"snapSize");Vn.default=zk;var Nl={};Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.snapEdges=Nl.default=void 0;var Zv={start:function(P){var D=P.edges;return D?(P.state.targetFields=P.state.targetFields||[[D.left?"left":"right",D.top?"top":"bottom"]],Vn.snapSize.start(P)):null},set:Vn.snapSize.set,defaults:(0,W.default)((0,xe.default)(Vn.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Nl.snapEdges=Zv;var Uk=(0,Ur.makeModifier)(Zv,"snapEdges");Nl.default=Uk;var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),Object.defineProperty(ap,"default",{enumerable:!0,get:function(){return so.default}});var sp={};Object.defineProperty(sp,"__esModule",{value:!0}),Object.defineProperty(sp,"default",{enumerable:!0,get:function(){return so.default}});var Bl={};Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.default=void 0;var Vk={aspectRatio:ko.default,restrictEdges:Le.default,restrict:Hn.default,restrictRect:hi.default,restrictSize:Ni.default,snapEdges:Nl.default,snap:tn.default,snapSize:Vn.default,spring:ap.default,avoid:$o.default,transform:sp.default,rubberband:Qr.default};Bl.default=Vk;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.default=void 0;var Wk={id:"modifiers",install:function(P){var D=P.interactStatic;for(var z in P.usePlugin(Ur.default),P.usePlugin(pn.default),D.modifiers=Bl.default,Bl.default){var V=Bl.default[z],te=V._defaults,ke=V._methods;te._methods=ke,P.defaults.perAction[z]=te}}},qk=Wk;Bc.default=qk;var _s={};function lp(P){return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},lp(P)}function cp(P,D){return cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(z,V){return z.__proto__=V,z},cp(P,D)}function up(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function ad(P){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},ad(P)}Object.defineProperty(_s,"__esModule",{value:!0}),_s.default=_s.PointerEvent=void 0;var Gk=function(P){(function(Be,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(it&&it.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),Object.defineProperty(Be,"prototype",{writable:!1}),it&&cp(Be,it)})(Fe,P);var D,z,V,te,ke=(V=Fe,te=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Be){return!1}}(),function(){var Be,it=ad(V);if(te){var Ft=ad(this).constructor;Be=Reflect.construct(it,arguments,Ft)}else Be=it.apply(this,arguments);return function(Bt,Qt){if(Qt&&(lp(Qt)==="object"||typeof Qt=="function"))return Qt;if(Qt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return up(Bt)}(this,Be)});function Fe(Be,it,Ft,Bt,Qt,wi){var Ti;if(function(qi,Ji){if(!(qi instanceof Ji))throw new TypeError("Cannot call a class as a function")}(this,Fe),Ti=ke.call(this,Qt),st.pointerExtend(up(Ti),Ft),Ft!==it&&st.pointerExtend(up(Ti),it),Ti.timeStamp=wi,Ti.originalEvent=Ft,Ti.type=Be,Ti.pointerId=st.getPointerId(it),Ti.pointerType=st.getPointerType(it),Ti.target=Bt,Ti.currentTarget=null,Be==="tap"){var pi=Qt.getPointerIndex(it);Ti.dt=Ti.timeStamp-Qt.pointers[pi].downTime;var Ui=Ti.timeStamp-Qt.tapTime;Ti.double=!!Qt.prevTap&&Qt.prevTap.type!=="doubletap"&&Qt.prevTap.target===Ti.target&&Ui<500}else Be==="doubletap"&&(Ti.dt=it.timeStamp-Qt.tapTime,Ti.double=!0);return Ti}return D=Fe,(z=[{key:"_subtractOrigin",value:function(Be){var it=Be.x,Ft=Be.y;return this.pageX-=it,this.pageY-=Ft,this.clientX-=it,this.clientY-=Ft,this}},{key:"_addOrigin",value:function(Be){var it=Be.x,Ft=Be.y;return this.pageX+=it,this.pageY+=Ft,this.clientX+=it,this.clientY+=Ft,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(Be,it){for(var Ft=0;Ft<it.length;Ft++){var Bt=it[Ft];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Be,Bt.key,Bt)}}(D.prototype,z),Object.defineProperty(D,"prototype",{writable:!1}),Fe}(Pt.BaseEvent);_s.PointerEvent=_s.default=Gk;var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.default=void 0;var sd={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(P){P.pointerEvents=sd,P.defaults.actions.pointerEvents=sd.defaults,(0,W.default)(P.actions.phaselessTypes,sd.types)},listeners:{"interactions:new":function(P){var D=P.interaction;D.prevTap=null,D.tapTime=0},"interactions:update-pointer":function(P){var D=P.down,z=P.pointerInfo;!D&&z.hold||(z.hold={duration:1/0,timeout:null})},"interactions:move":function(P,D){var z=P.interaction,V=P.pointer,te=P.event,ke=P.eventTarget;P.duplicate||z.pointerIsDown&&!z.pointerWasMoved||(z.pointerIsDown&&dp(P),ns({interaction:z,pointer:V,event:te,eventTarget:ke,type:"move"},D))},"interactions:down":function(P,D){(function(z,V){for(var te=z.interaction,ke=z.pointer,Fe=z.event,Be=z.eventTarget,it=z.pointerIndex,Ft=te.pointers[it].hold,Bt=q.getPath(Be),Qt={interaction:te,pointer:ke,event:Fe,eventTarget:Be,type:"hold",targets:[],path:Bt,node:null},wi=0;wi<Bt.length;wi++){var Ti=Bt[wi];Qt.node=Ti,V.fire("pointerEvents:collect-targets",Qt)}if(Qt.targets.length){for(var pi=1/0,Ui=0;Ui<Qt.targets.length;Ui++){var qi=Qt.targets[Ui].eventable.options.holdDuration;qi<pi&&(pi=qi)}Ft.duration=pi,Ft.timeout=setTimeout(function(){ns({interaction:te,eventTarget:Be,pointer:ke,event:Fe,type:"hold"},V)},pi)}})(P,D),ns(P,D)},"interactions:up":function(P,D){dp(P),ns(P,D),function(z,V){var te=z.interaction,ke=z.pointer,Fe=z.event,Be=z.eventTarget;te.pointerWasMoved||ns({interaction:te,eventTarget:Be,pointer:ke,event:Fe,type:"tap"},V)}(P,D)},"interactions:cancel":function(P,D){dp(P),ns(P,D)}},PointerEvent:_s.PointerEvent,fire:ns,collectEventTargets:Jv,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ns(P,D){var z=P.interaction,V=P.pointer,te=P.event,ke=P.eventTarget,Fe=P.type,Be=P.targets,it=Be===void 0?Jv(P,D):Be,Ft=new _s.PointerEvent(Fe,V,te,ke,z,D.now());D.fire("pointerEvents:new",{pointerEvent:Ft});for(var Bt={interaction:z,pointer:V,event:te,eventTarget:ke,targets:it,type:Fe,pointerEvent:Ft},Qt=0;Qt<it.length;Qt++){var wi=it[Qt];for(var Ti in wi.props||{})Ft[Ti]=wi.props[Ti];var pi=(0,ye.default)(wi.eventable,wi.node);if(Ft._subtractOrigin(pi),Ft.eventable=wi.eventable,Ft.currentTarget=wi.node,wi.eventable.fire(Ft),Ft._addOrigin(pi),Ft.immediatePropagationStopped||Ft.propagationStopped&&Qt+1<it.length&&it[Qt+1].node!==Ft.currentTarget)break}if(D.fire("pointerEvents:fired",Bt),Fe==="tap"){var Ui=Ft.double?ns({interaction:z,pointer:V,event:te,eventTarget:ke,type:"doubletap"},D):Ft;z.prevTap=Ui,z.tapTime=Ui.timeStamp}return Ft}function Jv(P,D){var z=P.interaction,V=P.pointer,te=P.event,ke=P.eventTarget,Fe=P.type,Be=z.getPointerIndex(V),it=z.pointers[Be];if(Fe==="tap"&&(z.pointerWasMoved||!it||it.downTarget!==ke))return[];for(var Ft=q.getPath(ke),Bt={interaction:z,pointer:V,event:te,eventTarget:ke,type:Fe,path:Ft,targets:[],node:null},Qt=0;Qt<Ft.length;Qt++){var wi=Ft[Qt];Bt.node=wi,D.fire("pointerEvents:collect-targets",Bt)}return Fe==="hold"&&(Bt.targets=Bt.targets.filter(function(Ti){var pi;return Ti.eventable.options.holdDuration===((pi=z.pointers[Be])==null?void 0:pi.hold.duration)})),Bt.targets}function dp(P){var D=P.interaction,z=P.pointerIndex,V=D.pointers[z].hold;V&&V.timeout&&(clearTimeout(V.timeout),V.timeout=null)}var Yk=sd;Hc.default=Yk;var ld={};function Kk(P){var D=P.interaction;D.holdIntervalHandle&&(clearInterval(D.holdIntervalHandle),D.holdIntervalHandle=null)}Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var Xk={id:"pointer-events/holdRepeat",install:function(P){P.usePlugin(Hc.default);var D=P.pointerEvents;D.defaults.holdRepeatInterval=0,D.types.holdrepeat=P.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(P,D){return P["pointerEvents:".concat(D)]=Kk,P},{"pointerEvents:new":function(P){var D=P.pointerEvent;D.type==="hold"&&(D.count=(D.count||0)+1)},"pointerEvents:fired":function(P,D){var z=P.interaction,V=P.pointerEvent,te=P.eventTarget,ke=P.targets;if(V.type==="hold"&&ke.length){var Fe=ke[0].eventable.options.holdRepeatInterval;Fe<=0||(z.holdIntervalHandle=setTimeout(function(){D.pointerEvents.fire({interaction:z,eventTarget:te,type:"hold",pointer:V,event:V},D)},Fe))}}})},Zk=Xk;ld.default=Zk;var cd={};function Jk(P){return(0,W.default)(this.events.options,P),this}Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var Qk={id:"pointer-events/interactableTargets",install:function(P){var D=P.Interactable;D.prototype.pointerEvents=Jk;var z=D.prototype._backCompatOption;D.prototype._backCompatOption=function(V,te){var ke=z.call(this,V,te);return ke===this&&(this.events.options[V]=te),ke}},listeners:{"pointerEvents:collect-targets":function(P,D){var z=P.targets,V=P.node,te=P.type,ke=P.eventTarget;D.interactables.forEachMatch(V,function(Fe){var Be=Fe.events,it=Be.options;Be.types[te]&&Be.types[te].length&&Fe.testIgnoreAllow(it,V,ke)&&z.push({node:V,eventable:Be,props:{interactable:Fe}})})},"interactable:new":function(P){var D=P.interactable;D.events.getRect=function(z){return D.getRect(z)}},"interactable:set":function(P,D){var z=P.interactable,V=P.options;(0,W.default)(z.events.options,D.pointerEvents.defaults),(0,W.default)(z.events.options,V.pointerEvents||{})}}},e5=Qk;cd.default=e5;var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.default=void 0;var t5={id:"pointer-events",install:function(P){P.usePlugin(Hc),P.usePlugin(ld.default),P.usePlugin(cd.default)}},i5=t5;Fc.default=i5;var Hl={};function Qv(P){var D=P.Interactable;P.actions.phases.reflow=!0,D.prototype.reflow=function(z){return function(V,te,ke){for(var Fe=m.default.string(V.target)?ie.from(V._context.querySelectorAll(V.target)):[V.target],Be=ke.window.Promise,it=Be?[]:null,Ft=function(){var Qt=Fe[Bt],wi=V.getRect(Qt);if(!wi)return"break";var Ti=ie.find(ke.interactions.list,function(sr){return sr.interacting()&&sr.interactable===V&&sr.element===Qt&&sr.prepared.name===te.name}),pi=void 0;if(Ti)Ti.move(),it&&(pi=Ti._reflowPromise||new Be(function(sr){Ti._reflowResolve=sr}));else{var Ui=(0,se.tlbrToXywh)(wi),qi={page:{x:Ui.x,y:Ui.y},client:{x:Ui.x,y:Ui.y},timeStamp:ke.now()},Ji=st.coordsToEvent(qi);pi=function(sr,Hr,qr,un,kn){var an=sr.interactions.new({pointerType:"reflow"}),Sn={interaction:an,event:kn,pointer:kn,eventTarget:qr,phase:"reflow"};an.interactable=Hr,an.element=qr,an.prevEvent=kn,an.updatePointer(kn,kn,qr,!0),st.setZeroCoords(an.coords.delta),(0,Tt.copyAction)(an.prepared,un),an._doPhase(Sn);var ya=sr.window.Promise,za=ya?new ya(function(pp){an._reflowResolve=pp}):void 0;return an._reflowPromise=za,an.start(un,Hr,qr),an._interacting?(an.move(Sn),an.end(kn)):(an.stop(),an._reflowResolve()),an.removePointer(kn,kn),za}(ke,V,Qt,te,Ji)}it&&it.push(pi)},Bt=0;Bt<Fe.length&&Ft()!=="break";Bt++);return it&&Be.all(it).then(function(){return V})}(this,z,P)}}Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.default=void 0,Hl.install=Qv;var r5={id:"reflow",install:Qv,listeners:{"interactions:stop":function(P,D){var z=P.interaction;z.pointerType==="reflow"&&(z._reflowResolve&&z._reflowResolve(),ie.remove(D.interactions.list,z))}}},n5=r5;Hl.default=n5;var ks={};Object.defineProperty(ks,"__esModule",{value:!0}),ks.default=void 0,_i.default.use(Pr.default),_i.default.use(Qn.default),_i.default.use(Fc.default),_i.default.use(go.default),_i.default.use(Bc.default),_i.default.use(Xr.default),_i.default.use(Pe.default),_i.default.use(Lt.default),_i.default.use(Hl.default);var o5=_i.default;ks.default=o5,_i.default.default=_i.default,Pe.default,Lt.default,Xr.default,Pr.default,be.default,go.default,_i.default,Bc.default,Qn.default,Fc.default,Hl.default;var Ss={exports:{}};function hp(P){return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},hp(P)}Object.defineProperty(Ss.exports,"__esModule",{value:!0}),Ss.exports.default=void 0;var a5=ks.default;if(Ss.exports.default=a5,hp(Ss)==="object"&&Ss)try{Ss.exports=ks.default}catch(P){}return ks.default.default=ks.default,Ss.exports}()},4638:function(o,c,n){(function(u,h,g){var m,y,_,w,k,A,L,T,E,a,p,v,d,x,C,N,G,q,K,oe,J,Q,Oe,ge,W,se,de,Z,ye,Y,ce,Ge,ht,st={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return u(this).attr("href")},title:function(){return this.title},createImg:function(){var It=new Image,At=u(this).data("cbox-img-attrs");return typeof At=="object"&&u.each(At,function(St,kt){It[St]=kt}),It},createIframe:function(){var It=h.createElement("iframe"),At=u(this).data("cbox-iframe-attrs");return typeof At=="object"&&u.each(At,function(St,kt){It[St]=kt}),"frameBorder"in It&&(It.frameBorder=0),"allowTransparency"in It&&(It.allowTransparency="true"),It.name=new Date().getTime(),It.allowFullscreen=!0,It}},qe="colorbox",Se="cbox",Ie=Se+"Element",Re=Se+"_open",ot=Se+"_load",pt=Se+"_complete",Pt=Se+"_cleanup",Qe=Se+"_closed",ne=Se+"_purge",ie=u("<a/>"),Ke="div",Ct=0,we={};function $e(It,At,St){var kt=h.createElement(It);return At&&(kt.id=Se+At),St&&(kt.style.cssText=St),u(kt)}function at(){return g.innerHeight?g.innerHeight:u(g).height()}function Ce(It,At){At!==Object(At)&&(At={}),this.cache={},this.el=It,this.value=function(St){var kt;return this.cache[St]===void 0&&((kt=u(this.el).attr("data-cbox-"+St))!==void 0?this.cache[St]=kt:At[St]!==void 0?this.cache[St]=At[St]:st[St]!==void 0&&(this.cache[St]=st[St])),this.cache[St]},this.get=function(St){var kt=this.value(St);return u.isFunction(kt)?kt.call(this.el,this):kt}}function Je(It){var At=E.length,St=(se+It)%At;return St<0?At+St:St}function tt(It,At){return Math.round((/%/.test(It)?(At==="x"?a.width():at())/100:1)*parseInt(It,10))}function Vt(It,At){return It.get("photo")||It.get("photoRegex").test(At)}function ct(It,At){return It.get("retinaUrl")&&g.devicePixelRatio>1?At.replace(It.get("photoRegex"),It.get("retinaSuffix")):At}function gt(It){"contains"in y[0]&&!y[0].contains(It.target)&&It.target!==m[0]&&(It.stopPropagation(),y.focus())}function Rt(It){Rt.str!==It&&(y.add(m).removeClass(Rt.str).addClass(It),Rt.str=It)}function ti(It){u(h).trigger(It),ie.triggerHandler(It)}var oi=function(){var It,At,St=Se+"Slideshow_",kt="click."+Se;function I(){clearTimeout(At)}function Ue(){(J.get("loop")||E[se+1])&&(I(),At=setTimeout(Ge.next,J.get("slideshowSpeed")))}function _e(){N.html(J.get("slideshowStop")).unbind(kt).one(kt,Ve),ie.bind(pt,Ue).bind(ot,I),y.removeClass(St+"off").addClass(St+"on")}function Ve(){I(),ie.unbind(pt,Ue).unbind(ot,I),N.html(J.get("slideshowStart")).unbind(kt).one(kt,function(){Ge.next(),_e()}),y.removeClass(St+"on").addClass(St+"off")}function Xe(){It=!1,N.hide(),I(),ie.unbind(pt,Ue).unbind(ot,I),y.removeClass(St+"off "+St+"on")}return function(){It?J.get("slideshow")||(ie.unbind(Pt,Xe),Xe()):J.get("slideshow")&&E[1]&&(It=!0,ie.one(Pt,Xe),J.get("slideshowAuto")?_e():Ve(),N.show())}}();function ui(It){var At,St;if(!Y){if(At=u(It).data(qe),J=new Ce(It,At),St=J.get("rel"),se=0,St&&St!==!1&&St!=="nofollow"?(E=u("."+Ie).filter(function(){return new Ce(this,u.data(this,qe)).get("rel")===St}),(se=E.index(J.el))===-1&&(E=E.add(J.el),se=E.length-1)):E=u(J.el),!Z){Z=ye=!0,Rt(J.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),p=$e(Ke,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(p),Q=k.height()+T.height()+w.outerHeight(!0)-w.height(),Oe=A.width()+L.width()+w.outerWidth(!0)-w.width(),ge=p.outerHeight(!0),W=p.outerWidth(!0);var kt=tt(J.get("initialWidth"),"x"),I=tt(J.get("initialHeight"),"y"),Ue=J.get("maxWidth"),_e=J.get("maxHeight");J.w=Math.max((Ue!==!1?Math.min(kt,tt(Ue,"x")):kt)-W-Oe,0),J.h=Math.max((_e!==!1?Math.min(I,tt(_e,"y")):I)-ge-Q,0),p.css({width:"",height:J.h}),Ge.position(),ti(Re),J.get("onOpen"),oe.add(x).hide(),y.focus(),J.get("trapFocus")&&h.addEventListener&&(h.addEventListener("focus",gt,!0),ie.one(Qe,function(){h.removeEventListener("focus",gt,!0)})),J.get("returnFocus")&&ie.one(Qe,function(){u(J.el).focus()})}var Ve=parseFloat(J.get("opacity"));m.css({opacity:Ve==Ve?Ve:"",cursor:J.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),J.get("closeButton")?K.html(J.get("close")).appendTo(w):K.appendTo("<div/>"),function(){var Xe,ut,re,Pe=Ge.prep,He=++Ct;if(ye=!0,de=!1,ti(ne),ti(ot),J.get("onLoad"),J.h=J.get("height")?tt(J.get("height"),"y")-ge-Q:J.get("innerHeight")&&tt(J.get("innerHeight"),"y"),J.w=J.get("width")?tt(J.get("width"),"x")-W-Oe:J.get("innerWidth")&&tt(J.get("innerWidth"),"x"),J.mw=J.w,J.mh=J.h,J.get("maxWidth")&&(J.mw=tt(J.get("maxWidth"),"x")-W-Oe,J.mw=J.w&&J.w<J.mw?J.w:J.mw),J.get("maxHeight")&&(J.mh=tt(J.get("maxHeight"),"y")-ge-Q,J.mh=J.h&&J.h<J.mh?J.h:J.mh),Xe=J.get("href"),ce=setTimeout(function(){d.show()},100),J.get("inline")){var vt=u(Xe).eq(0);re=u("<div>").hide().insertBefore(vt),ie.one(ne,function(){re.replaceWith(vt)}),Pe(vt)}else J.get("iframe")?Pe(" "):J.get("html")?Pe(J.get("html")):Vt(J,Xe)?(Xe=ct(J,Xe),de=J.get("createImg"),u(de).addClass(Se+"Photo").bind("error."+Se,function(){Pe($e(Ke,"Error").html(J.get("imgError")))}).one("load",function(){He===Ct&&setTimeout(function(){var lt;J.get("retinaImage")&&g.devicePixelRatio>1&&(de.height=de.height/g.devicePixelRatio,de.width=de.width/g.devicePixelRatio),J.get("scalePhotos")&&(ut=function(){de.height-=de.height*lt,de.width-=de.width*lt},J.mw&&de.width>J.mw&&(lt=(de.width-J.mw)/de.width,ut()),J.mh&&de.height>J.mh&&(lt=(de.height-J.mh)/de.height,ut())),J.h&&(de.style.marginTop=Math.max(J.mh-de.height,0)/2+"px"),E[1]&&(J.get("loop")||E[se+1])&&(de.style.cursor="pointer",u(de).bind("click."+Se,function(){Ge.next()})),de.style.width=de.width+"px",de.style.height=de.height+"px",Pe(de)},1)}),de.src=Xe):Xe&&v.load(Xe,J.get("data"),function(lt,Et){He===Ct&&Pe(Et==="error"?$e(Ke,"Error").html(J.get("xhrError")):u(this).contents())})}()}}function Ot(){y||(ht=!1,a=u(g),y=$e(Ke).attr({id:qe,class:u.support.opacity===!1?Se+"IE":"",role:"dialog",tabindex:"-1"}).hide(),m=$e(Ke,"Overlay").hide(),d=u([$e(Ke,"LoadingOverlay")[0],$e(Ke,"LoadingGraphic")[0]]),_=$e(Ke,"Wrapper"),w=$e(Ke,"Content").append(x=$e(Ke,"Title"),C=$e(Ke,"Current"),q=u('<button type="button"/>').attr({id:Se+"Previous"}),G=u('<button type="button"/>').attr({id:Se+"Next"}),N=u('<button type="button"/>').attr({id:Se+"Slideshow"}),d),K=u('<button type="button"/>').attr({id:Se+"Close"}),_.append($e(Ke).append($e(Ke,"TopLeft"),k=$e(Ke,"TopCenter"),$e(Ke,"TopRight")),$e(Ke,!1,"clear:left").append(A=$e(Ke,"MiddleLeft"),w,L=$e(Ke,"MiddleRight")),$e(Ke,!1,"clear:left").append($e(Ke,"BottomLeft"),T=$e(Ke,"BottomCenter"),$e(Ke,"BottomRight"))).find("div div").css({float:"left"}),v=$e(Ke,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),oe=G.add(q).add(C).add(N)),h.body&&!y.parent().length&&u(h.body).append(m,y.append(_,v))}u[qe]||(u(Ot),(Ge=u.fn[qe]=u[qe]=function(It,At){var St=this;return It=It||{},u.isFunction(St)&&(St=u("<a/>"),It.open=!0),St[0]&&(Ot(),function(){function kt(I){I.which>1||I.shiftKey||I.altKey||I.metaKey||I.ctrlKey||(I.preventDefault(),ui(this))}return!!y&&(ht||(ht=!0,G.click(function(){Ge.next()}),q.click(function(){Ge.prev()}),K.click(function(){Ge.close()}),m.click(function(){J.get("overlayClose")&&Ge.close()}),u(h).bind("keydown."+Se,function(I){var Ue=I.keyCode;Z&&J.get("escKey")&&Ue===27&&(I.preventDefault(),Ge.close()),Z&&J.get("arrowKey")&&E[1]&&!I.altKey&&(Ue===37?(I.preventDefault(),q.click()):Ue===39&&(I.preventDefault(),G.click()))}),u.isFunction(u.fn.on)?u(h).on("click."+Se,"."+Ie,kt):u("."+Ie).live("click."+Se,kt)),!0)}()&&(At&&(It.onComplete=At),St.each(function(){var kt=u.data(this,qe)||{};u.data(this,qe,u.extend(kt,It))}).addClass(Ie),new Ce(St[0],It).get("open")&&ui(St[0]))),St}).position=function(It,At){var St,kt,I,Ue=0,_e=0,Ve=y.offset();function Xe(){k[0].style.width=T[0].style.width=w[0].style.width=parseInt(y[0].style.width,10)-Oe+"px",w[0].style.height=A[0].style.height=L[0].style.height=parseInt(y[0].style.height,10)-Q+"px"}if(a.unbind("resize."+Se),y.css({top:-9e4,left:-9e4}),kt=a.scrollTop(),I=a.scrollLeft(),J.get("fixed")?(Ve.top-=kt,Ve.left-=I,y.css({position:"fixed"})):(Ue=kt,_e=I,y.css({position:"absolute"})),J.get("right")!==!1?_e+=Math.max(a.width()-J.w-W-Oe-tt(J.get("right"),"x"),0):J.get("left")!==!1?_e+=tt(J.get("left"),"x"):_e+=Math.round(Math.max(a.width()-J.w-W-Oe,0)/2),J.get("bottom")!==!1?Ue+=Math.max(at()-J.h-ge-Q-tt(J.get("bottom"),"y"),0):J.get("top")!==!1?Ue+=tt(J.get("top"),"y"):Ue+=Math.round(Math.max(at()-J.h-ge-Q,0)/2),y.css({top:Ve.top,left:Ve.left,visibility:"visible"}),_[0].style.width=_[0].style.height="9999px",St={width:J.w+W+Oe,height:J.h+ge+Q,top:Ue,left:_e},It){var ut=0;u.each(St,function(re){St[re]===we[re]||(ut=It)}),It=ut}we=St,It||y.css(St),y.dequeue().animate(St,{duration:It||0,complete:function(){Xe(),ye=!1,_[0].style.width=J.w+W+Oe+"px",_[0].style.height=J.h+ge+Q+"px",J.get("reposition")&&setTimeout(function(){a.bind("resize."+Se,Ge.position)},1),u.isFunction(At)&&At()},step:Xe})},Ge.resize=function(It){var At;Z&&((It=It||{}).width&&(J.w=tt(It.width,"x")-W-Oe),It.innerWidth&&(J.w=tt(It.innerWidth,"x")),p.css({width:J.w}),It.height&&(J.h=tt(It.height,"y")-ge-Q),It.innerHeight&&(J.h=tt(It.innerHeight,"y")),It.innerHeight||It.height||(At=p.scrollTop(),p.css({height:"auto"}),J.h=p.height()),p.css({height:J.h}),At&&p.scrollTop(At),Ge.position(J.get("transition")==="none"?0:J.get("speed")))},Ge.prep=function(It){if(Z){var At,St=J.get("transition")==="none"?0:J.get("speed");p.remove(),(p=$e(Ke,"LoadedContent").append(It)).hide().appendTo(v.show()).css({width:(J.w=J.w||p.width(),J.w=J.mw&&J.mw<J.w?J.mw:J.w,J.w),overflow:J.get("scrolling")?"auto":"hidden"}).css({height:(J.h=J.h||p.height(),J.h=J.mh&&J.mh<J.h?J.mh:J.h,J.h)}).prependTo(w),v.hide(),u(de).css({float:"none"}),Rt(J.get("className")),At=function(){var kt,I,Ue=E.length;function _e(){u.support.opacity===!1&&y[0].style.removeAttribute("filter")}Z&&(I=function(){clearTimeout(ce),d.hide(),ti(pt),J.get("onComplete")},x.html(J.get("title")).show(),p.show(),Ue>1?(typeof J.get("current")=="string"&&C.html(J.get("current").replace("{current}",se+1).replace("{total}",Ue)).show(),G[J.get("loop")||se<Ue-1?"show":"hide"]().html(J.get("next")),q[J.get("loop")||se?"show":"hide"]().html(J.get("previous")),oi(),J.get("preloading")&&u.each([Je(-1),Je(1)],function(){var Ve=E[this],Xe=new Ce(Ve,u.data(Ve,qe)),ut=Xe.get("href");ut&&Vt(Xe,ut)&&(ut=ct(Xe,ut),h.createElement("img").src=ut)})):oe.hide(),J.get("iframe")?(kt=J.get("createIframe"),J.get("scrolling")||(kt.scrolling="no"),u(kt).attr({src:J.get("href"),class:Se+"Iframe"}).one("load",I).appendTo(p),ie.one(ne,function(){kt.src="//about:blank"}),J.get("fastIframe")&&u(kt).trigger("load")):I(),J.get("transition")==="fade"?y.fadeTo(St,1,_e):_e())},J.get("transition")==="fade"?y.fadeTo(St,0,function(){Ge.position(0,At)}):Ge.position(St,At)}},Ge.next=function(){!ye&&E[1]&&(J.get("loop")||E[se+1])&&(se=Je(1),ui(E[se]))},Ge.prev=function(){!ye&&E[1]&&(J.get("loop")||se)&&(se=Je(-1),ui(E[se]))},Ge.close=function(){Z&&!Y&&(Y=!0,Z=!1,ti(Pt),J.get("onCleanup"),a.unbind("."+Se),m.fadeTo(J.get("fadeOut")||0,0),y.stop().fadeTo(J.get("fadeOut")||0,0,function(){y.hide(),m.hide(),ti(ne),p.remove(),setTimeout(function(){Y=!1,ti(Qe),J.get("onClosed")},1)}))},Ge.remove=function(){y&&(y.stop(),u[qe].close(),y.stop(!1,!0).remove(),m.remove(),Y=!1,y=null,u("."+Ie).removeData(qe).removeClass(Ie),u(h).unbind("click."+Se).unbind("keydown."+Se))},Ge.element=function(){return u(J.el)},Ge.settings=st)})(n(1669),document,window)},8497:function(o,c,n){(function(u){if(u.support.touch="ontouchend"in document,u.support.touch){var h,g=u.ui.mouse.prototype,m=g._mouseInit,y=g._mouseDestroy;g._touchStart=function(w){!h&&this._mouseCapture(w.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,_(w,"mouseover"),_(w,"mousemove"),_(w,"mousedown"))},g._touchMove=function(w){h&&(this._touchMoved=!0,_(w,"mousemove"))},g._touchEnd=function(w){h&&(_(w,"mouseup"),_(w,"mouseout"),this._touchMoved||_(w,"click"),h=!1)},g._mouseInit=function(){var w=this;w.element.bind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),m.call(w)},g._mouseDestroy=function(){var w=this;w.element.unbind({touchstart:u.proxy(w,"_touchStart"),touchmove:u.proxy(w,"_touchMove"),touchend:u.proxy(w,"_touchEnd")}),y.call(w)}}function _(w,k){if(!(w.originalEvent.touches.length>1)){w.preventDefault();var A=w.originalEvent.changedTouches[0],L=document.createEvent("MouseEvents");L.initMouseEvent(k,!0,!0,window,1,A.screenX,A.screenY,A.clientX,A.clientY,!1,!1,!1,!1,0,null),w.target.dispatchEvent(L)}}})(n(1669))},8045:function(o,c,n){var u,h,g;h=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})=="function"?u.apply(c,h):u)===void 0||(o.exports=g)},1897:function(o,c,n){var u,h,g;h=[n(1669),n(6883)],(g=typeof(u=function(m){return m.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})=="function"?u.apply(c,h):u)===void 0||(o.exports=g)},6883:function(o,c,n){var u,h,g;h=[n(1669)],(g=typeof(u=function(m){return m.ui=m.ui||{},m.ui.version="1.12.1"})=="function"?u.apply(c,h):u)===void 0||(o.exports=g)},9139:function(o,c,n){var u,h,g;h=[n(1669),n(6883)],u=function(m){var y,_=0,w=Array.prototype.slice;return m.cleanData=(y=m.cleanData,function(k){var A,L,T;for(T=0;(L=k[T])!=null;T++)try{(A=m._data(L,"events"))&&A.remove&&m(L).triggerHandler("remove")}catch(E){}y(k)}),m.widget=function(k,A,L){var T,E,a,p={},v=k.split(".")[0],d=v+"-"+(k=k.split(".")[1]);return L||(L=A,A=m.Widget),m.isArray(L)&&(L=m.extend.apply(null,[{}].concat(L))),m.expr[":"][d.toLowerCase()]=function(x){return!!m.data(x,d)},m[v]=m[v]||{},T=m[v][k],E=m[v][k]=function(x,C){if(!this._createWidget)return new E(x,C);arguments.length&&this._createWidget(x,C)},m.extend(E,T,{version:L.version,_proto:m.extend({},L),_childConstructors:[]}),(a=new A).options=m.widget.extend({},a.options),m.each(L,function(x,C){m.isFunction(C)?p[x]=function(){function N(){return A.prototype[x].apply(this,arguments)}function G(q){return A.prototype[x].apply(this,q)}return function(){var q,K=this._super,oe=this._superApply;return this._super=N,this._superApply=G,q=C.apply(this,arguments),this._super=K,this._superApply=oe,q}}():p[x]=C}),E.prototype=m.widget.extend(a,{widgetEventPrefix:T&&a.widgetEventPrefix||k},p,{constructor:E,namespace:v,widgetName:k,widgetFullName:d}),T?(m.each(T._childConstructors,function(x,C){var N=C.prototype;m.widget(N.namespace+"."+N.widgetName,E,C._proto)}),delete T._childConstructors):A._childConstructors.push(E),m.widget.bridge(k,E),E},m.widget.extend=function(k){for(var A,L,T=w.call(arguments,1),E=0,a=T.length;E<a;E++)for(A in T[E])L=T[E][A],T[E].hasOwnProperty(A)&&L!==void 0&&(m.isPlainObject(L)?k[A]=m.isPlainObject(k[A])?m.widget.extend({},k[A],L):m.widget.extend({},L):k[A]=L);return k},m.widget.bridge=function(k,A){var L=A.prototype.widgetFullName||k;m.fn[k]=function(T){var E=typeof T=="string",a=w.call(arguments,1),p=this;return E?this.length||T!=="instance"?this.each(function(){var v,d=m.data(this,L);return T==="instance"?(p=d,!1):d?m.isFunction(d[T])&&T.charAt(0)!=="_"?(v=d[T].apply(d,a))!==d&&v!==void 0?(p=v&&v.jquery?p.pushStack(v.get()):v,!1):void 0:m.error("no such method '"+T+"' for "+k+" widget instance"):m.error("cannot call methods on "+k+" prior to initialization; attempted to call method '"+T+"'")}):p=void 0:(a.length&&(T=m.widget.extend.apply(null,[T].concat(a))),this.each(function(){var v=m.data(this,L);v?(v.option(T||{}),v._init&&v._init()):m.data(this,L,new A(T,this))})),p}},m.Widget=function(){},m.Widget._childConstructors=[],m.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(k,A){A=m(A||this.defaultElement||this)[0],this.element=m(A),this.uuid=_++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=m(),this.hoverable=m(),this.focusable=m(),this.classesElementLookup={},A!==this&&(m.data(A,this.widgetFullName,this),this._on(!0,this.element,{remove:function(L){L.target===A&&this.destroy()}}),this.document=m(A.style?A.ownerDocument:A.document||A),this.window=m(this.document[0].defaultView||this.document[0].parentWindow)),this.options=m.widget.extend({},this.options,this._getCreateOptions(),k),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:m.noop,_create:m.noop,_init:m.noop,destroy:function(){var k=this;this._destroy(),m.each(this.classesElementLookup,function(A,L){k._removeClass(L,A)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:m.noop,widget:function(){return this.element},option:function(k,A){var L,T,E,a=k;if(arguments.length===0)return m.widget.extend({},this.options);if(typeof k=="string")if(a={},L=k.split("."),k=L.shift(),L.length){for(T=a[k]=m.widget.extend({},this.options[k]),E=0;E<L.length-1;E++)T[L[E]]=T[L[E]]||{},T=T[L[E]];if(k=L.pop(),arguments.length===1)return T[k]===void 0?null:T[k];T[k]=A}else{if(arguments.length===1)return this.options[k]===void 0?null:this.options[k];a[k]=A}return this._setOptions(a),this},_setOptions:function(k){var A;for(A in k)this._setOption(A,k[A]);return this},_setOption:function(k,A){return k==="classes"&&this._setOptionClasses(A),this.options[k]=A,k==="disabled"&&this._setOptionDisabled(A),this},_setOptionClasses:function(k){var A,L,T;for(A in k)T=this.classesElementLookup[A],k[A]!==this.options.classes[A]&&T&&T.length&&(L=m(T.get()),this._removeClass(T,A),L.addClass(this._classes({element:L,keys:A,classes:k,add:!0})))},_setOptionDisabled:function(k){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!k),k&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(k){var A=[],L=this;function T(E,a){var p,v;for(v=0;v<E.length;v++)p=L.classesElementLookup[E[v]]||m(),p=k.add?m(m.unique(p.get().concat(k.element.get()))):m(p.not(k.element).get()),L.classesElementLookup[E[v]]=p,A.push(E[v]),a&&k.classes[E[v]]&&A.push(k.classes[E[v]])}return k=m.extend({element:this.element,classes:this.options.classes||{}},k),this._on(k.element,{remove:"_untrackClassesElement"}),k.keys&&T(k.keys.match(/\S+/g)||[],!0),k.extra&&T(k.extra.match(/\S+/g)||[]),A.join(" ")},_untrackClassesElement:function(k){var A=this;m.each(A.classesElementLookup,function(L,T){m.inArray(k.target,T)!==-1&&(A.classesElementLookup[L]=m(T.not(k.target).get()))})},_removeClass:function(k,A,L){return this._toggleClass(k,A,L,!1)},_addClass:function(k,A,L){return this._toggleClass(k,A,L,!0)},_toggleClass:function(k,A,L,T){T=typeof T=="boolean"?T:L;var E=typeof k=="string"||k===null,a={extra:E?A:L,keys:E?k:A,element:E?this.element:k,add:T};return a.element.toggleClass(this._classes(a),T),this},_on:function(k,A,L){var T,E=this;typeof k!="boolean"&&(L=A,A=k,k=!1),L?(A=T=m(A),this.bindings=this.bindings.add(A)):(L=A,A=this.element,T=this.widget()),m.each(L,function(a,p){function v(){if(k||E.options.disabled!==!0&&!m(this).hasClass("ui-state-disabled"))return(typeof p=="string"?E[p]:p).apply(E,arguments)}typeof p!="string"&&(v.guid=p.guid=p.guid||v.guid||m.guid++);var d=a.match(/^([\w:-]*)\s*(.*)$/),x=d[1]+E.eventNamespace,C=d[2];C?T.on(x,C,v):A.on(x,v)})},_off:function(k,A){A=(A||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,k.off(A).off(A),this.bindings=m(this.bindings.not(k).get()),this.focusable=m(this.focusable.not(k).get()),this.hoverable=m(this.hoverable.not(k).get())},_delay:function(k,A){var L=this;return setTimeout(function(){return(typeof k=="string"?L[k]:k).apply(L,arguments)},A||0)},_hoverable:function(k){this.hoverable=this.hoverable.add(k),this._on(k,{mouseenter:function(A){this._addClass(m(A.currentTarget),null,"ui-state-hover")},mouseleave:function(A){this._removeClass(m(A.currentTarget),null,"ui-state-hover")}})},_focusable:function(k){this.focusable=this.focusable.add(k),this._on(k,{focusin:function(A){this._addClass(m(A.currentTarget),null,"ui-state-focus")},focusout:function(A){this._removeClass(m(A.currentTarget),null,"ui-state-focus")}})},_trigger:function(k,A,L){var T,E,a=this.options[k];if(L=L||{},(A=m.Event(A)).type=(k===this.widgetEventPrefix?k:this.widgetEventPrefix+k).toLowerCase(),A.target=this.element[0],E=A.originalEvent)for(T in E)T in A||(A[T]=E[T]);return this.element.trigger(A,L),!(m.isFunction(a)&&a.apply(this.element[0],[A].concat(L))===!1||A.isDefaultPrevented())}},m.each({show:"fadeIn",hide:"fadeOut"},function(k,A){m.Widget.prototype["_"+k]=function(L,T,E){var a;typeof T=="string"&&(T={effect:T});var p=T?T===!0||typeof T=="number"?A:T.effect||A:k;typeof(T=T||{})=="number"&&(T={duration:T}),a=!m.isEmptyObject(T),T.complete=E,T.delay&&L.delay(T.delay),a&&m.effects&&m.effects.effect[p]?L[k](T):p!==k&&L[p]?L[p](T.duration,T.easing,E):L.queue(function(v){m(this)[k](),E&&E.call(L[0]),v()})}}),m.widget},(g=u.apply(c,h))===void 0||(o.exports=g)},3662:function(o,c,n){var u,h,g;h=[n(1669),n(8045),n(6883),n(9139)],(g=typeof(u=function(m){var y=!1;return m(document).on("mouseup",function(){y=!1}),m.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var _=this;this.element.on("mousedown."+this.widgetName,function(w){return _._mouseDown(w)}).on("click."+this.widgetName,function(w){if(m.data(w.target,_.widgetName+".preventClickEvent")===!0)return m.removeData(w.target,_.widgetName+".preventClickEvent"),w.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(_){if(!y){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(_),this._mouseDownEvent=_;var w=this,k=_.which===1,A=!(typeof this.options.cancel!="string"||!_.target.nodeName)&&m(_.target).closest(this.options.cancel).length;return!(k&&!A&&this._mouseCapture(_)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){w.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(_)&&this._mouseDelayMet(_)&&(this._mouseStarted=this._mouseStart(_)!==!1,!this._mouseStarted)?(_.preventDefault(),0):(m.data(_.target,this.widgetName+".preventClickEvent")===!0&&m.removeData(_.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(L){return w._mouseMove(L)},this._mouseUpDelegate=function(L){return w._mouseUp(L)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),_.preventDefault(),y=!0,0)))}},_mouseMove:function(_){if(this._mouseMoved){if(m.ui.ie&&(!document.documentMode||document.documentMode<9)&&!_.button)return this._mouseUp(_);if(!_.which){if(_.originalEvent.altKey||_.originalEvent.ctrlKey||_.originalEvent.metaKey||_.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(_)}}return(_.which||_.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(_),_.preventDefault()):(this._mouseDistanceMet(_)&&this._mouseDelayMet(_)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,_)!==!1,this._mouseStarted?this._mouseDrag(_):this._mouseUp(_)),!this._mouseStarted)},_mouseUp:function(_){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,_.target===this._mouseDownEvent.target&&m.data(_.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(_)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,y=!1,_.preventDefault()},_mouseDistanceMet:function(_){return Math.max(Math.abs(this._mouseDownEvent.pageX-_.pageX),Math.abs(this._mouseDownEvent.pageY-_.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})=="function"?u.apply(c,h):u)===void 0||(o.exports=g)},4720:function(o,c,n){var u,h,g;h=[n(1669),n(3662),n(1897),n(6883),n(9139)],u=function(m){return m.widget("ui.slider",m.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var y,_,w=this.options,k=this.element.find(".ui-slider-handle"),A=[];for(_=w.values&&w.values.length||1,k.length>_&&(k.slice(_).remove(),k=k.slice(0,_)),y=k.length;y<_;y++)A.push("<span tabindex='0'></span>");this.handles=k.add(m(A.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(L){m(this).data("ui-slider-handle-index",L).attr("tabIndex",0)})},_createRange:function(){var y=this.options;y.range?(y.range===!0&&(y.values?y.values.length&&y.values.length!==2?y.values=[y.values[0],y.values[0]]:m.isArray(y.values)&&(y.values=y.values.slice(0)):y.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=m("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),y.range!=="min"&&y.range!=="max"||this._addClass(this.range,"ui-slider-range-"+y.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(y){var _,w,k,A,L,T,E,a=this,p=this.options;return!p.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),_={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(_),k=this._valueMax()-this._valueMin()+1,this.handles.each(function(v){var d=Math.abs(w-a.values(v));(k>d||k===d&&(v===a._lastChangedValue||a.values(v)===p.min))&&(k=d,A=m(this),L=v)}),this._start(y,L)!==!1&&(this._mouseSliding=!0,this._handleIndex=L,this._addClass(A,null,"ui-state-active"),A.trigger("focus"),T=A.offset(),E=!m(y.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=E?{left:0,top:0}:{left:y.pageX-T.left-A.width()/2,top:y.pageY-T.top-A.height()/2-(parseInt(A.css("borderTopWidth"),10)||0)-(parseInt(A.css("borderBottomWidth"),10)||0)+(parseInt(A.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(y,L,w),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(y){var _={x:y.pageX,y:y.pageY},w=this._normValueFromMouse(_);return this._slide(y,this._handleIndex,w),!1},_mouseStop:function(y){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(y,this._handleIndex),this._change(y,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(y){var _,w,k,A,L;return this.orientation==="horizontal"?(_=this.elementSize.width,w=y.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(_=this.elementSize.height,w=y.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(k=w/_)>1&&(k=1),k<0&&(k=0),this.orientation==="vertical"&&(k=1-k),A=this._valueMax()-this._valueMin(),L=this._valueMin()+k*A,this._trimAlignValue(L)},_uiHash:function(y,_,w){var k={handle:this.handles[y],handleIndex:y,value:_!==void 0?_:this.value()};return this._hasMultipleValues()&&(k.value=_!==void 0?_:this.values(y),k.values=w||this.values()),k},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(y,_){return this._trigger("start",y,this._uiHash(_))},_slide:function(y,_,w){var k,A=this.value(),L=this.values();this._hasMultipleValues()&&(k=this.values(_?0:1),A=this.values(_),this.options.values.length===2&&this.options.range===!0&&(w=_===0?Math.min(k,w):Math.max(k,w)),L[_]=w),w!==A&&this._trigger("slide",y,this._uiHash(_,w,L))!==!1&&(this._hasMultipleValues()?this.values(_,w):this.value(w))},_stop:function(y,_){this._trigger("stop",y,this._uiHash(_))},_change:function(y,_){this._keySliding||this._mouseSliding||(this._lastChangedValue=_,this._trigger("change",y,this._uiHash(_)))},value:function(y){return arguments.length?(this.options.value=this._trimAlignValue(y),this._refreshValue(),void this._change(null,0)):this._value()},values:function(y,_){var w,k,A;if(arguments.length>1)return this.options.values[y]=this._trimAlignValue(_),this._refreshValue(),void this._change(null,y);if(!arguments.length)return this._values();if(!m.isArray(arguments[0]))return this._hasMultipleValues()?this._values(y):this.value();for(w=this.options.values,k=arguments[0],A=0;A<w.length;A+=1)w[A]=this._trimAlignValue(k[A]),this._change(null,A);this._refreshValue()},_setOption:function(y,_){var w,k=0;switch(y==="range"&&this.options.range===!0&&(_==="min"?(this.options.value=this._values(0),this.options.values=null):_==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),m.isArray(this.options.values)&&(k=this.options.values.length),this._super(y,_),y){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(_),this.handles.css(_==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),w=k-1;w>=0;w--)this._change(null,w);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(y){this._super(y),this._toggleClass(null,"ui-state-disabled",!!y)},_value:function(){var y=this.options.value;return this._trimAlignValue(y)},_values:function(y){var _,w,k;if(arguments.length)return _=this.options.values[y],this._trimAlignValue(_);if(this._hasMultipleValues()){for(w=this.options.values.slice(),k=0;k<w.length;k+=1)w[k]=this._trimAlignValue(w[k]);return w}return[]},_trimAlignValue:function(y){if(y<=this._valueMin())return this._valueMin();if(y>=this._valueMax())return this._valueMax();var _=this.options.step>0?this.options.step:1,w=(y-this._valueMin())%_,k=y-w;return 2*Math.abs(w)>=_&&(k+=w>0?_:-_),parseFloat(k.toFixed(5))},_calculateNewMax:function(){var y=this.options.max,_=this._valueMin(),w=this.options.step;(y=Math.round((y-_)/w)*w+_)>this.options.max&&(y-=w),this.max=parseFloat(y.toFixed(this._precision()))},_precision:function(){var y=this._precisionOf(this.options.step);return this.options.min!==null&&(y=Math.max(y,this._precisionOf(this.options.min))),y},_precisionOf:function(y){var _=y.toString(),w=_.indexOf(".");return w===-1?0:_.length-w-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(y){y==="vertical"&&this.range.css({width:"",left:""}),y==="horizontal"&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var y,_,w,k,A,L=this.options.range,T=this.options,E=this,a=!this._animateOff&&T.animate,p={};this._hasMultipleValues()?this.handles.each(function(v){_=(E.values(v)-E._valueMin())/(E._valueMax()-E._valueMin())*100,p[E.orientation==="horizontal"?"left":"bottom"]=_+"%",m(this).stop(1,1)[a?"animate":"css"](p,T.animate),E.options.range===!0&&(E.orientation==="horizontal"?(v===0&&E.range.stop(1,1)[a?"animate":"css"]({left:_+"%"},T.animate),v===1&&E.range[a?"animate":"css"]({width:_-y+"%"},{queue:!1,duration:T.animate})):(v===0&&E.range.stop(1,1)[a?"animate":"css"]({bottom:_+"%"},T.animate),v===1&&E.range[a?"animate":"css"]({height:_-y+"%"},{queue:!1,duration:T.animate}))),y=_}):(w=this.value(),k=this._valueMin(),A=this._valueMax(),_=A!==k?(w-k)/(A-k)*100:0,p[this.orientation==="horizontal"?"left":"bottom"]=_+"%",this.handle.stop(1,1)[a?"animate":"css"](p,T.animate),L==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[a?"animate":"css"]({width:_+"%"},T.animate),L==="max"&&this.orientation==="horizontal"&&this.range.stop(1,1)[a?"animate":"css"]({width:100-_+"%"},T.animate),L==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[a?"animate":"css"]({height:_+"%"},T.animate),L==="max"&&this.orientation==="vertical"&&this.range.stop(1,1)[a?"animate":"css"]({height:100-_+"%"},T.animate))},_handleEvents:{keydown:function(y){var _,w,k,A=m(y.target).data("ui-slider-handle-index");switch(y.keyCode){case m.ui.keyCode.HOME:case m.ui.keyCode.END:case m.ui.keyCode.PAGE_UP:case m.ui.keyCode.PAGE_DOWN:case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(y.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(m(y.target),null,"ui-state-active"),this._start(y,A)===!1))return}switch(k=this.options.step,_=w=this._hasMultipleValues()?this.values(A):this.value(),y.keyCode){case m.ui.keyCode.HOME:w=this._valueMin();break;case m.ui.keyCode.END:w=this._valueMax();break;case m.ui.keyCode.PAGE_UP:w=this._trimAlignValue(_+(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.PAGE_DOWN:w=this._trimAlignValue(_-(this._valueMax()-this._valueMin())/this.numPages);break;case m.ui.keyCode.UP:case m.ui.keyCode.RIGHT:if(_===this._valueMax())return;w=this._trimAlignValue(_+k);break;case m.ui.keyCode.DOWN:case m.ui.keyCode.LEFT:if(_===this._valueMin())return;w=this._trimAlignValue(_-k)}this._slide(y,A,w)},keyup:function(y){var _=m(y.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(y,_),this._change(y,_),this._removeClass(m(y.target),null,"ui-state-active"))}}})},(g=u.apply(c,h))===void 0||(o.exports=g)},1669:function(o){"use strict";o.exports=jQuery},9306:function(o,c,n){"use strict";var u=n(4901),h=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(h(m)+" is not a function")}},5548:function(o,c,n){"use strict";var u=n(3517),h=n(6823),g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(h(m)+" is not a constructor")}},3506:function(o,c,n){"use strict";var u=n(3925),h=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g("Can't set "+h(m)+" as a prototype")}},6469:function(o,c,n){"use strict";var u=n(8227),h=n(2360),g=n(4913).f,m=u("unscopables"),y=Array.prototype;y[m]===void 0&&g(y,m,{configurable:!0,value:h(null)}),o.exports=function(_){y[m][_]=!0}},7829:function(o,c,n){"use strict";var u=n(8183).charAt;o.exports=function(h,g,m){return g+(m?u(h,g).length:1)}},679:function(o,c,n){"use strict";var u=n(1625),h=TypeError;o.exports=function(g,m){if(u(m,g))return g;throw new h("Incorrect invocation")}},8551:function(o,c,n){"use strict";var u=n(34),h=String,g=TypeError;o.exports=function(m){if(u(m))return m;throw new g(h(m)+" is not an object")}},5652:function(o,c,n){"use strict";var u=n(9039);o.exports=u(function(){if(typeof ArrayBuffer=="function"){var h=new ArrayBuffer(8);Object.isExtensible(h)&&Object.defineProperty(h,"a",{value:8})}})},4373:function(o,c,n){"use strict";var u=n(8981),h=n(5610),g=n(6198);o.exports=function(m){for(var y=u(this),_=g(y),w=arguments.length,k=h(w>1?arguments[1]:void 0,_),A=w>2?arguments[2]:void 0,L=A===void 0?_:h(A,_);L>k;)y[k++]=m;return y}},235:function(o,c,n){"use strict";var u=n(9213).forEach,h=n(4598)("forEach");o.exports=h?[].forEach:function(g){return u(this,g,arguments.length>1?arguments[1]:void 0)}},7916:function(o,c,n){"use strict";var u=n(6080),h=n(9565),g=n(8981),m=n(6319),y=n(4209),_=n(3517),w=n(6198),k=n(4659),A=n(81),L=n(851),T=Array;o.exports=function(E){var a=g(E),p=_(this),v=arguments.length,d=v>1?arguments[1]:void 0,x=d!==void 0;x&&(d=u(d,v>2?arguments[2]:void 0));var C,N,G,q,K,oe,J=L(a),Q=0;if(!J||this===T&&y(J))for(C=w(a),N=p?new this(C):T(C);C>Q;Q++)oe=x?d(a[Q],Q):a[Q],k(N,Q,oe);else for(N=p?new this:[],K=(q=A(a,J)).next;!(G=h(K,q)).done;Q++)oe=x?m(q,d,[G.value,Q],!0):G.value,k(N,Q,oe);return N.length=Q,N}},9617:function(o,c,n){"use strict";var u=n(5397),h=n(5610),g=n(6198),m=function(y){return function(_,w,k){var A=u(_),L=g(A);if(L===0)return!y&&-1;var T,E=h(k,L);if(y&&w!=w){for(;L>E;)if((T=A[E++])!=T)return!0}else for(;L>E;E++)if((y||E in A)&&A[E]===w)return y||E||0;return!y&&-1}};o.exports={includes:m(!0),indexOf:m(!1)}},9213:function(o,c,n){"use strict";var u=n(6080),h=n(9504),g=n(7055),m=n(8981),y=n(6198),_=n(1469),w=h([].push),k=function(A){var L=A===1,T=A===2,E=A===3,a=A===4,p=A===6,v=A===7,d=A===5||p;return function(x,C,N,G){for(var q,K,oe=m(x),J=g(oe),Q=y(J),Oe=u(C,N),ge=0,W=G||_,se=L?W(x,Q):T||v?W(x,0):void 0;Q>ge;ge++)if((d||ge in J)&&(K=Oe(q=J[ge],ge,oe),A))if(L)se[ge]=K;else if(K)switch(A){case 3:return!0;case 5:return q;case 6:return ge;case 2:w(se,q)}else switch(A){case 4:return!1;case 7:w(se,q)}return p?-1:E||a?a:se}};o.exports={forEach:k(0),map:k(1),filter:k(2),some:k(3),every:k(4),find:k(5),findIndex:k(6),filterReject:k(7)}},597:function(o,c,n){"use strict";var u=n(9039),h=n(8227),g=n(9519),m=h("species");o.exports=function(y){return g>=51||!u(function(){var _=[];return(_.constructor={})[m]=function(){return{foo:1}},_[y](Boolean).foo!==1})}},4598:function(o,c,n){"use strict";var u=n(9039);o.exports=function(h,g){var m=[][h];return!!m&&u(function(){m.call(null,g||function(){return 1},1)})}},926:function(o,c,n){"use strict";var u=n(9306),h=n(8981),g=n(7055),m=n(6198),y=TypeError,_="Reduce of empty array with no initial value",w=function(k){return function(A,L,T,E){var a=h(A),p=g(a),v=m(a);if(u(L),v===0&&T<2)throw new y(_);var d=k?v-1:0,x=k?-1:1;if(T<2)for(;;){if(d in p){E=p[d],d+=x;break}if(d+=x,k?d<0:v<=d)throw new y(_)}for(;k?d>=0:v>d;d+=x)d in p&&(E=L(E,p[d],d,a));return E}};o.exports={left:w(!1),right:w(!0)}},4527:function(o,c,n){"use strict";var u=n(3724),h=n(4376),g=TypeError,m=Object.getOwnPropertyDescriptor,y=u&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(_){return _ instanceof TypeError}}();o.exports=y?function(_,w){if(h(_)&&!m(_,"length").writable)throw new g("Cannot set read only .length");return _.length=w}:function(_,w){return _.length=w}},7680:function(o,c,n){"use strict";var u=n(9504);o.exports=u([].slice)},4488:function(o,c,n){"use strict";var u=n(7680),h=Math.floor,g=function(m,y){var _=m.length;if(_<8)for(var w,k,A=1;A<_;){for(k=A,w=m[A];k&&y(m[k-1],w)>0;)m[k]=m[--k];k!==A++&&(m[k]=w)}else for(var L=h(_/2),T=g(u(m,0,L),y),E=g(u(m,L),y),a=T.length,p=E.length,v=0,d=0;v<a||d<p;)m[v+d]=v<a&&d<p?y(T[v],E[d])<=0?T[v++]:E[d++]:v<a?T[v++]:E[d++];return m};o.exports=g},7433:function(o,c,n){"use strict";var u=n(4376),h=n(3517),g=n(34),m=n(8227)("species"),y=Array;o.exports=function(_){var w;return u(_)&&(w=_.constructor,(h(w)&&(w===y||u(w.prototype))||g(w)&&(w=w[m])===null)&&(w=void 0)),w===void 0?y:w}},1469:function(o,c,n){"use strict";var u=n(7433);o.exports=function(h,g){return new(u(h))(g===0?0:g)}},6319:function(o,c,n){"use strict";var u=n(8551),h=n(9539);o.exports=function(g,m,y,_){try{return _?m(u(y)[0],y[1]):m(y)}catch(w){h(g,"throw",w)}}},4428:function(o,c,n){"use strict";var u=n(8227)("iterator"),h=!1;try{var g=0,m={next:function(){return{done:!!g++}},return:function(){h=!0}};m[u]=function(){return this},Array.from(m,function(){throw 2})}catch(y){}o.exports=function(y,_){try{if(!_&&!h)return!1}catch(A){return!1}var w=!1;try{var k={};k[u]=function(){return{next:function(){return{done:w=!0}}}},y(k)}catch(A){}return w}},2195:function(o,c,n){"use strict";var u=n(9504),h=u({}.toString),g=u("".slice);o.exports=function(m){return g(h(m),8,-1)}},6955:function(o,c,n){"use strict";var u=n(2140),h=n(4901),g=n(2195),m=n(8227)("toStringTag"),y=Object,_=g(function(){return arguments}())==="Arguments";o.exports=u?g:function(w){var k,A,L;return w===void 0?"Undefined":w===null?"Null":typeof(A=function(T,E){try{return T[E]}catch(a){}}(k=y(w),m))=="string"?A:_?g(k):(L=g(k))==="Object"&&h(k.callee)?"Arguments":L}},6938:function(o,c,n){"use strict";var u=n(2360),h=n(2106),g=n(6279),m=n(6080),y=n(679),_=n(4117),w=n(2652),k=n(1088),A=n(2529),L=n(7633),T=n(3724),E=n(3451).fastKey,a=n(1181),p=a.set,v=a.getterFor;o.exports={getConstructor:function(d,x,C,N){var G=d(function(Q,Oe){y(Q,q),p(Q,{type:x,index:u(null),first:null,last:null,size:0}),T||(Q.size=0),_(Oe)||w(Oe,Q[N],{that:Q,AS_ENTRIES:C})}),q=G.prototype,K=v(x),oe=function(Q,Oe,ge){var W,se,de=K(Q),Z=J(Q,Oe);return Z?Z.value=ge:(de.last=Z={index:se=E(Oe,!0),key:Oe,value:ge,previous:W=de.last,next:null,removed:!1},de.first||(de.first=Z),W&&(W.next=Z),T?de.size++:Q.size++,se!=="F"&&(de.index[se]=Z)),Q},J=function(Q,Oe){var ge,W=K(Q),se=E(Oe);if(se!=="F")return W.index[se];for(ge=W.first;ge;ge=ge.next)if(ge.key===Oe)return ge};return g(q,{clear:function(){for(var Q=K(this),Oe=Q.first;Oe;)Oe.removed=!0,Oe.previous&&(Oe.previous=Oe.previous.next=null),Oe=Oe.next;Q.first=Q.last=null,Q.index=u(null),T?Q.size=0:this.size=0},delete:function(Q){var Oe=this,ge=K(Oe),W=J(Oe,Q);if(W){var se=W.next,de=W.previous;delete ge.index[W.index],W.removed=!0,de&&(de.next=se),se&&(se.previous=de),ge.first===W&&(ge.first=se),ge.last===W&&(ge.last=de),T?ge.size--:Oe.size--}return!!W},forEach:function(Q){for(var Oe,ge=K(this),W=m(Q,arguments.length>1?arguments[1]:void 0);Oe=Oe?Oe.next:ge.first;)for(W(Oe.value,Oe.key,this);Oe&&Oe.removed;)Oe=Oe.previous},has:function(Q){return!!J(this,Q)}}),g(q,C?{get:function(Q){var Oe=J(this,Q);return Oe&&Oe.value},set:function(Q,Oe){return oe(this,Q===0?0:Q,Oe)}}:{add:function(Q){return oe(this,Q=Q===0?0:Q,Q)}}),T&&h(q,"size",{configurable:!0,get:function(){return K(this).size}}),G},setStrong:function(d,x,C){var N=x+" Iterator",G=v(x),q=v(N);k(d,x,function(K,oe){p(this,{type:N,target:K,state:G(K),kind:oe,last:null})},function(){for(var K=q(this),oe=K.kind,J=K.last;J&&J.removed;)J=J.previous;return K.target&&(K.last=J=J?J.next:K.state.first)?A(oe==="keys"?J.key:oe==="values"?J.value:[J.key,J.value],!1):(K.target=null,A(void 0,!0))},C?"entries":"values",!C,!0),L(x)}}},4006:function(o,c,n){"use strict";var u=n(9504),h=n(6279),g=n(3451).getWeakData,m=n(679),y=n(8551),_=n(4117),w=n(34),k=n(2652),A=n(9213),L=n(9297),T=n(1181),E=T.set,a=T.getterFor,p=A.find,v=A.findIndex,d=u([].splice),x=0,C=function(q){return q.frozen||(q.frozen=new N)},N=function(){this.entries=[]},G=function(q,K){return p(q.entries,function(oe){return oe[0]===K})};N.prototype={get:function(q){var K=G(this,q);if(K)return K[1]},has:function(q){return!!G(this,q)},set:function(q,K){var oe=G(this,q);oe?oe[1]=K:this.entries.push([q,K])},delete:function(q){var K=v(this.entries,function(oe){return oe[0]===q});return~K&&d(this.entries,K,1),!!~K}},o.exports={getConstructor:function(q,K,oe,J){var Q=q(function(se,de){m(se,Oe),E(se,{type:K,id:x++,frozen:null}),_(de)||k(de,se[J],{that:se,AS_ENTRIES:oe})}),Oe=Q.prototype,ge=a(K),W=function(se,de,Z){var ye=ge(se),Y=g(y(de),!0);return Y===!0?C(ye).set(de,Z):Y[ye.id]=Z,se};return h(Oe,{delete:function(se){var de=ge(this);if(!w(se))return!1;var Z=g(se);return Z===!0?C(de).delete(se):Z&&L(Z,de.id)&&delete Z[de.id]},has:function(se){var de=ge(this);if(!w(se))return!1;var Z=g(se);return Z===!0?C(de).has(se):Z&&L(Z,de.id)}}),h(Oe,oe?{get:function(se){var de=ge(this);if(w(se)){var Z=g(se);if(Z===!0)return C(de).get(se);if(Z)return Z[de.id]}},set:function(se,de){return W(this,se,de)}}:{add:function(se){return W(this,se,!0)}}),Q}}},6468:function(o,c,n){"use strict";var u=n(6518),h=n(4576),g=n(9504),m=n(2796),y=n(6840),_=n(3451),w=n(2652),k=n(679),A=n(4901),L=n(4117),T=n(34),E=n(9039),a=n(4428),p=n(687),v=n(3167);o.exports=function(d,x,C){var N=d.indexOf("Map")!==-1,G=d.indexOf("Weak")!==-1,q=N?"set":"add",K=h[d],oe=K&&K.prototype,J=K,Q={},Oe=function(ye){var Y=g(oe[ye]);y(oe,ye,ye==="add"?function(ce){return Y(this,ce===0?0:ce),this}:ye==="delete"?function(ce){return!(G&&!T(ce))&&Y(this,ce===0?0:ce)}:ye==="get"?function(ce){return G&&!T(ce)?void 0:Y(this,ce===0?0:ce)}:ye==="has"?function(ce){return!(G&&!T(ce))&&Y(this,ce===0?0:ce)}:function(ce,Ge){return Y(this,ce===0?0:ce,Ge),this})};if(m(d,!A(K)||!(G||oe.forEach&&!E(function(){new K().entries().next()}))))J=C.getConstructor(x,d,N,q),_.enable();else if(m(d,!0)){var ge=new J,W=ge[q](G?{}:-0,1)!==ge,se=E(function(){ge.has(1)}),de=a(function(ye){new K(ye)}),Z=!G&&E(function(){for(var ye=new K,Y=5;Y--;)ye[q](Y,Y);return!ye.has(-0)});de||((J=x(function(ye,Y){k(ye,oe);var ce=v(new K,ye,J);return L(Y)||w(Y,ce[q],{that:ce,AS_ENTRIES:N}),ce})).prototype=oe,oe.constructor=J),(se||Z)&&(Oe("delete"),Oe("has"),N&&Oe("get")),(Z||W)&&Oe(q),G&&oe.clear&&delete oe.clear}return Q[d]=J,u({global:!0,constructor:!0,forced:J!==K},Q),p(J,d),G||C.setStrong(J,d,N),J}},7740:function(o,c,n){"use strict";var u=n(9297),h=n(5031),g=n(7347),m=n(4913);o.exports=function(y,_,w){for(var k=h(_),A=m.f,L=g.f,T=0;T<k.length;T++){var E=k[T];u(y,E)||w&&u(w,E)||A(y,E,L(_,E))}}},1436:function(o,c,n){"use strict";var u=n(8227)("match");o.exports=function(h){var g=/./;try{"/./"[h](g)}catch(m){try{return g[u]=!1,"/./"[h](g)}catch(y){}}return!1}},2211:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})},2529:function(o){"use strict";o.exports=function(c,n){return{value:c,done:n}}},6699:function(o,c,n){"use strict";var u=n(3724),h=n(4913),g=n(6980);o.exports=u?function(m,y,_){return h.f(m,y,g(1,_))}:function(m,y,_){return m[y]=_,m}},6980:function(o){"use strict";o.exports=function(c,n){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:n}}},4659:function(o,c,n){"use strict";var u=n(3724),h=n(4913),g=n(6980);o.exports=function(m,y,_){u?h.f(m,y,g(0,_)):m[y]=_}},3640:function(o,c,n){"use strict";var u=n(8551),h=n(4270),g=TypeError;o.exports=function(m){if(u(this),m==="string"||m==="default")m="string";else if(m!=="number")throw new g("Incorrect hint");return h(this,m)}},2106:function(o,c,n){"use strict";var u=n(283),h=n(4913);o.exports=function(g,m,y){return y.get&&u(y.get,m,{getter:!0}),y.set&&u(y.set,m,{setter:!0}),h.f(g,m,y)}},6840:function(o,c,n){"use strict";var u=n(4901),h=n(4913),g=n(283),m=n(9433);o.exports=function(y,_,w,k){k||(k={});var A=k.enumerable,L=k.name!==void 0?k.name:_;if(u(w)&&g(w,L,k),k.global)A?y[_]=w:m(_,w);else{try{k.unsafe?y[_]&&(A=!0):delete y[_]}catch(T){}A?y[_]=w:h.f(y,_,{value:w,enumerable:!1,configurable:!k.nonConfigurable,writable:!k.nonWritable})}return y}},6279:function(o,c,n){"use strict";var u=n(6840);o.exports=function(h,g,m){for(var y in g)u(h,y,g[y],m);return h}},9433:function(o,c,n){"use strict";var u=n(4576),h=Object.defineProperty;o.exports=function(g,m){try{h(u,g,{value:m,configurable:!0,writable:!0})}catch(y){u[g]=m}return m}},4606:function(o,c,n){"use strict";var u=n(6823),h=TypeError;o.exports=function(g,m){if(!delete g[m])throw new h("Cannot delete property "+u(m)+" of "+u(g))}},3724:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},4055:function(o,c,n){"use strict";var u=n(4576),h=n(34),g=u.document,m=h(g)&&h(g.createElement);o.exports=function(y){return m?g.createElement(y):{}}},6837:function(o){"use strict";var c=TypeError;o.exports=function(n){if(n>9007199254740991)throw c("Maximum allowed index exceeded");return n}},7400:function(o){"use strict";o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:function(o,c,n){"use strict";var u=n(4055)("span").classList,h=u&&u.constructor&&u.constructor.prototype;o.exports=h===Object.prototype?void 0:h},8727:function(o){"use strict";o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:function(o,c,n){"use strict";var u=n(2839).match(/firefox\/(\d+)/i);o.exports=!!u&&+u[1]},3763:function(o,c,n){"use strict";var u=n(2839);o.exports=/MSIE|Trident/.test(u)},4265:function(o,c,n){"use strict";var u=n(2839);o.exports=/ipad|iphone|ipod/i.test(u)&&typeof Pebble<"u"},9544:function(o,c,n){"use strict";var u=n(2839);o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(u)},6193:function(o,c,n){"use strict";var u=n(4215);o.exports=u==="NODE"},7860:function(o,c,n){"use strict";var u=n(2839);o.exports=/web0s(?!.*chrome)/i.test(u)},2839:function(o,c,n){"use strict";var u=n(4576).navigator,h=u&&u.userAgent;o.exports=h?String(h):""},9519:function(o,c,n){"use strict";var u,h,g=n(4576),m=n(2839),y=g.process,_=g.Deno,w=y&&y.versions||_&&_.version,k=w&&w.v8;k&&(h=(u=k.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!h&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(h=+u[1]),o.exports=h},3607:function(o,c,n){"use strict";var u=n(2839).match(/AppleWebKit\/(\d+)\./);o.exports=!!u&&+u[1]},4215:function(o,c,n){"use strict";var u=n(4576),h=n(2839),g=n(2195),m=function(y){return h.slice(0,y.length)===y};o.exports=m("Bun/")?"BUN":m("Cloudflare-Workers")?"CLOUDFLARE":m("Deno/")?"DENO":m("Node.js/")?"NODE":u.Bun&&typeof Bun.version=="string"?"BUN":u.Deno&&typeof Deno.version=="object"?"DENO":g(u.process)==="process"?"NODE":u.window&&u.document?"BROWSER":"REST"},6518:function(o,c,n){"use strict";var u=n(4576),h=n(7347).f,g=n(6699),m=n(6840),y=n(9433),_=n(7740),w=n(2796);o.exports=function(k,A){var L,T,E,a,p,v=k.target,d=k.global,x=k.stat;if(L=d?u:x?u[v]||y(v,{}):u[v]&&u[v].prototype)for(T in A){if(a=A[T],E=k.dontCallGetSet?(p=h(L,T))&&p.value:L[T],!w(d?T:v+(x?".":"#")+T,k.forced)&&E!==void 0){if(typeof a==typeof E)continue;_(a,E)}(k.sham||E&&E.sham)&&g(a,"sham",!0),m(L,T,a,k)}}},9039:function(o){"use strict";o.exports=function(c){try{return!!c()}catch(n){return!0}}},9228:function(o,c,n){"use strict";n(7495);var u=n(9565),h=n(6840),g=n(7323),m=n(9039),y=n(8227),_=n(6699),w=y("species"),k=RegExp.prototype;o.exports=function(A,L,T,E){var a=y(A),p=!m(function(){var C={};return C[a]=function(){return 7},""[A](C)!==7}),v=p&&!m(function(){var C=!1,N=/a/;return A==="split"&&((N={}).constructor={},N.constructor[w]=function(){return N},N.flags="",N[a]=/./[a]),N.exec=function(){return C=!0,null},N[a](""),!C});if(!p||!v||T){var d=/./[a],x=L(a,""[A],function(C,N,G,q,K){var oe=N.exec;return oe===g||oe===k.exec?p&&!K?{done:!0,value:u(d,N,G,q)}:{done:!0,value:u(C,G,N,q)}:{done:!1}});h(String.prototype,A,x[0]),h(k,a,x[1])}E&&_(k[a],"sham",!0)}},259:function(o,c,n){"use strict";var u=n(4376),h=n(6198),g=n(6837),m=n(6080),y=function(_,w,k,A,L,T,E,a){for(var p,v,d=L,x=0,C=!!E&&m(E,a);x<A;)x in k&&(p=C?C(k[x],x,w):k[x],T>0&&u(p)?(v=h(p),d=y(_,w,p,v,d,T-1)-1):(g(d+1),_[d]=p),d++),x++;return d};o.exports=y},2744:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){return Object.isExtensible(Object.preventExtensions({}))})},8745:function(o,c,n){"use strict";var u=n(616),h=Function.prototype,g=h.apply,m=h.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(u?m.bind(g):function(){return m.apply(g,arguments)})},6080:function(o,c,n){"use strict";var u=n(7476),h=n(9306),g=n(616),m=u(u.bind);o.exports=function(y,_){return h(y),_===void 0?y:g?m(y,_):function(){return y.apply(_,arguments)}}},616:function(o,c,n){"use strict";var u=n(9039);o.exports=!u(function(){var h=function(){}.bind();return typeof h!="function"||h.hasOwnProperty("prototype")})},566:function(o,c,n){"use strict";var u=n(9504),h=n(9306),g=n(34),m=n(9297),y=n(7680),_=n(616),w=Function,k=u([].concat),A=u([].join),L={};o.exports=_?w.bind:function(T){var E=h(this),a=E.prototype,p=y(arguments,1),v=function(){var d=k(p,y(arguments));return this instanceof v?function(x,C,N){if(!m(L,C)){for(var G=[],q=0;q<C;q++)G[q]="a["+q+"]";L[C]=w("C,a","return new C("+A(G,",")+")")}return L[C](x,N)}(E,d.length,d):E.apply(T,d)};return g(a)&&(v.prototype=a),v}},9565:function(o,c,n){"use strict";var u=n(616),h=Function.prototype.call;o.exports=u?h.bind(h):function(){return h.apply(h,arguments)}},350:function(o,c,n){"use strict";var u=n(3724),h=n(9297),g=Function.prototype,m=u&&Object.getOwnPropertyDescriptor,y=h(g,"name"),_=y&&function(){}.name==="something",w=y&&(!u||u&&m(g,"name").configurable);o.exports={EXISTS:y,PROPER:_,CONFIGURABLE:w}},6706:function(o,c,n){"use strict";var u=n(9504),h=n(9306);o.exports=function(g,m,y){try{return u(h(Object.getOwnPropertyDescriptor(g,m)[y]))}catch(_){}}},7476:function(o,c,n){"use strict";var u=n(2195),h=n(9504);o.exports=function(g){if(u(g)==="Function")return h(g)}},9504:function(o,c,n){"use strict";var u=n(616),h=Function.prototype,g=h.call,m=u&&h.bind.bind(g,g);o.exports=u?m:function(y){return function(){return g.apply(y,arguments)}}},7751:function(o,c,n){"use strict";var u=n(4576),h=n(4901);o.exports=function(g,m){return arguments.length<2?(y=u[g],h(y)?y:void 0):u[g]&&u[g][m];var y}},851:function(o,c,n){"use strict";var u=n(6955),h=n(5966),g=n(4117),m=n(6269),y=n(8227)("iterator");o.exports=function(_){if(!g(_))return h(_,y)||h(_,"@@iterator")||m[u(_)]}},81:function(o,c,n){"use strict";var u=n(9565),h=n(9306),g=n(8551),m=n(6823),y=n(851),_=TypeError;o.exports=function(w,k){var A=arguments.length<2?y(w):k;if(h(A))return g(u(A,w));throw new _(m(w)+" is not iterable")}},6933:function(o,c,n){"use strict";var u=n(9504),h=n(4376),g=n(4901),m=n(2195),y=n(655),_=u([].push);o.exports=function(w){if(g(w))return w;if(h(w)){for(var k=w.length,A=[],L=0;L<k;L++){var T=w[L];typeof T=="string"?_(A,T):typeof T!="number"&&m(T)!=="Number"&&m(T)!=="String"||_(A,y(T))}var E=A.length,a=!0;return function(p,v){if(a)return a=!1,v;if(h(this))return v;for(var d=0;d<E;d++)if(A[d]===p)return v}}}},5966:function(o,c,n){"use strict";var u=n(9306),h=n(4117);o.exports=function(g,m){var y=g[m];return h(y)?void 0:u(y)}},2478:function(o,c,n){"use strict";var u=n(9504),h=n(8981),g=Math.floor,m=u("".charAt),y=u("".replace),_=u("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,k=/\$([$&'`]|\d{1,2})/g;o.exports=function(A,L,T,E,a,p){var v=T+A.length,d=E.length,x=k;return a!==void 0&&(a=h(a),x=w),y(p,x,function(C,N){var G;switch(m(N,0)){case"$":return"$";case"&":return A;case"`":return _(L,0,T);case"'":return _(L,v);case"<":G=a[_(N,1,-1)];break;default:var q=+N;if(q===0)return C;if(q>d){var K=g(q/10);return K===0?C:K<=d?E[K-1]===void 0?m(N,1):E[K-1]+m(N,1):C}G=E[q-1]}return G===void 0?"":G})}},4576:function(o,c,n){"use strict";var u=function(h){return h&&h.Math===Math&&h};o.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof n.g=="object"&&n.g)||u(typeof this=="object"&&this)||function(){return this}()||Function("return this")()},9297:function(o,c,n){"use strict";var u=n(9504),h=n(8981),g=u({}.hasOwnProperty);o.exports=Object.hasOwn||function(m,y){return g(h(m),y)}},421:function(o){"use strict";o.exports={}},3138:function(o){"use strict";o.exports=function(c,n){try{arguments.length===1?console.error(c):console.error(c,n)}catch(u){}}},397:function(o,c,n){"use strict";var u=n(7751);o.exports=u("document","documentElement")},5917:function(o,c,n){"use strict";var u=n(3724),h=n(9039),g=n(4055);o.exports=!u&&!h(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!==7})},7055:function(o,c,n){"use strict";var u=n(9504),h=n(9039),g=n(2195),m=Object,y=u("".split);o.exports=h(function(){return!m("z").propertyIsEnumerable(0)})?function(_){return g(_)==="String"?y(_,""):m(_)}:m},3167:function(o,c,n){"use strict";var u=n(4901),h=n(34),g=n(2967);o.exports=function(m,y,_){var w,k;return g&&u(w=y.constructor)&&w!==_&&h(k=w.prototype)&&k!==_.prototype&&g(m,k),m}},3706:function(o,c,n){"use strict";var u=n(9504),h=n(4901),g=n(7629),m=u(Function.toString);h(g.inspectSource)||(g.inspectSource=function(y){return m(y)}),o.exports=g.inspectSource},3451:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(421),m=n(34),y=n(9297),_=n(4913).f,w=n(8480),k=n(298),A=n(4124),L=n(3392),T=n(2744),E=!1,a=L("meta"),p=0,v=function(x){_(x,a,{value:{objectID:"O"+p++,weakData:{}}})},d=o.exports={enable:function(){d.enable=function(){},E=!0;var x=w.f,C=h([].splice),N={};N[a]=1,x(N).length&&(w.f=function(G){for(var q=x(G),K=0,oe=q.length;K<oe;K++)if(q[K]===a){C(q,K,1);break}return q},u({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:k.f}))},fastKey:function(x,C){if(!m(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!y(x,a)){if(!A(x))return"F";if(!C)return"E";v(x)}return x[a].objectID},getWeakData:function(x,C){if(!y(x,a)){if(!A(x))return!0;if(!C)return!1;v(x)}return x[a].weakData},onFreeze:function(x){return T&&E&&A(x)&&!y(x,a)&&v(x),x}};g[a]=!0},1181:function(o,c,n){"use strict";var u,h,g,m=n(8622),y=n(4576),_=n(34),w=n(6699),k=n(9297),A=n(7629),L=n(6119),T=n(421),E="Object already initialized",a=y.TypeError,p=y.WeakMap;if(m||A.state){var v=A.state||(A.state=new p);v.get=v.get,v.has=v.has,v.set=v.set,u=function(x,C){if(v.has(x))throw new a(E);return C.facade=x,v.set(x,C),C},h=function(x){return v.get(x)||{}},g=function(x){return v.has(x)}}else{var d=L("state");T[d]=!0,u=function(x,C){if(k(x,d))throw new a(E);return C.facade=x,w(x,d,C),C},h=function(x){return k(x,d)?x[d]:{}},g=function(x){return k(x,d)}}o.exports={set:u,get:h,has:g,enforce:function(x){return g(x)?h(x):u(x,{})},getterFor:function(x){return function(C){var N;if(!_(C)||(N=h(C)).type!==x)throw new a("Incompatible receiver, "+x+" required");return N}}}},4209:function(o,c,n){"use strict";var u=n(8227),h=n(6269),g=u("iterator"),m=Array.prototype;o.exports=function(y){return y!==void 0&&(h.Array===y||m[g]===y)}},4376:function(o,c,n){"use strict";var u=n(2195);o.exports=Array.isArray||function(h){return u(h)==="Array"}},4901:function(o){"use strict";var c=typeof document=="object"&&document.all;o.exports=c===void 0&&c!==void 0?function(n){return typeof n=="function"||n===c}:function(n){return typeof n=="function"}},3517:function(o,c,n){"use strict";var u=n(9504),h=n(9039),g=n(4901),m=n(6955),y=n(7751),_=n(3706),w=function(){},k=y("Reflect","construct"),A=/^\s*(?:class|function)\b/,L=u(A.exec),T=!A.test(w),E=function(p){if(!g(p))return!1;try{return k(w,[],p),!0}catch(v){return!1}},a=function(p){if(!g(p))return!1;switch(m(p)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return T||!!L(A,_(p))}catch(v){return!0}};a.sham=!0,o.exports=!k||h(function(){var p;return E(E.call)||!E(Object)||!E(function(){p=!0})||p})?a:E},6575:function(o,c,n){"use strict";var u=n(9297);o.exports=function(h){return h!==void 0&&(u(h,"value")||u(h,"writable"))}},2796:function(o,c,n){"use strict";var u=n(9039),h=n(4901),g=/#|\.prototype\./,m=function(A,L){var T=_[y(A)];return T===k||T!==w&&(h(L)?u(L):!!L)},y=m.normalize=function(A){return String(A).replace(g,".").toLowerCase()},_=m.data={},w=m.NATIVE="N",k=m.POLYFILL="P";o.exports=m},4117:function(o){"use strict";o.exports=function(c){return c==null}},34:function(o,c,n){"use strict";var u=n(4901);o.exports=function(h){return typeof h=="object"?h!==null:u(h)}},3925:function(o,c,n){"use strict";var u=n(34);o.exports=function(h){return u(h)||h===null}},6395:function(o){"use strict";o.exports=!1},788:function(o,c,n){"use strict";var u=n(34),h=n(2195),g=n(8227)("match");o.exports=function(m){var y;return u(m)&&((y=m[g])!==void 0?!!y:h(m)==="RegExp")}},757:function(o,c,n){"use strict";var u=n(7751),h=n(4901),g=n(1625),m=n(7040),y=Object;o.exports=m?function(_){return typeof _=="symbol"}:function(_){var w=u("Symbol");return h(w)&&g(w.prototype,y(_))}},2652:function(o,c,n){"use strict";var u=n(6080),h=n(9565),g=n(8551),m=n(6823),y=n(4209),_=n(6198),w=n(1625),k=n(81),A=n(851),L=n(9539),T=TypeError,E=function(p,v){this.stopped=p,this.result=v},a=E.prototype;o.exports=function(p,v,d){var x,C,N,G,q,K,oe,J=d&&d.that,Q=!(!d||!d.AS_ENTRIES),Oe=!(!d||!d.IS_RECORD),ge=!(!d||!d.IS_ITERATOR),W=!(!d||!d.INTERRUPTED),se=u(v,J),de=function(ye){return x&&L(x,"normal",ye),new E(!0,ye)},Z=function(ye){return Q?(g(ye),W?se(ye[0],ye[1],de):se(ye[0],ye[1])):W?se(ye,de):se(ye)};if(Oe)x=p.iterator;else if(ge)x=p;else{if(!(C=A(p)))throw new T(m(p)+" is not iterable");if(y(C)){for(N=0,G=_(p);G>N;N++)if((q=Z(p[N]))&&w(a,q))return q;return new E(!1)}x=k(p,C)}for(K=Oe?p.next:x.next;!(oe=h(K,x)).done;){try{q=Z(oe.value)}catch(ye){L(x,"throw",ye)}if(typeof q=="object"&&q&&w(a,q))return q}return new E(!1)}},9539:function(o,c,n){"use strict";var u=n(9565),h=n(8551),g=n(5966);o.exports=function(m,y,_){var w,k;h(m);try{if(!(w=g(m,"return"))){if(y==="throw")throw _;return _}w=u(w,m)}catch(A){k=!0,w=A}if(y==="throw")throw _;if(k)throw w;return h(w),_}},3994:function(o,c,n){"use strict";var u=n(7657).IteratorPrototype,h=n(2360),g=n(6980),m=n(687),y=n(6269),_=function(){return this};o.exports=function(w,k,A,L){var T=k+" Iterator";return w.prototype=h(u,{next:g(+!L,A)}),m(w,T,!1,!0),y[T]=_,w}},1088:function(o,c,n){"use strict";var u=n(6518),h=n(9565),g=n(6395),m=n(350),y=n(4901),_=n(3994),w=n(2787),k=n(2967),A=n(687),L=n(6699),T=n(6840),E=n(8227),a=n(6269),p=n(7657),v=m.PROPER,d=m.CONFIGURABLE,x=p.IteratorPrototype,C=p.BUGGY_SAFARI_ITERATORS,N=E("iterator"),G="keys",q="values",K="entries",oe=function(){return this};o.exports=function(J,Q,Oe,ge,W,se,de){_(Oe,Q,ge);var Z,ye,Y,ce=function(Re){if(Re===W&&Se)return Se;if(!C&&Re&&Re in st)return st[Re];switch(Re){case G:case q:case K:return function(){return new Oe(this,Re)}}return function(){return new Oe(this)}},Ge=Q+" Iterator",ht=!1,st=J.prototype,qe=st[N]||st["@@iterator"]||W&&st[W],Se=!C&&qe||ce(W),Ie=Q==="Array"&&st.entries||qe;if(Ie&&(Z=w(Ie.call(new J)))!==Object.prototype&&Z.next&&(g||w(Z)===x||(k?k(Z,x):y(Z[N])||T(Z,N,oe)),A(Z,Ge,!0,!0),g&&(a[Ge]=oe)),v&&W===q&&qe&&qe.name!==q&&(!g&&d?L(st,"name",q):(ht=!0,Se=function(){return h(qe,this)})),W)if(ye={values:ce(q),keys:se?Se:ce(G),entries:ce(K)},de)for(Y in ye)(C||ht||!(Y in st))&&T(st,Y,ye[Y]);else u({target:Q,proto:!0,forced:C||ht},ye);return g&&!de||st[N]===Se||T(st,N,Se,{name:W}),a[Q]=Se,ye}},7657:function(o,c,n){"use strict";var u,h,g,m=n(9039),y=n(4901),_=n(34),w=n(2360),k=n(2787),A=n(6840),L=n(8227),T=n(6395),E=L("iterator"),a=!1;[].keys&&("next"in(g=[].keys())?(h=k(k(g)))!==Object.prototype&&(u=h):a=!0),!_(u)||m(function(){var p={};return u[E].call(p)!==p})?u={}:T&&(u=w(u)),y(u[E])||A(u,E,function(){return this}),o.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:a}},6269:function(o){"use strict";o.exports={}},6198:function(o,c,n){"use strict";var u=n(8014);o.exports=function(h){return u(h.length)}},283:function(o,c,n){"use strict";var u=n(9504),h=n(9039),g=n(4901),m=n(9297),y=n(3724),_=n(350).CONFIGURABLE,w=n(3706),k=n(1181),A=k.enforce,L=k.get,T=String,E=Object.defineProperty,a=u("".slice),p=u("".replace),v=u([].join),d=y&&!h(function(){return E(function(){},"length",{value:8}).length!==8}),x=String(String).split("String"),C=o.exports=function(N,G,q){a(T(G),0,7)==="Symbol("&&(G="["+p(T(G),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),q&&q.getter&&(G="get "+G),q&&q.setter&&(G="set "+G),(!m(N,"name")||_&&N.name!==G)&&(y?E(N,"name",{value:G,configurable:!0}):N.name=G),d&&q&&m(q,"arity")&&N.length!==q.arity&&E(N,"length",{value:q.arity});try{q&&m(q,"constructor")&&q.constructor?y&&E(N,"prototype",{writable:!1}):N.prototype&&(N.prototype=void 0)}catch(oe){}var K=A(N);return m(K,"source")||(K.source=v(x,typeof G=="string"?G:"")),N};Function.prototype.toString=C(function(){return g(this)&&L(this).source||w(this)},"toString")},7782:function(o){"use strict";o.exports=Math.sign||function(c){var n=+c;return n===0||n!=n?n:n<0?-1:1}},741:function(o){"use strict";var c=Math.ceil,n=Math.floor;o.exports=Math.trunc||function(u){var h=+u;return(h>0?n:c)(h)}},1955:function(o,c,n){"use strict";var u,h,g,m,y,_=n(4576),w=n(3389),k=n(6080),A=n(9225).set,L=n(8265),T=n(9544),E=n(4265),a=n(7860),p=n(6193),v=_.MutationObserver||_.WebKitMutationObserver,d=_.document,x=_.process,C=_.Promise,N=w("queueMicrotask");if(!N){var G=new L,q=function(){var K,oe;for(p&&(K=x.domain)&&K.exit();oe=G.get();)try{oe()}catch(J){throw G.head&&u(),J}K&&K.enter()};T||p||a||!v||!d?!E&&C&&C.resolve?((m=C.resolve(void 0)).constructor=C,y=k(m.then,m),u=function(){y(q)}):p?u=function(){x.nextTick(q)}:(A=k(A,_),u=function(){A(q)}):(h=!0,g=d.createTextNode(""),new v(q).observe(g,{characterData:!0}),u=function(){g.data=h=!h}),N=function(K){G.head||u(),G.add(K)}}o.exports=N},6043:function(o,c,n){"use strict";var u=n(9306),h=TypeError,g=function(m){var y,_;this.promise=new m(function(w,k){if(y!==void 0||_!==void 0)throw new h("Bad Promise constructor");y=w,_=k}),this.resolve=u(y),this.reject=u(_)};o.exports.f=function(m){return new g(m)}},2892:function(o,c,n){"use strict";var u=n(788),h=TypeError;o.exports=function(g){if(u(g))throw new h("The method doesn't accept regular expressions");return g}},3904:function(o,c,n){"use strict";var u=n(4576),h=n(9039),g=n(9504),m=n(655),y=n(3802).trim,_=n(7452),w=g("".charAt),k=u.parseFloat,A=u.Symbol,L=A&&A.iterator,T=1/k(_+"-0")!=-1/0||L&&!h(function(){k(Object(L))});o.exports=T?function(E){var a=y(m(E)),p=k(a);return p===0&&w(a,0)==="-"?-0:p}:k},2703:function(o,c,n){"use strict";var u=n(4576),h=n(9039),g=n(9504),m=n(655),y=n(3802).trim,_=n(7452),w=u.parseInt,k=u.Symbol,A=k&&k.iterator,L=/^[+-]?0x/i,T=g(L.exec),E=w(_+"08")!==8||w(_+"0x16")!==22||A&&!h(function(){w(Object(A))});o.exports=E?function(a,p){var v=y(m(a));return w(v,p>>>0||(T(L,v)?16:10))}:w},4213:function(o,c,n){"use strict";var u=n(3724),h=n(9504),g=n(9565),m=n(9039),y=n(1072),_=n(3717),w=n(8773),k=n(8981),A=n(7055),L=Object.assign,T=Object.defineProperty,E=h([].concat);o.exports=!L||m(function(){if(u&&L({b:1},L(T({},"a",{enumerable:!0,get:function(){T(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var a={},p={},v=Symbol("assign detection"),d="abcdefghijklmnopqrst";return a[v]=7,d.split("").forEach(function(x){p[x]=x}),L({},a)[v]!==7||y(L({},p)).join("")!==d})?function(a,p){for(var v=k(a),d=arguments.length,x=1,C=_.f,N=w.f;d>x;)for(var G,q=A(arguments[x++]),K=C?E(y(q),C(q)):y(q),oe=K.length,J=0;oe>J;)G=K[J++],u&&!g(N,q,G)||(v[G]=q[G]);return v}:L},2360:function(o,c,n){"use strict";var u,h=n(8551),g=n(6801),m=n(8727),y=n(421),_=n(397),w=n(4055),k=n(6119),A="prototype",L="script",T=k("IE_PROTO"),E=function(){},a=function(d){return"<"+L+">"+d+"</"+L+">"},p=function(d){d.write(a("")),d.close();var x=d.parentWindow.Object;return d=null,x},v=function(){try{u=new ActiveXObject("htmlfile")}catch(G){}var d,x,C;v=typeof document<"u"?document.domain&&u?p(u):(x=w("iframe"),C="java"+L+":",x.style.display="none",_.appendChild(x),x.src=String(C),(d=x.contentWindow.document).open(),d.write(a("document.F=Object")),d.close(),d.F):p(u);for(var N=m.length;N--;)delete v[A][m[N]];return v()};y[T]=!0,o.exports=Object.create||function(d,x){var C;return d!==null?(E[A]=h(d),C=new E,E[A]=null,C[T]=d):C=v(),x===void 0?C:g.f(C,x)}},6801:function(o,c,n){"use strict";var u=n(3724),h=n(8686),g=n(4913),m=n(8551),y=n(5397),_=n(1072);c.f=u&&!h?Object.defineProperties:function(w,k){m(w);for(var A,L=y(k),T=_(k),E=T.length,a=0;E>a;)g.f(w,A=T[a++],L[A]);return w}},4913:function(o,c,n){"use strict";var u=n(3724),h=n(5917),g=n(8686),m=n(8551),y=n(6969),_=TypeError,w=Object.defineProperty,k=Object.getOwnPropertyDescriptor,A="enumerable",L="configurable",T="writable";c.f=u?g?function(E,a,p){if(m(E),a=y(a),m(p),typeof E=="function"&&a==="prototype"&&"value"in p&&T in p&&!p[T]){var v=k(E,a);v&&v[T]&&(E[a]=p.value,p={configurable:L in p?p[L]:v[L],enumerable:A in p?p[A]:v[A],writable:!1})}return w(E,a,p)}:w:function(E,a,p){if(m(E),a=y(a),m(p),h)try{return w(E,a,p)}catch(v){}if("get"in p||"set"in p)throw new _("Accessors not supported");return"value"in p&&(E[a]=p.value),E}},7347:function(o,c,n){"use strict";var u=n(3724),h=n(9565),g=n(8773),m=n(6980),y=n(5397),_=n(6969),w=n(9297),k=n(5917),A=Object.getOwnPropertyDescriptor;c.f=u?A:function(L,T){if(L=y(L),T=_(T),k)try{return A(L,T)}catch(E){}if(w(L,T))return m(!h(g.f,L,T),L[T])}},298:function(o,c,n){"use strict";var u=n(2195),h=n(5397),g=n(8480).f,m=n(7680),y=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(_){return y&&u(_)==="Window"?function(w){try{return g(w)}catch(k){return m(y)}}(_):g(h(_))}},8480:function(o,c,n){"use strict";var u=n(1828),h=n(8727).concat("length","prototype");c.f=Object.getOwnPropertyNames||function(g){return u(g,h)}},3717:function(o,c){"use strict";c.f=Object.getOwnPropertySymbols},2787:function(o,c,n){"use strict";var u=n(9297),h=n(4901),g=n(8981),m=n(6119),y=n(2211),_=m("IE_PROTO"),w=Object,k=w.prototype;o.exports=y?w.getPrototypeOf:function(A){var L=g(A);if(u(L,_))return L[_];var T=L.constructor;return h(T)&&L instanceof T?T.prototype:L instanceof w?k:null}},4124:function(o,c,n){"use strict";var u=n(9039),h=n(34),g=n(2195),m=n(5652),y=Object.isExtensible,_=u(function(){y(1)});o.exports=_||m?function(w){return!!h(w)&&(!m||g(w)!=="ArrayBuffer")&&(!y||y(w))}:y},1625:function(o,c,n){"use strict";var u=n(9504);o.exports=u({}.isPrototypeOf)},1828:function(o,c,n){"use strict";var u=n(9504),h=n(9297),g=n(5397),m=n(9617).indexOf,y=n(421),_=u([].push);o.exports=function(w,k){var A,L=g(w),T=0,E=[];for(A in L)!h(y,A)&&h(L,A)&&_(E,A);for(;k.length>T;)h(L,A=k[T++])&&(~m(E,A)||_(E,A));return E}},1072:function(o,c,n){"use strict";var u=n(1828),h=n(8727);o.exports=Object.keys||function(g){return u(g,h)}},8773:function(o,c){"use strict";var n={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,h=u&&!n.call({1:2},1);c.f=h?function(g){var m=u(this,g);return!!m&&m.enumerable}:n},2967:function(o,c,n){"use strict";var u=n(6706),h=n(34),g=n(7750),m=n(3506);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,_=!1,w={};try{(y=u(Object.prototype,"__proto__","set"))(w,[]),_=w instanceof Array}catch(k){}return function(k,A){return g(k),m(A),h(k)&&(_?y(k,A):k.__proto__=A),k}}():void 0)},2357:function(o,c,n){"use strict";var u=n(3724),h=n(9039),g=n(9504),m=n(2787),y=n(1072),_=n(5397),w=g(n(8773).f),k=g([].push),A=u&&h(function(){var T=Object.create(null);return T[2]=2,!w(T,2)}),L=function(T){return function(E){for(var a,p=_(E),v=y(p),d=A&&m(p)===null,x=v.length,C=0,N=[];x>C;)a=v[C++],u&&!(d?a in p:w(p,a))||k(N,T?[a,p[a]]:p[a]);return N}};o.exports={entries:L(!0),values:L(!1)}},3179:function(o,c,n){"use strict";var u=n(2140),h=n(6955);o.exports=u?{}.toString:function(){return"[object "+h(this)+"]"}},4270:function(o,c,n){"use strict";var u=n(9565),h=n(4901),g=n(34),m=TypeError;o.exports=function(y,_){var w,k;if(_==="string"&&h(w=y.toString)&&!g(k=u(w,y))||h(w=y.valueOf)&&!g(k=u(w,y))||_!=="string"&&h(w=y.toString)&&!g(k=u(w,y)))return k;throw new m("Can't convert object to primitive value")}},5031:function(o,c,n){"use strict";var u=n(7751),h=n(9504),g=n(8480),m=n(3717),y=n(8551),_=h([].concat);o.exports=u("Reflect","ownKeys")||function(w){var k=g.f(y(w)),A=m.f;return A?_(k,A(w)):k}},9167:function(o,c,n){"use strict";var u=n(4576);o.exports=u},1103:function(o){"use strict";o.exports=function(c){try{return{error:!1,value:c()}}catch(n){return{error:!0,value:n}}}},916:function(o,c,n){"use strict";var u=n(4576),h=n(550),g=n(4901),m=n(2796),y=n(3706),_=n(8227),w=n(4215),k=n(6395),A=n(9519),L=h&&h.prototype,T=_("species"),E=!1,a=g(u.PromiseRejectionEvent),p=m("Promise",function(){var v=y(h),d=v!==String(h);if(!d&&A===66||k&&(!L.catch||!L.finally))return!0;if(!A||A<51||!/native code/.test(v)){var x=new h(function(N){N(1)}),C=function(N){N(function(){},function(){})};if((x.constructor={})[T]=C,!(E=x.then(function(){})instanceof C))return!0}return!(d||w!=="BROWSER"&&w!=="DENO"||a)});o.exports={CONSTRUCTOR:p,REJECTION_EVENT:a,SUBCLASSING:E}},550:function(o,c,n){"use strict";var u=n(4576);o.exports=u.Promise},3438:function(o,c,n){"use strict";var u=n(8551),h=n(34),g=n(6043);o.exports=function(m,y){if(u(m),h(y)&&y.constructor===m)return y;var _=g.f(m);return(0,_.resolve)(y),_.promise}},537:function(o,c,n){"use strict";var u=n(550),h=n(4428),g=n(916).CONSTRUCTOR;o.exports=g||!h(function(m){u.all(m).then(void 0,function(){})})},1056:function(o,c,n){"use strict";var u=n(4913).f;o.exports=function(h,g,m){m in h||u(h,m,{configurable:!0,get:function(){return g[m]},set:function(y){g[m]=y}})}},8265:function(o){"use strict";var c=function(){this.head=null,this.tail=null};c.prototype={add:function(n){var u={item:n,next:null},h=this.tail;h?h.next=u:this.head=u,this.tail=u},get:function(){var n=this.head;if(n)return(this.head=n.next)===null&&(this.tail=null),n.item}},o.exports=c},6682:function(o,c,n){"use strict";var u=n(9565),h=n(8551),g=n(4901),m=n(2195),y=n(7323),_=TypeError;o.exports=function(w,k){var A=w.exec;if(g(A)){var L=u(A,w,k);return L!==null&&h(L),L}if(m(w)==="RegExp")return u(y,w,k);throw new _("RegExp#exec called on incompatible receiver")}},7323:function(o,c,n){"use strict";var u,h,g=n(9565),m=n(9504),y=n(655),_=n(7979),w=n(8429),k=n(5745),A=n(2360),L=n(1181).get,T=n(3635),E=n(8814),a=k("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,v=p,d=m("".charAt),x=m("".indexOf),C=m("".replace),N=m("".slice),G=(h=/b*/g,g(p,u=/a/,"a"),g(p,h,"a"),u.lastIndex!==0||h.lastIndex!==0),q=w.BROKEN_CARET,K=/()??/.exec("")[1]!==void 0;(G||K||q||T||E)&&(v=function(oe){var J,Q,Oe,ge,W,se,de,Z=this,ye=L(Z),Y=y(oe),ce=ye.raw;if(ce)return ce.lastIndex=Z.lastIndex,J=g(v,ce,Y),Z.lastIndex=ce.lastIndex,J;var Ge=ye.groups,ht=q&&Z.sticky,st=g(_,Z),qe=Z.source,Se=0,Ie=Y;if(ht&&(st=C(st,"y",""),x(st,"g")===-1&&(st+="g"),Ie=N(Y,Z.lastIndex),Z.lastIndex>0&&(!Z.multiline||Z.multiline&&d(Y,Z.lastIndex-1)!==`
`)&&(qe="(?: "+qe+")",Ie=" "+Ie,Se++),Q=new RegExp("^(?:"+qe+")",st)),K&&(Q=new RegExp("^"+qe+"$(?!\\s)",st)),G&&(Oe=Z.lastIndex),ge=g(p,ht?Q:Z,Ie),ht?ge?(ge.input=N(ge.input,Se),ge[0]=N(ge[0],Se),ge.index=Z.lastIndex,Z.lastIndex+=ge[0].length):Z.lastIndex=0:G&&ge&&(Z.lastIndex=Z.global?ge.index+ge[0].length:Oe),K&&ge&&ge.length>1&&g(a,ge[0],Q,function(){for(W=1;W<arguments.length-2;W++)arguments[W]===void 0&&(ge[W]=void 0)}),ge&&Ge)for(ge.groups=se=A(null),W=0;W<Ge.length;W++)se[(de=Ge[W])[0]]=ge[de[1]];return ge}),o.exports=v},7979:function(o,c,n){"use strict";var u=n(8551);o.exports=function(){var h=u(this),g="";return h.hasIndices&&(g+="d"),h.global&&(g+="g"),h.ignoreCase&&(g+="i"),h.multiline&&(g+="m"),h.dotAll&&(g+="s"),h.unicode&&(g+="u"),h.unicodeSets&&(g+="v"),h.sticky&&(g+="y"),g}},1034:function(o,c,n){"use strict";var u=n(9565),h=n(9297),g=n(1625),m=n(7979),y=RegExp.prototype;o.exports=function(_){var w=_.flags;return w!==void 0||"flags"in y||h(_,"flags")||!g(y,_)?w:u(m,_)}},8429:function(o,c,n){"use strict";var u=n(9039),h=n(4576).RegExp,g=u(function(){var _=h("a","y");return _.lastIndex=2,_.exec("abcd")!==null}),m=g||u(function(){return!h("a","y").sticky}),y=g||u(function(){var _=h("^r","gy");return _.lastIndex=2,_.exec("str")!==null});o.exports={BROKEN_CARET:y,MISSED_STICKY:m,UNSUPPORTED_Y:g}},3635:function(o,c,n){"use strict";var u=n(9039),h=n(4576).RegExp;o.exports=u(function(){var g=h(".","s");return!(g.dotAll&&g.test(`
`)&&g.flags==="s")})},8814:function(o,c,n){"use strict";var u=n(9039),h=n(4576).RegExp;o.exports=u(function(){var g=h("(?<a>b)","g");return g.exec("b").groups.a!=="b"||"b".replace(g,"$<a>c")!=="bc"})},7750:function(o,c,n){"use strict";var u=n(4117),h=TypeError;o.exports=function(g){if(u(g))throw new h("Can't call method on "+g);return g}},3389:function(o,c,n){"use strict";var u=n(4576),h=n(3724),g=Object.getOwnPropertyDescriptor;o.exports=function(m){if(!h)return u[m];var y=g(u,m);return y&&y.value}},3470:function(o){"use strict";o.exports=Object.is||function(c,n){return c===n?c!==0||1/c==1/n:c!=c&&n!=n}},7633:function(o,c,n){"use strict";var u=n(7751),h=n(2106),g=n(8227),m=n(3724),y=g("species");o.exports=function(_){var w=u(_);m&&w&&!w[y]&&h(w,y,{configurable:!0,get:function(){return this}})}},687:function(o,c,n){"use strict";var u=n(4913).f,h=n(9297),g=n(8227)("toStringTag");o.exports=function(m,y,_){m&&!_&&(m=m.prototype),m&&!h(m,g)&&u(m,g,{configurable:!0,value:y})}},6119:function(o,c,n){"use strict";var u=n(5745),h=n(3392),g=u("keys");o.exports=function(m){return g[m]||(g[m]=h(m))}},7629:function(o,c,n){"use strict";var u=n(6395),h=n(4576),g=n(9433),m="__core-js_shared__",y=o.exports=h[m]||g(m,{});(y.versions||(y.versions=[])).push({version:"3.38.1",mode:u?"pure":"global",copyright:"\xA9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(o,c,n){"use strict";var u=n(7629);o.exports=function(h,g){return u[h]||(u[h]=g||{})}},2293:function(o,c,n){"use strict";var u=n(8551),h=n(5548),g=n(4117),m=n(8227)("species");o.exports=function(y,_){var w,k=u(y).constructor;return k===void 0||g(w=u(k)[m])?_:h(w)}},8183:function(o,c,n){"use strict";var u=n(9504),h=n(1291),g=n(655),m=n(7750),y=u("".charAt),_=u("".charCodeAt),w=u("".slice),k=function(A){return function(L,T){var E,a,p=g(m(L)),v=h(T),d=p.length;return v<0||v>=d?A?"":void 0:(E=_(p,v))<55296||E>56319||v+1===d||(a=_(p,v+1))<56320||a>57343?A?y(p,v):E:A?w(p,v,v+2):a-56320+(E-55296<<10)+65536}};o.exports={codeAt:k(!1),charAt:k(!0)}},3802:function(o,c,n){"use strict";var u=n(9504),h=n(7750),g=n(655),m=n(7452),y=u("".replace),_=RegExp("^["+m+"]+"),w=RegExp("(^|[^"+m+"])["+m+"]+$"),k=function(A){return function(L){var T=g(h(L));return 1&A&&(T=y(T,_,"")),2&A&&(T=y(T,w,"$1")),T}};o.exports={start:k(1),end:k(2),trim:k(3)}},4495:function(o,c,n){"use strict";var u=n(9519),h=n(9039),g=n(4576).String;o.exports=!!Object.getOwnPropertySymbols&&!h(function(){var m=Symbol("symbol detection");return!g(m)||!(Object(m)instanceof Symbol)||!Symbol.sham&&u&&u<41})},8242:function(o,c,n){"use strict";var u=n(9565),h=n(7751),g=n(8227),m=n(6840);o.exports=function(){var y=h("Symbol"),_=y&&y.prototype,w=_&&_.valueOf,k=g("toPrimitive");_&&!_[k]&&m(_,k,function(A){return u(w,this)},{arity:1})}},1296:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!!Symbol.for&&!!Symbol.keyFor},9225:function(o,c,n){"use strict";var u,h,g,m,y=n(4576),_=n(8745),w=n(6080),k=n(4901),A=n(9297),L=n(9039),T=n(397),E=n(7680),a=n(4055),p=n(2812),v=n(9544),d=n(6193),x=y.setImmediate,C=y.clearImmediate,N=y.process,G=y.Dispatch,q=y.Function,K=y.MessageChannel,oe=y.String,J=0,Q={},Oe="onreadystatechange";L(function(){u=y.location});var ge=function(Z){if(A(Q,Z)){var ye=Q[Z];delete Q[Z],ye()}},W=function(Z){return function(){ge(Z)}},se=function(Z){ge(Z.data)},de=function(Z){y.postMessage(oe(Z),u.protocol+"//"+u.host)};x&&C||(x=function(Z){p(arguments.length,1);var ye=k(Z)?Z:q(Z),Y=E(arguments,1);return Q[++J]=function(){_(ye,void 0,Y)},h(J),J},C=function(Z){delete Q[Z]},d?h=function(Z){N.nextTick(W(Z))}:G&&G.now?h=function(Z){G.now(W(Z))}:K&&!v?(m=(g=new K).port2,g.port1.onmessage=se,h=w(m.postMessage,m)):y.addEventListener&&k(y.postMessage)&&!y.importScripts&&u&&u.protocol!=="file:"&&!L(de)?(h=de,y.addEventListener("message",se,!1)):h=Oe in a("script")?function(Z){T.appendChild(a("script"))[Oe]=function(){T.removeChild(this),ge(Z)}}:function(Z){setTimeout(W(Z),0)}),o.exports={set:x,clear:C}},1240:function(o,c,n){"use strict";var u=n(9504);o.exports=u(1 .valueOf)},5610:function(o,c,n){"use strict";var u=n(1291),h=Math.max,g=Math.min;o.exports=function(m,y){var _=u(m);return _<0?h(_+y,0):g(_,y)}},5397:function(o,c,n){"use strict";var u=n(7055),h=n(7750);o.exports=function(g){return u(h(g))}},1291:function(o,c,n){"use strict";var u=n(741);o.exports=function(h){var g=+h;return g!=g||g===0?0:u(g)}},8014:function(o,c,n){"use strict";var u=n(1291),h=Math.min;o.exports=function(g){var m=u(g);return m>0?h(m,9007199254740991):0}},8981:function(o,c,n){"use strict";var u=n(7750),h=Object;o.exports=function(g){return h(u(g))}},2777:function(o,c,n){"use strict";var u=n(9565),h=n(34),g=n(757),m=n(5966),y=n(4270),_=n(8227),w=TypeError,k=_("toPrimitive");o.exports=function(A,L){if(!h(A)||g(A))return A;var T,E=m(A,k);if(E){if(L===void 0&&(L="default"),T=u(E,A,L),!h(T)||g(T))return T;throw new w("Can't convert object to primitive value")}return L===void 0&&(L="number"),y(A,L)}},6969:function(o,c,n){"use strict";var u=n(2777),h=n(757);o.exports=function(g){var m=u(g,"string");return h(m)?m:m+""}},2140:function(o,c,n){"use strict";var u={};u[n(8227)("toStringTag")]="z",o.exports=String(u)==="[object z]"},655:function(o,c,n){"use strict";var u=n(6955),h=String;o.exports=function(g){if(u(g)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return h(g)}},6823:function(o){"use strict";var c=String;o.exports=function(n){try{return c(n)}catch(u){return"Object"}}},3392:function(o,c,n){"use strict";var u=n(9504),h=0,g=Math.random(),m=u(1 .toString);o.exports=function(y){return"Symbol("+(y===void 0?"":y)+")_"+m(++h+g,36)}},7416:function(o,c,n){"use strict";var u=n(9039),h=n(8227),g=n(3724),m=n(6395),y=h("iterator");o.exports=!u(function(){var _=new URL("b?a=1&b=2&c=3","https://a"),w=_.searchParams,k=new URLSearchParams("a=1&a=2&b=3"),A="";return _.pathname="c%20d",w.forEach(function(L,T){w.delete("b"),A+=T+L}),k.delete("a",2),k.delete("b",void 0),m&&(!_.toJSON||!k.has("a",1)||k.has("a",2)||!k.has("a",void 0)||k.has("b"))||!w.size&&(m||!g)||!w.sort||_.href!=="https://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[y]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||A!=="a1c3"||new URL("https://x",void 0).host!=="x"})},7040:function(o,c,n){"use strict";var u=n(4495);o.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},8686:function(o,c,n){"use strict";var u=n(3724),h=n(9039);o.exports=u&&h(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},2812:function(o){"use strict";var c=TypeError;o.exports=function(n,u){if(n<u)throw new c("Not enough arguments");return n}},8622:function(o,c,n){"use strict";var u=n(4576),h=n(4901),g=u.WeakMap;o.exports=h(g)&&/native code/.test(String(g))},511:function(o,c,n){"use strict";var u=n(9167),h=n(9297),g=n(1951),m=n(4913).f;o.exports=function(y){var _=u.Symbol||(u.Symbol={});h(_,y)||m(_,y,{value:g.f(y)})}},1951:function(o,c,n){"use strict";var u=n(8227);c.f=u},8227:function(o,c,n){"use strict";var u=n(4576),h=n(5745),g=n(9297),m=n(3392),y=n(4495),_=n(7040),w=u.Symbol,k=h("wks"),A=_?w.for||w:w&&w.withoutSetter||m;o.exports=function(L){return g(k,L)||(k[L]=y&&g(w,L)?w[L]:A("Symbol."+L)),k[L]}},7452:function(o){"use strict";o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},8706:function(o,c,n){"use strict";var u=n(6518),h=n(9039),g=n(4376),m=n(34),y=n(8981),_=n(6198),w=n(6837),k=n(4659),A=n(1469),L=n(597),T=n(8227),E=n(9519),a=T("isConcatSpreadable"),p=E>=51||!h(function(){var d=[];return d[a]=!1,d.concat()[0]!==d}),v=function(d){if(!m(d))return!1;var x=d[a];return x!==void 0?!!x:g(d)};u({target:"Array",proto:!0,arity:1,forced:!p||!L("concat")},{concat:function(d){var x,C,N,G,q,K=y(this),oe=A(K,0),J=0;for(x=-1,N=arguments.length;x<N;x++)if(v(q=x===-1?K:arguments[x]))for(G=_(q),w(J+G),C=0;C<G;C++,J++)C in q&&k(oe,J,q[C]);else w(J+1),k(oe,J++,q);return oe.length=J,oe}})},3771:function(o,c,n){"use strict";var u=n(6518),h=n(4373),g=n(6469);u({target:"Array",proto:!0},{fill:h}),g("fill")},2008:function(o,c,n){"use strict";var u=n(6518),h=n(9213).filter;u({target:"Array",proto:!0,forced:!n(597)("filter")},{filter:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}})},8980:function(o,c,n){"use strict";var u=n(6518),h=n(9213).findIndex,g=n(6469),m="findIndex",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{findIndex:function(_){return h(this,_,arguments.length>1?arguments[1]:void 0)}}),g(m)},113:function(o,c,n){"use strict";var u=n(6518),h=n(9213).find,g=n(6469),m="find",y=!0;m in[]&&Array(1)[m](function(){y=!1}),u({target:"Array",proto:!0,forced:y},{find:function(_){return h(this,_,arguments.length>1?arguments[1]:void 0)}}),g(m)},8350:function(o,c,n){"use strict";var u=n(6518),h=n(259),g=n(9306),m=n(8981),y=n(6198),_=n(1469);u({target:"Array",proto:!0},{flatMap:function(w){var k,A=m(this),L=y(A);return g(w),(k=_(A,0)).length=h(k,A,A,L,0,1,w,arguments.length>1?arguments[1]:void 0),k}})},6449:function(o,c,n){"use strict";var u=n(6518),h=n(259),g=n(8981),m=n(6198),y=n(1291),_=n(1469);u({target:"Array",proto:!0},{flat:function(){var w=arguments.length?arguments[0]:void 0,k=g(this),A=m(k),L=_(k,0);return L.length=h(L,k,k,A,0,w===void 0?1:y(w)),L}})},3418:function(o,c,n){"use strict";var u=n(6518),h=n(7916);u({target:"Array",stat:!0,forced:!n(4428)(function(g){Array.from(g)})},{from:h})},4423:function(o,c,n){"use strict";var u=n(6518),h=n(9617).includes,g=n(9039),m=n(6469);u({target:"Array",proto:!0,forced:g(function(){return!Array(1).includes()})},{includes:function(y){return h(this,y,arguments.length>1?arguments[1]:void 0)}}),m("includes")},3792:function(o,c,n){"use strict";var u=n(5397),h=n(6469),g=n(6269),m=n(1181),y=n(4913).f,_=n(1088),w=n(2529),k=n(6395),A=n(3724),L="Array Iterator",T=m.set,E=m.getterFor(L);o.exports=_(Array,"Array",function(p,v){T(this,{type:L,target:u(p),index:0,kind:v})},function(){var p=E(this),v=p.target,d=p.index++;if(!v||d>=v.length)return p.target=null,w(void 0,!0);switch(p.kind){case"keys":return w(d,!1);case"values":return w(v[d],!1)}return w([d,v[d]],!1)},"values");var a=g.Arguments=g.Array;if(h("keys"),h("values"),h("entries"),!k&&A&&a.name!=="values")try{y(a,"name",{value:"values"})}catch(p){}},8598:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(7055),m=n(5397),y=n(4598),_=h([].join);u({target:"Array",proto:!0,forced:g!==Object||!y("join",",")},{join:function(w){return _(m(this),w===void 0?",":w)}})},2062:function(o,c,n){"use strict";var u=n(6518),h=n(9213).map;u({target:"Array",proto:!0,forced:!n(597)("map")},{map:function(g){return h(this,g,arguments.length>1?arguments[1]:void 0)}})},2712:function(o,c,n){"use strict";var u=n(6518),h=n(926).left,g=n(4598),m=n(9519);u({target:"Array",proto:!0,forced:!n(6193)&&m>79&&m<83||!g("reduce")},{reduce:function(y){var _=arguments.length;return h(this,y,_,_>1?arguments[1]:void 0)}})},4490:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(4376),m=h([].reverse),y=[1,2];u({target:"Array",proto:!0,forced:String(y)===String(y.reverse())},{reverse:function(){return g(this)&&(this.length=this.length),m(this)}})},4782:function(o,c,n){"use strict";var u=n(6518),h=n(4376),g=n(3517),m=n(34),y=n(5610),_=n(6198),w=n(5397),k=n(4659),A=n(8227),L=n(597),T=n(7680),E=L("slice"),a=A("species"),p=Array,v=Math.max;u({target:"Array",proto:!0,forced:!E},{slice:function(d,x){var C,N,G,q=w(this),K=_(q),oe=y(d,K),J=y(x===void 0?K:x,K);if(h(q)&&(C=q.constructor,(g(C)&&(C===p||h(C.prototype))||m(C)&&(C=C[a])===null)&&(C=void 0),C===p||C===void 0))return T(q,oe,J);for(N=new(C===void 0?p:C)(v(J-oe,0)),G=0;oe<J;oe++,G++)oe in q&&k(N,G,q[oe]);return N.length=G,N}})},6910:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(9306),m=n(8981),y=n(6198),_=n(4606),w=n(655),k=n(9039),A=n(4488),L=n(4598),T=n(3709),E=n(3763),a=n(9519),p=n(3607),v=[],d=h(v.sort),x=h(v.push),C=k(function(){v.sort(void 0)}),N=k(function(){v.sort(null)}),G=L("sort"),q=!k(function(){if(a)return a<70;if(!(T&&T>3)){if(E)return!0;if(p)return p<603;var K,oe,J,Q,Oe="";for(K=65;K<76;K++){switch(oe=String.fromCharCode(K),K){case 66:case 69:case 70:case 72:J=3;break;case 68:case 71:J=4;break;default:J=2}for(Q=0;Q<47;Q++)v.push({k:oe+Q,v:J})}for(v.sort(function(ge,W){return W.v-ge.v}),Q=0;Q<v.length;Q++)oe=v[Q].k.charAt(0),Oe.charAt(Oe.length-1)!==oe&&(Oe+=oe);return Oe!=="DGBEFHACIJK"}});u({target:"Array",proto:!0,forced:C||!N||!G||!q},{sort:function(K){K!==void 0&&g(K);var oe=m(this);if(q)return K===void 0?d(oe):d(oe,K);var J,Q,Oe=[],ge=y(oe);for(Q=0;Q<ge;Q++)Q in oe&&x(Oe,oe[Q]);for(A(Oe,function(W){return function(se,de){return de===void 0?-1:se===void 0?1:W!==void 0?+W(se,de)||0:w(se)>w(de)?1:-1}}(K)),J=y(Oe),Q=0;Q<J;)oe[Q]=Oe[Q++];for(;Q<ge;)_(oe,Q++);return oe}})},4554:function(o,c,n){"use strict";var u=n(6518),h=n(8981),g=n(5610),m=n(1291),y=n(6198),_=n(4527),w=n(6837),k=n(1469),A=n(4659),L=n(4606),T=n(597)("splice"),E=Math.max,a=Math.min;u({target:"Array",proto:!0,forced:!T},{splice:function(p,v){var d,x,C,N,G,q,K=h(this),oe=y(K),J=g(p,oe),Q=arguments.length;for(Q===0?d=x=0:Q===1?(d=0,x=oe-J):(d=Q-2,x=a(E(m(v),0),oe-J)),w(oe+d-x),C=k(K,x),N=0;N<x;N++)(G=J+N)in K&&A(C,N,K[G]);if(C.length=x,d<x){for(N=J;N<oe-x;N++)q=N+d,(G=N+x)in K?K[q]=K[G]:L(K,q);for(N=oe;N>oe-x+d;N--)L(K,N-1)}else if(d>x)for(N=oe-x;N>J;N--)q=N+d-1,(G=N+x-1)in K?K[q]=K[G]:L(K,q);for(N=0;N<d;N++)K[N+J]=arguments[N+2];return _(K,oe-x+d),C}})},237:function(o,c,n){"use strict";n(6469)("flatMap")},3514:function(o,c,n){"use strict";n(6469)("flat")},739:function(o,c,n){"use strict";var u=n(6518),h=n(9039),g=n(8981),m=n(2777);u({target:"Date",proto:!0,arity:1,forced:h(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1})},{toJSON:function(y){var _=g(this),w=m(_,"number");return typeof w!="number"||isFinite(w)?_.toISOString():null}})},9572:function(o,c,n){"use strict";var u=n(9297),h=n(6840),g=n(3640),m=n(8227)("toPrimitive"),y=Date.prototype;u(y,m)||h(y,m,g)},2010:function(o,c,n){"use strict";var u=n(3724),h=n(350).EXISTS,g=n(9504),m=n(2106),y=Function.prototype,_=g(y.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,k=g(w.exec);u&&!h&&m(y,"name",{configurable:!0,get:function(){try{return k(w,_(this))[1]}catch(A){return""}}})},5081:function(o,c,n){"use strict";var u=n(6518),h=n(4576);u({global:!0,forced:h.globalThis!==h},{globalThis:h})},3110:function(o,c,n){"use strict";var u=n(6518),h=n(7751),g=n(8745),m=n(9565),y=n(9504),_=n(9039),w=n(4901),k=n(757),A=n(7680),L=n(6933),T=n(4495),E=String,a=h("JSON","stringify"),p=y(/./.exec),v=y("".charAt),d=y("".charCodeAt),x=y("".replace),C=y(1 .toString),N=/[\uD800-\uDFFF]/g,G=/^[\uD800-\uDBFF]$/,q=/^[\uDC00-\uDFFF]$/,K=!T||_(function(){var Oe=h("Symbol")("stringify detection");return a([Oe])!=="[null]"||a({a:Oe})!=="{}"||a(Object(Oe))!=="{}"}),oe=_(function(){return a("\uDF06\uD834")!=='"\\udf06\\ud834"'||a("\uDEAD")!=='"\\udead"'}),J=function(Oe,ge){var W=A(arguments),se=L(ge);if(w(se)||Oe!==void 0&&!k(Oe))return W[1]=function(de,Z){if(w(se)&&(Z=m(se,this,E(de),Z)),!k(Z))return Z},g(a,null,W)},Q=function(Oe,ge,W){var se=v(W,ge-1),de=v(W,ge+1);return p(G,Oe)&&!p(q,de)||p(q,Oe)&&!p(G,se)?"\\u"+C(d(Oe,0),16):Oe};a&&u({target:"JSON",stat:!0,arity:3,forced:K||oe},{stringify:function(Oe,ge,W){var se=A(arguments),de=g(K?J:a,null,se);return oe&&typeof de=="string"?x(de,N,Q):de}})},4731:function(o,c,n){"use strict";var u=n(4576);n(687)(u.JSON,"JSON",!0)},8523:function(o,c,n){"use strict";n(6468)("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},6033:function(o,c,n){"use strict";n(8523)},1367:function(o,c,n){"use strict";var u=n(6518),h=Math.log,g=Math.LN2;u({target:"Math",stat:!0},{log2:function(m){return h(m)/g}})},5914:function(o,c,n){"use strict";n(6518)({target:"Math",stat:!0},{sign:n(7782)})},479:function(o,c,n){"use strict";n(687)(Math,"Math",!0)},8130:function(o,c,n){"use strict";var u=n(6518),h=n(6395),g=n(3724),m=n(4576),y=n(9167),_=n(9504),w=n(2796),k=n(9297),A=n(3167),L=n(1625),T=n(757),E=n(2777),a=n(9039),p=n(8480).f,v=n(7347).f,d=n(4913).f,x=n(1240),C=n(3802).trim,N="Number",G=m[N],q=y[N],K=G.prototype,oe=m.TypeError,J=_("".slice),Q=_("".charCodeAt),Oe=w(N,!G(" 0o1")||!G("0b1")||G("+0x1")),ge=function(se){var de,Z=arguments.length<1?0:G(function(ye){var Y=E(ye,"number");return typeof Y=="bigint"?Y:function(ce){var Ge,ht,st,qe,Se,Ie,Re,ot,pt=E(ce,"number");if(T(pt))throw new oe("Cannot convert a Symbol value to a number");if(typeof pt=="string"&&pt.length>2){if(pt=C(pt),(Ge=Q(pt,0))===43||Ge===45){if((ht=Q(pt,2))===88||ht===120)return NaN}else if(Ge===48){switch(Q(pt,1)){case 66:case 98:st=2,qe=49;break;case 79:case 111:st=8,qe=55;break;default:return+pt}for(Ie=(Se=J(pt,2)).length,Re=0;Re<Ie;Re++)if((ot=Q(Se,Re))<48||ot>qe)return NaN;return parseInt(Se,st)}}return+pt}(Y)}(se));return L(K,de=this)&&a(function(){x(de)})?A(Object(Z),this,ge):Z};ge.prototype=K,Oe&&!h&&(K.constructor=ge),u({global:!0,constructor:!0,wrap:!0,forced:Oe},{Number:ge});var W=function(se,de){for(var Z,ye=g?p(de):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Y=0;ye.length>Y;Y++)k(de,Z=ye[Y])&&!k(se,Z)&&d(se,Z,v(de,Z))};h&&q&&W(y[N],q),(Oe||h)&&W(y[N],G)},9085:function(o,c,n){"use strict";var u=n(6518),h=n(4213);u({target:"Object",stat:!0,arity:2,forced:Object.assign!==h},{assign:h})},5506:function(o,c,n){"use strict";var u=n(6518),h=n(2357).entries;u({target:"Object",stat:!0},{entries:function(g){return h(g)}})},2811:function(o,c,n){"use strict";var u=n(6518),h=n(2744),g=n(9039),m=n(34),y=n(3451).onFreeze,_=Object.freeze;u({target:"Object",stat:!0,forced:g(function(){_(1)}),sham:!h},{freeze:function(w){return _&&m(w)?_(y(w)):w}})},3851:function(o,c,n){"use strict";var u=n(6518),h=n(9039),g=n(5397),m=n(7347).f,y=n(3724);u({target:"Object",stat:!0,forced:!y||h(function(){m(1)}),sham:!y},{getOwnPropertyDescriptor:function(_,w){return m(g(_),w)}})},1278:function(o,c,n){"use strict";var u=n(6518),h=n(3724),g=n(5031),m=n(5397),y=n(7347),_=n(4659);u({target:"Object",stat:!0,sham:!h},{getOwnPropertyDescriptors:function(w){for(var k,A,L=m(w),T=y.f,E=g(L),a={},p=0;E.length>p;)(A=T(L,k=E[p++]))!==void 0&&_(a,k,A);return a}})},1480:function(o,c,n){"use strict";var u=n(6518),h=n(9039),g=n(298).f;u({target:"Object",stat:!0,forced:h(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:g})},9773:function(o,c,n){"use strict";var u=n(6518),h=n(4495),g=n(9039),m=n(3717),y=n(8981);u({target:"Object",stat:!0,forced:!h||g(function(){m.f(1)})},{getOwnPropertySymbols:function(_){var w=m.f;return w?w(y(_)):[]}})},875:function(o,c,n){"use strict";var u=n(6518),h=n(9039),g=n(8981),m=n(2787),y=n(2211);u({target:"Object",stat:!0,forced:h(function(){m(1)}),sham:!y},{getPrototypeOf:function(_){return m(g(_))}})},9432:function(o,c,n){"use strict";var u=n(6518),h=n(8981),g=n(1072);u({target:"Object",stat:!0,forced:n(9039)(function(){g(1)})},{keys:function(m){return g(h(m))}})},6099:function(o,c,n){"use strict";var u=n(2140),h=n(6840),g=n(3179);u||h(Object.prototype,"toString",g,{unsafe:!0})},6034:function(o,c,n){"use strict";var u=n(6518),h=n(2357).values;u({target:"Object",stat:!0},{values:function(g){return h(g)}})},8459:function(o,c,n){"use strict";var u=n(6518),h=n(3904);u({global:!0,forced:parseFloat!==h},{parseFloat:h})},8940:function(o,c,n){"use strict";var u=n(6518),h=n(2703);u({global:!0,forced:parseInt!==h},{parseInt:h})},6499:function(o,c,n){"use strict";var u=n(6518),h=n(9565),g=n(9306),m=n(6043),y=n(1103),_=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{all:function(w){var k=this,A=m.f(k),L=A.resolve,T=A.reject,E=y(function(){var a=g(k.resolve),p=[],v=0,d=1;_(w,function(x){var C=v++,N=!1;d++,h(a,k,x).then(function(G){N||(N=!0,p[C]=G,--d||L(p))},T)}),--d||L(p)});return E.error&&T(E.value),A.promise}})},2003:function(o,c,n){"use strict";var u=n(6518),h=n(6395),g=n(916).CONSTRUCTOR,m=n(550),y=n(7751),_=n(4901),w=n(6840),k=m&&m.prototype;if(u({target:"Promise",proto:!0,forced:g,real:!0},{catch:function(L){return this.then(void 0,L)}}),!h&&_(m)){var A=y("Promise").prototype.catch;k.catch!==A&&w(k,"catch",A,{unsafe:!0})}},436:function(o,c,n){"use strict";var u,h,g,m=n(6518),y=n(6395),_=n(6193),w=n(4576),k=n(9565),A=n(6840),L=n(2967),T=n(687),E=n(7633),a=n(9306),p=n(4901),v=n(34),d=n(679),x=n(2293),C=n(9225).set,N=n(1955),G=n(3138),q=n(1103),K=n(8265),oe=n(1181),J=n(550),Q=n(916),Oe=n(6043),ge="Promise",W=Q.CONSTRUCTOR,se=Q.REJECTION_EVENT,de=Q.SUBCLASSING,Z=oe.getterFor(ge),ye=oe.set,Y=J&&J.prototype,ce=J,Ge=Y,ht=w.TypeError,st=w.document,qe=w.process,Se=Oe.f,Ie=Se,Re=!!(st&&st.createEvent&&w.dispatchEvent),ot="unhandledrejection",pt=function(Ce){var Je;return!(!v(Ce)||!p(Je=Ce.then))&&Je},Pt=function(Ce,Je){var tt,Vt,ct,gt=Je.value,Rt=Je.state===1,ti=Rt?Ce.ok:Ce.fail,oi=Ce.resolve,ui=Ce.reject,Ot=Ce.domain;try{ti?(Rt||(Je.rejection===2&&Ct(Je),Je.rejection=1),ti===!0?tt=gt:(Ot&&Ot.enter(),tt=ti(gt),Ot&&(Ot.exit(),ct=!0)),tt===Ce.promise?ui(new ht("Promise-chain cycle")):(Vt=pt(tt))?k(Vt,tt,oi,ui):oi(tt)):ui(gt)}catch(It){Ot&&!ct&&Ot.exit(),ui(It)}},Qe=function(Ce,Je){Ce.notified||(Ce.notified=!0,N(function(){for(var tt,Vt=Ce.reactions;tt=Vt.get();)Pt(tt,Ce);Ce.notified=!1,Je&&!Ce.rejection&&ie(Ce)}))},ne=function(Ce,Je,tt){var Vt,ct;Re?((Vt=st.createEvent("Event")).promise=Je,Vt.reason=tt,Vt.initEvent(Ce,!1,!0),w.dispatchEvent(Vt)):Vt={promise:Je,reason:tt},!se&&(ct=w["on"+Ce])?ct(Vt):Ce===ot&&G("Unhandled promise rejection",tt)},ie=function(Ce){k(C,w,function(){var Je,tt=Ce.facade,Vt=Ce.value;if(Ke(Ce)&&(Je=q(function(){_?qe.emit("unhandledRejection",Vt,tt):ne(ot,tt,Vt)}),Ce.rejection=_||Ke(Ce)?2:1,Je.error))throw Je.value})},Ke=function(Ce){return Ce.rejection!==1&&!Ce.parent},Ct=function(Ce){k(C,w,function(){var Je=Ce.facade;_?qe.emit("rejectionHandled",Je):ne("rejectionhandled",Je,Ce.value)})},we=function(Ce,Je,tt){return function(Vt){Ce(Je,Vt,tt)}},$e=function(Ce,Je,tt){Ce.done||(Ce.done=!0,tt&&(Ce=tt),Ce.value=Je,Ce.state=2,Qe(Ce,!0))},at=function(Ce,Je,tt){if(!Ce.done){Ce.done=!0,tt&&(Ce=tt);try{if(Ce.facade===Je)throw new ht("Promise can't be resolved itself");var Vt=pt(Je);Vt?N(function(){var ct={done:!1};try{k(Vt,Je,we(at,ct,Ce),we($e,ct,Ce))}catch(gt){$e(ct,gt,Ce)}}):(Ce.value=Je,Ce.state=1,Qe(Ce,!1))}catch(ct){$e({done:!1},ct,Ce)}}};if(W&&(Ge=(ce=function(Ce){d(this,Ge),a(Ce),k(u,this);var Je=Z(this);try{Ce(we(at,Je),we($e,Je))}catch(tt){$e(Je,tt)}}).prototype,(u=function(Ce){ye(this,{type:ge,done:!1,notified:!1,parent:!1,reactions:new K,rejection:!1,state:0,value:null})}).prototype=A(Ge,"then",function(Ce,Je){var tt=Z(this),Vt=Se(x(this,ce));return tt.parent=!0,Vt.ok=!p(Ce)||Ce,Vt.fail=p(Je)&&Je,Vt.domain=_?qe.domain:void 0,tt.state===0?tt.reactions.add(Vt):N(function(){Pt(Vt,tt)}),Vt.promise}),h=function(){var Ce=new u,Je=Z(Ce);this.promise=Ce,this.resolve=we(at,Je),this.reject=we($e,Je)},Oe.f=Se=function(Ce){return Ce===ce||Ce===void 0?new h(Ce):Ie(Ce)},!y&&p(J)&&Y!==Object.prototype)){g=Y.then,de||A(Y,"then",function(Ce,Je){var tt=this;return new ce(function(Vt,ct){k(g,tt,Vt,ct)}).then(Ce,Je)},{unsafe:!0});try{delete Y.constructor}catch(Ce){}L&&L(Y,Ge)}m({global:!0,constructor:!0,wrap:!0,forced:W},{Promise:ce}),T(ce,ge,!1,!0),E(ge)},3362:function(o,c,n){"use strict";n(436),n(6499),n(2003),n(7743),n(1481),n(280)},7743:function(o,c,n){"use strict";var u=n(6518),h=n(9565),g=n(9306),m=n(6043),y=n(1103),_=n(2652);u({target:"Promise",stat:!0,forced:n(537)},{race:function(w){var k=this,A=m.f(k),L=A.reject,T=y(function(){var E=g(k.resolve);_(w,function(a){h(E,k,a).then(A.resolve,L)})});return T.error&&L(T.value),A.promise}})},1481:function(o,c,n){"use strict";var u=n(6518),h=n(6043);u({target:"Promise",stat:!0,forced:n(916).CONSTRUCTOR},{reject:function(g){var m=h.f(this);return(0,m.reject)(g),m.promise}})},280:function(o,c,n){"use strict";var u=n(6518),h=n(7751),g=n(6395),m=n(550),y=n(916).CONSTRUCTOR,_=n(3438),w=h("Promise"),k=g&&!y;u({target:"Promise",stat:!0,forced:g||y},{resolve:function(A){return _(k&&this===w?m:this,A)}})},825:function(o,c,n){"use strict";var u=n(6518),h=n(7751),g=n(8745),m=n(566),y=n(5548),_=n(8551),w=n(34),k=n(2360),A=n(9039),L=h("Reflect","construct"),T=Object.prototype,E=[].push,a=A(function(){function d(){}return!(L(function(){},[],d)instanceof d)}),p=!A(function(){L(function(){})}),v=a||p;u({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(d,x){y(d),_(x);var C=arguments.length<3?d:y(arguments[2]);if(p&&!a)return L(d,x,C);if(d===C){switch(x.length){case 0:return new d;case 1:return new d(x[0]);case 2:return new d(x[0],x[1]);case 3:return new d(x[0],x[1],x[2]);case 4:return new d(x[0],x[1],x[2],x[3])}var N=[null];return g(E,N,x),new(g(m,d,N))}var G=C.prototype,q=k(w(G)?G:T),K=g(d,q,x);return w(K)?K:q}})},888:function(o,c,n){"use strict";var u=n(6518),h=n(9565),g=n(34),m=n(8551),y=n(6575),_=n(7347),w=n(2787);u({target:"Reflect",stat:!0},{get:function k(A,L){var T,E,a=arguments.length<3?A:arguments[2];return m(A)===a?A[L]:(T=_.f(A,L))?y(T)?T.value:T.get===void 0?void 0:h(T.get,a):g(E=w(A))?k(E,L,a):void 0}})},4864:function(o,c,n){"use strict";var u=n(3724),h=n(4576),g=n(9504),m=n(2796),y=n(3167),_=n(6699),w=n(2360),k=n(8480).f,A=n(1625),L=n(788),T=n(655),E=n(1034),a=n(8429),p=n(1056),v=n(6840),d=n(9039),x=n(9297),C=n(1181).enforce,N=n(7633),G=n(8227),q=n(3635),K=n(8814),oe=G("match"),J=h.RegExp,Q=J.prototype,Oe=h.SyntaxError,ge=g(Q.exec),W=g("".charAt),se=g("".replace),de=g("".indexOf),Z=g("".slice),ye=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Y=/a/g,ce=/a/g,Ge=new J(Y)!==Y,ht=a.MISSED_STICKY,st=a.UNSUPPORTED_Y;if(m("RegExp",u&&(!Ge||ht||q||K||d(function(){return ce[oe]=!1,J(Y)!==Y||J(ce)===ce||String(J(Y,"i"))!=="/a/i"})))){for(var qe=function(Re,ot){var pt,Pt,Qe,ne,ie,Ke,Ct=A(Q,this),we=L(Re),$e=ot===void 0,at=[],Ce=Re;if(!Ct&&we&&$e&&Re.constructor===qe)return Re;if((we||A(Q,Re))&&(Re=Re.source,$e&&(ot=E(Ce))),Re=Re===void 0?"":T(Re),ot=ot===void 0?"":T(ot),Ce=Re,q&&"dotAll"in Y&&(Pt=!!ot&&de(ot,"s")>-1)&&(ot=se(ot,/s/g,"")),pt=ot,ht&&"sticky"in Y&&(Qe=!!ot&&de(ot,"y")>-1)&&st&&(ot=se(ot,/y/g,"")),K&&(ne=function(Je){for(var tt,Vt=Je.length,ct=0,gt="",Rt=[],ti=w(null),oi=!1,ui=!1,Ot=0,It="";ct<=Vt;ct++){if((tt=W(Je,ct))==="\\")tt+=W(Je,++ct);else if(tt==="]")oi=!1;else if(!oi)switch(!0){case tt==="[":oi=!0;break;case tt==="(":if(gt+=tt,Z(Je,ct+1,ct+3)==="?:")continue;ge(ye,Z(Je,ct+1))&&(ct+=2,ui=!0),Ot++;continue;case(tt===">"&&ui):if(It===""||x(ti,It))throw new Oe("Invalid capture group name");ti[It]=!0,Rt[Rt.length]=[It,Ot],ui=!1,It="";continue}ui?It+=tt:gt+=tt}return[gt,Rt]}(Re),Re=ne[0],at=ne[1]),ie=y(J(Re,ot),Ct?this:Q,qe),(Pt||Qe||at.length)&&(Ke=C(ie),Pt&&(Ke.dotAll=!0,Ke.raw=qe(function(Je){for(var tt,Vt=Je.length,ct=0,gt="",Rt=!1;ct<=Vt;ct++)(tt=W(Je,ct))!=="\\"?Rt||tt!=="."?(tt==="["?Rt=!0:tt==="]"&&(Rt=!1),gt+=tt):gt+="[\\s\\S]":gt+=tt+W(Je,++ct);return gt}(Re),pt)),Qe&&(Ke.sticky=!0),at.length&&(Ke.groups=at)),Re!==Ce)try{_(ie,"source",Ce===""?"(?:)":Ce)}catch(Je){}return ie},Se=k(J),Ie=0;Se.length>Ie;)p(qe,J,Se[Ie++]);Q.constructor=qe,qe.prototype=Q,v(h,"RegExp",qe,{constructor:!0})}N("RegExp")},7495:function(o,c,n){"use strict";var u=n(6518),h=n(7323);u({target:"RegExp",proto:!0,forced:/./.exec!==h},{exec:h})},8781:function(o,c,n){"use strict";var u=n(350).PROPER,h=n(6840),g=n(8551),m=n(655),y=n(9039),_=n(1034),w="toString",k=RegExp.prototype,A=k[w],L=y(function(){return A.call({source:"a",flags:"b"})!=="/a/b"}),T=u&&A.name!==w;(L||T)&&h(k,w,function(){var E=g(this);return"/"+m(E.source)+"/"+m(_(E))},{unsafe:!0})},2405:function(o,c,n){"use strict";n(6468)("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},n(6938))},1415:function(o,c,n){"use strict";n(2405)},9449:function(o,c,n){"use strict";var u,h=n(6518),g=n(7476),m=n(7347).f,y=n(8014),_=n(655),w=n(2892),k=n(7750),A=n(1436),L=n(6395),T=g("".slice),E=Math.min,a=A("endsWith");h({target:"String",proto:!0,forced:!(!L&&!a&&(u=m(String.prototype,"endsWith"),u&&!u.writable)||a)},{endsWith:function(p){var v=_(k(this));w(p);var d=arguments.length>1?arguments[1]:void 0,x=v.length,C=d===void 0?x:E(y(d),x),N=_(p);return T(v,C-N.length,C)===N}})},7337:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(5610),m=RangeError,y=String.fromCharCode,_=String.fromCodePoint,w=h([].join);u({target:"String",stat:!0,arity:1,forced:!!_&&_.length!==1},{fromCodePoint:function(k){for(var A,L=[],T=arguments.length,E=0;T>E;){if(A=+arguments[E++],g(A,1114111)!==A)throw new m(A+" is not a valid code point");L[E]=A<65536?y(A):y(55296+((A-=65536)>>10),A%1024+56320)}return w(L,"")}})},1699:function(o,c,n){"use strict";var u=n(6518),h=n(9504),g=n(2892),m=n(7750),y=n(655),_=n(1436),w=h("".indexOf);u({target:"String",proto:!0,forced:!_("includes")},{includes:function(k){return!!~w(y(m(this)),y(g(k)),arguments.length>1?arguments[1]:void 0)}})},7764:function(o,c,n){"use strict";var u=n(8183).charAt,h=n(655),g=n(1181),m=n(1088),y=n(2529),_="String Iterator",w=g.set,k=g.getterFor(_);m(String,"String",function(A){w(this,{type:_,string:h(A),index:0})},function(){var A,L=k(this),T=L.string,E=L.index;return E>=T.length?y(void 0,!0):(A=u(T,E),L.index+=A.length,y(A,!1))})},1761:function(o,c,n){"use strict";var u=n(9565),h=n(9228),g=n(8551),m=n(4117),y=n(8014),_=n(655),w=n(7750),k=n(5966),A=n(7829),L=n(6682);h("match",function(T,E,a){return[function(p){var v=w(this),d=m(p)?void 0:k(p,T);return d?u(d,p,v):new RegExp(p)[T](_(v))},function(p){var v=g(this),d=_(p),x=a(E,v,d);if(x.done)return x.value;if(!v.global)return L(v,d);var C=v.unicode;v.lastIndex=0;for(var N,G=[],q=0;(N=L(v,d))!==null;){var K=_(N[0]);G[q]=K,K===""&&(v.lastIndex=A(d,y(v.lastIndex),C)),q++}return q===0?null:G}]})},5440:function(o,c,n){"use strict";var u=n(8745),h=n(9565),g=n(9504),m=n(9228),y=n(9039),_=n(8551),w=n(4901),k=n(4117),A=n(1291),L=n(8014),T=n(655),E=n(7750),a=n(7829),p=n(5966),v=n(2478),d=n(6682),x=n(8227)("replace"),C=Math.max,N=Math.min,G=g([].concat),q=g([].push),K=g("".indexOf),oe=g("".slice),J="a".replace(/./,"$0")==="$0",Q=!!/./[x]&&/./[x]("a","$0")==="";m("replace",function(Oe,ge,W){var se=Q?"$":"$0";return[function(de,Z){var ye=E(this),Y=k(de)?void 0:p(de,x);return Y?h(Y,de,ye,Z):h(ge,T(ye),de,Z)},function(de,Z){var ye=_(this),Y=T(de);if(typeof Z=="string"&&K(Z,se)===-1&&K(Z,"$<")===-1){var ce=W(ge,ye,Y,Z);if(ce.done)return ce.value}var Ge=w(Z);Ge||(Z=T(Z));var ht,st=ye.global;st&&(ht=ye.unicode,ye.lastIndex=0);for(var qe,Se=[];(qe=d(ye,Y))!==null&&(q(Se,qe),st);)T(qe[0])===""&&(ye.lastIndex=a(Y,L(ye.lastIndex),ht));for(var Ie,Re="",ot=0,pt=0;pt<Se.length;pt++){for(var Pt,Qe=T((qe=Se[pt])[0]),ne=C(N(A(qe.index),Y.length),0),ie=[],Ke=1;Ke<qe.length;Ke++)q(ie,(Ie=qe[Ke])===void 0?Ie:String(Ie));var Ct=qe.groups;if(Ge){var we=G([Qe],ie,ne,Y);Ct!==void 0&&q(we,Ct),Pt=T(u(Z,void 0,we))}else Pt=v(Qe,Y,ne,ie,Ct,Z);ne>=ot&&(Re+=oe(Y,ot,ne)+Pt,ot=ne+Qe.length)}return Re+oe(Y,ot)}]},!!y(function(){var Oe=/./;return Oe.exec=function(){var ge=[];return ge.groups={a:"7"},ge},"".replace(Oe,"$<a>")!=="7"})||!J||Q)},5746:function(o,c,n){"use strict";var u=n(9565),h=n(9228),g=n(8551),m=n(4117),y=n(7750),_=n(3470),w=n(655),k=n(5966),A=n(6682);h("search",function(L,T,E){return[function(a){var p=y(this),v=m(a)?void 0:k(a,L);return v?u(v,a,p):new RegExp(a)[L](w(p))},function(a){var p=g(this),v=w(a),d=E(T,p,v);if(d.done)return d.value;var x=p.lastIndex;_(x,0)||(p.lastIndex=0);var C=A(p,v);return _(p.lastIndex,x)||(p.lastIndex=x),C===null?-1:C.index}]})},744:function(o,c,n){"use strict";var u=n(9565),h=n(9504),g=n(9228),m=n(8551),y=n(4117),_=n(7750),w=n(2293),k=n(7829),A=n(8014),L=n(655),T=n(5966),E=n(6682),a=n(8429),p=n(9039),v=a.UNSUPPORTED_Y,d=Math.min,x=h([].push),C=h("".slice),N=!p(function(){var q=/(?:)/,K=q.exec;q.exec=function(){return K.apply(this,arguments)};var oe="ab".split(q);return oe.length!==2||oe[0]!=="a"||oe[1]!=="b"}),G="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;g("split",function(q,K,oe){var J="0".split(void 0,0).length?function(Q,Oe){return Q===void 0&&Oe===0?[]:u(K,this,Q,Oe)}:K;return[function(Q,Oe){var ge=_(this),W=y(Q)?void 0:T(Q,q);return W?u(W,Q,ge,Oe):u(J,L(ge),Q,Oe)},function(Q,Oe){var ge=m(this),W=L(Q);if(!G){var se=oe(J,ge,W,Oe,J!==K);if(se.done)return se.value}var de=w(ge,RegExp),Z=ge.unicode,ye=(ge.ignoreCase?"i":"")+(ge.multiline?"m":"")+(ge.unicode?"u":"")+(v?"g":"y"),Y=new de(v?"^(?:"+ge.source+")":ge,ye),ce=Oe===void 0?4294967295:Oe>>>0;if(ce===0)return[];if(W.length===0)return E(Y,W)===null?[W]:[];for(var Ge=0,ht=0,st=[];ht<W.length;){Y.lastIndex=v?0:ht;var qe,Se=E(Y,v?C(W,ht):W);if(Se===null||(qe=d(A(Y.lastIndex+(v?ht:0)),W.length))===Ge)ht=k(W,ht,Z);else{if(x(st,C(W,Ge,ht)),st.length===ce)return st;for(var Ie=1;Ie<=Se.length-1;Ie++)if(x(st,Se[Ie]),st.length===ce)return st;ht=Ge=qe}}return x(st,C(W,Ge)),st}]},G||!N,v)},1392:function(o,c,n){"use strict";var u,h=n(6518),g=n(7476),m=n(7347).f,y=n(8014),_=n(655),w=n(2892),k=n(7750),A=n(1436),L=n(6395),T=g("".slice),E=Math.min,a=A("startsWith");h({target:"String",proto:!0,forced:!(!L&&!a&&(u=m(String.prototype,"startsWith"),u&&!u.writable)||a)},{startsWith:function(p){var v=_(k(this));w(p);var d=y(E(arguments.length>1?arguments[1]:void 0,v.length)),x=_(p);return T(v,d,d+x.length)===x}})},6412:function(o,c,n){"use strict";n(511)("asyncIterator")},6761:function(o,c,n){"use strict";var u=n(6518),h=n(4576),g=n(9565),m=n(9504),y=n(6395),_=n(3724),w=n(4495),k=n(9039),A=n(9297),L=n(1625),T=n(8551),E=n(5397),a=n(6969),p=n(655),v=n(6980),d=n(2360),x=n(1072),C=n(8480),N=n(298),G=n(3717),q=n(7347),K=n(4913),oe=n(6801),J=n(8773),Q=n(6840),Oe=n(2106),ge=n(5745),W=n(6119),se=n(421),de=n(3392),Z=n(8227),ye=n(1951),Y=n(511),ce=n(8242),Ge=n(687),ht=n(1181),st=n(9213).forEach,qe=W("hidden"),Se="Symbol",Ie="prototype",Re=ht.set,ot=ht.getterFor(Se),pt=Object[Ie],Pt=h.Symbol,Qe=Pt&&Pt[Ie],ne=h.RangeError,ie=h.TypeError,Ke=h.QObject,Ct=q.f,we=K.f,$e=N.f,at=J.f,Ce=m([].push),Je=ge("symbols"),tt=ge("op-symbols"),Vt=ge("wks"),ct=!Ke||!Ke[Ie]||!Ke[Ie].findChild,gt=function(kt,I,Ue){var _e=Ct(pt,I);_e&&delete pt[I],we(kt,I,Ue),_e&&kt!==pt&&we(pt,I,_e)},Rt=_&&k(function(){return d(we({},"a",{get:function(){return we(this,"a",{value:7}).a}})).a!==7})?gt:we,ti=function(kt,I){var Ue=Je[kt]=d(Qe);return Re(Ue,{type:Se,tag:kt,description:I}),_||(Ue.description=I),Ue},oi=function(kt,I,Ue){kt===pt&&oi(tt,I,Ue),T(kt);var _e=a(I);return T(Ue),A(Je,_e)?(Ue.enumerable?(A(kt,qe)&&kt[qe][_e]&&(kt[qe][_e]=!1),Ue=d(Ue,{enumerable:v(0,!1)})):(A(kt,qe)||we(kt,qe,v(1,d(null))),kt[qe][_e]=!0),Rt(kt,_e,Ue)):we(kt,_e,Ue)},ui=function(kt,I){T(kt);var Ue=E(I),_e=x(Ue).concat(St(Ue));return st(_e,function(Ve){_&&!g(Ot,Ue,Ve)||oi(kt,Ve,Ue[Ve])}),kt},Ot=function(kt){var I=a(kt),Ue=g(at,this,I);return!(this===pt&&A(Je,I)&&!A(tt,I))&&(!(Ue||!A(this,I)||!A(Je,I)||A(this,qe)&&this[qe][I])||Ue)},It=function(kt,I){var Ue=E(kt),_e=a(I);if(Ue!==pt||!A(Je,_e)||A(tt,_e)){var Ve=Ct(Ue,_e);return!Ve||!A(Je,_e)||A(Ue,qe)&&Ue[qe][_e]||(Ve.enumerable=!0),Ve}},At=function(kt){var I=$e(E(kt)),Ue=[];return st(I,function(_e){A(Je,_e)||A(se,_e)||Ce(Ue,_e)}),Ue},St=function(kt){var I=kt===pt,Ue=$e(I?tt:E(kt)),_e=[];return st(Ue,function(Ve){!A(Je,Ve)||I&&!A(pt,Ve)||Ce(_e,Je[Ve])}),_e};w||(Pt=function(){if(L(Qe,this))throw new ie("Symbol is not a constructor");var kt=arguments.length&&arguments[0]!==void 0?p(arguments[0]):void 0,I=de(kt),Ue=function(_e){var Ve=this===void 0?h:this;Ve===pt&&g(Ue,tt,_e),A(Ve,qe)&&A(Ve[qe],I)&&(Ve[qe][I]=!1);var Xe=v(1,_e);try{Rt(Ve,I,Xe)}catch(ut){if(!(ut instanceof ne))throw ut;gt(Ve,I,Xe)}};return _&&ct&&Rt(pt,I,{configurable:!0,set:Ue}),ti(I,kt)},Q(Qe=Pt[Ie],"toString",function(){return ot(this).tag}),Q(Pt,"withoutSetter",function(kt){return ti(de(kt),kt)}),J.f=Ot,K.f=oi,oe.f=ui,q.f=It,C.f=N.f=At,G.f=St,ye.f=function(kt){return ti(Z(kt),kt)},_&&(Oe(Qe,"description",{configurable:!0,get:function(){return ot(this).description}}),y||Q(pt,"propertyIsEnumerable",Ot,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:Pt}),st(x(Vt),function(kt){Y(kt)}),u({target:Se,stat:!0,forced:!w},{useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),u({target:"Object",stat:!0,forced:!w,sham:!_},{create:function(kt,I){return I===void 0?d(kt):ui(d(kt),I)},defineProperty:oi,defineProperties:ui,getOwnPropertyDescriptor:It}),u({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:At}),ce(),Ge(Pt,Se),se[qe]=!0},9463:function(o,c,n){"use strict";var u=n(6518),h=n(3724),g=n(4576),m=n(9504),y=n(9297),_=n(4901),w=n(1625),k=n(655),A=n(2106),L=n(7740),T=g.Symbol,E=T&&T.prototype;if(h&&_(T)&&(!("description"in E)||T().description!==void 0)){var a={},p=function(){var q=arguments.length<1||arguments[0]===void 0?void 0:k(arguments[0]),K=w(E,this)?new T(q):q===void 0?T():T(q);return q===""&&(a[K]=!0),K};L(p,T),p.prototype=E,E.constructor=p;var v=String(T("description detection"))==="Symbol(description detection)",d=m(E.valueOf),x=m(E.toString),C=/^Symbol\((.*)\)[^)]+$/,N=m("".replace),G=m("".slice);A(E,"description",{configurable:!0,get:function(){var q=d(this);if(y(a,q))return"";var K=x(q),oe=v?G(K,7,-1):N(K,C,"$1");return oe===""?void 0:oe}}),u({global:!0,constructor:!0,forced:!0},{Symbol:p})}},1510:function(o,c,n){"use strict";var u=n(6518),h=n(7751),g=n(9297),m=n(655),y=n(5745),_=n(1296),w=y("string-to-symbol-registry"),k=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!_},{for:function(A){var L=m(A);if(g(w,L))return w[L];var T=h("Symbol")(L);return w[L]=T,k[T]=L,T}})},2259:function(o,c,n){"use strict";n(511)("iterator")},2675:function(o,c,n){"use strict";n(6761),n(1510),n(7812),n(3110),n(9773)},7812:function(o,c,n){"use strict";var u=n(6518),h=n(9297),g=n(757),m=n(6823),y=n(5745),_=n(1296),w=y("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!_},{keyFor:function(k){if(!g(k))throw new TypeError(m(k)+" is not a symbol");if(h(w,k))return w[k]}})},5700:function(o,c,n){"use strict";var u=n(511),h=n(8242);u("toPrimitive"),h()},8125:function(o,c,n){"use strict";var u=n(7751),h=n(511),g=n(687);h("toStringTag"),g(u("Symbol"),"Symbol")},3365:function(o,c,n){"use strict";var u,h=n(2744),g=n(4576),m=n(9504),y=n(6279),_=n(3451),w=n(6468),k=n(4006),A=n(34),L=n(1181).enforce,T=n(9039),E=n(8622),a=Object,p=Array.isArray,v=a.isExtensible,d=a.isFrozen,x=a.isSealed,C=a.freeze,N=a.seal,G=!g.ActiveXObject&&"ActiveXObject"in g,q=function(W){return function(){return W(this,arguments.length?arguments[0]:void 0)}},K=w("WeakMap",q,k),oe=K.prototype,J=m(oe.set);if(E)if(G){u=k.getConstructor(q,"WeakMap",!0),_.enable();var Q=m(oe.delete),Oe=m(oe.has),ge=m(oe.get);y(oe,{delete:function(W){if(A(W)&&!v(W)){var se=L(this);return se.frozen||(se.frozen=new u),Q(this,W)||se.frozen.delete(W)}return Q(this,W)},has:function(W){if(A(W)&&!v(W)){var se=L(this);return se.frozen||(se.frozen=new u),Oe(this,W)||se.frozen.has(W)}return Oe(this,W)},get:function(W){if(A(W)&&!v(W)){var se=L(this);return se.frozen||(se.frozen=new u),Oe(this,W)?ge(this,W):se.frozen.get(W)}return ge(this,W)},set:function(W,se){if(A(W)&&!v(W)){var de=L(this);de.frozen||(de.frozen=new u),Oe(this,W)?J(this,W,se):de.frozen.set(W,se)}else J(this,W,se);return this}})}else h&&T(function(){var W=C([]);return J(new K,W,1),!d(W)})&&y(oe,{set:function(W,se){var de;return p(W)&&(d(W)?de=C:x(W)&&(de=N)),J(this,W,se),de&&de(W),this}})},3772:function(o,c,n){"use strict";n(3365)},2480:function(o,c,n){"use strict";n(5081)},3500:function(o,c,n){"use strict";var u=n(4576),h=n(7400),g=n(9296),m=n(235),y=n(6699),_=function(k){if(k&&k.forEach!==m)try{y(k,"forEach",m)}catch(A){k.forEach=m}};for(var w in h)h[w]&&_(u[w]&&u[w].prototype);_(g)},2953:function(o,c,n){"use strict";var u=n(4576),h=n(7400),g=n(9296),m=n(3792),y=n(6699),_=n(687),w=n(8227)("iterator"),k=m.values,A=function(T,E){if(T){if(T[w]!==k)try{y(T,w,k)}catch(p){T[w]=k}if(_(T,E,!0),h[E]){for(var a in m)if(T[a]!==m[a])try{y(T,a,m[a])}catch(p){T[a]=m[a]}}}};for(var L in h)A(u[L]&&u[L].prototype,L);A(g,"DOMTokenList")},8406:function(o,c,n){"use strict";n(3792),n(7337);var u=n(6518),h=n(4576),g=n(3389),m=n(7751),y=n(9565),_=n(9504),w=n(3724),k=n(7416),A=n(6840),L=n(2106),T=n(6279),E=n(687),a=n(3994),p=n(1181),v=n(679),d=n(4901),x=n(9297),C=n(6080),N=n(6955),G=n(8551),q=n(34),K=n(655),oe=n(2360),J=n(6980),Q=n(81),Oe=n(851),ge=n(2529),W=n(2812),se=n(8227),de=n(4488),Z=se("iterator"),ye="URLSearchParams",Y=ye+"Iterator",ce=p.set,Ge=p.getterFor(ye),ht=p.getterFor(Y),st=g("fetch"),qe=g("Request"),Se=g("Headers"),Ie=qe&&qe.prototype,Re=Se&&Se.prototype,ot=h.TypeError,pt=h.encodeURIComponent,Pt=String.fromCharCode,Qe=m("String","fromCodePoint"),ne=parseInt,ie=_("".charAt),Ke=_([].join),Ct=_([].push),we=_("".replace),$e=_([].shift),at=_([].splice),Ce=_("".split),Je=_("".slice),tt=_(/./.exec),Vt=/\+/g,ct=/^[0-9a-f]+$/i,gt=function(re,Pe){var He=Je(re,Pe,Pe+2);return tt(ct,He)?ne(He,16):NaN},Rt=function(re){for(var Pe=0,He=128;He>0&&re&He;He>>=1)Pe++;return Pe},ti=function(re){var Pe=null;switch(re.length){case 1:Pe=re[0];break;case 2:Pe=(31&re[0])<<6|63&re[1];break;case 3:Pe=(15&re[0])<<12|(63&re[1])<<6|63&re[2];break;case 4:Pe=(7&re[0])<<18|(63&re[1])<<12|(63&re[2])<<6|63&re[3]}return Pe>1114111?null:Pe},oi=function(re){for(var Pe=(re=we(re,Vt," ")).length,He="",vt=0;vt<Pe;){var lt=ie(re,vt);if(lt==="%"){if(ie(re,vt+1)==="%"||vt+3>Pe){He+="%",vt++;continue}var Et=gt(re,vt+1);if(Et!=Et){He+=lt,vt++;continue}vt+=2;var Ut=Rt(Et);if(Ut===0)lt=Pt(Et);else{if(Ut===1||Ut>4){He+="\uFFFD",vt++;continue}for(var Jt=[Et],Lt=1;Lt<Ut&&!(3+ ++vt>Pe||ie(re,vt)!=="%");){var jt=gt(re,vt+1);if(jt!=jt){vt+=3;break}if(jt>191||jt<128)break;Ct(Jt,jt),vt+=2,Lt++}if(Jt.length!==Ut){He+="\uFFFD";continue}var Ye=ti(Jt);Ye===null?He+="\uFFFD":lt=Qe(Ye)}}He+=lt,vt++}return He},ui=/[!'()~]|%20/g,Ot={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},It=function(re){return Ot[re]},At=function(re){return we(pt(re),ui,It)},St=a(function(re,Pe){ce(this,{type:Y,target:Ge(re).entries,index:0,kind:Pe})},ye,function(){var re=ht(this),Pe=re.target,He=re.index++;if(!Pe||He>=Pe.length)return re.target=null,ge(void 0,!0);var vt=Pe[He];switch(re.kind){case"keys":return ge(vt.key,!1);case"values":return ge(vt.value,!1)}return ge([vt.key,vt.value],!1)},!0),kt=function(re){this.entries=[],this.url=null,re!==void 0&&(q(re)?this.parseObject(re):this.parseQuery(typeof re=="string"?ie(re,0)==="?"?Je(re,1):re:K(re)))};kt.prototype={type:ye,bindURL:function(re){this.url=re,this.update()},parseObject:function(re){var Pe,He,vt,lt,Et,Ut,Jt,Lt=this.entries,jt=Oe(re);if(jt)for(He=(Pe=Q(re,jt)).next;!(vt=y(He,Pe)).done;){if(Et=(lt=Q(G(vt.value))).next,(Ut=y(Et,lt)).done||(Jt=y(Et,lt)).done||!y(Et,lt).done)throw new ot("Expected sequence with length 2");Ct(Lt,{key:K(Ut.value),value:K(Jt.value)})}else for(var Ye in re)x(re,Ye)&&Ct(Lt,{key:Ye,value:K(re[Ye])})},parseQuery:function(re){if(re)for(var Pe,He,vt=this.entries,lt=Ce(re,"&"),Et=0;Et<lt.length;)(Pe=lt[Et++]).length&&(He=Ce(Pe,"="),Ct(vt,{key:oi($e(He)),value:oi(Ke(He,"="))}))},serialize:function(){for(var re,Pe=this.entries,He=[],vt=0;vt<Pe.length;)re=Pe[vt++],Ct(He,At(re.key)+"="+At(re.value));return Ke(He,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var I=function(){v(this,Ue);var re=ce(this,new kt(arguments.length>0?arguments[0]:void 0));w||(this.size=re.entries.length)},Ue=I.prototype;if(T(Ue,{append:function(re,Pe){var He=Ge(this);W(arguments.length,2),Ct(He.entries,{key:K(re),value:K(Pe)}),w||this.length++,He.updateURL()},delete:function(re){for(var Pe=Ge(this),He=W(arguments.length,1),vt=Pe.entries,lt=K(re),Et=He<2?void 0:arguments[1],Ut=Et===void 0?Et:K(Et),Jt=0;Jt<vt.length;){var Lt=vt[Jt];if(Lt.key!==lt||Ut!==void 0&&Lt.value!==Ut)Jt++;else if(at(vt,Jt,1),Ut!==void 0)break}w||(this.size=vt.length),Pe.updateURL()},get:function(re){var Pe=Ge(this).entries;W(arguments.length,1);for(var He=K(re),vt=0;vt<Pe.length;vt++)if(Pe[vt].key===He)return Pe[vt].value;return null},getAll:function(re){var Pe=Ge(this).entries;W(arguments.length,1);for(var He=K(re),vt=[],lt=0;lt<Pe.length;lt++)Pe[lt].key===He&&Ct(vt,Pe[lt].value);return vt},has:function(re){for(var Pe=Ge(this).entries,He=W(arguments.length,1),vt=K(re),lt=He<2?void 0:arguments[1],Et=lt===void 0?lt:K(lt),Ut=0;Ut<Pe.length;){var Jt=Pe[Ut++];if(Jt.key===vt&&(Et===void 0||Jt.value===Et))return!0}return!1},set:function(re,Pe){var He=Ge(this);W(arguments.length,1);for(var vt,lt=He.entries,Et=!1,Ut=K(re),Jt=K(Pe),Lt=0;Lt<lt.length;Lt++)(vt=lt[Lt]).key===Ut&&(Et?at(lt,Lt--,1):(Et=!0,vt.value=Jt));Et||Ct(lt,{key:Ut,value:Jt}),w||(this.size=lt.length),He.updateURL()},sort:function(){var re=Ge(this);de(re.entries,function(Pe,He){return Pe.key>He.key?1:-1}),re.updateURL()},forEach:function(re){for(var Pe,He=Ge(this).entries,vt=C(re,arguments.length>1?arguments[1]:void 0),lt=0;lt<He.length;)vt((Pe=He[lt++]).value,Pe.key,this)},keys:function(){return new St(this,"keys")},values:function(){return new St(this,"values")},entries:function(){return new St(this,"entries")}},{enumerable:!0}),A(Ue,Z,Ue.entries,{name:"entries"}),A(Ue,"toString",function(){return Ge(this).serialize()},{enumerable:!0}),w&&L(Ue,"size",{get:function(){return Ge(this).entries.length},configurable:!0,enumerable:!0}),E(I,ye),u({global:!0,constructor:!0,forced:!k},{URLSearchParams:I}),!k&&d(Se)){var _e=_(Re.has),Ve=_(Re.set),Xe=function(re){if(q(re)){var Pe,He=re.body;if(N(He)===ye)return Pe=re.headers?new Se(re.headers):new Se,_e(Pe,"content-type")||Ve(Pe,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),oe(re,{body:J(0,K(He)),headers:J(0,Pe)})}return re};if(d(st)&&u({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(re){return st(re,arguments.length>1?Xe(arguments[1]):{})}}),d(qe)){var ut=function(re){return v(this,Ie),new qe(re,arguments.length>1?Xe(arguments[1]):{})};Ie.constructor=ut,ut.prototype=Ie,u({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ut})}}o.exports={URLSearchParams:I,getState:Ge}},8408:function(o,c,n){"use strict";n(8406)},1091:function(o,c,n){"use strict";function u(k){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},u(k)}function h(k,A){(A==null||A>k.length)&&(A=k.length);for(var L=0,T=Array(A);L<A;L++)T[L]=k[L];return T}function g(k,A){for(var L=0;L<A.length;L++){var T=A[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,m(T.key),T)}}function m(k){var A=function(L,T){if(u(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var a=E.call(L,"string");if(u(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(k);return u(A)=="symbol"?A:A+""}n.d(c,{OA:function(){return y},WL:function(){return w},u$:function(){return _}}),n(2675),n(9463),n(2259),n(5700),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(6099),n(7495),n(8781),n(7764),n(2953);var y={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},_=function(k){return function(){for(var A=arguments.length,L=new Array(A),T=0;T<A;T++)L[T]=arguments[T];return{_$litDirective$:k,values:L}}},w=function(){return function(k,A,L){return A&&g(k.prototype,A),Object.defineProperty(k,"prototype",{writable:!1}),k}(function k(A){(function(L,T){if(!(L instanceof T))throw new TypeError("Cannot call a class as a function")})(this,k)},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AT",value:function(k,A,L){this._$Ct=k,this._$AM=A,this._$Ci=L}},{key:"_$AS",value:function(k,A){return this.update(k,A)}},{key:"update",value:function(k,A){return this.render.apply(this,function(T){if(Array.isArray(T))return h(T)}(L=A)||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(L)||function(T,E){if(T){if(typeof T=="string")return h(T,E);var a={}.toString.call(T).slice(8,-1);return a==="Object"&&T.constructor&&(a=T.constructor.name),a==="Map"||a==="Set"?Array.from(T):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(T,E):void 0}}(L)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());var L}}])}()},6681:function(o,c,n){"use strict";var u;function h(ct,gt,Rt){return gt=m(gt),function(ti,oi){if(oi&&(p(oi)=="object"||typeof oi=="function"))return oi;if(oi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ui){if(ui===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ui}(ti)}(ct,g()?Reflect.construct(gt,Rt||[],m(ct).constructor):gt.apply(ct,Rt))}function g(){try{var ct=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(gt){}return(g=function(){return!!ct})()}function m(ct){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)},m(ct)}function y(ct,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(gt&&gt.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Object.defineProperty(ct,"prototype",{writable:!1}),gt&&_(ct,gt)}function _(ct,gt){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Rt,ti){return Rt.__proto__=ti,Rt},_(ct,gt)}function w(ct,gt){var Rt=typeof Symbol<"u"&&ct[Symbol.iterator]||ct["@@iterator"];if(!Rt){if(Array.isArray(ct)||(Rt=k(ct))||gt&&ct&&typeof ct.length=="number"){Rt&&(ct=Rt);var ti=0,oi=function(){};return{s:oi,n:function(){return ti>=ct.length?{done:!0}:{done:!1,value:ct[ti++]}},e:function(At){throw At},f:oi}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ui,Ot=!0,It=!1;return{s:function(){Rt=Rt.call(ct)},n:function(){var At=Rt.next();return Ot=At.done,At},e:function(At){It=!0,ui=At},f:function(){try{Ot||Rt.return==null||Rt.return()}finally{if(It)throw ui}}}}function k(ct,gt){if(ct){if(typeof ct=="string")return A(ct,gt);var Rt={}.toString.call(ct).slice(8,-1);return Rt==="Object"&&ct.constructor&&(Rt=ct.constructor.name),Rt==="Map"||Rt==="Set"?Array.from(ct):Rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Rt)?A(ct,gt):void 0}}function A(ct,gt){(gt==null||gt>ct.length)&&(gt=ct.length);for(var Rt=0,ti=Array(gt);Rt<gt;Rt++)ti[Rt]=ct[Rt];return ti}function L(ct,gt){if(!(ct instanceof gt))throw new TypeError("Cannot call a class as a function")}function T(ct,gt){for(var Rt=0;Rt<gt.length;Rt++){var ti=gt[Rt];ti.enumerable=ti.enumerable||!1,ti.configurable=!0,"value"in ti&&(ti.writable=!0),Object.defineProperty(ct,a(ti.key),ti)}}function E(ct,gt,Rt){return gt&&T(ct.prototype,gt),Rt&&T(ct,Rt),Object.defineProperty(ct,"prototype",{writable:!1}),ct}function a(ct){var gt=function(Rt,ti){if(p(Rt)!="object"||!Rt)return Rt;var oi=Rt[Symbol.toPrimitive];if(oi!==void 0){var ui=oi.call(Rt,"string");if(p(ui)!="object")return ui;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Rt)}(ct);return p(gt)=="symbol"?gt:gt+""}function p(ct){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt},p(ct)}n.d(c,{JW:function(){return st},XX:function(){return Vt},c0:function(){return qe},ge:function(){return Je},qy:function(){return ht},s6:function(){return Se}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3771),n(3418),n(3792),n(4782),n(9572),n(2010),n(8130),n(875),n(6099),n(825),n(4864),n(7495),n(8781),n(9449),n(7764),n(744),n(1392),n(3772),n(2953);var v=window,d=v.trustedTypes,x=d?d.createPolicy("lit-html",{createHTML:function(ct){return ct}}):void 0,C="$lit$",N="lit$".concat((Math.random()+"").slice(9),"$"),G="?"+N,q="<".concat(G,">"),K=document,oe=function(){return K.createComment("")},J=function(ct){return ct===null||p(ct)!="object"&&typeof ct!="function"},Q=Array.isArray,Oe=function(ct){return Q(ct)||typeof(ct==null?void 0:ct[Symbol.iterator])=="function"},ge=`[ 	
\f\r]`,W=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,se=/-->/g,de=/>/g,Z=RegExp(">|".concat(ge,`(?:([^\\s"'>=/]+)(`).concat(ge,"*=").concat(ge,`*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`),"g"),ye=/'/g,Y=/"/g,ce=/^(?:script|style|textarea|title)$/i,Ge=function(ct){return function(gt){for(var Rt=arguments.length,ti=new Array(Rt>1?Rt-1:0),oi=1;oi<Rt;oi++)ti[oi-1]=arguments[oi];return{_$litType$:ct,strings:gt,values:ti}}},ht=Ge(1),st=Ge(2),qe=Symbol.for("lit-noChange"),Se=Symbol.for("lit-nothing"),Ie=new WeakMap,Re=K.createTreeWalker(K,129,null,!1);function ot(ct,gt){if(!Array.isArray(ct)||!ct.hasOwnProperty("raw"))throw Error("invalid template strings array");return x!==void 0?x.createHTML(gt):gt}var pt=function(ct,gt){for(var Rt,ti=ct.length-1,oi=[],ui=gt===2?"<svg>":"",Ot=W,It=0;It<ti;It++){for(var At=ct[It],St=void 0,kt=void 0,I=-1,Ue=0;Ue<At.length&&(Ot.lastIndex=Ue,(kt=Ot.exec(At))!==null);)Ue=Ot.lastIndex,Ot===W?kt[1]==="!--"?Ot=se:kt[1]!==void 0?Ot=de:kt[2]!==void 0?(ce.test(kt[2])&&(Rt=RegExp("</"+kt[2],"g")),Ot=Z):kt[3]!==void 0&&(Ot=Z):Ot===Z?kt[0]===">"?(Ot=Rt!=null?Rt:W,I=-1):kt[1]===void 0?I=-2:(I=Ot.lastIndex-kt[2].length,St=kt[1],Ot=kt[3]===void 0?Z:kt[3]==='"'?Y:ye):Ot===Y||Ot===ye?Ot=Z:Ot===se||Ot===de?Ot=W:(Ot=Z,Rt=void 0);var _e=Ot===Z&&ct[It+1].startsWith("/>")?" ":"";ui+=Ot===W?At+q:I>=0?(oi.push(St),At.slice(0,I)+C+At.slice(I)+N+_e):At+N+(I===-2?(oi.push(void 0),It):_e)}return[ot(ct,ui+(ct[ti]||"<?>")+(gt===2?"</svg>":"")),oi]},Pt=function(){return E(function ct(gt,Rt){var ti,oi=gt.strings,ui=gt._$litType$;L(this,ct),this.parts=[];var Ot=0,It=0,At=oi.length-1,St=this.parts,kt=function(De,et){return function(Tt){if(Array.isArray(Tt))return Tt}(De)||function(Tt,Ht){var Ze=Tt==null?null:typeof Symbol<"u"&&Tt[Symbol.iterator]||Tt["@@iterator"];if(Ze!=null){var wt,_t,Xt,We,ri=[],ei=!0,ki=!1;try{if(Xt=(Ze=Ze.call(Tt)).next,Ht===0){if(Object(Ze)!==Ze)return;ei=!1}else for(;!(ei=(wt=Xt.call(Ze)).done)&&(ri.push(wt.value),ri.length!==Ht);ei=!0);}catch(qt){ki=!0,_t=qt}finally{try{if(!ei&&Ze.return!=null&&(We=Ze.return(),Object(We)!==We))return}finally{if(ki)throw _t}}return ri}}(De,et)||k(De,et)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(pt(oi,ui),2),I=kt[0],Ue=kt[1];if(this.el=ct.createElement(I,Rt),Re.currentNode=this.el.content,ui===2){var _e=this.el.content,Ve=_e.firstChild;Ve.remove(),_e.append.apply(_e,function(De){return function(et){if(Array.isArray(et))return A(et)}(De)||function(et){if(typeof Symbol<"u"&&et[Symbol.iterator]!=null||et["@@iterator"]!=null)return Array.from(et)}(De)||k(De)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Ve.childNodes))}for(;(ti=Re.nextNode())!==null&&St.length<At;){if(ti.nodeType===1){if(ti.hasAttributes()){var Xe,ut=[],re=w(ti.getAttributeNames());try{for(re.s();!(Xe=re.n()).done;){var Pe=Xe.value;if(Pe.endsWith(C)||Pe.startsWith(N)){var He=Ue[It++];if(ut.push(Pe),He!==void 0){var vt=ti.getAttribute(He.toLowerCase()+C).split(N),lt=/([.?@])?(.*)/.exec(He);St.push({type:1,index:Ot,name:lt[2],strings:vt,ctor:lt[1]==="."?Ct:lt[1]==="?"?$e:lt[1]==="@"?at:Ke})}else St.push({type:6,index:Ot})}}}catch(De){re.e(De)}finally{re.f()}for(var Et=0,Ut=ut;Et<Ut.length;Et++){var Jt=Ut[Et];ti.removeAttribute(Jt)}}if(ce.test(ti.tagName)){var Lt=ti.textContent.split(N),jt=Lt.length-1;if(jt>0){ti.textContent=d?d.emptyScript:"";for(var Ye=0;Ye<jt;Ye++)ti.append(Lt[Ye],oe()),Re.nextNode(),St.push({type:2,index:++Ot});ti.append(Lt[jt],oe())}}}else if(ti.nodeType===8)if(ti.data===G)St.push({type:2,index:Ot});else for(var Me=-1;(Me=ti.data.indexOf(N,Me+1))!==-1;)St.push({type:7,index:Ot}),Me+=N.length-1;Ot++}},null,[{key:"createElement",value:function(ct,gt){var Rt=K.createElement("template");return Rt.innerHTML=ct,Rt}}])}();function Qe(ct,gt){var Rt,ti,oi,ui,Ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ct,It=arguments.length>3?arguments[3]:void 0;if(gt===qe)return gt;var At=It!==void 0?(Rt=Ot._$Co)===null||Rt===void 0?void 0:Rt[It]:Ot._$Cl,St=J(gt)?void 0:gt._$litDirective$;return(At==null?void 0:At.constructor)!==St&&((ti=At==null?void 0:At._$AO)===null||ti===void 0||ti.call(At,!1),St===void 0?At=void 0:(At=new St(ct))._$AT(ct,Ot,It),It!==void 0?((oi=(ui=Ot)._$Co)!==null&&oi!==void 0?oi:ui._$Co=[])[It]=At:Ot._$Cl=At),At!==void 0&&(gt=Qe(ct,At._$AS(ct,gt.values),At,It)),gt}var ne=function(){return E(function ct(gt,Rt){L(this,ct),this._$AV=[],this._$AN=void 0,this._$AD=gt,this._$AM=Rt},[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"u",value:function(ct){var gt,Rt=this._$AD,ti=Rt.el.content,oi=Rt.parts,ui=((gt=ct==null?void 0:ct.creationScope)!==null&&gt!==void 0?gt:K).importNode(ti,!0);Re.currentNode=ui;for(var Ot=Re.nextNode(),It=0,At=0,St=oi[0];St!==void 0;){if(It===St.index){var kt=void 0;St.type===2?kt=new ie(Ot,Ot.nextSibling,this,ct):St.type===1?kt=new St.ctor(Ot,St.name,St.strings,this,ct):St.type===6&&(kt=new Ce(Ot,this,ct)),this._$AV.push(kt),St=oi[++At]}It!==(St==null?void 0:St.index)&&(Ot=Re.nextNode(),It++)}return Re.currentNode=K,ui}},{key:"v",value:function(ct){var gt,Rt=0,ti=w(this._$AV);try{for(ti.s();!(gt=ti.n()).done;){var oi=gt.value;oi!==void 0&&(oi.strings!==void 0?(oi._$AI(ct,oi,Rt),Rt+=oi.strings.length-2):oi._$AI(ct[Rt])),Rt++}}catch(ui){ti.e(ui)}finally{ti.f()}}}])}(),ie=function(){function ct(gt,Rt,ti,oi){var ui;L(this,ct),this.type=2,this._$AH=Se,this._$AN=void 0,this._$AA=gt,this._$AB=Rt,this._$AM=ti,this.options=oi,this._$Cp=(ui=oi==null?void 0:oi.isConnected)===null||ui===void 0||ui}return E(ct,[{key:"_$AU",get:function(){var gt,Rt;return(Rt=(gt=this._$AM)===null||gt===void 0?void 0:gt._$AU)!==null&&Rt!==void 0?Rt:this._$Cp}},{key:"parentNode",get:function(){var gt=this._$AA.parentNode,Rt=this._$AM;return Rt!==void 0&&(gt==null?void 0:gt.nodeType)===11&&(gt=Rt.parentNode),gt}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(gt){gt=Qe(this,gt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),J(gt)?gt===Se||gt==null||gt===""?(this._$AH!==Se&&this._$AR(),this._$AH=Se):gt!==this._$AH&&gt!==qe&&this._(gt):gt._$litType$!==void 0?this.g(gt):gt.nodeType!==void 0?this.$(gt):Oe(gt)?this.T(gt):this._(gt)}},{key:"k",value:function(gt){return this._$AA.parentNode.insertBefore(gt,this._$AB)}},{key:"$",value:function(gt){this._$AH!==gt&&(this._$AR(),this._$AH=this.k(gt))}},{key:"_",value:function(gt){this._$AH!==Se&&J(this._$AH)?this._$AA.nextSibling.data=gt:this.$(K.createTextNode(gt)),this._$AH=gt}},{key:"g",value:function(gt){var Rt,ti=gt.values,oi=gt._$litType$,ui=typeof oi=="number"?this._$AC(gt):(oi.el===void 0&&(oi.el=Pt.createElement(ot(oi.h,oi.h[0]),this.options)),oi);if(((Rt=this._$AH)===null||Rt===void 0?void 0:Rt._$AD)===ui)this._$AH.v(ti);else{var Ot=new ne(ui,this),It=Ot.u(this.options);Ot.v(ti),this.$(It),this._$AH=Ot}}},{key:"_$AC",value:function(gt){var Rt=Ie.get(gt.strings);return Rt===void 0&&Ie.set(gt.strings,Rt=new Pt(gt)),Rt}},{key:"T",value:function(gt){Q(this._$AH)||(this._$AH=[],this._$AR());var Rt,ti,oi=this._$AH,ui=0,Ot=w(gt);try{for(Ot.s();!(ti=Ot.n()).done;){var It=ti.value;ui===oi.length?oi.push(Rt=new ct(this.k(oe()),this.k(oe()),this,this.options)):Rt=oi[ui],Rt._$AI(It),ui++}}catch(At){Ot.e(At)}finally{Ot.f()}ui<oi.length&&(this._$AR(Rt&&Rt._$AB.nextSibling,ui),oi.length=ui)}},{key:"_$AR",value:function(){var gt,Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,ti=arguments.length>1?arguments[1]:void 0;for((gt=this._$AP)===null||gt===void 0||gt.call(this,!1,!0,ti);Rt&&Rt!==this._$AB;){var oi=Rt.nextSibling;Rt.remove(),Rt=oi}}},{key:"setConnected",value:function(gt){var Rt;this._$AM===void 0&&(this._$Cp=gt,(Rt=this._$AP)===null||Rt===void 0||Rt.call(this,gt))}}])}(),Ke=function(){return E(function ct(gt,Rt,ti,oi,ui){L(this,ct),this.type=1,this._$AH=Se,this._$AN=void 0,this.element=gt,this.name=Rt,this._$AM=oi,this.options=ui,ti.length>2||ti[0]!==""||ti[1]!==""?(this._$AH=Array(ti.length-1).fill(new String),this.strings=ti):this._$AH=Se},[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(ct){var gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,Rt=arguments.length>2?arguments[2]:void 0,ti=arguments.length>3?arguments[3]:void 0,oi=this.strings,ui=!1;if(oi===void 0)ct=Qe(this,ct,gt,0),(ui=!J(ct)||ct!==this._$AH&&ct!==qe)&&(this._$AH=ct);else{var Ot,It,At=ct;for(ct=oi[0],Ot=0;Ot<oi.length-1;Ot++)(It=Qe(this,At[Rt+Ot],gt,Ot))===qe&&(It=this._$AH[Ot]),ui||(ui=!J(It)||It!==this._$AH[Ot]),It===Se?ct=Se:ct!==Se&&(ct+=(It!=null?It:"")+oi[Ot+1]),this._$AH[Ot]=It}ui&&!ti&&this.j(ct)}},{key:"j",value:function(ct){ct===Se?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,ct!=null?ct:"")}}])}(),Ct=function(ct){function gt(){var Rt;return L(this,gt),(Rt=h(this,gt,arguments)).type=3,Rt}return y(gt,ct),E(gt,[{key:"j",value:function(Rt){this.element[this.name]=Rt===Se?void 0:Rt}}])}(Ke),we=d?d.emptyScript:"",$e=function(ct){function gt(){var Rt;return L(this,gt),(Rt=h(this,gt,arguments)).type=4,Rt}return y(gt,ct),E(gt,[{key:"j",value:function(Rt){Rt&&Rt!==Se?this.element.setAttribute(this.name,we):this.element.removeAttribute(this.name)}}])}(Ke),at=function(ct){function gt(Rt,ti,oi,ui,Ot){var It;return L(this,gt),(It=h(this,gt,[Rt,ti,oi,ui,Ot])).type=5,It}return y(gt,ct),E(gt,[{key:"_$AI",value:function(Rt){var ti;if((Rt=(ti=Qe(this,Rt,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&ti!==void 0?ti:Se)!==qe){var oi=this._$AH,ui=Rt===Se&&oi!==Se||Rt.capture!==oi.capture||Rt.once!==oi.once||Rt.passive!==oi.passive,Ot=Rt!==Se&&(oi===Se||ui);ui&&this.element.removeEventListener(this.name,this,oi),Ot&&this.element.addEventListener(this.name,this,Rt),this._$AH=Rt}}},{key:"handleEvent",value:function(Rt){var ti,oi;typeof this._$AH=="function"?this._$AH.call((oi=(ti=this.options)===null||ti===void 0?void 0:ti.host)!==null&&oi!==void 0?oi:this.element,Rt):this._$AH.handleEvent(Rt)}}])}(Ke),Ce=function(){return E(function ct(gt,Rt,ti){L(this,ct),this.element=gt,this.type=6,this._$AN=void 0,this._$AM=Rt,this.options=ti},[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(ct){Qe(this,ct)}}])}(),Je={O:C,P:N,A:G,C:1,M:pt,L:ne,R:Oe,D:Qe,I:ie,V:Ke,H:$e,N:at,U:Ct,F:Ce},tt=v.litHtmlPolyfillSupport;tt==null||tt(Pt,ie),((u=v.litHtmlVersions)!==null&&u!==void 0?u:v.litHtmlVersions=[]).push("2.8.0");var Vt=function(ct,gt,Rt){var ti,oi,ui=(ti=Rt==null?void 0:Rt.renderBefore)!==null&&ti!==void 0?ti:gt,Ot=ui._$litPart$;if(Ot===void 0){var It=(oi=Rt==null?void 0:Rt.renderBefore)!==null&&oi!==void 0?oi:null;ui._$litPart$=Ot=new ie(gt.insertBefore(oe(),It),It,void 0,Rt!=null?Rt:{})}return Ot._$AI(ct),Ot}},9696:function(o,c,n){"use strict";n.d(c,{EM:function(){return u},MZ:function(){return k},P:function(){return q},wk:function(){return a}});var u=function(K){return function(oe){return typeof oe=="function"?function(J,Q){return customElements.define(J,Q),Q}(K,oe):function(J,Q){return{kind:Q.kind,elements:Q.elements,finisher:function(Oe){customElements.define(J,Oe)}}}(K,oe)}};function h(K){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},h(K)}function g(K,oe){var J=Object.keys(K);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(K);oe&&(Q=Q.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),J.push.apply(J,Q)}return J}function m(K){for(var oe=1;oe<arguments.length;oe++){var J=arguments[oe]!=null?arguments[oe]:{};oe%2?g(Object(J),!0).forEach(function(Q){y(K,Q,J[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(J)):g(Object(J)).forEach(function(Q){Object.defineProperty(K,Q,Object.getOwnPropertyDescriptor(J,Q))})}return K}function y(K,oe,J){return(oe=function(Q){var Oe=function(ge,W){if(h(ge)!="object"||!ge)return ge;var se=ge[Symbol.toPrimitive];if(se!==void 0){var de=se.call(ge,"string");if(h(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ge)}(Q);return h(Oe)=="symbol"?Oe:Oe+""}(oe))in K?Object.defineProperty(K,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[oe]=J,K}n(2675),n(9463),n(2259),n(5700),n(2008),n(3792),n(9572),n(8130),n(3851),n(1278),n(9432),n(6099),n(7764),n(3500),n(2953);var _=function(K,oe){return oe.kind==="method"&&oe.descriptor&&!("value"in oe.descriptor)?m(m({},oe),{},{finisher:function(J){J.createProperty(oe.key,K)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:oe.key,initializer:function(){typeof oe.initializer=="function"&&(this[oe.key]=oe.initializer.call(this))},finisher:function(J){J.createProperty(oe.key,K)}}},w=function(K,oe,J){oe.constructor.createProperty(J,K)};function k(K){return function(oe,J){return J!==void 0?w(K,oe,J):_(K,oe)}}function A(K){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},A(K)}function L(K,oe){var J=Object.keys(K);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(K);oe&&(Q=Q.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),J.push.apply(J,Q)}return J}function T(K){for(var oe=1;oe<arguments.length;oe++){var J=arguments[oe]!=null?arguments[oe]:{};oe%2?L(Object(J),!0).forEach(function(Q){E(K,Q,J[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(J)):L(Object(J)).forEach(function(Q){Object.defineProperty(K,Q,Object.getOwnPropertyDescriptor(J,Q))})}return K}function E(K,oe,J){return(oe=function(Q){var Oe=function(ge,W){if(A(ge)!="object"||!ge)return ge;var se=ge[Symbol.toPrimitive];if(se!==void 0){var de=se.call(ge,"string");if(A(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ge)}(Q);return A(Oe)=="symbol"?Oe:Oe+""}(oe))in K?Object.defineProperty(K,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[oe]=J,K}function a(K){return k(T(T({},K),{},{state:!0}))}function p(K){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},p(K)}function v(K,oe){var J=Object.keys(K);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(K);oe&&(Q=Q.filter(function(Oe){return Object.getOwnPropertyDescriptor(K,Oe).enumerable})),J.push.apply(J,Q)}return J}function d(K){for(var oe=1;oe<arguments.length;oe++){var J=arguments[oe]!=null?arguments[oe]:{};oe%2?v(Object(J),!0).forEach(function(Q){x(K,Q,J[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(J)):v(Object(J)).forEach(function(Q){Object.defineProperty(K,Q,Object.getOwnPropertyDescriptor(J,Q))})}return K}function x(K,oe,J){return(oe=function(Q){var Oe=function(ge,W){if(p(ge)!="object"||!ge)return ge;var se=ge[Symbol.toPrimitive];if(se!==void 0){var de=se.call(ge,"string");if(p(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ge)}(Q);return p(Oe)=="symbol"?Oe:Oe+""}(oe))in K?Object.defineProperty(K,oe,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[oe]=J,K}n(9085);var C,N=function(K){var oe=K.finisher,J=K.descriptor;return function(Q,Oe){var ge;if(Oe===void 0){var W=(ge=Q.originalKey)!==null&&ge!==void 0?ge:Q.key,se=J!=null?{kind:"method",placement:"prototype",key:W,descriptor:J(Q.key)}:d(d({},Q),{},{key:W});return oe!=null&&(se.finisher=function(Z){oe(Z,W)}),se}var de=Q.constructor;J!==void 0&&Object.defineProperty(Q,Oe,J(Oe)),oe==null||oe(de,Oe)}};function G(K){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},G(K)}function q(K,oe){return N({descriptor:function(J){var Q={get:function(){var ge,W;return(W=(ge=this.renderRoot)===null||ge===void 0?void 0:ge.querySelector(K))!==null&&W!==void 0?W:null},enumerable:!0,configurable:!0};if(oe){var Oe=G(J)=="symbol"?Symbol():"__"+J;Q.get=function(){var ge,W;return this[Oe]===void 0&&(this[Oe]=(W=(ge=this.renderRoot)===null||ge===void 0?void 0:ge.querySelector(K))!==null&&W!==void 0?W:null),this[Oe]}}return Q}})}n(6412),n(8125),n(4490),n(4782),n(2010),n(4731),n(479),n(875),n(3362),(C=window.HTMLSlotElement)===null||C===void 0||C.prototype.assignedElements},8900:function(o,c,n){"use strict";n.d(c,{W:function(){return a}}),n(2675),n(9463),n(2259),n(5700),n(8706),n(3418),n(4423),n(3792),n(2712),n(4782),n(9572),n(2010),n(8130),n(875),n(9432),n(6099),n(825),n(7495),n(8781),n(1415),n(9449),n(1699),n(7764),n(5440),n(3500),n(2953);var u=n(6681),h=n(1091);function g(p){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(p)}function m(p,v){(v==null||v>p.length)&&(v=p.length);for(var d=0,x=Array(v);d<v;d++)x[d]=p[d];return x}function y(p,v){for(var d=0;d<v.length;d++){var x=v[d];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,_(x.key),x)}}function _(p){var v=function(d,x){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(p);return g(v)=="symbol"?v:v+""}function w(p,v,d){return v=A(v),function(x,C){if(C&&(g(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(x)}(p,k()?Reflect.construct(v,d||[],A(p).constructor):v.apply(p,d))}function k(){try{var p=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(v){}return(k=function(){return!!p})()}function A(p){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},A(p)}function L(p,v){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,x){return d.__proto__=x,d},L(p,v)}var T="important",E=" !"+T,a=(0,h.u$)(function(p){function v(C){var N,G;if(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}(this,v),N=w(this,v,[C]),C.type!==h.OA.ATTRIBUTE||C.name!=="style"||((G=C.strings)===null||G===void 0?void 0:G.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.");return N}return function(C,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(N&&N.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),N&&L(C,N)}(v,p),d=v,x=[{key:"render",value:function(C){return Object.keys(C).reduce(function(N,G){var q=C[G];return q==null?N:N+"".concat(G=G.includes("-")?G:G.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase(),":").concat(q,";")},"")}},{key:"update",value:function(C,N){var G=this,q=function(ge,W){return function(se){if(Array.isArray(se))return se}(ge)||function(se,de){var Z=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(Z!=null){var ye,Y,ce,Ge,ht=[],st=!0,qe=!1;try{if(ce=(Z=Z.call(se)).next,de===0){if(Object(Z)!==Z)return;st=!1}else for(;!(st=(ye=ce.call(Z)).done)&&(ht.push(ye.value),ht.length!==de);st=!0);}catch(Se){qe=!0,Y=Se}finally{try{if(!st&&Z.return!=null&&(Ge=Z.return(),Object(Ge)!==Ge))return}finally{if(qe)throw Y}}return ht}}(ge,W)||function(se,de){if(se){if(typeof se=="string")return m(se,de);var Z={}.toString.call(se).slice(8,-1);return Z==="Object"&&se.constructor&&(Z=se.constructor.name),Z==="Map"||Z==="Set"?Array.from(se):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?m(se,de):void 0}}(ge,W)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(N,1)[0],K=C.element.style;if(this.ht===void 0){for(var oe in this.ht=new Set,q)this.ht.add(oe);return this.render(q)}for(var J in this.ht.forEach(function(ge){q[ge]==null&&(G.ht.delete(ge),ge.includes("-")?K.removeProperty(ge):K[ge]="")}),q){var Q=q[J];if(Q!=null){this.ht.add(J);var Oe=typeof Q=="string"&&Q.endsWith(E);J.includes("-")||Oe?K.setProperty(J,Oe?Q.slice(0,-11):Q,Oe?T:""):K[J]=Q}}return u.c0}}],x&&y(d.prototype,x),Object.defineProperty(d,"prototype",{writable:!1}),d;var d,x}(h.WL))},420:function(o,c,n){"use strict";function u(we){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},u(we)}function h(we,$e){($e==null||$e>we.length)&&($e=we.length);for(var at=0,Ce=Array($e);at<$e;at++)Ce[at]=we[at];return Ce}function g(we,$e){for(var at=0;at<$e.length;at++){var Ce=$e[at];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(we,m(Ce.key),Ce)}}function m(we){var $e=function(at,Ce){if(u(at)!="object"||!at)return at;var Je=at[Symbol.toPrimitive];if(Je!==void 0){var tt=Je.call(at,"string");if(u(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return u($e)=="symbol"?$e:$e+""}n.d(c,{WF:function(){return Ke},AH:function(){return T},qy:function(){return st.qy},s6:function(){return st.s6},XX:function(){return st.XX},JW:function(){return st.JW}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(6449),n(3418),n(3792),n(4490),n(4782),n(4554),n(3514),n(739),n(9572),n(2010),n(4731),n(6033),n(479),n(8130),n(1480),n(875),n(9432),n(6099),n(3362),n(825),n(7495),n(8781),n(1415),n(7764),n(3500),n(2953),n(2062),n(2712),n(3772);var y,_=window,w=_.ShadowRoot&&(_.ShadyCSS===void 0||_.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,k=Symbol(),A=new WeakMap,L=function(){return function(we,$e,at){return $e&&g(we.prototype,$e),Object.defineProperty(we,"prototype",{writable:!1}),we}(function we($e,at,Ce){if(function(Je,tt){if(!(Je instanceof tt))throw new TypeError("Cannot call a class as a function")}(this,we),this._$cssResult$=!0,Ce!==k)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=$e,this.t=at},[{key:"styleSheet",get:function(){var we=this.o,$e=this.t;if(w&&we===void 0){var at=$e!==void 0&&$e.length===1;at&&(we=A.get($e)),we===void 0&&((this.o=we=new CSSStyleSheet).replaceSync(this.cssText),at&&A.set($e,we))}return we}},{key:"toString",value:function(){return this.cssText}}])}(),T=function(we){for(var $e=arguments.length,at=new Array($e>1?$e-1:0),Ce=1;Ce<$e;Ce++)at[Ce-1]=arguments[Ce];var Je=we.length===1?we[0]:at.reduce(function(tt,Vt,ct){return tt+function(gt){if(gt._$cssResult$===!0)return gt.cssText;if(typeof gt=="number")return gt;throw Error("Value passed to 'css' function must be a 'css' function result: "+gt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")}(Vt)+we[ct+1]},we[0]);return new L(Je,we,k)},E=w?function(we){return we}:function(we){return we instanceof CSSStyleSheet?function($e){var at,Ce="",Je=function(tt,Vt){var ct=typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(!ct){if(Array.isArray(tt)||(ct=function(Ot,It){if(Ot){if(typeof Ot=="string")return h(Ot,It);var At={}.toString.call(Ot).slice(8,-1);return At==="Object"&&Ot.constructor&&(At=Ot.constructor.name),At==="Map"||At==="Set"?Array.from(Ot):At==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(At)?h(Ot,It):void 0}}(tt))||Vt&&tt&&typeof tt.length=="number"){ct&&(tt=ct);var gt=0,Rt=function(){};return{s:Rt,n:function(){return gt>=tt.length?{done:!0}:{done:!1,value:tt[gt++]}},e:function(Ot){throw Ot},f:Rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ti,oi=!0,ui=!1;return{s:function(){ct=ct.call(tt)},n:function(){var Ot=ct.next();return oi=Ot.done,Ot},e:function(Ot){ui=!0,ti=Ot},f:function(){try{oi||ct.return==null||ct.return()}finally{if(ui)throw ti}}}}($e.cssRules);try{for(Je.s();!(at=Je.n()).done;)Ce+=at.value.cssText}catch(tt){Je.e(tt)}finally{Je.f()}return function(tt){return new L(typeof tt=="string"?tt:tt+"",void 0,k)}(Ce)}(we):we};function a(we,$e){var at=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!at){if(Array.isArray(we)||(at=v(we))||$e&&we&&typeof we.length=="number"){at&&(we=at);var Ce=0,Je=function(){};return{s:Je,n:function(){return Ce>=we.length?{done:!0}:{done:!1,value:we[Ce++]}},e:function(gt){throw gt},f:Je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var tt,Vt=!0,ct=!1;return{s:function(){at=at.call(we)},n:function(){var gt=at.next();return Vt=gt.done,gt},e:function(gt){ct=!0,tt=gt},f:function(){try{Vt||at.return==null||at.return()}finally{if(ct)throw tt}}}}function p(we){return function($e){if(Array.isArray($e))return d($e)}(we)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(we)||v(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(we,$e){if(we){if(typeof we=="string")return d(we,$e);var at={}.toString.call(we).slice(8,-1);return at==="Object"&&we.constructor&&(at=we.constructor.name),at==="Map"||at==="Set"?Array.from(we):at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at)?d(we,$e):void 0}}function d(we,$e){($e==null||$e>we.length)&&($e=we.length);for(var at=0,Ce=Array($e);at<$e;at++)Ce[at]=we[at];return Ce}function x(we){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},x(we)}function C(){C=function(){return $e};var we,$e={},at=Object.prototype,Ce=at.hasOwnProperty,Je=Object.defineProperty||function(Lt,jt,Ye){Lt[jt]=Ye.value},tt=typeof Symbol=="function"?Symbol:{},Vt=tt.iterator||"@@iterator",ct=tt.asyncIterator||"@@asyncIterator",gt=tt.toStringTag||"@@toStringTag";function Rt(Lt,jt,Ye){return Object.defineProperty(Lt,jt,{value:Ye,enumerable:!0,configurable:!0,writable:!0}),Lt[jt]}try{Rt({},"")}catch(Lt){Rt=function(jt,Ye,Me){return jt[Ye]=Me}}function ti(Lt,jt,Ye,Me){var De=jt&&jt.prototype instanceof kt?jt:kt,et=Object.create(De.prototype),Tt=new Ut(Me||[]);return Je(et,"_invoke",{value:He(Lt,Ye,Tt)}),et}function oi(Lt,jt,Ye){try{return{type:"normal",arg:Lt.call(jt,Ye)}}catch(Me){return{type:"throw",arg:Me}}}$e.wrap=ti;var ui="suspendedStart",Ot="suspendedYield",It="executing",At="completed",St={};function kt(){}function I(){}function Ue(){}var _e={};Rt(_e,Vt,function(){return this});var Ve=Object.getPrototypeOf,Xe=Ve&&Ve(Ve(Jt([])));Xe&&Xe!==at&&Ce.call(Xe,Vt)&&(_e=Xe);var ut=Ue.prototype=kt.prototype=Object.create(_e);function re(Lt){["next","throw","return"].forEach(function(jt){Rt(Lt,jt,function(Ye){return this._invoke(jt,Ye)})})}function Pe(Lt,jt){function Ye(De,et,Tt,Ht){var Ze=oi(Lt[De],Lt,et);if(Ze.type!=="throw"){var wt=Ze.arg,_t=wt.value;return _t&&x(_t)=="object"&&Ce.call(_t,"__await")?jt.resolve(_t.__await).then(function(Xt){Ye("next",Xt,Tt,Ht)},function(Xt){Ye("throw",Xt,Tt,Ht)}):jt.resolve(_t).then(function(Xt){wt.value=Xt,Tt(wt)},function(Xt){return Ye("throw",Xt,Tt,Ht)})}Ht(Ze.arg)}var Me;Je(this,"_invoke",{value:function(De,et){function Tt(){return new jt(function(Ht,Ze){Ye(De,et,Ht,Ze)})}return Me=Me?Me.then(Tt,Tt):Tt()}})}function He(Lt,jt,Ye){var Me=ui;return function(De,et){if(Me===It)throw Error("Generator is already running");if(Me===At){if(De==="throw")throw et;return{value:we,done:!0}}for(Ye.method=De,Ye.arg=et;;){var Tt=Ye.delegate;if(Tt){var Ht=vt(Tt,Ye);if(Ht){if(Ht===St)continue;return Ht}}if(Ye.method==="next")Ye.sent=Ye._sent=Ye.arg;else if(Ye.method==="throw"){if(Me===ui)throw Me=At,Ye.arg;Ye.dispatchException(Ye.arg)}else Ye.method==="return"&&Ye.abrupt("return",Ye.arg);Me=It;var Ze=oi(Lt,jt,Ye);if(Ze.type==="normal"){if(Me=Ye.done?At:Ot,Ze.arg===St)continue;return{value:Ze.arg,done:Ye.done}}Ze.type==="throw"&&(Me=At,Ye.method="throw",Ye.arg=Ze.arg)}}}function vt(Lt,jt){var Ye=jt.method,Me=Lt.iterator[Ye];if(Me===we)return jt.delegate=null,Ye==="throw"&&Lt.iterator.return&&(jt.method="return",jt.arg=we,vt(Lt,jt),jt.method==="throw")||Ye!=="return"&&(jt.method="throw",jt.arg=new TypeError("The iterator does not provide a '"+Ye+"' method")),St;var De=oi(Me,Lt.iterator,jt.arg);if(De.type==="throw")return jt.method="throw",jt.arg=De.arg,jt.delegate=null,St;var et=De.arg;return et?et.done?(jt[Lt.resultName]=et.value,jt.next=Lt.nextLoc,jt.method!=="return"&&(jt.method="next",jt.arg=we),jt.delegate=null,St):et:(jt.method="throw",jt.arg=new TypeError("iterator result is not an object"),jt.delegate=null,St)}function lt(Lt){var jt={tryLoc:Lt[0]};1 in Lt&&(jt.catchLoc=Lt[1]),2 in Lt&&(jt.finallyLoc=Lt[2],jt.afterLoc=Lt[3]),this.tryEntries.push(jt)}function Et(Lt){var jt=Lt.completion||{};jt.type="normal",delete jt.arg,Lt.completion=jt}function Ut(Lt){this.tryEntries=[{tryLoc:"root"}],Lt.forEach(lt,this),this.reset(!0)}function Jt(Lt){if(Lt||Lt===""){var jt=Lt[Vt];if(jt)return jt.call(Lt);if(typeof Lt.next=="function")return Lt;if(!isNaN(Lt.length)){var Ye=-1,Me=function De(){for(;++Ye<Lt.length;)if(Ce.call(Lt,Ye))return De.value=Lt[Ye],De.done=!1,De;return De.value=we,De.done=!0,De};return Me.next=Me}}throw new TypeError(x(Lt)+" is not iterable")}return I.prototype=Ue,Je(ut,"constructor",{value:Ue,configurable:!0}),Je(Ue,"constructor",{value:I,configurable:!0}),I.displayName=Rt(Ue,gt,"GeneratorFunction"),$e.isGeneratorFunction=function(Lt){var jt=typeof Lt=="function"&&Lt.constructor;return!!jt&&(jt===I||(jt.displayName||jt.name)==="GeneratorFunction")},$e.mark=function(Lt){return Object.setPrototypeOf?Object.setPrototypeOf(Lt,Ue):(Lt.__proto__=Ue,Rt(Lt,gt,"GeneratorFunction")),Lt.prototype=Object.create(ut),Lt},$e.awrap=function(Lt){return{__await:Lt}},re(Pe.prototype),Rt(Pe.prototype,ct,function(){return this}),$e.AsyncIterator=Pe,$e.async=function(Lt,jt,Ye,Me,De){De===void 0&&(De=Promise);var et=new Pe(ti(Lt,jt,Ye,Me),De);return $e.isGeneratorFunction(jt)?et:et.next().then(function(Tt){return Tt.done?Tt.value:et.next()})},re(ut),Rt(ut,gt,"Generator"),Rt(ut,Vt,function(){return this}),Rt(ut,"toString",function(){return"[object Generator]"}),$e.keys=function(Lt){var jt=Object(Lt),Ye=[];for(var Me in jt)Ye.push(Me);return Ye.reverse(),function De(){for(;Ye.length;){var et=Ye.pop();if(et in jt)return De.value=et,De.done=!1,De}return De.done=!0,De}},$e.values=Jt,Ut.prototype={constructor:Ut,reset:function(Lt){if(this.prev=0,this.next=0,this.sent=this._sent=we,this.done=!1,this.delegate=null,this.method="next",this.arg=we,this.tryEntries.forEach(Et),!Lt)for(var jt in this)jt.charAt(0)==="t"&&Ce.call(this,jt)&&!isNaN(+jt.slice(1))&&(this[jt]=we)},stop:function(){this.done=!0;var Lt=this.tryEntries[0].completion;if(Lt.type==="throw")throw Lt.arg;return this.rval},dispatchException:function(Lt){if(this.done)throw Lt;var jt=this;function Ye(Ze,wt){return et.type="throw",et.arg=Lt,jt.next=Ze,wt&&(jt.method="next",jt.arg=we),!!wt}for(var Me=this.tryEntries.length-1;Me>=0;--Me){var De=this.tryEntries[Me],et=De.completion;if(De.tryLoc==="root")return Ye("end");if(De.tryLoc<=this.prev){var Tt=Ce.call(De,"catchLoc"),Ht=Ce.call(De,"finallyLoc");if(Tt&&Ht){if(this.prev<De.catchLoc)return Ye(De.catchLoc,!0);if(this.prev<De.finallyLoc)return Ye(De.finallyLoc)}else if(Tt){if(this.prev<De.catchLoc)return Ye(De.catchLoc,!0)}else{if(!Ht)throw Error("try statement without catch or finally");if(this.prev<De.finallyLoc)return Ye(De.finallyLoc)}}}},abrupt:function(Lt,jt){for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var Me=this.tryEntries[Ye];if(Me.tryLoc<=this.prev&&Ce.call(Me,"finallyLoc")&&this.prev<Me.finallyLoc){var De=Me;break}}De&&(Lt==="break"||Lt==="continue")&&De.tryLoc<=jt&&jt<=De.finallyLoc&&(De=null);var et=De?De.completion:{};return et.type=Lt,et.arg=jt,De?(this.method="next",this.next=De.finallyLoc,St):this.complete(et)},complete:function(Lt,jt){if(Lt.type==="throw")throw Lt.arg;return Lt.type==="break"||Lt.type==="continue"?this.next=Lt.arg:Lt.type==="return"?(this.rval=this.arg=Lt.arg,this.method="return",this.next="end"):Lt.type==="normal"&&jt&&(this.next=jt),St},finish:function(Lt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var Ye=this.tryEntries[jt];if(Ye.finallyLoc===Lt)return this.complete(Ye.completion,Ye.afterLoc),Et(Ye),St}},catch:function(Lt){for(var jt=this.tryEntries.length-1;jt>=0;--jt){var Ye=this.tryEntries[jt];if(Ye.tryLoc===Lt){var Me=Ye.completion;if(Me.type==="throw"){var De=Me.arg;Et(Ye)}return De}}throw Error("illegal catch attempt")},delegateYield:function(Lt,jt,Ye){return this.delegate={iterator:Jt(Lt),resultName:jt,nextLoc:Ye},this.method==="next"&&(this.arg=we),St}},$e}function N(we,$e,at,Ce,Je,tt,Vt){try{var ct=we[tt](Vt),gt=ct.value}catch(Rt){return void at(Rt)}ct.done?$e(gt):Promise.resolve(gt).then(Ce,Je)}function G(we,$e){for(var at=0;at<$e.length;at++){var Ce=$e[at];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(we,q(Ce.key),Ce)}}function q(we){var $e=function(at,Ce){if(x(at)!="object"||!at)return at;var Je=at[Symbol.toPrimitive];if(Je!==void 0){var tt=Je.call(at,"string");if(x(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return x($e)=="symbol"?$e:$e+""}function K(we){var $e=typeof Map=="function"?new Map:void 0;return K=function(at){if(at===null||!function(Je){try{return Function.toString.call(Je).indexOf("[native code]")!==-1}catch(tt){return typeof Je=="function"}}(at))return at;if(typeof at!="function")throw new TypeError("Super expression must either be null or a function");if($e!==void 0){if($e.has(at))return $e.get(at);$e.set(at,Ce)}function Ce(){return function(Je,tt,Vt){if(oe())return Reflect.construct.apply(null,arguments);var ct=[null];ct.push.apply(ct,tt);var gt=new(Je.bind.apply(Je,ct));return Vt&&J(gt,Vt.prototype),gt}(at,arguments,Q(this).constructor)}return Ce.prototype=Object.create(at.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),J(Ce,at)},K(we)}function oe(){try{var we=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(oe=function(){return!!we})()}function J(we,$e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,Ce){return at.__proto__=Ce,at},J(we,$e)}function Q(we){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},Q(we)}var Oe=window,ge=Oe.trustedTypes,W=ge?ge.emptyScript:"",se=Oe.reactiveElementPolyfillSupport,de={toAttribute:function(we,$e){switch($e){case Boolean:we=we?W:null;break;case Object:case Array:we=we==null?we:JSON.stringify(we)}return we},fromAttribute:function(we,$e){var at=we;switch($e){case Boolean:at=we!==null;break;case Number:at=we===null?null:Number(we);break;case Object:case Array:try{at=JSON.parse(we)}catch(Ce){at=null}}return at}},Z=function(we,$e){return $e!==we&&($e==$e||we==we)},ye={attribute:!0,type:String,converter:de,reflect:!1,hasChanged:Z},Y="finalized",ce=function(we){function $e(){var Ce;return function(Je,tt){if(!(Je instanceof tt))throw new TypeError("Cannot call a class as a function")}(this,$e),(Ce=function(Je,tt,Vt){return tt=Q(tt),function(ct,gt){if(gt&&(x(gt)=="object"||typeof gt=="function"))return gt;if(gt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(ct)}(Je,oe()?Reflect.construct(tt,Vt||[],Q(Je).constructor):tt.apply(Je,Vt))}(this,$e))._$Ei=new Map,Ce.isUpdatePending=!1,Ce.hasUpdated=!1,Ce._$El=null,Ce._$Eu(),Ce}return function(Ce,Je){if(typeof Je!="function"&&Je!==null)throw new TypeError("Super expression must either be null or a function");Ce.prototype=Object.create(Je&&Je.prototype,{constructor:{value:Ce,writable:!0,configurable:!0}}),Object.defineProperty(Ce,"prototype",{writable:!1}),Je&&J(Ce,Je)}($e,we),function(Ce,Je,tt){return Je&&G(Ce.prototype,Je),tt&&G(Ce,tt),Object.defineProperty(Ce,"prototype",{writable:!1}),Ce}($e,[{key:"_$Eu",value:function(){var Ce,Je=this;this._$E_=new Promise(function(tt){return Je.enableUpdating=tt}),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(Ce=this.constructor.h)===null||Ce===void 0||Ce.forEach(function(tt){return tt(Je)})}},{key:"addController",value:function(Ce){var Je,tt;((Je=this._$ES)!==null&&Je!==void 0?Je:this._$ES=[]).push(Ce),this.renderRoot!==void 0&&this.isConnected&&((tt=Ce.hostConnected)===null||tt===void 0||tt.call(Ce))}},{key:"removeController",value:function(Ce){var Je;(Je=this._$ES)===null||Je===void 0||Je.splice(this._$ES.indexOf(Ce)>>>0,1)}},{key:"_$Eg",value:function(){var Ce=this;this.constructor.elementProperties.forEach(function(Je,tt){Ce.hasOwnProperty(tt)&&(Ce._$Ei.set(tt,Ce[tt]),delete Ce[tt])})}},{key:"createRenderRoot",value:function(){var Ce,Je=(Ce=this.shadowRoot)!==null&&Ce!==void 0?Ce:this.attachShadow(this.constructor.shadowRootOptions);return function(tt,Vt){w?tt.adoptedStyleSheets=Vt.map(function(ct){return ct instanceof CSSStyleSheet?ct:ct.styleSheet}):Vt.forEach(function(ct){var gt=document.createElement("style"),Rt=_.litNonce;Rt!==void 0&&gt.setAttribute("nonce",Rt),gt.textContent=ct.cssText,tt.appendChild(gt)})}(Je,this.constructor.elementStyles),Je}},{key:"connectedCallback",value:function(){var Ce;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Ce=this._$ES)===null||Ce===void 0||Ce.forEach(function(Je){var tt;return(tt=Je.hostConnected)===null||tt===void 0?void 0:tt.call(Je)})}},{key:"enableUpdating",value:function(Ce){}},{key:"disconnectedCallback",value:function(){var Ce;(Ce=this._$ES)===null||Ce===void 0||Ce.forEach(function(Je){var tt;return(tt=Je.hostDisconnected)===null||tt===void 0?void 0:tt.call(Je)})}},{key:"attributeChangedCallback",value:function(Ce,Je,tt){this._$AK(Ce,tt)}},{key:"_$EO",value:function(Ce,Je){var tt,Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ye,ct=this.constructor._$Ep(Ce,Vt);if(ct!==void 0&&Vt.reflect===!0){var gt=(((tt=Vt.converter)===null||tt===void 0?void 0:tt.toAttribute)!==void 0?Vt.converter:de).toAttribute(Je,Vt.type);this._$El=Ce,gt==null?this.removeAttribute(ct):this.setAttribute(ct,gt),this._$El=null}}},{key:"_$AK",value:function(Ce,Je){var tt,Vt=this.constructor,ct=Vt._$Ev.get(Ce);if(ct!==void 0&&this._$El!==ct){var gt=Vt.getPropertyOptions(ct),Rt=typeof gt.converter=="function"?{fromAttribute:gt.converter}:((tt=gt.converter)===null||tt===void 0?void 0:tt.fromAttribute)!==void 0?gt.converter:de;this._$El=ct,this[ct]=Rt.fromAttribute(Je,gt.type),this._$El=null}}},{key:"requestUpdate",value:function(Ce,Je,tt){var Vt=!0;Ce!==void 0&&(((tt=tt||this.constructor.getPropertyOptions(Ce)).hasChanged||Z)(this[Ce],Je)?(this._$AL.has(Ce)||this._$AL.set(Ce,Je),tt.reflect===!0&&this._$El!==Ce&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(Ce,tt))):Vt=!1),!this.isUpdatePending&&Vt&&(this._$E_=this._$Ej())}},{key:"_$Ej",value:(at=function(Ce){return function(){var Je=this,tt=arguments;return new Promise(function(Vt,ct){var gt=Ce.apply(Je,tt);function Rt(oi){N(gt,Vt,ct,Rt,ti,"next",oi)}function ti(oi){N(gt,Vt,ct,Rt,ti,"throw",oi)}Rt(void 0)})}}(C().mark(function Ce(){var Je;return C().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return this.isUpdatePending=!0,tt.prev=1,tt.next=4,this._$E_;case 4:tt.next=9;break;case 6:tt.prev=6,tt.t0=tt.catch(1),Promise.reject(tt.t0);case 9:if(Je=this.scheduleUpdate(),tt.t1=Je!=null,!tt.t1){tt.next=14;break}return tt.next=14,Je;case 14:return tt.abrupt("return",!this.isUpdatePending);case 15:case"end":return tt.stop()}},Ce,this,[[1,6]])})),function(){return at.apply(this,arguments)})},{key:"scheduleUpdate",value:function(){return this.performUpdate()}},{key:"performUpdate",value:function(){var Ce,Je=this;if(this.isUpdatePending){this.hasUpdated,this._$Ei&&(this._$Ei.forEach(function(ct,gt){return Je[gt]=ct}),this._$Ei=void 0);var tt=!1,Vt=this._$AL;try{(tt=this.shouldUpdate(Vt))?(this.willUpdate(Vt),(Ce=this._$ES)===null||Ce===void 0||Ce.forEach(function(ct){var gt;return(gt=ct.hostUpdate)===null||gt===void 0?void 0:gt.call(ct)}),this.update(Vt)):this._$Ek()}catch(ct){throw tt=!1,this._$Ek(),ct}tt&&this._$AE(Vt)}}},{key:"willUpdate",value:function(Ce){}},{key:"_$AE",value:function(Ce){var Je;(Je=this._$ES)===null||Je===void 0||Je.forEach(function(tt){var Vt;return(Vt=tt.hostUpdated)===null||Vt===void 0?void 0:Vt.call(tt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Ce)),this.updated(Ce)}},{key:"_$Ek",value:function(){this._$AL=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this._$E_}},{key:"shouldUpdate",value:function(Ce){return!0}},{key:"update",value:function(Ce){var Je=this;this._$EC!==void 0&&(this._$EC.forEach(function(tt,Vt){return Je._$EO(Vt,Je[Vt],tt)}),this._$EC=void 0),this._$Ek()}},{key:"updated",value:function(Ce){}},{key:"firstUpdated",value:function(Ce){}}],[{key:"addInitializer",value:function(Ce){var Je;this.finalize(),((Je=this.h)!==null&&Je!==void 0?Je:this.h=[]).push(Ce)}},{key:"observedAttributes",get:function(){var Ce=this;this.finalize();var Je=[];return this.elementProperties.forEach(function(tt,Vt){var ct=Ce._$Ep(Vt,tt);ct!==void 0&&(Ce._$Ev.set(ct,Vt),Je.push(ct))}),Je}},{key:"createProperty",value:function(Ce){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ye;if(Je.state&&(Je.attribute=!1),this.finalize(),this.elementProperties.set(Ce,Je),!Je.noAccessor&&!this.prototype.hasOwnProperty(Ce)){var tt=x(Ce)=="symbol"?Symbol():"__"+Ce,Vt=this.getPropertyDescriptor(Ce,tt,Je);Vt!==void 0&&Object.defineProperty(this.prototype,Ce,Vt)}}},{key:"getPropertyDescriptor",value:function(Ce,Je,tt){return{get:function(){return this[Je]},set:function(Vt){var ct=this[Ce];this[Je]=Vt,this.requestUpdate(Ce,ct,tt)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(Ce){return this.elementProperties.get(Ce)||ye}},{key:"finalize",value:function(){if(this.hasOwnProperty(Y))return!1;this[Y]=!0;var Ce=Object.getPrototypeOf(this);if(Ce.finalize(),Ce.h!==void 0&&(this.h=p(Ce.h)),this.elementProperties=new Map(Ce.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){var Je,tt=this.properties,Vt=a([].concat(p(Object.getOwnPropertyNames(tt)),p(Object.getOwnPropertySymbols(tt))));try{for(Vt.s();!(Je=Vt.n()).done;){var ct=Je.value;this.createProperty(ct,tt[ct])}}catch(gt){Vt.e(gt)}finally{Vt.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(Ce){var Je=[];if(Array.isArray(Ce)){var tt,Vt=a(new Set(Ce.flat(1/0).reverse()));try{for(Vt.s();!(tt=Vt.n()).done;){var ct=tt.value;Je.unshift(E(ct))}}catch(gt){Vt.e(gt)}finally{Vt.f()}}else Ce!==void 0&&Je.push(E(Ce));return Je}},{key:"_$Ep",value:function(Ce,Je){var tt=Je.attribute;return tt===!1?void 0:typeof tt=="string"?tt:typeof Ce=="string"?Ce.toLowerCase():void 0}}]);var at}(K(HTMLElement));ce[Y]=!0,ce.elementProperties=new Map,ce.elementStyles=[],ce.shadowRootOptions={mode:"open"},se==null||se({ReactiveElement:ce}),((y=Oe.reactiveElementVersions)!==null&&y!==void 0?y:Oe.reactiveElementVersions=[]).push("1.6.3");var Ge,ht,st=n(6681);function qe(we){return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($e){return typeof $e}:function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},qe(we)}function Se(we,$e){for(var at=0;at<$e.length;at++){var Ce=$e[at];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(we,Ie(Ce.key),Ce)}}function Ie(we){var $e=function(at,Ce){if(qe(at)!="object"||!at)return at;var Je=at[Symbol.toPrimitive];if(Je!==void 0){var tt=Je.call(at,"string");if(qe(tt)!="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(at)}(we);return qe($e)=="symbol"?$e:$e+""}function Re(we,$e,at){return $e=ne($e),function(Ce,Je){if(Je&&(qe(Je)=="object"||typeof Je=="function"))return Je;if(Je!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ot(Ce)}(we,pt()?Reflect.construct($e,at||[],ne(we).constructor):$e.apply(we,at))}function ot(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function pt(){try{var we=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch($e){}return(pt=function(){return!!we})()}function Pt(we,$e,at,Ce){var Je=Qe(ne(1&Ce?we.prototype:we),$e,at);return 2&Ce&&typeof Je=="function"?function(tt){return Je.apply(at,tt)}:Je}function Qe(){return Qe=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(we,$e,at){var Ce=function(tt,Vt){for(;!{}.hasOwnProperty.call(tt,Vt)&&(tt=ne(tt))!==null;);return tt}(we,$e);if(Ce){var Je=Object.getOwnPropertyDescriptor(Ce,$e);return Je.get?Je.get.call(arguments.length<3?we:at):Je.value}},Qe.apply(null,arguments)}function ne(we){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($e){return $e.__proto__||Object.getPrototypeOf($e)},ne(we)}function ie(we,$e){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,Ce){return at.__proto__=Ce,at},ie(we,$e)}n(3851),n(888),n(2480);var Ke=function(we){function $e(){var at;return function(Ce,Je){if(!(Ce instanceof Je))throw new TypeError("Cannot call a class as a function")}(this,$e),(at=Re(this,$e,arguments)).renderOptions={host:ot(at)},at._$Do=void 0,at}return function(at,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");at.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:at,writable:!0,configurable:!0}}),Object.defineProperty(at,"prototype",{writable:!1}),Ce&&ie(at,Ce)}($e,we),function(at,Ce,Je){return Ce&&Se(at.prototype,Ce),Object.defineProperty(at,"prototype",{writable:!1}),at}($e,[{key:"createRenderRoot",value:function(){var at,Ce,Je=Pt($e,"createRenderRoot",this,3)([]);return(at=(Ce=this.renderOptions).renderBefore)!==null&&at!==void 0||(Ce.renderBefore=Je.firstChild),Je}},{key:"update",value:function(at){var Ce=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),Pt($e,"update",this,3)([at]),this._$Do=(0,st.XX)(Ce,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var at;Pt($e,"connectedCallback",this,3)([]),(at=this._$Do)===null||at===void 0||at.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var at;Pt($e,"disconnectedCallback",this,3)([]),(at=this._$Do)===null||at===void 0||at.setConnected(!1)}},{key:"render",value:function(){return st.c0}}])}(ce);Ke.finalized=!0,Ke._$litElement$=!0,(Ge=globalThis.litElementHydrateSupport)===null||Ge===void 0||Ge.call(globalThis,{LitElement:Ke});var Ct=globalThis.litElementPolyfillSupport;Ct==null||Ct({LitElement:Ke}),((ht=globalThis.litElementVersions)!==null&&ht!==void 0?ht:globalThis.litElementVersions=[]).push("3.3.3")},4907:function(o,c,n){"use strict";n.d(c,{KL:function(){return a},LN:function(){return L},Ql:function(){return T}}),n(2675),n(9463),n(6412),n(2259),n(5700),n(8125),n(8706),n(3418),n(3792),n(2712),n(4490),n(4782),n(9572),n(2010),n(4731),n(479),n(8130),n(875),n(6099),n(3362),n(7495),n(8781),n(7764),n(3500),n(2953);var u=n(8004),h=n(1669);function g(p){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},g(p)}function m(p,v){if(p){if(typeof p=="string")return y(p,v);var d={}.toString.call(p).slice(8,-1);return d==="Object"&&p.constructor&&(d=p.constructor.name),d==="Map"||d==="Set"?Array.from(p):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?y(p,v):void 0}}function y(p,v){(v==null||v>p.length)&&(v=p.length);for(var d=0,x=Array(v);d<v;d++)x[d]=p[d];return x}function _(){_=function(){return v};var p,v={},d=Object.prototype,x=d.hasOwnProperty,C=Object.defineProperty||function(ne,ie,Ke){ne[ie]=Ke.value},N=typeof Symbol=="function"?Symbol:{},G=N.iterator||"@@iterator",q=N.asyncIterator||"@@asyncIterator",K=N.toStringTag||"@@toStringTag";function oe(ne,ie,Ke){return Object.defineProperty(ne,ie,{value:Ke,enumerable:!0,configurable:!0,writable:!0}),ne[ie]}try{oe({},"")}catch(ne){oe=function(ie,Ke,Ct){return ie[Ke]=Ct}}function J(ne,ie,Ke,Ct){var we=ie&&ie.prototype instanceof Z?ie:Z,$e=Object.create(we.prototype),at=new Pt(Ct||[]);return C($e,"_invoke",{value:Ie(ne,Ke,at)}),$e}function Q(ne,ie,Ke){try{return{type:"normal",arg:ne.call(ie,Ke)}}catch(Ct){return{type:"throw",arg:Ct}}}v.wrap=J;var Oe="suspendedStart",ge="suspendedYield",W="executing",se="completed",de={};function Z(){}function ye(){}function Y(){}var ce={};oe(ce,G,function(){return this});var Ge=Object.getPrototypeOf,ht=Ge&&Ge(Ge(Qe([])));ht&&ht!==d&&x.call(ht,G)&&(ce=ht);var st=Y.prototype=Z.prototype=Object.create(ce);function qe(ne){["next","throw","return"].forEach(function(ie){oe(ne,ie,function(Ke){return this._invoke(ie,Ke)})})}function Se(ne,ie){function Ke(we,$e,at,Ce){var Je=Q(ne[we],ne,$e);if(Je.type!=="throw"){var tt=Je.arg,Vt=tt.value;return Vt&&g(Vt)=="object"&&x.call(Vt,"__await")?ie.resolve(Vt.__await).then(function(ct){Ke("next",ct,at,Ce)},function(ct){Ke("throw",ct,at,Ce)}):ie.resolve(Vt).then(function(ct){tt.value=ct,at(tt)},function(ct){return Ke("throw",ct,at,Ce)})}Ce(Je.arg)}var Ct;C(this,"_invoke",{value:function(we,$e){function at(){return new ie(function(Ce,Je){Ke(we,$e,Ce,Je)})}return Ct=Ct?Ct.then(at,at):at()}})}function Ie(ne,ie,Ke){var Ct=Oe;return function(we,$e){if(Ct===W)throw Error("Generator is already running");if(Ct===se){if(we==="throw")throw $e;return{value:p,done:!0}}for(Ke.method=we,Ke.arg=$e;;){var at=Ke.delegate;if(at){var Ce=Re(at,Ke);if(Ce){if(Ce===de)continue;return Ce}}if(Ke.method==="next")Ke.sent=Ke._sent=Ke.arg;else if(Ke.method==="throw"){if(Ct===Oe)throw Ct=se,Ke.arg;Ke.dispatchException(Ke.arg)}else Ke.method==="return"&&Ke.abrupt("return",Ke.arg);Ct=W;var Je=Q(ne,ie,Ke);if(Je.type==="normal"){if(Ct=Ke.done?se:ge,Je.arg===de)continue;return{value:Je.arg,done:Ke.done}}Je.type==="throw"&&(Ct=se,Ke.method="throw",Ke.arg=Je.arg)}}}function Re(ne,ie){var Ke=ie.method,Ct=ne.iterator[Ke];if(Ct===p)return ie.delegate=null,Ke==="throw"&&ne.iterator.return&&(ie.method="return",ie.arg=p,Re(ne,ie),ie.method==="throw")||Ke!=="return"&&(ie.method="throw",ie.arg=new TypeError("The iterator does not provide a '"+Ke+"' method")),de;var we=Q(Ct,ne.iterator,ie.arg);if(we.type==="throw")return ie.method="throw",ie.arg=we.arg,ie.delegate=null,de;var $e=we.arg;return $e?$e.done?(ie[ne.resultName]=$e.value,ie.next=ne.nextLoc,ie.method!=="return"&&(ie.method="next",ie.arg=p),ie.delegate=null,de):$e:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,de)}function ot(ne){var ie={tryLoc:ne[0]};1 in ne&&(ie.catchLoc=ne[1]),2 in ne&&(ie.finallyLoc=ne[2],ie.afterLoc=ne[3]),this.tryEntries.push(ie)}function pt(ne){var ie=ne.completion||{};ie.type="normal",delete ie.arg,ne.completion=ie}function Pt(ne){this.tryEntries=[{tryLoc:"root"}],ne.forEach(ot,this),this.reset(!0)}function Qe(ne){if(ne||ne===""){var ie=ne[G];if(ie)return ie.call(ne);if(typeof ne.next=="function")return ne;if(!isNaN(ne.length)){var Ke=-1,Ct=function we(){for(;++Ke<ne.length;)if(x.call(ne,Ke))return we.value=ne[Ke],we.done=!1,we;return we.value=p,we.done=!0,we};return Ct.next=Ct}}throw new TypeError(g(ne)+" is not iterable")}return ye.prototype=Y,C(st,"constructor",{value:Y,configurable:!0}),C(Y,"constructor",{value:ye,configurable:!0}),ye.displayName=oe(Y,K,"GeneratorFunction"),v.isGeneratorFunction=function(ne){var ie=typeof ne=="function"&&ne.constructor;return!!ie&&(ie===ye||(ie.displayName||ie.name)==="GeneratorFunction")},v.mark=function(ne){return Object.setPrototypeOf?Object.setPrototypeOf(ne,Y):(ne.__proto__=Y,oe(ne,K,"GeneratorFunction")),ne.prototype=Object.create(st),ne},v.awrap=function(ne){return{__await:ne}},qe(Se.prototype),oe(Se.prototype,q,function(){return this}),v.AsyncIterator=Se,v.async=function(ne,ie,Ke,Ct,we){we===void 0&&(we=Promise);var $e=new Se(J(ne,ie,Ke,Ct),we);return v.isGeneratorFunction(ie)?$e:$e.next().then(function(at){return at.done?at.value:$e.next()})},qe(st),oe(st,K,"Generator"),oe(st,G,function(){return this}),oe(st,"toString",function(){return"[object Generator]"}),v.keys=function(ne){var ie=Object(ne),Ke=[];for(var Ct in ie)Ke.push(Ct);return Ke.reverse(),function we(){for(;Ke.length;){var $e=Ke.pop();if($e in ie)return we.value=$e,we.done=!1,we}return we.done=!0,we}},v.values=Qe,Pt.prototype={constructor:Pt,reset:function(ne){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(pt),!ne)for(var ie in this)ie.charAt(0)==="t"&&x.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=p)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if(ne.type==="throw")throw ne.arg;return this.rval},dispatchException:function(ne){if(this.done)throw ne;var ie=this;function Ke(Je,tt){return $e.type="throw",$e.arg=ne,ie.next=Je,tt&&(ie.method="next",ie.arg=p),!!tt}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var we=this.tryEntries[Ct],$e=we.completion;if(we.tryLoc==="root")return Ke("end");if(we.tryLoc<=this.prev){var at=x.call(we,"catchLoc"),Ce=x.call(we,"finallyLoc");if(at&&Ce){if(this.prev<we.catchLoc)return Ke(we.catchLoc,!0);if(this.prev<we.finallyLoc)return Ke(we.finallyLoc)}else if(at){if(this.prev<we.catchLoc)return Ke(we.catchLoc,!0)}else{if(!Ce)throw Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return Ke(we.finallyLoc)}}}},abrupt:function(ne,ie){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var Ct=this.tryEntries[Ke];if(Ct.tryLoc<=this.prev&&x.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var we=Ct;break}}we&&(ne==="break"||ne==="continue")&&we.tryLoc<=ie&&ie<=we.finallyLoc&&(we=null);var $e=we?we.completion:{};return $e.type=ne,$e.arg=ie,we?(this.method="next",this.next=we.finallyLoc,de):this.complete($e)},complete:function(ne,ie){if(ne.type==="throw")throw ne.arg;return ne.type==="break"||ne.type==="continue"?this.next=ne.arg:ne.type==="return"?(this.rval=this.arg=ne.arg,this.method="return",this.next="end"):ne.type==="normal"&&ie&&(this.next=ie),de},finish:function(ne){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ke=this.tryEntries[ie];if(Ke.finallyLoc===ne)return this.complete(Ke.completion,Ke.afterLoc),pt(Ke),de}},catch:function(ne){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ke=this.tryEntries[ie];if(Ke.tryLoc===ne){var Ct=Ke.completion;if(Ct.type==="throw"){var we=Ct.arg;pt(Ke)}return we}}throw Error("illegal catch attempt")},delegateYield:function(ne,ie,Ke){return this.delegate={iterator:Qe(ne),resultName:ie,nextLoc:Ke},this.method==="next"&&(this.arg=p),de}},v}function w(p,v,d,x,C,N,G){try{var q=p[N](G),K=q.value}catch(oe){return void d(oe)}q.done?v(K):Promise.resolve(K).then(x,C)}function k(p,v){for(var d=0;d<v.length;d++){var x=v[d];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,A(x.key),x)}}function A(p){var v=function(d,x){if(g(d)!="object"||!d)return d;var C=d[Symbol.toPrimitive];if(C!==void 0){var N=C.call(d,"string");if(g(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(d)}(p);return g(v)=="symbol"?v:v+""}var L=function(){return p=function d(x,C){var N=C.isProtected,G=C.imageCache;(function(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")})(this,d),this.page=x,this.imageCache=G,this.$container=h("<div />",{class:"BRpagecontainer ".concat(x?"pagediv".concat(x.index):"BRemptypage"),css:{position:"absolute"}}).attr("data-side",x==null?void 0:x.pageSide).attr("data-index",x==null?void 0:x.index).attr("data-page-num",x==null?void 0:x.getPageNum()),N&&(this.$container.append(h('<div class="BRscreen" />')),this.$container.addClass("protected")),this.$img=null},v=[{key:"update",value:function(d){var x,C=this,N=d.dimensions,G=N===void 0?null:N,q=d.reduce,K=q===void 0?null:q;if(G&&this.$container.css(G),K!=null&&this.page){var oe=this.imageCache.getFinalReduce(this.page.index,K),J=this.page.getURI(oe,0),Q=this.imageCache.imageLoaded(this.page.index,oe),Oe=this.imageCache.getBestLoadedReduce(this.page.index,K);if(((x=this.$img)===null||x===void 0?void 0:x.data("src"))==J)return this;var ge=this.$img;if(this.$img=this.imageCache.image(this.page.index,oe),ge?this.$img.insertAfter(ge):this.$img.prependTo(this.$container),Q||this.$container.addClass("BRpageloading"),!Q&&Oe){var W=this.page.getURI(Oe,0);ge?ge.data("src")==W||this.imageCache.image(this.page.index,Oe,ge[0]):(ge=this.imageCache.image(this.page.index,Oe)).prependTo(this.$container)}return this.$img.one("load",function(){var se,de=(se=_().mark(function Z(ye){var Y;return _().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return C.$container.removeClass("BRpageloading"),ce.next=3,(0,u.sleep)(100);case 3:(Y=ge)===null||Y===void 0||Y.remove();case 4:case"end":return ce.stop()}},Z)}),function(){var Z=this,ye=arguments;return new Promise(function(Y,ce){var Ge=se.apply(Z,ye);function ht(qe){w(Ge,Y,ce,ht,st,"next",qe)}function st(qe){w(Ge,Y,ce,ht,st,"throw",qe)}ht(void 0)})});return function(Z){return de.apply(this,arguments)}}()),this}}}],v&&k(p.prototype,v),Object.defineProperty(p,"prototype",{writable:!1}),p;var p,v}();function T(p,v){var d=document.createElement("div");return d.style.width="".concat(p.width,"px"),d.style.height="".concat(p.height,"px"),d.setAttribute("class","BRPageLayer ".concat(v)),d}function E(p){var v=p.l,d=p.r,x=p.b,C=p.t,N=document.createElementNS("http://www.w3.org/2000/svg","rect");return N.setAttribute("x",v.toString()),N.setAttribute("y",C.toString()),N.setAttribute("width",(d-v).toString()),N.setAttribute("height",(x-C).toString()),N.setAttribute("rx","4"),N.setAttribute("ry","4"),N}function a(p,v,d,x){var C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,N=x.querySelector(".".concat(p)),G=N||function(se,de){var Z=document.createElementNS("http://www.w3.org/2000/svg","svg");return Z.setAttribute("xmlns","http://www.w3.org/2000/svg"),Z.setAttribute("viewBox","0 0 ".concat(se.width," ").concat(se.height)),Z.setAttribute("class","BRPageLayer ".concat(de)),Z.setAttribute("preserveAspectRatio","none"),Z}(d,p);if(!N){var q=x.querySelector(".BRpageimage");q?h(G).insertAfter(q):h(G).prependTo(x)}var K,oe,J,Q=function(se,de){var Z=typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(!Z){if(Array.isArray(se)||(Z=m(se))){Z&&(se=Z);var ye=0,Y=function(){};return{s:Y,n:function(){return ye>=se.length?{done:!0}:{done:!1,value:se[ye++]}},e:function(st){throw st},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ce,Ge=!0,ht=!1;return{s:function(){Z=Z.call(se)},n:function(){var st=Z.next();return Ge=st.done,st},e:function(st){ht=!0,ce=st},f:function(){try{Ge||Z.return==null||Z.return()}finally{if(ht)throw ce}}}}(v.entries());try{for(Q.s();!(K=Q.n()).done;){var Oe=(oe=K.value,J=2,function(se){if(Array.isArray(se))return se}(oe)||function(se,de){var Z=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(Z!=null){var ye,Y,ce,Ge,ht=[],st=!0,qe=!1;try{if(ce=(Z=Z.call(se)).next,de===0){if(Object(Z)!==Z)return;st=!1}else for(;!(st=(ye=ce.call(Z)).done)&&(ht.push(ye.value),ht.length!==de);st=!0);}catch(Se){qe=!0,Y=Se}finally{try{if(!st&&Z.return!=null&&(Ge=Z.return(),Object(Ge)!==Ge))return}finally{if(qe)throw Y}}return ht}}(oe,J)||m(oe,J)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),ge=Oe[0],W=E(Oe[1]);C&&W.setAttribute("class",C[ge]),G.appendChild(W)}}catch(se){Q.e(se)}finally{Q.f()}}},8340:function(o,c,n){"use strict";n.d(c,{q:function(){return u}});var u={fragmentChange:"fragmentChange",pageChanged:"pageChanged",PostInit:"PostInit",stop:"stop",resize:"resize",userAction:"userAction",fullscreenToggled:"fullscreenToggled",zoomOut:"zoomOut",zoomIn:"zoomIn","1PageViewSelected":"1PageViewSelected","2PageViewSelected":"2PageViewSelected","3PageViewSelected":"3PageViewSelected"}},8004:function(o,c,n){"use strict";function u(Y){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},u(Y)}function h(){h=function(){return ce};var Y,ce={},Ge=Object.prototype,ht=Ge.hasOwnProperty,st=Object.defineProperty||function(At,St,kt){At[St]=kt.value},qe=typeof Symbol=="function"?Symbol:{},Se=qe.iterator||"@@iterator",Ie=qe.asyncIterator||"@@asyncIterator",Re=qe.toStringTag||"@@toStringTag";function ot(At,St,kt){return Object.defineProperty(At,St,{value:kt,enumerable:!0,configurable:!0,writable:!0}),At[St]}try{ot({},"")}catch(At){ot=function(St,kt,I){return St[kt]=I}}function pt(At,St,kt,I){var Ue=St&&St.prototype instanceof we?St:we,_e=Object.create(Ue.prototype),Ve=new Ot(I||[]);return st(_e,"_invoke",{value:Rt(At,kt,Ve)}),_e}function Pt(At,St,kt){try{return{type:"normal",arg:At.call(St,kt)}}catch(I){return{type:"throw",arg:I}}}ce.wrap=pt;var Qe="suspendedStart",ne="suspendedYield",ie="executing",Ke="completed",Ct={};function we(){}function $e(){}function at(){}var Ce={};ot(Ce,Se,function(){return this});var Je=Object.getPrototypeOf,tt=Je&&Je(Je(It([])));tt&&tt!==Ge&&ht.call(tt,Se)&&(Ce=tt);var Vt=at.prototype=we.prototype=Object.create(Ce);function ct(At){["next","throw","return"].forEach(function(St){ot(At,St,function(kt){return this._invoke(St,kt)})})}function gt(At,St){function kt(Ue,_e,Ve,Xe){var ut=Pt(At[Ue],At,_e);if(ut.type!=="throw"){var re=ut.arg,Pe=re.value;return Pe&&u(Pe)=="object"&&ht.call(Pe,"__await")?St.resolve(Pe.__await).then(function(He){kt("next",He,Ve,Xe)},function(He){kt("throw",He,Ve,Xe)}):St.resolve(Pe).then(function(He){re.value=He,Ve(re)},function(He){return kt("throw",He,Ve,Xe)})}Xe(ut.arg)}var I;st(this,"_invoke",{value:function(Ue,_e){function Ve(){return new St(function(Xe,ut){kt(Ue,_e,Xe,ut)})}return I=I?I.then(Ve,Ve):Ve()}})}function Rt(At,St,kt){var I=Qe;return function(Ue,_e){if(I===ie)throw Error("Generator is already running");if(I===Ke){if(Ue==="throw")throw _e;return{value:Y,done:!0}}for(kt.method=Ue,kt.arg=_e;;){var Ve=kt.delegate;if(Ve){var Xe=ti(Ve,kt);if(Xe){if(Xe===Ct)continue;return Xe}}if(kt.method==="next")kt.sent=kt._sent=kt.arg;else if(kt.method==="throw"){if(I===Qe)throw I=Ke,kt.arg;kt.dispatchException(kt.arg)}else kt.method==="return"&&kt.abrupt("return",kt.arg);I=ie;var ut=Pt(At,St,kt);if(ut.type==="normal"){if(I=kt.done?Ke:ne,ut.arg===Ct)continue;return{value:ut.arg,done:kt.done}}ut.type==="throw"&&(I=Ke,kt.method="throw",kt.arg=ut.arg)}}}function ti(At,St){var kt=St.method,I=At.iterator[kt];if(I===Y)return St.delegate=null,kt==="throw"&&At.iterator.return&&(St.method="return",St.arg=Y,ti(At,St),St.method==="throw")||kt!=="return"&&(St.method="throw",St.arg=new TypeError("The iterator does not provide a '"+kt+"' method")),Ct;var Ue=Pt(I,At.iterator,St.arg);if(Ue.type==="throw")return St.method="throw",St.arg=Ue.arg,St.delegate=null,Ct;var _e=Ue.arg;return _e?_e.done?(St[At.resultName]=_e.value,St.next=At.nextLoc,St.method!=="return"&&(St.method="next",St.arg=Y),St.delegate=null,Ct):_e:(St.method="throw",St.arg=new TypeError("iterator result is not an object"),St.delegate=null,Ct)}function oi(At){var St={tryLoc:At[0]};1 in At&&(St.catchLoc=At[1]),2 in At&&(St.finallyLoc=At[2],St.afterLoc=At[3]),this.tryEntries.push(St)}function ui(At){var St=At.completion||{};St.type="normal",delete St.arg,At.completion=St}function Ot(At){this.tryEntries=[{tryLoc:"root"}],At.forEach(oi,this),this.reset(!0)}function It(At){if(At||At===""){var St=At[Se];if(St)return St.call(At);if(typeof At.next=="function")return At;if(!isNaN(At.length)){var kt=-1,I=function Ue(){for(;++kt<At.length;)if(ht.call(At,kt))return Ue.value=At[kt],Ue.done=!1,Ue;return Ue.value=Y,Ue.done=!0,Ue};return I.next=I}}throw new TypeError(u(At)+" is not iterable")}return $e.prototype=at,st(Vt,"constructor",{value:at,configurable:!0}),st(at,"constructor",{value:$e,configurable:!0}),$e.displayName=ot(at,Re,"GeneratorFunction"),ce.isGeneratorFunction=function(At){var St=typeof At=="function"&&At.constructor;return!!St&&(St===$e||(St.displayName||St.name)==="GeneratorFunction")},ce.mark=function(At){return Object.setPrototypeOf?Object.setPrototypeOf(At,at):(At.__proto__=at,ot(At,Re,"GeneratorFunction")),At.prototype=Object.create(Vt),At},ce.awrap=function(At){return{__await:At}},ct(gt.prototype),ot(gt.prototype,Ie,function(){return this}),ce.AsyncIterator=gt,ce.async=function(At,St,kt,I,Ue){Ue===void 0&&(Ue=Promise);var _e=new gt(pt(At,St,kt,I),Ue);return ce.isGeneratorFunction(St)?_e:_e.next().then(function(Ve){return Ve.done?Ve.value:_e.next()})},ct(Vt),ot(Vt,Re,"Generator"),ot(Vt,Se,function(){return this}),ot(Vt,"toString",function(){return"[object Generator]"}),ce.keys=function(At){var St=Object(At),kt=[];for(var I in St)kt.push(I);return kt.reverse(),function Ue(){for(;kt.length;){var _e=kt.pop();if(_e in St)return Ue.value=_e,Ue.done=!1,Ue}return Ue.done=!0,Ue}},ce.values=It,Ot.prototype={constructor:Ot,reset:function(At){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(ui),!At)for(var St in this)St.charAt(0)==="t"&&ht.call(this,St)&&!isNaN(+St.slice(1))&&(this[St]=Y)},stop:function(){this.done=!0;var At=this.tryEntries[0].completion;if(At.type==="throw")throw At.arg;return this.rval},dispatchException:function(At){if(this.done)throw At;var St=this;function kt(ut,re){return _e.type="throw",_e.arg=At,St.next=ut,re&&(St.method="next",St.arg=Y),!!re}for(var I=this.tryEntries.length-1;I>=0;--I){var Ue=this.tryEntries[I],_e=Ue.completion;if(Ue.tryLoc==="root")return kt("end");if(Ue.tryLoc<=this.prev){var Ve=ht.call(Ue,"catchLoc"),Xe=ht.call(Ue,"finallyLoc");if(Ve&&Xe){if(this.prev<Ue.catchLoc)return kt(Ue.catchLoc,!0);if(this.prev<Ue.finallyLoc)return kt(Ue.finallyLoc)}else if(Ve){if(this.prev<Ue.catchLoc)return kt(Ue.catchLoc,!0)}else{if(!Xe)throw Error("try statement without catch or finally");if(this.prev<Ue.finallyLoc)return kt(Ue.finallyLoc)}}}},abrupt:function(At,St){for(var kt=this.tryEntries.length-1;kt>=0;--kt){var I=this.tryEntries[kt];if(I.tryLoc<=this.prev&&ht.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var Ue=I;break}}Ue&&(At==="break"||At==="continue")&&Ue.tryLoc<=St&&St<=Ue.finallyLoc&&(Ue=null);var _e=Ue?Ue.completion:{};return _e.type=At,_e.arg=St,Ue?(this.method="next",this.next=Ue.finallyLoc,Ct):this.complete(_e)},complete:function(At,St){if(At.type==="throw")throw At.arg;return At.type==="break"||At.type==="continue"?this.next=At.arg:At.type==="return"?(this.rval=this.arg=At.arg,this.method="return",this.next="end"):At.type==="normal"&&St&&(this.next=St),Ct},finish:function(At){for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St];if(kt.finallyLoc===At)return this.complete(kt.completion,kt.afterLoc),ui(kt),Ct}},catch:function(At){for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St];if(kt.tryLoc===At){var I=kt.completion;if(I.type==="throw"){var Ue=I.arg;ui(kt)}return Ue}}throw Error("illegal catch attempt")},delegateYield:function(At,St,kt){return this.delegate={iterator:It(At),resultName:St,nextLoc:kt},this.method==="next"&&(this.arg=Y),Ct}},ce}function g(Y,ce,Ge,ht,st,qe,Se){try{var Ie=Y[qe](Se),Re=Ie.value}catch(ot){return void Ge(ot)}Ie.done?ce(Re):Promise.resolve(Re).then(ht,st)}function m(Y){return function(){var ce=this,Ge=arguments;return new Promise(function(ht,st){var qe=Y.apply(ce,Ge);function Se(Re){g(qe,ht,st,Se,Ie,"next",Re)}function Ie(Re){g(qe,ht,st,Se,Ie,"throw",Re)}Se(void 0)})}}function y(Y,ce){(ce==null||ce>Y.length)&&(ce=Y.length);for(var Ge=0,ht=Array(ce);Ge<ce;Ge++)ht[Ge]=Y[Ge];return ht}function _(Y){Y.bind("mousedown",function(){return!1}),Y[0].onselectstart=function(){return!1}}function w(Y,ce,Ge){return Math.min(Math.max(Y,ce),Ge)}function k(Y,ce){return Y/ce*100+"%"}function A(Y,ce){return!ce.includes(Y)}function L(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,ce=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],Ge=Y.activeElement;return ce&&Ge!=null&&Ge.shadowRoot?L(Ge.shadowRoot,!0):Ge}function T(){var Y=L(arguments.length>0&&arguments[0]!==void 0?arguments[0]:document);return(Y==null?void 0:Y.tagName)=="INPUT"||(Y==null?void 0:Y.tagName)=="TEXTAREA"}function E(Y){var ce=Y.contentWindow||Y.contentDocument;return ce.document||ce}function a(Y){return Y.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(Y){return decodeURIComponent(Y).replace(/\+/g," ")}function v(Y){return encodeURIComponent(Y).replace(/%20/g,"+")}function d(Y,ce,Ge){var ht;return function(){var st=this,qe=arguments,Se=Ge&&!ht;clearTimeout(ht),ht=setTimeout(function(){ht=null,Ge||Y.apply(st,qe)},ce),Se&&Y.apply(st,qe)}}function x(Y,ce,Ge){var ht,st;return ce||(ce=250),Ge&&(ht=+new Date),function(){var qe=this,Se=+new Date,Ie=arguments;ht&&Se<ht+ce?(clearTimeout(st),st=setTimeout(function(){ht=Se,Y.apply(qe,Ie)},ce)):(ht=Se,Y.apply(qe,Ie))}}function C(Y){if(typeof Y.CustomEvent=="function")return!1;Y.CustomEvent=N}function N(Y){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ge=ce.bubbles,ht=Ge!==void 0&&Ge,st=ce.cancelable,qe=st!==void 0&&st,Se=ce.detail,Ie=Se===void 0?null:Se,Re=document.createEvent("CustomEvent");return Re.initCustomEvent(Y,ht,qe,Ie),Re}function G(){var Y=document.createElement("div");Y.style.width="1in",document.body.appendChild(Y);var ce=Y.offsetWidth;document.body.removeChild(Y);var Ge=1.25*ce;return Ge==0?100:Ge}function q(Y){return Y.reduce(function(ce,Ge){return ce+Ge},0)}function K(Y){var ce,Ge=[],ht=function(qe,Se){var Ie=typeof Symbol<"u"&&qe[Symbol.iterator]||qe["@@iterator"];if(!Ie){if(Array.isArray(qe)||(Ie=function(ne,ie){if(ne){if(typeof ne=="string")return y(ne,ie);var Ke={}.toString.call(ne).slice(8,-1);return Ke==="Object"&&ne.constructor&&(Ke=ne.constructor.name),Ke==="Map"||Ke==="Set"?Array.from(ne):Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke)?y(ne,ie):void 0}}(qe))||Se&&qe&&typeof qe.length=="number"){Ie&&(qe=Ie);var Re=0,ot=function(){};return{s:ot,n:function(){return Re>=qe.length?{done:!0}:{done:!1,value:qe[Re++]}},e:function(ne){throw ne},f:ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pt,Pt=!0,Qe=!1;return{s:function(){Ie=Ie.call(qe)},n:function(){var ne=Ie.next();return Pt=ne.done,ne},e:function(ne){Qe=!0,pt=ne},f:function(){try{Pt||Ie.return==null||Ie.return()}finally{if(Qe)throw pt}}}}(Y);try{for(ht.s();!(ce=ht.n()).done;){var st=ce.value;Ge.push(st)}}catch(qe){ht.e(qe)}finally{ht.f()}return Ge}function oe(Y,ce){return Y.length==ce.length&&Y.every(function(Ge,ht){return Ge==ce[ht]})}function J(Y,ce){return Y&&ce&&!oe(Y,ce)}function Q(Y){return Oe.apply(this,arguments)}function Oe(){return(Oe=m(h().mark(function Y(ce){return h().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.abrupt("return",new Promise(function(ht){return setTimeout(ht,ce)}));case 1:case"end":return Ge.stop()}},Y)}))).apply(this,arguments)}function ge(Y){return W.apply(this,arguments)}function W(){return W=m(h().mark(function Y(ce){var Ge,ht,st,qe,Se,Ie,Re,ot,pt,Pt,Qe,ne=arguments;return h().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:ht=(Ge=ne.length>1&&ne[1]!==void 0?ne[1]:{}).step,st=ht===void 0?50:ht,qe=Ge.timeout,Se=qe===void 0?500:qe,Ie=Ge.until,Re=Ie===void 0?function(Ke){return!!Ke}:Ie,ot=Ge._sleep,pt=ot===void 0?Q:ot,Pt=Date.now();case 2:if(!(Date.now()-Pt<Se)){ie.next=10;break}if(Qe=ce(),!Re(Qe)){ie.next=6;break}return ie.abrupt("return",Qe);case 6:return ie.next=8,pt(st);case 8:ie.next=2;break;case 10:case"end":return ie.stop()}},Y)})),W.apply(this,arguments)}function se(Y,ce){return new Promise(function(Ge){var ht=function(st){Y.removeEventListener(ce,ht),Ge(st)};Y.addEventListener(ce,ht)})}function de(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(Y){return Y==="slow"?600:Y==="fast"?200:parseInt(Y,10)}function ye(Y,ce){return Y.sort(function(Ge,ht){var st=ce?ce(Ge):Ge,qe=ce?ce(ht):ht;return st<qe?-1:st>qe?1:0})}n.r(c),n.d(c,{PolyfilledCustomEvent:function(){return N},arrChanged:function(){return J},arrEquals:function(){return oe},calcScreenDPI:function(){return G},clamp:function(){return w},cssPercentage:function(){return k},debounce:function(){return d},decodeURIComponentPlus:function(){return p},disableSelect:function(){return _},encodeURIComponentPlus:function(){return v},escapeHTML:function(){return a},escapeRegExp:function(){return de},genToArray:function(){return K},getActiveElement:function(){return L},getIFrameDocument:function(){return E},isInputActive:function(){return T},notInArray:function(){return A},parseAnimationSpeed:function(){return Z},poll:function(){return ge},polyfillCustomEvent:function(){return C},promisifyEvent:function(){return se},sleep:function(){return Q},sortBy:function(){return ye},sum:function(){return q},throttle:function(){return x}}),n(2675),n(9463),n(6412),n(2259),n(8125),n(3418),n(4423),n(3792),n(2712),n(4490),n(4782),n(6910),n(2010),n(4731),n(479),n(875),n(6099),n(8940),n(3362),n(7495),n(8781),n(1699),n(7764),n(5440),n(3500),n(2953)},7583:function(o,c,n){"use strict";function u(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:navigator.vendor;return/chrome/i.test(y)&&/google inc/i.test(_)&&!function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/chrome/i.test(w)&&/\bEdg(e|A|iOS)?\b/i.test(w)}(y)}function h(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/firefox/i.test(y)}function g(){return"ongesturestart"in window&&navigator.maxTouchPoints>0}function m(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/SamsungBrowser/i.test(y)}n.d(c,{H8:function(){return u},gm:function(){return h},ij:function(){return m},un:function(){return g}}),n(7495)}},r={};function s(o){var c=r[o];if(c!==void 0)return c.exports;var n=r[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,e=[],s.O=function(o,c,n,u){if(!c){var h=1/0;for(_=0;_<e.length;_++){c=e[_][0],n=e[_][1],u=e[_][2];for(var g=!0,m=0;m<c.length;m++)(!1&u||h>=u)&&Object.keys(s.O).every(function(w){return s.O[w](c[m])})?c.splice(m--,1):(g=!1,u<h&&(h=u));if(g){e.splice(_--,1);var y=n();y!==void 0&&(o=y)}}return o}u=u||0;for(var _=e.length;_>0&&e[_-1][2]>u;_--)e[_]=e[_-1];e[_]=[c,n,u]},s.d=function(o,c){for(var n in c)s.o(c,n)&&!s.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(o){if(typeof window=="object")return window}}(),s.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.nmd=function(o){return o.paths=[],o.children||(o.children=[]),o},function(){var o={340:0};s.O.j=function(u){return o[u]===0};var c=function(u,h){var g,m,y=h[0],_=h[1],w=h[2],k=0;if(y.some(function(L){return o[L]!==0})){for(g in _)s.o(_,g)&&(s.m[g]=_[g]);if(w)var A=w(s)}for(u&&u(h);k<y.length;k++)m=y[k],s.o(o,m)&&o[m]&&o[m][0](),o[m]=0;return s.O(A)},n=self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[];n.forEach(c.bind(null,0)),n.push=c.bind(null,n.push.bind(n))}();var l={};(function(){"use strict";s(2675),s(9463),s(6412),s(2259),s(8125),s(8706),s(2008),s(113),s(3418),s(4423),s(3792),s(8598),s(2062),s(2712),s(4490),s(4782),s(2010),s(4731),s(479),s(5506),s(875),s(9432),s(6099),s(6034),s(8940),s(3362),s(7495),s(8781),s(1699),s(7764),s(5746),s(3500),s(2953),s(8408),s(9139),s(3662),s(8497);var o=s(8004);s(5700),s(9572),s(8130),s(8459),s(4720);var c=s(8340),n=s(1669);function u(R){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(R)}function h(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,g(U.key),U)}}function g(R){var O=function(j,U){if(u(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(u(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return u(O)=="symbol"?O:O+""}var m=function(){return R=function j(U){(function(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U,this.$root=null,this.$nav=null,this.maxPageNum=null,this.minimumControls=["viewmode"],this.maximumControls=["book_left","book_right","zoom_in","zoom_out","onepg","twopg","thumb"],this.updateNavIndexThrottled=(0,o.throttle)(this.updateNavIndex.bind(this),250,!1)},O=[{key:"controlFor",value:function(j){var U=this.br.options.controls[j];return U.visible?U.template?"<li>".concat(U.template(this.br),"</li>"):`<li>
      <button class="BRicon `.concat(U.className,'" title="').concat(U.label,`">
        <div class="icon icon-`).concat(U.iconClassName,`"></div>
        <span class="BRtooltip">`).concat(U.label,`</span>
      </button>
    </li>`):""}},{key:"_renderControls",value:function(){var j=this;return["bookLeft","bookRight","onePage","twoPage","thumbnail","viewmode","zoomOut","zoomIn","fullScreen"].map(function(U){return j.controlFor(U)}).join("")}},{key:"_bindViewModeButton",value:function(){var j=this,U=this.br,le=U.options.controls.viewmode,fe=[{mode:U.constMode1up,className:"onepg",title:"One-page view"},{mode:U.constMode2up,className:"twopg",title:"Two-page view"},{mode:U.constModeThumb,className:"thumb",title:"Thumbnail view"}].filter(function(Yt){return!le.excludedModes.includes(Yt.mode)}),Ae=fe.map(function(Yt){return Yt.mode});le.excludedModes.includes(U.mode)&&U.switchMode(Ae[0]);for(var Nt=Ae.indexOf(U.mode),yt=0;yt<=Nt;yt++)Ae.push(Ae.shift());fe.length<2&&this.$nav.find(".".concat(le.className)).remove(),this.br.bind(c.q.PostInit,function(){var Yt=j.$nav.find(".".concat(le.className)).off(".bindNavigationHandlers").on("click",function(Pi){var Ii=Ae.shift(),Li=fe.find(function(Wi){return Wi.mode===Ii}),cr=fe.find(function(Wi){return Wi.mode===Ae[0]});Ae.push(Ii),U.viewModeOrder=Ae,j.updateViewModeButton(n(Pi.currentTarget),cr.className,cr.title),U.switchMode(Li.mode)}),li=fe.find(function(Pi){return Pi.mode===Ae[0]});j.updateViewModeButton(Yt,li.className,li.title)})}},{key:"updateViewModeButton",value:function(j,U,le){j.attr("title",le).find(".icon").removeClass().addClass("icon icon-".concat(U)).end().find(".BRtooltip").text(le)}},{key:"switchNavbarControls",value:function(){this.br.refs.$brContainer.prop("clientWidth")<640?(this.showMinimumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMinimumNavbarControls()):(this.showMaximumNavPageNum(),this.br.options.bookType!=="linerNotes"&&this.showMaximumNavbarControls())}},{key:"showMinimumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.remove("hide"),U&&U.classList.add("hide")}},{key:"showMaximumNavPageNum",value:function(){var j=document.querySelector(".BRcurrentpage.BRmin"),U=document.querySelector(".BRcurrentpage.BRmax");j&&j.classList.add("hide"),U&&U.classList.remove("hide")}},{key:"showMinimumNavbarControls",value:function(){this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"showMaximumNavbarControls",value:function(){this.maximumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.remove("hide")}),this.minimumControls.forEach(function(j){var U=document.querySelector(".controls .".concat(j));U&&U.classList.add("hide")})}},{key:"init",value:function(){var j=this,U=this.br,le=U.options.navbarTitle,fe=U.pageProgression==="rl",Ae=fe?"book_flip_next":"book_flip_prev",Nt=fe?"book_flip_prev":"book_flip_next";this.br.options.controls.bookLeft.className="book_left ".concat(Ae),this.br.options.controls.bookRight.className="book_right ".concat(Nt),U.refs.$BRfooter=this.$root=n('<div class="BRfooter"></div>'),U.refs.$BRnav=this.$nav=n(`<div class="BRnav BRnavDesktop">
          `.concat(le?'<div class="BRnavTitle">'.concat(le,"</div>"):"",`
          <nav class="BRcontrols">
            <ul class="controls">
              <li class="scrubber">
                <div class="BRnavpos">
                  <div class="BRpager"></div>
                  <div class="BRnavline"></div>
                </div>
                <p>
                  <span class="BRcurrentpage BRmax"></span>
                  <span class="BRcurrentpage BRmin"></span>
                </p>
              </li>
              `).concat(this._renderControls(),`
            </ul>
          </nav>
        </div>`)),this.$root.append(this.$nav),U.refs.$br.append(this.$root);var yt=this.$root.find(".BRpager").slider({animate:!0,min:0,max:U.book.getNumLeafs()-1,value:U.currentIndex(),range:"min"});return yt.on("slide",function(Yt,li){return j.updateNavPageNum(li.value),!0}),yt.on("slidechange",function(Yt,li){return j.updateNavPageNum(li.value),yt.data("swallowchange")?yt.data("swallowchange",!1):U.jumpToIndex(li.value),!0}),U.options.controls.viewmode.visible&&this._bindViewModeButton(),this.updateNavPageNum(U.currentIndex()),this.$nav}},{key:"getNavPageNumString",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1],le=this.br,fe=le.book.getPageNum(j),Ae=le.book.getPageProp(j,"pageType"),Nt=le.book.getNumLeafs();if(!this.maxPageNum){for(var yt,Yt=0,li=0;li<Nt;li++)yt=parseFloat(le.book.getPageNum(li)),!isNaN(yt)&&yt>Yt&&(Yt=yt);this.maxPageNum=Yt}return function(Pi,Ii,Li,cr,Wi){var Di=arguments.length>5&&arguments[5]!==void 0&&arguments[5],Xi=Li[0]!="n",er=Pi+1;if(Xi||(Li="\u2014"),Di===!0)return"Page ".concat(Li," (").concat(er,"/").concat(Ii,")");if(!Xi)return"(".concat(er," of ").concat(Ii,")");var Zi=Wi&&parseFloat(Li)?" of ".concat(Wi):"";return"".concat(Li).concat(Zi)}(j,Nt,fe,Ae,this.maxPageNum,U)}},{key:"updateNavPageNum",value:function(j){this.$root.find(".BRcurrentpage.BRmax").html(this.getNavPageNumString(j,!0)),this.$root.find(".BRcurrentpage.BRmin").html(this.getNavPageNumString(j))}},{key:"updateNavIndex",value:function(j){j=j!==void 0?j:this.br.currentIndex(),this.$root.find(".BRpager").data("swallowchange",!0).slider("value",j)}}],O&&h(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,O}();function y(R){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},y(R)}function _(R){var O=typeof Map=="function"?new Map:void 0;return _=function(j){if(j===null||!function(le){try{return Function.toString.call(le).indexOf("[native code]")!==-1}catch(fe){return typeof le=="function"}}(j))return j;if(typeof j!="function")throw new TypeError("Super expression must either be null or a function");if(O!==void 0){if(O.has(j))return O.get(j);O.set(j,U)}function U(){return function(le,fe,Ae){if(w())return Reflect.construct.apply(null,arguments);var Nt=[null];Nt.push.apply(Nt,fe);var yt=new(le.bind.apply(le,Nt));return Ae&&k(yt,Ae.prototype),yt}(j,arguments,A(this).constructor)}return U.prototype=Object.create(j.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k(U,j)},_(R)}function w(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(w=function(){return!!R})()}function k(R,O){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},k(R,O)}function A(R){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},A(R)}s(6033),s(825);var L={defaults:null,padding:10,ui:"full",uiAutoHide:!1,thumbRowBuffer:1,thumbColumns:6,thumbMaxLoading:4,thumbPadding:10,thumbMinZoomColumns:2,thumbMaxZoomColumns:8,flipSpeed:400,showToolbar:!0,showNavbar:!0,navBarTitle:"",showLogo:!0,logoURL:"https://archive.org",imagesBaseURL:"/BookReader/images/",reduceSet:"pow2",reductionFactors:[{reduce:.25,autofit:null},{reduce:.5,autofit:null},{reduce:1,autofit:null},{reduce:2,autofit:null},{reduce:3,autofit:null},{reduce:4,autofit:null},{reduce:6,autofit:null}],onePage:{autofit:"auto"},twoPage:{coverInternalPadding:0,coverExternalPadding:0,bookSpineDivWidth:64,autofit:"auto"},onePageMinBreakpoint:800,bookTitle:"",bookUrl:null,bookUrlText:null,bookUrlTitle:null,enableBookTitleLink:!0,bookUri:null,bookLanguage:null,metadata:[],thumbnail:null,bookUrlMoreInfo:null,enableExperimentalControls:!1,el:"#BookReader",pageProgression:"lr",ppi:500,protected:!1,plugins:{archiveAnalytics:null,autoplay:null,chapters:null,iiif:null,resume:null,search:null,textSelection:null,tts:null},vars:{},data:[],table_of_contents:null,getNumLeafs:null,getPageWidth:null,getPageHeight:null,getPageURI:null,renderPageURI:function(R,O){R.src=O},getPageSide:null,getSpreadIndices:null,getPageNum:null,getPageProp:null,leafNumToIndex:null,getEmbedCode:null,controls:{bookLeft:{visible:!0,label:"Flip left",className:"book_left",iconClassName:"left-arrow"},bookRight:{visible:!0,label:"Flip right",className:"book_right",iconClassName:"left-arrow hflip"},onePage:{visible:!0,label:"One-page view",className:"onepg",iconClassName:"onepg"},twoPage:{visible:!0,label:"Two-page view",className:"twopg",iconClassName:"twopg"},thumbnail:{visible:!0,label:"Thumbnail view",className:"thumb",iconClassName:"thumb"},viewmode:{visible:!0,className:"viewmode",excludedModes:[]},zoomOut:{visible:!0,label:"Zoom out",className:"zoom_out",iconClassName:"magnify"},zoomIn:{visible:!0,label:"Zoom in",className:"zoom_in",iconClassName:"magnify plus"},fullScreen:{visible:!0,label:"Toggle fullscreen",className:"full",iconClassName:"fullscreen"}},startFullscreen:!1,enableFSLogoShortcut:!1,autoResize:!0,useSrcSet:!1,unviewablePageURI:"./unviewable_page.png"},T=function(R){function O(){return function(Ae,Nt){if(!(Ae instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,O),U=this,fe=arguments,le=A(le=O),function(Ae,Nt){if(Nt&&(y(Nt)=="object"||typeof Nt=="function"))return Nt;if(Nt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(Ae)}(U,w()?Reflect.construct(le,fe||[],A(U).constructor):le.apply(U,fe));var U,le,fe}return function(U,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(le&&le.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),le&&k(U,le)}(O,R),j=O,Object.defineProperty(j,"prototype",{writable:!1}),j;var j}(_(Error)),E=(s(5440),s(4638),s(1669));function a(R){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},a(R)}function p(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function v(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,d(U.key),U)}}function d(R){var O=function(j,U){if(a(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(a(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return a(O)=="symbol"?O:O+""}var x=function(){return R=function j(U){(function(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,j),this.br=U},O=[{key:"buildToolbarElement",value:function(){var j=this.br,U=j.showLogo?`
      <span class="BRtoolbarSection BRtoolbarSectionLogo">
        <a class="logo" href="`.concat(j.logoURL,`"></a>
      </span>`):"";j.refs.$BRtoolbar=E(`
      <div class="BRtoolbar header">
        <div class="BRtoolbarbuttons">
          <div class="BRtoolbarLeft">
            `.concat(U,`
            <span class="BRtoolbarSection BRtoolbarSectionTitle"></span>
          </div>
          <div class="BRtoolbarRight">
            <span class="BRtoolbarSection BRtoolbarSectionInfo">
              <button class="BRpill info js-tooltip">Info</button>
              <button class="BRpill share js-tooltip">Share</button>
            </span>
          </div>
        </div>
      </div>`));var le=j.refs.$BRtoolbar.find(".BRtoolbarSectionTitle");j.bookUrl&&j.options.enableBookTitleLink?le.append(E("<a>").attr({href:j.bookUrl,title:j.bookUrlTitle}).addClass("BRreturn").html(j.bookUrlText||j.bookTitle)):j.bookTitle&&le.append(j.bookUrlText||j.bookTitle);for(var fe=0,Ae=Object.values(j.plugins);fe<Ae.length;fe++)Ae[fe]._configureToolbar(j.refs.$BRtoolbar);return j.refs.$BRtoolbar}},{key:"initToolbar",value:function(j,U){var le=this.br;le.refs.$br.append(this.buildToolbarElement()),le.$(".BRnavCntl").addClass("BRup"),le.$(".pause").hide(),le.refs.$BRtoolbar.append(),le.canSwitchToMode(le.constMode2up)||le.$(".two_page_mode, .play, .pause").hide(),le.canSwitchToMode(le.constModeThumb)||le.$(".thumbnail_mode").hide(),le.canSwitchToMode(le.constMode2up)||le.canSwitchToMode(le.constModeThumb)||le.$(".one_page_mode").hide(),E('<div style="display: none;"></div>').append(E(`
    <div class="BRfloat BRshare">
      <div class="BRfloatHead">
        Share
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
    </div>`)).append(E(`
    <div class="BRfloat BRinfo">
      <div class="BRfloatHead">About this book
        <button class="floatShut" href="javascript:;" onclick="$.fn.colorbox.close();"><span class="br-colorbox-shift">Close</span></button>
      </div>
      <div class="BRfloatBody">
        <div class="BRfloatCover"></div>
        <div class="BRfloatMeta">
          <div class="BRfloatTitle">
            <h2><a /></h2>
          </div>
        </div>
      </div>
      <div class="BRfloatFoot">
        <a href="https://openlibrary.org/dev/docs/bookreader">About the BookReader</a>
      </div>
    </div>`)).appendTo(le.refs.$br),le.$(".BRinfo .BRfloatTitle a").attr({href:le.bookUrl}).text(le.bookTitle).addClass("title"),this.buildInfoDiv(le.$(".BRinfo")),this.buildShareDiv(le.$(".BRshare")),le.$(".share").colorbox({inline:!0,opacity:"0.5",href:le.$(".BRshare"),onLoad:function(){le.trigger(c.q.stop),le.$(".BRpageviewValue").val(window.location.href)}}),le.$(".info").colorbox({inline:!0,opacity:"0.5",href:le.$(".BRinfo"),onLoad:function(){le.trigger(c.q.stop)}})}},{key:"buildShareDiv",value:function(j){var U=this,le=this.br,fe=document.location+"",Ae=(fe+"").replace(/#.*/,""),Nt=le.getEmbedCode?`
      <div class="share-embed">
        <p class="share-embed-prompt">Copy and paste one of these options to share this book elsewhere.</p>
        <form method="post" action="">
          <fieldset class="fieldset-share-pageview">
            <label for="pageview">Link to this page view</label>
            <input type="text" name="pageview" class="BRpageviewValue" value="`.concat(fe,`"/>
          </fieldset>
          <fieldset class="fieldset-share-book-link">
            <label for="booklink">Link to the book</label>
            <input type="text" name="booklink" class="booklink" value="`).concat(Ae,`"/>
          </fieldset>
          <fieldset class="fieldset-embed">
            <label for="iframe">Embed a mini Book Reader</label>
            <fieldset class="sub">
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(le.constMode1up,`" checked="checked"/>
                1 page
              </label>
              <label class="sub">
                <input type="radio" name="pages" value="`).concat(le.constMode2up,`"/>
                2 pages
              </label>
              <label class="sub">
                <input type="checkbox" name="thispage" value="thispage"/>
                Open to this page?
              </label>
            </fieldset>
            <textarea cols="30" rows="4" name="iframe" class="BRframeEmbed"></textarea>
          </fieldset>
        </form>
      </div>`):"",yt=E(`
      <div class="share-title">Share this book</div>
      <div class="share-social">
        <label class="sub open-to-this-page">
          <input class="thispage-social" type="checkbox" />
          Open to this page?
        </label>
        <div><button class="BRaction share facebook-share-button"><i class="BRicon fb" /> Facebook</button></div>
        <div><button class="BRaction share twitter-share-button"><i class="BRicon twitter" /> Twitter</button></div>
        <div><button class="BRaction share email-share-button"><i class="BRicon email" /> Email</button></div>
      </div>
      `.concat(Nt,`
      <div class="BRfloatFoot">
        <button class="share-finished" type="button" onclick="$.fn.colorbox.close();">Finished</button>
      </div>`));yt.appendTo(j),yt.find(".fieldset-embed input").on("change",function(Yt){var li=E(Yt.target).parents("form").first(),Pi={};Pi.mode=E(li.find(".fieldset-embed input[name=pages]:checked")).val(),li.find(".fieldset-embed input[name=thispage]").prop("checked")&&(Pi.page=le.book.getPageNum(le.currentIndex())),le.getEmbedCode&&li.find(".BRframeEmbed").val(le.getEmbedCode("480px","430px",Pi))}),yt.find("input, textarea").on("focus",function(Yt){return Yt.target.select()}),yt.find(".facebook-share-button").on("click",function(){C("https://www.facebook.com/sharer.php?"+E.param({u:U._getSocialShareUrl()}),600,400,"Share")}),yt.find(".twitter-share-button").on("click",function(){C("https://twitter.com/intent/tweet?"+E.param({url:U._getSocialShareUrl(),text:le.bookTitle}),600,400,"Share")}),yt.find(".email-share-button").on("click",function(){var Yt="".concat(le.bookTitle,`

`).concat(U._getSocialShareUrl());window.location.href="mailto:?subject=".concat(encodeURI(le.bookTitle),"&body=").concat(encodeURI(Yt))}),yt.find("input[name=thispage]").trigger("change"),yt.appendTo(j)}},{key:"_getSocialShareUrl",value:function(){return this.br.$(".thispage-social").prop("checked")?window.location.href:"".concat(document.location.protocol,"//").concat(window.location.hostname).concat(window.location.pathname)}},{key:"buildInfoDiv",value:function(j){var U=this.br;j.find(".BRfloatBody, .BRfloatCover, .BRfloatFoot").remove();var le=E('<div class="BRinfoLeftCol"></div>');U.thumbnail&&le.append(E(`
        <div class="BRimageW">
          <img src="`.concat(U.thumbnail,'" alt="').concat((0,o.escapeHTML)(U.bookTitle),`" />
        </div>`)));var fe,Ae=E('<div class="BRinfoRightCol">'),Nt=function(Xi,er){var Zi=typeof Symbol<"u"&&Xi[Symbol.iterator]||Xi["@@iterator"];if(!Zi){if(Array.isArray(Xi)||(Zi=function(mr,Br){if(mr){if(typeof mr=="string")return p(mr,Br);var Mr={}.toString.call(mr).slice(8,-1);return Mr==="Object"&&mr.constructor&&(Mr=mr.constructor.name),Mr==="Map"||Mr==="Set"?Array.from(mr):Mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mr)?p(mr,Br):void 0}}(Xi))||er&&Xi&&typeof Xi.length=="number"){Zi&&(Xi=Zi);var gr=0,Ir=function(){};return{s:Ir,n:function(){return gr>=Xi.length?{done:!0}:{done:!1,value:Xi[gr++]}},e:function(mr){throw mr},f:Ir}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oi,ur=!0,Yr=!1;return{s:function(){Zi=Zi.call(Xi)},n:function(){var mr=Zi.next();return ur=mr.done,mr},e:function(mr){Yr=!0,Oi=mr},f:function(){try{ur||Zi.return==null||Zi.return()}finally{if(Yr)throw Oi}}}}(U.metadata);try{for(Nt.s();!(fe=Nt.n()).done;){var yt=fe.value,Yt=yt.extraValueClass,li=Yt===void 0?"":Yt,Pi=yt.label,Ii=yt.value,Li=Pi==="Title"?(0,o.escapeHTML)(Ii):Ii;Ae.append(E(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoLabel">`.concat(Pi,`</div>
          <div class="BRinfoValue `).concat(li,'">').concat(Li,`</div>
        </div>`)))}}catch(Xi){Nt.e(Xi)}finally{Nt.f()}var cr=U.bookUrlMoreInfo?U.bookUrlMoreInfo:U.bookTitle;cr&&U.bookUrl&&Ae.append(E(`
        <div class="BRinfoValueWrapper">
          <div class="BRinfoMoreInfoWrapper">
            <a class="BRinfoMoreInfo" href="`.concat(U.bookUrl,`">
              `).concat((0,o.escapeHTML)(cr),`
            </a>
          </div>
        </div>`)));var Wi=E('<div class="BRfloatFoot BRinfoFooter"></div>'),Di=E('<div class="BRinfoW mv20-lg">').append([le,Ae,E('<br style="clear:both"/>')]);j.append(Di,Wi).addClass("wide")}},{key:"getToolBarHeight",value:function(){var j=this.br.refs.$BRtoolbar;return j&&j.css("display")==="block"?j.outerHeight()+parseInt(j.css("top")):0}}],O&&v(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,O}();function C(R,O,j,U){var le=window.screenLeft!=null?window.screenLeft:screen.left,fe=window.screenTop!=null?window.screenTop:screen.top,Ae=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-O/2+le,Nt=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-j/2+fe,yt="status=1,width=".concat(O,",height=").concat(j,",top=").concat(Nt,",left=").concat(Ae);window.open(R,U,yt)}function N(R){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},N(R)}function G(){G=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&N(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(N(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function q(R,O){var j=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!j){if(Array.isArray(R)||(j=function(yt,Yt){if(yt){if(typeof yt=="string")return K(yt,Yt);var li={}.toString.call(yt).slice(8,-1);return li==="Object"&&yt.constructor&&(li=yt.constructor.name),li==="Map"||li==="Set"?Array.from(yt):li==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(li)?K(yt,Yt):void 0}}(R))||O&&R&&typeof R.length=="number"){j&&(R=j);var U=0,le=function(){};return{s:le,n:function(){return U>=R.length?{done:!0}:{done:!1,value:R[U++]}},e:function(yt){throw yt},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe,Ae=!0,Nt=!1;return{s:function(){j=j.call(R)},n:function(){var yt=j.next();return Ae=yt.done,yt},e:function(yt){Nt=!0,fe=yt},f:function(){try{Ae||j.return==null||j.return()}finally{if(Nt)throw fe}}}}function K(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function oe(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function J(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Oe(U.key),U)}}function Q(R,O,j){return O&&J(R.prototype,O),j&&J(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function Oe(R){var O=function(j,U){if(N(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(N(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return N(O)=="symbol"?O:O+""}s(8980),s(8350),s(6910),s(237),s(1392);var ge=function(){return Q(function R(O){var j,U,le,fe;oe(this,R),this.br=O,this.reduceSet=O.reduceSet,this.ppi=(j=(U=O.options)===null||U===void 0?void 0:U.ppi)!==null&&j!==void 0?j:L.ppi,this.pageProgression=(le=(fe=O.options)===null||fe===void 0?void 0:fe.pageProgression)!==null&&le!==void 0?le:L.pageProgression,this._medianPageSize=null,this._getDataFlattenedCached=null},[{key:"getMedianPageSizeInches",value:function(){if(this._medianPageSize)return this._medianPageSize;var R,O=[],j=[],U=q(this.pagesIterator());try{for(U.s();!(R=U.n()).done;){var le=R.value;O.push(le.widthInches),j.push(le.heightInches)}}catch(fe){U.e(fe)}finally{U.f()}return O.sort(function(fe,Ae){return fe-Ae}),j.sort(function(fe,Ae){return fe-Ae}),this._medianPageSize={width:O[Math.floor(O.length/2)],height:j[Math.floor(j.length/2)]},this._medianPageSize}},{key:"_getPageWidth",value:function(R){return R=(0,o.clamp)(R,0,this.getNumLeafs()-1),this.getPageWidth(R)}},{key:"_getPageHeight",value:function(R){var O=(0,o.clamp)(R,0,this.getNumLeafs()-1);return this.getPageHeight(O)}},{key:"getPageIndex",value:function(R){var O=this.getPageIndices(R);return O.length?O[O.length-1]:void 0}},{key:"getPageIndices",value:function(R){var O=[];if(R.slice(0,1)=="n")try{var j=R.slice(1,R.length),U=parseInt(j);return O.push(U),O}catch(fe){}for(var le=0;le<this.getNumLeafs();le++)this.getPageNum(le)==R&&O.push(le);return O}},{key:"getPageName",value:function(R){return"Page "+this.getPageNum(R)}},{key:"getNumLeafs",value:function(){return this.br.numLeafs!==void 0?this.br.numLeafs:this._getDataFlattened().length}},{key:"getPageWidth",value:function(R){return this.getPageProp(R,"width")}},{key:"getPageHeight",value:function(R){return this.getPageProp(R,"height")}},{key:"getPageURI",value:function(R,O,j){if(this.getPageProp(R,"viewable",!0))return this.getPageProp(R,"uri");var U=this.br.options.unviewablePageURI;return U.startsWith(".")?this.br.options.imagesBaseURL+U:U}},{key:"getPageSide",value:function(R){return this.getPageProp(R,"pageSide")||(R%2==0?"R":"L")}},{key:"getPageNum",value:function(R){var O=this.getPageProp(R,"pageNum");return O===void 0?"n".concat(R):O}},{key:"getPageProp",value:function(R,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this._getDataProp(R,O,j)}},{key:"getSpreadIndices",value:function(R){return this.pageProgression=="rl"?this.getPageSide(R)=="R"?[R+1,R]:[R,R-1]:this.getPageSide(R)=="L"?[R,R+1]:[R-1,R]}},{key:"leafNumToIndex",value:function(R){var O=this._getDataFlattened().findIndex(function(j){return j.leafNum==R});return O>-1?O:R}},{key:"parsePageString",value:function(R){var O,j=/^leaf(\d+)/.exec(R);return j?(O=this.leafNumToIndex(parseInt(j[1],10)))===null&&(O=void 0):O=this.getPageIndex(R),O}},{key:"getPage",value:function(R){var O=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],j=this.getNumLeafs();if(O||!(R<0||R>=j))return R<0&&R>=-j&&(R+=j),new W(this,R%=j)}},{key:"pagesIterator",value:function(){var R=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},j=O.start,U=j===void 0?0:j,le=O.end,fe=le===void 0?1/0:le,Ae=O.combineConsecutiveUnviewables,Nt=Ae!==void 0&&Ae;return G().mark(function yt(){var Yt,li;return G().wrap(function(Pi){for(;;)switch(Pi.prev=Pi.next){case 0:U=Math.max(0,U),fe=Math.min(fe,R.getNumLeafs()),Yt=U;case 3:if(!(Yt<fe)){Pi.next=12;break}if(li=R.getPage(Yt),!Nt||!li.isConsecutiveUnviewable){Pi.next=7;break}return Pi.abrupt("continue",9);case 7:return Pi.next=9,li;case 9:Yt++,Pi.next=3;break;case 12:case"end":return Pi.stop()}},yt)})()}},{key:"_getDataFlattened",value:function(){if(this._getDataFlattenedCached&&this._getDataFlattenedCached[1]===this.br.data.length)return this._getDataFlattenedCached[0];var R=null,O=null,j=0,U=this.br.data.flatMap(function(le){return le.map(function(fe){return fe.pageSide||(fe.pageSide=R===null?le.length===2?"L":"R":R==="L"?"R":"L"),R=fe.pageSide,fe.viewable===!1?fe.unviewablesStart=O===null?O=j:O:O=null,j++,fe})});return this._getDataFlattenedCached=[U,this.br.data.length],U}},{key:"_getDataProp",value:function(R,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this._getDataFlattened();return isNaN(R)||R<0||R>=U.length||U[R][O]===void 0?j:U[R][O]}}])}(),W=function(){function R(O,j){oe(this,R);var U=O._getDataProp(j,"ppi",O.ppi);this.ppi=Math.max(U<10?O.ppi:U,10),this.book=O,this.index=j,this.width=O.getPageWidth(j),this.widthInches=this.width/this.ppi,this.height=O.getPageHeight(j),this.heightInches=this.height/this.ppi,this.pageSide=O.getPageSide(j),this.leafNum=O._getDataProp(j,"leafNum",this.index),this.isViewable=O._getDataProp(j,"viewable",!0),this.unviewablesStart=O._getDataProp(j,"unviewablesStart")||null,this.isConsecutiveUnviewable=!this.isViewable&&this.unviewablesStart!=this.index,this._rawData=this.book._getDataFlattened()[this.index]}return Q(R,[{key:"makeViewable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.isViewable!=O)if(O){this._rawData.viewable=!0,delete this._rawData.unviewablesStart;var j,U=q(this.book.pagesIterator({start:this.index+1}));try{for(U.s();!(j=U.n()).done;){var le=j.value;if(le.isViewable)break;le._rawData.unviewablesStart=this.index+1}}catch(yt){U.e(yt)}finally{U.f()}}else{this._rawData.viewable=!1,this._rawData.unviewablesStart=this.prev&&!this.prev.isViewable?this.prev.unviewablesStart:this.index;var fe,Ae=q(this.book.pagesIterator({start:this.index+1}));try{for(Ae.s();!(fe=Ae.n()).done;){var Nt=fe.value;if(!Nt.isViewable)break;Nt._rawData.unviewablesStart=this._rawData.unviewablesStart}}catch(yt){Ae.e(yt)}finally{Ae.f()}}}},{key:"prev",get:function(){return this.findPrev()}},{key:"next",get:function(){return this.findNext()}},{key:"left",get:function(){return this.book.pageProgression==="lr"?this.prev:this.next}},{key:"right",get:function(){return this.book.pageProgression==="lr"?this.next:this.prev}},{key:"spread",get:function(){return{left:this.pageSide==="L"?this:this.left,right:this.pageSide==="R"?this:this.right}}},{key:"goLeft",value:function(O){var j=this.book.pageProgression==="lr"?this.index-O:this.index+O;return this.book.getPage(j)}},{key:"goRight",value:function(O){var j=this.book.pageProgression==="lr"?this.index+O:this.index-O;return this.book.getPage(j)}},{key:"getURI",value:function(O,j){return this.book.getPageURI(this.index,O,j)}},{key:"getPageNum",value:function(){return this.book.getPageNum(this.index)}},{key:"getURISrcSet",value:function(O){for(var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=this.book.reduceSet,fe=le.floor(O),Ae=[],Nt=le.decr(fe);Nt>=1;Nt=le.decr(Nt))Ae.push(Nt);return Ae.map(function(yt){return"".concat(j.getURI(yt,U)," ").concat(fe/yt,"x")}).join(", ")}},{key:"findNext",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=O!==void 0&&O;return this.book.pagesIterator({start:this.index+1,combineConsecutiveUnviewables:j}).next().value}},{key:"findPrev",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=O!==void 0&&O;if(this.index!=0){if(j){if(this.isConsecutiveUnviewable)return this.book.getPage(this.unviewablesStart);var U=new R(this.book,this.index-1);return U.isViewable?U:U.findPrev({combineConsecutiveUnviewables:j})}return new R(this.book,this.index-1)}}},{key:"findLeft",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findPrev({combineConsecutiveUnviewables:j}):this.findNext({combineConsecutiveUnviewables:j})}},{key:"findRight",value:function(){var O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).combineConsecutiveUnviewables,j=O!==void 0&&O;return this.book.pageProgression==="lr"?this.findNext({combineConsecutiveUnviewables:j}):this.findPrev({combineConsecutiveUnviewables:j})}}])}(),se=(s(4554),s(9085),s(2811),s(3851),s(888),s(9696)),de=s(420),Z=s(8900),ye=(s(5914),s(2617)),Y=s(7583);function ce(R){return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ce(R)}function Ge(){Ge=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&ce(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(ce(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function ht(R,O,j,U,le,fe,Ae){try{var Nt=R[fe](Ae),yt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?O(yt):Promise.resolve(yt).then(U,le)}function st(R){return function(){var O=this,j=arguments;return new Promise(function(U,le){var fe=R.apply(O,j);function Ae(yt){ht(fe,U,le,Ae,Nt,"next",yt)}function Nt(yt){ht(fe,U,le,Ae,Nt,"throw",yt)}Ae(void 0)})}}function qe(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function Se(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,ot(U.key),U)}}function Ie(R,O,j){return O&&Se(R.prototype,O),j&&Se(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function Re(R,O,j){return(O=ot(O))in R?Object.defineProperty(R,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[O]=j,R}function ot(R){var O=function(j,U){if(ce(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(ce(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return ce(O)=="symbol"?O:O+""}var pt=function(){return Ie(function R(O){var j=this;qe(this,R),Re(this,"scaleCenter",{x:.5,y:.5}),Re(this,"_preventEvent",function(U){return U.preventDefault(),!1}),Re(this,"_pinchStart",st(Ge().mark(function U(){var le,fe;return Ge().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(!j.pinching){Ae.next=2;break}return Ae.abrupt("return");case 2:if(!(0,Y.un)()){Ae.next=7;break}return Ae.next=5,(0,o.sleep)(0);case 5:if(!(j.touchesMonitor.touches<2)){Ae.next=7;break}return Ae.abrupt("return");case 7:j.pinching=!0,j.oldScale=1,j.mode.$visibleWorld.classList.add("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="transform",j.mode.autoFit="none",j.detachCtrlZoom(),(le=(fe=j.mode).detachScrollListeners)===null||le===void 0||le.call(fe),j.interact.gesturable({listeners:{start:j._pinchStart,move:j._pinchMove,end:j._pinchEnd}});case 15:case"end":return Ae.stop()}},U)}))),Re(this,"_pinchMove",function(){var U=st(Ge().mark(function le(fe){return Ge().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(j.pinching){Ae.next=2;break}return Ae.abrupt("return");case 2:j.lastEvent={scale:fe.scale,clientX:fe.clientX,clientY:fe.clientY},j.pinchMoveFrame||(j.pinchMoveFrame=j.bufferFn(j._drawPinchZoomFrame));case 4:case"end":return Ae.stop()}},le)}));return function(le){return U.apply(this,arguments)}}()),Re(this,"_pinchEnd",st(Ge().mark(function U(){var le,fe;return Ge().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(j.pinching){Ae.next=2;break}return Ae.abrupt("return");case 2:return j.pinching=!1,j.interact.gesturable({listeners:{start:j._pinchStart,end:j._pinchEnd}}),Ae.next=6,j.pinchMoveFramePromise;case 6:j.scaleCenter={x:.5,y:.5},j.oldScale=1,j.mode.$visibleWorld.classList.remove("BRsmooth-zooming"),j.mode.$visibleWorld.style.willChange="auto",j.attachCtrlZoom(),(le=(fe=j.mode).attachScrollListeners)===null||le===void 0||le.call(fe);case 12:case"end":return Ae.stop()}},U)}))),Re(this,"_drawPinchZoomFrame",st(Ge().mark(function U(){var le,fe;return Ge().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(j.pinching){Ae.next=3;break}return j.pinchMoveFrame=null,Ae.abrupt("return");case 3:if(j.mode.$container.style.overflow="hidden",j.pinchMoveFramePromiseRes=null,j.pinchMoveFramePromise=new Promise(function(Nt){return j.pinchMoveFramePromiseRes=Nt}),j.updateScaleCenter({clientX:j.lastEvent.clientX,clientY:j.lastEvent.clientY}),le=j.mode.scale,fe=le*j.lastEvent.scale/j.oldScale,le==fe){Ae.next=13;break}return j.mode.scale=fe,Ae.next=13,j.pinchMoveFramePromise;case 13:j.mode.$container.style.overflow="auto",j.oldScale=j.lastEvent.scale,j.pinchMoveFrame=null;case 16:case"end":return Ae.stop()}},U)}))),Re(this,"_dragMove",function(){var U=st(Ge().mark(function le(fe){return Ge().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(!j.pinching){Ae.next=3;break}return Ae.next=3,j._pinchEnd();case 3:j.mode.$container.scrollTop-=fe.dy,j.mode.$container.scrollLeft-=fe.dx;case 5:case"end":return Ae.stop()}},le)}));return function(le){return U.apply(this,arguments)}}()),Re(this,"_handleCtrlWheel",function(U){if(U.ctrlKey){U.preventDefault();var le=/Mac/i.test(navigator.platform)?.045:.03;j.updateScaleCenter(U),j.mode.autoFit="none",j.mode.scale*=1-Math.sign(U.deltaY)*le}}),this.mode=O,this.pinching=!1,this.pinchMoveFrame=null,this.pinchMoveFramePromise=Promise.resolve(),this.oldScale=1,this.lastEvent=null,this.attached=!1,this.bufferFn=window.requestAnimationFrame.bind(window)},[{key:"attach",value:function(){this.attached||(this.attachCtrlZoom(),this.mode.$container.addEventListener("gesturestart",this._pinchStart),this.mode.$container.addEventListener("gesturechange",this._preventEvent),this.mode.$container.addEventListener("gestureend",this._pinchEnd),(0,Y.un)()&&(this.touchesMonitor=new Pt(this.mode.$container),this.touchesMonitor.attach()),this.mode.$container.style.touchAction="pan-x pan-y",this.interact=ye(this.mode.$container),this.interact.gesturable({listeners:{start:this._pinchStart,end:this._pinchEnd}}),(0,Y.ij)()&&(this.mode.$container.style.touchAction="none",this.interact.draggable({inertia:{resistance:2,minSpeed:100,allowResume:!0},listeners:{move:this._dragMove}})),this.attached=!0)}},{key:"detach",value:function(){var R,O;this.detachCtrlZoom(),this.mode.$container.removeEventListener("gesturestart",this._pinchStart),this.mode.$container.removeEventListener("gesturechange",this._preventEvent),this.mode.$container.removeEventListener("gestureend",this._pinchEnd),(R=this.touchesMonitor)===null||R===void 0||(O=R.detach)===null||O===void 0||O.call(R),this.interact.unset(),ye.removeDocument(document),this.attached=!1}},{key:"attachCtrlZoom",value:function(){window.addEventListener("wheel",this._handleCtrlWheel,{passive:!1})}},{key:"detachCtrlZoom",value:function(){window.removeEventListener("wheel",this._handleCtrlWheel)}},{key:"updateScaleCenter",value:function(R){var O=R.clientX,j=R.clientY,U=this.mode.htmlDimensionsCacher.boundingClientRect;this.scaleCenter={x:(O-U.left)/this.mode.htmlDimensionsCacher.clientWidth,y:(j-U.top)/this.mode.htmlDimensionsCacher.clientHeight}}},{key:"updateViewportOnZoom",value:function(R,O){var j,U=this.mode.$container,le=U.scrollTop,fe=U.scrollLeft,Ae=this.mode.htmlDimensionsCacher.clientWidth,Nt=this.mode.htmlDimensionsCacher.clientHeight,yt=R/O,Yt=this.scaleCenter.x,li=this.scaleCenter.y,Pi=yt*(fe+Yt*Ae),Ii=yt*(le+li*Nt);U.scrollTop=Ii-li*Nt,U.scrollLeft=Pi-Yt*Ae,(j=this.pinchMoveFramePromiseRes)===null||j===void 0||j.call(this)}}])}(),Pt=function(){return Ie(function R(O){var j=this;qe(this,R),Re(this,"_updateTouchCount",function(U){j.touches=U.touches.length}),this.container=O,this.touches=0},[{key:"attach",value:function(){this.container.addEventListener("touchstart",this._updateTouchCount),this.container.addEventListener("touchend",this._updateTouchCount)}},{key:"detach",value:function(){this.container.removeEventListener("touchstart",this._updateTouchCount),this.container.removeEventListener("touchend",this._updateTouchCount)}}])}();function Qe(R){return Qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Qe(R)}function ne(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Ke(U.key),U)}}function ie(R,O,j){return(O=Ke(O))in R?Object.defineProperty(R,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[O]=j,R}function Ke(R){var O=function(j,U){if(Qe(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(Qe(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return Qe(O)=="symbol"?O:O+""}var Ct=function(){return R=function j(U){var le=this;(function(fe,Ae){if(!(fe instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,j),ie(this,"clientWidth",100),ie(this,"clientHeight",100),ie(this,"boundingClientRect",{top:0,left:0}),ie(this,"updateClientSizes",function(){var fe=le.element.getBoundingClientRect();le.clientWidth=le.element.clientWidth,le.clientHeight=le.element.clientHeight,le.boundingClientRect.top=fe.top,le.boundingClientRect.left=fe.left}),ie(this,"debouncedUpdateClientSizes",(0,o.debounce)(this.updateClientSizes,150,!1)),this.element=U},O=[{key:"attachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).addEventListener("resize",this.debouncedUpdateClientSizes)}},{key:"detachResizeListener",value:function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:window).removeEventListener("resize",this.debouncedUpdateClientSizes)}}],O&&ne(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,O}();function we(R){return we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},we(R)}function $e(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,at(U.key),U)}}function at(R){var O=function(j,U){if(we(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(we(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return we(O)=="symbol"?O:O+""}var Ce=function(){return R=function j(U,le){var fe,Ae,Nt,yt=this;(function(Yt,li){if(!(Yt instanceof li))throw new TypeError("Cannot call a class as a function")})(this,j),fe=this,Nt=function(){yt.element.classList.add(yt.className),clearTimeout(yt.timeout),yt.timeout=setTimeout(function(){yt.element.classList.remove(yt.className)},600)},(Ae=at(Ae="onScroll"))in fe?Object.defineProperty(fe,Ae,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):fe[Ae]=Nt,this.element=U,this.className=le,this.timeout=null},(O=[{key:"attach",value:function(){this.element.addEventListener("scroll",this.onScroll)}},{key:"detach",value:function(){this.element.removeEventListener("scroll",this.onScroll)}}])&&$e(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R;var R,O}();function Je(R){return Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Je(R)}function tt(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,gt(U.key),U)}}function Vt(R,O,j){return O&&tt(R.prototype,O),j&&tt(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function ct(R,O,j){return(O=gt(O))in R?Object.defineProperty(R,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[O]=j,R}function gt(R){var O=function(j,U){if(Je(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(Je(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return Je(O)=="symbol"?O:O+""}var Rt,ti=Vt(function R(O){var j=this;(function(U,le){if(!(U instanceof le))throw new TypeError("Cannot call a class as a function")})(this,R),ct(this,"screenDPI",(0,o.calcScreenDPI)()),ct(this,"worldUnitsToRenderedPixels",function(U){return U*j.screenDPI}),ct(this,"renderedPixelsToWorldUnits",function(U){return U/j.screenDPI}),ct(this,"renderedPixelsToVisiblePixels",function(U){return U*j.mode.scale}),ct(this,"visiblePixelsToRenderedPixels",function(U){return U/j.mode.scale}),ct(this,"worldUnitsToVisiblePixels",function(U){return j.renderedPixelsToVisiblePixels(j.worldUnitsToRenderedPixels(U))}),ct(this,"visiblePixelsToWorldUnits",function(U){return j.renderedPixelsToWorldUnits(j.visiblePixelsToRenderedPixels(U))}),this.mode=O});function oi(R){return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},oi(R)}function ui(R){return function(O){if(Array.isArray(O))return Pe(O)}(R)||He(R)||re(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ot(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,ut(U.key),U)}}function It(R,O,j){return O=Et(O),function(U,le){if(le&&(oi(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}(U)}(R,At()?Reflect.construct(O,j||[],Et(R).constructor):O.apply(R,j))}function At(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return(At=function(){return!!R})()}function St(R,O){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},St(R,O)}function kt(){kt=function(){return R};var R={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,j){["method","field"].forEach(function(U){j.forEach(function(le){le.kind===U&&le.placement==="own"&&this.defineClassElement(O,le)},this)},this)},initializeClassElements:function(O,j){var U=O.prototype;["method","field"].forEach(function(le){j.forEach(function(fe){var Ae=fe.placement;if(fe.kind===le&&(Ae==="static"||Ae==="prototype")){var Nt=Ae==="static"?O:U;this.defineClassElement(Nt,fe)}},this)},this)},defineClassElement:function(O,j){var U=j.descriptor;if(j.kind==="field"){var le=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:le===void 0?void 0:le.call(O)}}Object.defineProperty(O,j.key,U)},decorateClass:function(O,j){var U=[],le=[],fe={static:[],prototype:[],own:[]};if(O.forEach(function(Nt){this.addElementPlacement(Nt,fe)},this),O.forEach(function(Nt){if(!_e(Nt))return U.push(Nt);var yt=this.decorateElement(Nt,fe);U.push(yt.element),U.push.apply(U,yt.extras),le.push.apply(le,yt.finishers)},this),!j)return{elements:U,finishers:le};var Ae=this.decorateConstructor(U,j);return le.push.apply(le,Ae.finishers),Ae.finishers=le,Ae},addElementPlacement:function(O,j,U){var le=j[O.placement];if(!U&&le.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");le.push(O.key)},decorateElement:function(O,j){for(var U=[],le=[],fe=O.decorators,Ae=fe.length-1;Ae>=0;Ae--){var Nt=j[O.placement];Nt.splice(Nt.indexOf(O.key),1);var yt=this.fromElementDescriptor(O),Yt=this.toElementFinisherExtras((0,fe[Ae])(yt)||yt);O=Yt.element,this.addElementPlacement(O,j),Yt.finisher&&le.push(Yt.finisher);var li=Yt.extras;if(li){for(var Pi=0;Pi<li.length;Pi++)this.addElementPlacement(li[Pi],j);U.push.apply(U,li)}}return{element:O,finishers:le,extras:U}},decorateConstructor:function(O,j){for(var U=[],le=j.length-1;le>=0;le--){var fe=this.fromClassDescriptor(O),Ae=this.toClassDescriptor((0,j[le])(fe)||fe);if(Ae.finisher!==void 0&&U.push(Ae.finisher),Ae.elements!==void 0){O=Ae.elements;for(var Nt=0;Nt<O.length-1;Nt++)for(var yt=Nt+1;yt<O.length;yt++)if(O[Nt].key===O[yt].key&&O[Nt].placement===O[yt].placement)throw new TypeError("Duplicated element ("+O[Nt].key+")")}}return{elements:O,finishers:U}},fromElementDescriptor:function(O){var j={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(j.initializer=O.initializer),j},toElementDescriptors:function(O){if(O!==void 0)return(j=O,function(U){if(Array.isArray(U))return U}(j)||He(j)||re(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var le=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),le},this);var j},toElementDescriptor:function(O){var j=O.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=ut(O.key),le=O.placement+"";if(le!=="static"&&le!=="prototype"&&le!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+le+'"');var fe=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var Ae={kind:j,key:U,placement:le,descriptor:Object.assign({},fe)};return j!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(fe,"get","The property descriptor of a field descriptor"),this.disallowProperty(fe,"set","The property descriptor of a field descriptor"),this.disallowProperty(fe,"value","The property descriptor of a field descriptor"),Ae.initializer=O.initializer),Ae},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:Xe(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var j={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(O){var j=O.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var U=Xe(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:U}},runClassFinishers:function(O,j){for(var U=0;U<j.length;U++){var le=(0,j[U])(O);if(le!==void 0){if(typeof le!="function")throw new TypeError("Finishers must return a constructor.");O=le}}return O},disallowProperty:function(O,j,U){if(O[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return R}function I(R){var O,j=ut(R.key);R.kind==="method"?O={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?O={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?O={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var U={kind:R.kind==="field"?"field":"method",key:j,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:O};return R.decorators&&(U.decorators=R.decorators),R.kind==="field"&&(U.initializer=R.value),U}function Ue(R,O){R.descriptor.get!==void 0?O.descriptor.get=R.descriptor.get:O.descriptor.set=R.descriptor.set}function _e(R){return R.decorators&&R.decorators.length}function Ve(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)}function Xe(R,O){var j=R[O];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+O+"' to be a function");return j}function ut(R){var O=function(j,U){if(oi(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(oi(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return oi(O)=="symbol"?O:O+""}function re(R,O){if(R){if(typeof R=="string")return Pe(R,O);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Pe(R,O):void 0}}function Pe(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function He(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function vt(R,O,j,U){var le=lt(Et(1&U?R.prototype:R),O,j);return 2&U&&typeof le=="function"?function(fe){return le.apply(j,fe)}:le}function lt(){return lt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,O,j){var U=function(fe,Ae){for(;!{}.hasOwnProperty.call(fe,Ae)&&(fe=Et(fe))!==null;);return fe}(R,O);if(U){var le=Object.getOwnPropertyDescriptor(U,O);return le.get?le.get.call(arguments.length<3?R:j):le.value}},lt.apply(null,arguments)}function Et(R){return Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},Et(R)}var Ut,Jt,Lt,jt,Ye,Me=(Ut=[(0,se.EM)("br-mode-1up")],Jt=de.WF,Lt=kt(),jt=function(R,O){var j=function(U){function le(fe,Ae){var Nt;return function(yt,Yt){if(!(yt instanceof Yt))throw new TypeError("Cannot call a class as a function")}(this,le),Nt=It(this,le),R(Nt),Nt.book=fe,Nt.br=Ae,Nt}return function(fe,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),Ae&&St(fe,Ae)}(le,U),function(fe,Ae,Nt){return Ae&&Ot(fe.prototype,Ae),Nt&&Ot(fe,Nt),Object.defineProperty(fe,"prototype",{writable:!1}),fe}(le)}(O);return{F:j,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,se.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",decorators:[(0,se.MZ)({type:Array})],key:"pages",value:function(){return[]}},{kind:"field",decorators:[(0,se.MZ)({type:Object})],key:"pageTops",value:function(){return{}}},{kind:"field",key:"coordSpace",value:function(){return new ti(this)}},{kind:"field",decorators:[(0,se.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",decorators:[(0,se.MZ)({type:Object})],key:"visibleRegion",value:function(){return{top:0,left:0,width:100,height:100}}},{kind:"field",decorators:[(0,se.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"field",decorators:[(0,se.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",decorators:[(0,se.P)(".br-mode-1up__world")],key:"$world",value:void 0},{kind:"field",key:"worldDimensions",value:function(){return{width:100,height:100}}},{kind:"get",key:"worldStyle",value:function(){var U=this.coordSpace.worldUnitsToRenderedPixels;return{width:U(this.worldDimensions.width)+"px",height:U(this.worldDimensions.height)+"px"}}},{kind:"get",key:"$container",value:function(){return this}},{kind:"field",decorators:[(0,se.P)(".br-mode-1up__visible-world")],key:"$visibleWorld",value:void 0},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Ct(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new pt(this)}},{kind:"field",key:"scrollClassAdder",value:function(){return new Ce(this,"BRscrolling-active")}},{kind:"field",key:"SPACING_IN",value:function(){return .2}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"method",key:"jumpToIndex",value:function(U){var le=this,fe=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).smooth,Ae=fe!==void 0&&fe;Ae&&(this.style.scrollBehavior="smooth"),this.scrollTop=this.coordSpace.worldUnitsToVisiblePixels(this.pageTops[U]-this.SPACING_IN/2),Ae&&setTimeout(function(){return le.style.scrollBehavior=""},100)}},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(U){vt(j,"firstUpdated",this,3)([U]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"initFirstRender",value:function(U){var le=this.book.getPage(U);this.scale=this.computeDefaultScale(le)}},{kind:"method",key:"updated",value:function(U){if(U.has("book")&&this.updatePages(),U.has("pages")&&(this.worldDimensions=this.computeWorldDimensions(),this.pageTops=this.computePageTops(this.pages,this.SPACING_IN)),U.has("visibleRegion")&&(this.visiblePages=this.computeVisiblePages()),U.has("visiblePages")&&(this.throttledUpdateRenderedPages(),this.visiblePages.length&&(this.br.displayedIndices=this.visiblePages.map(function(fe){return fe.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled())),U.has("scale")){var le=U.get("scale");this.$visibleWorld.style.transform="scale(".concat(this.scale,")"),this.smoothZoomer.updateViewportOnZoom(this.scale,le),this.updateVisibleRegion(),this.$world.style.transform="scale(".concat(this.scale,")")}}},{kind:"method",key:"updatePages",value:function(){this.pages=(0,o.genToArray)(this.book.pagesIterator({combineConsecutiveUnviewables:!0}))}},{kind:"method",key:"connectedCallback",value:function(){vt(j,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.attachScrollListeners(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.detachScrollListeners(),this.smoothZoomer.detach(),vt(j,"disconnectedCallback",this,3)([])}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var U=this;return(0,de.qy)(Rt||(Rt=function(le,fe){return fe||(fe=le.slice(0)),Object.freeze(Object.defineProperties(le,{raw:{value:Object.freeze(fe)}}))}([`
      <div class="br-mode-1up__world" style=`,`></div>
      <div class="br-mode-1up__visible-world">
        `,`
      </div>`])),(0,Z.W)(this.worldStyle),this.renderedPages.map(function(le){return U.renderPage(le)}))}},{kind:"field",key:"createPageContainer",value:function(){var U=this;return function(le){return U.pageContainerCache[le.index]||(U.pageContainerCache[le.index]=U.br._createPageContainer(le.index))}}},{kind:"field",key:"renderPage",value:function(){var U=this;return function(le){var fe=U.coordSpace.worldUnitsToRenderedPixels,Ae=U.coordSpace.worldUnitsToVisiblePixels,Nt=U.coordSpace.visiblePixelsToWorldUnits(U.htmlDimensionsCacher.clientWidth),yt=fe(le.widthInches),Yt=fe(le.heightInches),li=Math.max(U.SPACING_IN,(Nt-le.widthInches)/2),Pi=U.pageTops[le.index],Ii="translate(".concat(fe(li),"px, ").concat(fe(Pi),"px)"),Li=U.createPageContainer(le).update({dimensions:{width:yt,height:Yt,top:0,left:0},reduce:le.width/Ae(le.widthInches)}).$container[0];return Li.style.transform=Ii,Li.classList.toggle("BRpage-visible",U.visiblePages.includes(le)),Li}}},{kind:"field",key:"updateVisibleRegion",value:function(){var U=this;return function(){var le=U.scrollTop,fe=U.scrollLeft,Ae=U.htmlDimensionsCacher.clientWidth,Nt=U.htmlDimensionsCacher.clientHeight,yt=U.coordSpace.visiblePixelsToWorldUnits;U.visibleRegion={top:yt(le),height:yt(Nt),left:yt(fe),width:yt(Ae)}}}},{kind:"method",key:"computeRenderedPages",value:function(){var U,le;return[(U=this.visiblePages[0])===null||U===void 0?void 0:U.prev].concat(ui(this.visiblePages),[(le=this.visiblePages[this.visiblePages.length-1])===null||le===void 0?void 0:le.next]).filter(function(fe){return fe}).slice(0,10)}},{kind:"field",key:"throttledUpdateRenderedPages",value:function(){var U=this;return(0,o.throttle)(function(){U.renderedPages=U.computeRenderedPages(),U.requestUpdate()},100,null)}},{kind:"method",key:"computePageTops",value:function(U,le){var fe,Ae={},Nt=le,yt=function(li,Pi){var Ii=typeof Symbol<"u"&&li[Symbol.iterator]||li["@@iterator"];if(!Ii){if(Array.isArray(li)||(Ii=re(li))||Pi&&li&&typeof li.length=="number"){Ii&&(li=Ii);var Li=0,cr=function(){};return{s:cr,n:function(){return Li>=li.length?{done:!0}:{done:!1,value:li[Li++]}},e:function(er){throw er},f:cr}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wi,Di=!0,Xi=!1;return{s:function(){Ii=Ii.call(li)},n:function(){var er=Ii.next();return Di=er.done,er},e:function(er){Xi=!0,Wi=er},f:function(){try{Di||Ii.return==null||Ii.return()}finally{if(Xi)throw Wi}}}}(U);try{for(yt.s();!(fe=yt.n()).done;){var Yt=fe.value;Ae[Yt.index]=Nt,Nt+=Yt.heightInches+le}}catch(li){yt.e(li)}finally{yt.f()}return Ae}},{kind:"method",key:"computeDefaultScale",value:function(U){var le=this.coordSpace.renderedPixelsToWorldUnits(this.clientWidth);return Math.min(1,le/(U.widthInches+2*this.SPACING_IN))||1}},{kind:"method",key:"computeWorldDimensions",value:function(){return{width:Math.max.apply(Math,ui(this.pages.map(function(U){return U.widthInches})))+2*this.SPACING_IN,height:(0,o.sum)(this.pages.map(function(U){return U.heightInches}))+(this.pages.length+1)*this.SPACING_IN}}},{kind:"method",key:"computeVisiblePages",value:function(){var U=this;return this.pages.filter(function(le){var fe=U.pageTops[le.index],Ae=fe+le.heightInches,Nt=U.visibleRegion.top;return fe<=Nt+U.visibleRegion.height&&Ae>=Nt})}},{kind:"field",key:"attachScrollListeners",value:function(){var U=this;return function(){U.addEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.attach()}}},{kind:"field",key:"detachScrollListeners",value:function(){var U=this;return function(){U.removeEventListener("scroll",U.updateVisibleRegion),U.scrollClassAdder.detach()}}}]}}(function(R){Lt.initializeInstanceElements(R,Ye.elements)},Jt),Ye=Lt.decorateClass(function(R){for(var O=[],j=function(Ae){return Ae.kind==="method"&&Ae.key===fe.key&&Ae.placement===fe.placement},U=0;U<R.length;U++){var le,fe=R[U];if(fe.kind==="method"&&(le=O.find(j)))if(Ve(fe.descriptor)||Ve(le.descriptor)){if(_e(fe)||_e(le))throw new ReferenceError("Duplicated methods ("+fe.key+") can't be decorated.");le.descriptor=fe.descriptor}else{if(_e(fe)){if(_e(le))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+fe.key+").");le.decorators=fe.decorators}Ue(fe,le)}else O.push(fe)}return O}(jt.d.map(I)),Ut),Lt.initializeClassElements(jt.F,Ye.elements),Lt.runClassFinishers(jt.F,Ye.finishers)),De=s(1669);function et(R){return et=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},et(R)}function Tt(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Ze(U.key),U)}}function Ht(R,O,j){return(O=Ze(O))in R?Object.defineProperty(R,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):R[O]=j,R}function Ze(R){var O=function(j,U){if(et(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(et(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return et(O)=="symbol"?O:O+""}function wt(R,O){return R.split(" ").map(function(j){return j+O}).join(" ")}function _t(R){var O,j;return R.clientX!==void 0?(O=R.clientX,j=R.clientY):R.screenX!==void 0?(O=R.screenX,j=R.screenY):R.targetTouches!==void 0?(O=R.targetTouches[0].pageX,j=R.targetTouches[0].pageY):R.originalEvent===void 0?console.error("don't understand x and y for "+R.type,R):R.originalEvent.clientX!==void 0?(O=R.originalEvent.clientX,j=R.originalEvent.clientY):R.originalEvent.screenX!==void 0?(O=R.originalEvent.screenX,j=R.originalEvent.screenY):R.originalEvent.targetTouches!==void 0&&(O=R.originalEvent.targetTouches[0].pageX,j=R.originalEvent.targetTouches[0].pageY),{left:O,top:j}}var Xt={dragSelector:">:first",acceptPropagatedEvent:!0,preventDefault:!0,dragstart:"mousedown touchstart",dragcontinue:"mousemove touchmove",dragend:"mouseup touchend",dragMinDistance:5,namespace:".ds",scrollWindow:!1},We=function(){return function(R,O,j){return O&&Tt(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(O){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(le,fe){if(!(le instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,R),Ht(this,"_dragStartHandler",function(le){return!!j._shouldAbort()||!(le.which>1||!j.settings.acceptPropagatedEvent&&le.target!=j.handling_element[0])&&(j.lastCoord=j.firstCoord=_t(le),j.handling_element.on(j.settings.dragcontinue,j._dragContinueHandler),j.settings.dragend.split(" ").forEach(function(fe){j.handling_element[0].addEventListener(fe,j._dragEndHandler,!0)}),j.settings.preventDefault?(le.preventDefault(),!1):void 0)}),Ht(this,"_dragContinueHandler",function(le){if(j._shouldAbort())return!0;var fe=_t(le),Ae=fe.left-j.lastCoord.left,Nt=fe.top-j.lastCoord.top,yt=j.settings.scrollWindow?De(window):j.handling_element;return yt.scrollLeft(yt.scrollLeft()-Ae),yt.scrollTop(yt.scrollTop()-Nt),j.lastCoord=fe,j.settings.preventDefault?(le.preventDefault(),!1):void 0}),Ht(this,"_dragEndHandler",function(le){if(j._shouldAbort())return!0;j.handling_element.off(j.settings.dragcontinue).off(j.settings.dragend),j.settings.dragend.split(" ").forEach(function(Nt){j.handling_element[0].removeEventListener(Nt,j._dragEndHandler,!0)});var fe={left:Math.abs(j.lastCoord.left-j.firstCoord.left),top:Math.abs(j.lastCoord.top-j.firstCoord.top)},Ae=Math.max(fe.left,fe.top);return j.settings.preventDefault&&Ae>j.settings.dragMinDistance?(le.preventDefault(),le.stopImmediatePropagation(),le.stopPropagation(),!1):void 0}),this.handling_element=De(O),this.settings=De.extend({},Xt,U||{}),this.firstCoord={left:0,top:0},this.lastCoord={left:0,top:0},this.settings.dragstart=wt(this.settings.dragstart,this.settings.namespace),this.settings.dragcontinue=wt(this.settings.dragcontinue,this.settings.namespace),this.handling_element.find(this.settings.dragSelector).on(this.settings.dragstart,this._dragStartHandler)},[{key:"_shouldAbort",value:function(){return"ontouchstart"in window||"msmaxtouchpoints"in window.navigator}}])}(),ri=s(1669);function ei(R){return ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},ei(R)}function ki(){ki=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&ei(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(ei(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function qt(R,O,j,U,le,fe,Ae){try{var Nt=R[fe](Ae),yt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?O(yt):Promise.resolve(yt).then(U,le)}function ci(R){return function(){var O=this,j=arguments;return new Promise(function(U,le){var fe=R.apply(O,j);function Ae(yt){qt(fe,U,le,Ae,Nt,"next",yt)}function Nt(yt){qt(fe,U,le,Ae,Nt,"throw",yt)}Ae(void 0)})}}function Ei(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Mi(U.key),U)}}function Mi(R){var O=function(j,U){if(ei(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(ei(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return ei(O)=="symbol"?O:O+""}var ir,Yi,Gi,Sr,tr,yr,xr,Tr,Xr=function(){return function(R,O,j){return O&&Ei(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(O,j){(function(U,le){if(!(U instanceof le))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,le,fe){(le=Mi(le))in U?Object.defineProperty(U,le,{value:"1up",enumerable:!0,configurable:!0,writable:!0}):U[le]="1up"}(this,"name"),this.br=O,this.book=j,this.mode1UpLit=new Me(j,O),this.$el=ri(this.mode1UpLit).addClass("br-mode-1up__root BRmode1up"),this.everShown=!1},[{key:"$brContainer",get:function(){return this.br.refs.$brContainer}},{key:"prepare",value:function(){var R=this,O=this.br.currentIndex();this.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),setTimeout(ci(ki().mark(function j(){return ki().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(R.everShown){U.next=7;break}return R.mode1UpLit.initFirstRender(O),R.everShown=!0,R.mode1UpLit.requestUpdate(),U.next=6,R.mode1UpLit.updateComplete;case 6:new We(R.mode1UpLit,{preventDefault:!0,dragSelector:".br-mode-1up__visible-world",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"});case 7:R.mode1UpLit.jumpToIndex(O),setTimeout(function(){R.mode1UpLit.updateVisibleRegion()});case 9:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,O,j,U){var le=Math.abs(this.br.currentIndex()-R),fe=!U&&le>0&&le<=4;this.mode1UpLit.jumpToIndex(R,{smooth:fe})}},{key:"zoom",value:function(R){switch(R){case"in":this.mode1UpLit.zoomIn();break;case"out":this.mode1UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode1UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode1UpLit.requestUpdate()}}])}(),ln=(s(1761),s(1669));function Pr(R){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Pr(R)}function Dr(R,O){return O||(O=R.slice(0)),Object.freeze(Object.defineProperties(R,{raw:{value:Object.freeze(O)}}))}function Gr(){Gr=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&Pr(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(Pr(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function Vr(R,O,j,U,le,fe,Ae){try{var Nt=R[fe](Ae),yt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?O(yt):Promise.resolve(yt).then(U,le)}function ve(R){return function(){var O=this,j=arguments;return new Promise(function(U,le){var fe=R.apply(O,j);function Ae(yt){Vr(fe,U,le,Ae,Nt,"next",yt)}function Nt(yt){Vr(fe,U,le,Ae,Nt,"throw",yt)}Ae(void 0)})}}function he(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,wn(U.key),U)}}function B(R,O,j){return O&&he(R.prototype,O),j&&he(R,j),Object.defineProperty(R,"prototype",{writable:!1}),R}function be(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function xe(R,O,j){return O=rr(O),function(U,le){if(le&&(Pr(le)=="object"||typeof le=="function"))return le;if(le!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(fe){if(fe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe}(U)}(R,$t()?Reflect.construct(O,j||[],rr(R).constructor):O.apply(R,j))}function $t(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(O){}return($t=function(){return!!R})()}function zt(R,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&gi(R,O)}function gi(R,O){return gi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,U){return j.__proto__=U,j},gi(R,O)}function mi(R,O,j,U){var le=Fi();if(U)for(var fe=0;fe<U.length;fe++)le=U[fe](le);var Ae=O(function(yt){le.initializeInstanceElements(yt,Nt.elements)},j),Nt=le.decorateClass(function(yt){for(var Yt=[],li=function(cr){return cr.kind==="method"&&cr.key===Li.key&&cr.placement===Li.placement},Pi=0;Pi<yt.length;Pi++){var Ii,Li=yt[Pi];if(Li.kind==="method"&&(Ii=Yt.find(li)))if(ue(Li.descriptor)||ue(Ii.descriptor)){if(Ur(Li)||Ur(Ii))throw new ReferenceError("Duplicated methods ("+Li.key+") can't be decorated.");Ii.descriptor=Li.descriptor}else{if(Ur(Li)){if(Ur(Ii))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+Li.key+").");Ii.decorators=Li.decorators}or(Li,Ii)}else Yt.push(Li)}return Yt}(Ae.d.map(hr)),R);return le.initializeClassElements(Ae.F,Nt.elements),le.runClassFinishers(Ae.F,Nt.finishers)}function Fi(){Fi=function(){return R};var R={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(O,j){["method","field"].forEach(function(U){j.forEach(function(le){le.kind===U&&le.placement==="own"&&this.defineClassElement(O,le)},this)},this)},initializeClassElements:function(O,j){var U=O.prototype;["method","field"].forEach(function(le){j.forEach(function(fe){var Ae=fe.placement;if(fe.kind===le&&(Ae==="static"||Ae==="prototype")){var Nt=Ae==="static"?O:U;this.defineClassElement(Nt,fe)}},this)},this)},defineClassElement:function(O,j){var U=j.descriptor;if(j.kind==="field"){var le=j.initializer;U={enumerable:U.enumerable,writable:U.writable,configurable:U.configurable,value:le===void 0?void 0:le.call(O)}}Object.defineProperty(O,j.key,U)},decorateClass:function(O,j){var U=[],le=[],fe={static:[],prototype:[],own:[]};if(O.forEach(function(Nt){this.addElementPlacement(Nt,fe)},this),O.forEach(function(Nt){if(!Ur(Nt))return U.push(Nt);var yt=this.decorateElement(Nt,fe);U.push(yt.element),U.push.apply(U,yt.extras),le.push.apply(le,yt.finishers)},this),!j)return{elements:U,finishers:le};var Ae=this.decorateConstructor(U,j);return le.push.apply(le,Ae.finishers),Ae.finishers=le,Ae},addElementPlacement:function(O,j,U){var le=j[O.placement];if(!U&&le.indexOf(O.key)!==-1)throw new TypeError("Duplicated element ("+O.key+")");le.push(O.key)},decorateElement:function(O,j){for(var U=[],le=[],fe=O.decorators,Ae=fe.length-1;Ae>=0;Ae--){var Nt=j[O.placement];Nt.splice(Nt.indexOf(O.key),1);var yt=this.fromElementDescriptor(O),Yt=this.toElementFinisherExtras((0,fe[Ae])(yt)||yt);O=Yt.element,this.addElementPlacement(O,j),Yt.finisher&&le.push(Yt.finisher);var li=Yt.extras;if(li){for(var Pi=0;Pi<li.length;Pi++)this.addElementPlacement(li[Pi],j);U.push.apply(U,li)}}return{element:O,finishers:le,extras:U}},decorateConstructor:function(O,j){for(var U=[],le=j.length-1;le>=0;le--){var fe=this.fromClassDescriptor(O),Ae=this.toClassDescriptor((0,j[le])(fe)||fe);if(Ae.finisher!==void 0&&U.push(Ae.finisher),Ae.elements!==void 0){O=Ae.elements;for(var Nt=0;Nt<O.length-1;Nt++)for(var yt=Nt+1;yt<O.length;yt++)if(O[Nt].key===O[yt].key&&O[Nt].placement===O[yt].placement)throw new TypeError("Duplicated element ("+O[Nt].key+")")}}return{elements:O,finishers:U}},fromElementDescriptor:function(O){var j={kind:O.kind,key:O.key,placement:O.placement,descriptor:O.descriptor};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),O.kind==="field"&&(j.initializer=O.initializer),j},toElementDescriptors:function(O){if(O!==void 0)return(j=O,function(U){if(Array.isArray(U))return U}(j)||di(j)||$n(j)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(U){var le=this.toElementDescriptor(U);return this.disallowProperty(U,"finisher","An element descriptor"),this.disallowProperty(U,"extras","An element descriptor"),le},this);var j},toElementDescriptor:function(O){var j=O.kind+"";if(j!=="method"&&j!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+j+'"');var U=wn(O.key),le=O.placement+"";if(le!=="static"&&le!=="prototype"&&le!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+le+'"');var fe=O.descriptor;this.disallowProperty(O,"elements","An element descriptor");var Ae={kind:j,key:U,placement:le,descriptor:Object.assign({},fe)};return j!=="field"?this.disallowProperty(O,"initializer","A method descriptor"):(this.disallowProperty(fe,"get","The property descriptor of a field descriptor"),this.disallowProperty(fe,"set","The property descriptor of a field descriptor"),this.disallowProperty(fe,"value","The property descriptor of a field descriptor"),Ae.initializer=O.initializer),Ae},toElementFinisherExtras:function(O){return{element:this.toElementDescriptor(O),finisher:jn(O,"finisher"),extras:this.toElementDescriptors(O.extras)}},fromClassDescriptor:function(O){var j={kind:"class",elements:O.map(this.fromElementDescriptor,this)};return Object.defineProperty(j,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),j},toClassDescriptor:function(O){var j=O.kind+"";if(j!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+j+'"');this.disallowProperty(O,"key","A class descriptor"),this.disallowProperty(O,"placement","A class descriptor"),this.disallowProperty(O,"descriptor","A class descriptor"),this.disallowProperty(O,"initializer","A class descriptor"),this.disallowProperty(O,"extras","A class descriptor");var U=jn(O,"finisher");return{elements:this.toElementDescriptors(O.elements),finisher:U}},runClassFinishers:function(O,j){for(var U=0;U<j.length;U++){var le=(0,j[U])(O);if(le!==void 0){if(typeof le!="function")throw new TypeError("Finishers must return a constructor.");O=le}}return O},disallowProperty:function(O,j,U){if(O[j]!==void 0)throw new TypeError(U+" can't have a ."+j+" property.")}};return R}function hr(R){var O,j=wn(R.key);R.kind==="method"?O={value:R.value,writable:!0,configurable:!0,enumerable:!1}:R.kind==="get"?O={get:R.value,configurable:!0,enumerable:!1}:R.kind==="set"?O={set:R.value,configurable:!0,enumerable:!1}:R.kind==="field"&&(O={configurable:!0,writable:!0,enumerable:!0});var U={kind:R.kind==="field"?"field":"method",key:j,placement:R.static?"static":R.kind==="field"?"own":"prototype",descriptor:O};return R.decorators&&(U.decorators=R.decorators),R.kind==="field"&&(U.initializer=R.value),U}function or(R,O){R.descriptor.get!==void 0?O.descriptor.get=R.descriptor.get:O.descriptor.set=R.descriptor.set}function Ur(R){return R.decorators&&R.decorators.length}function ue(R){return R!==void 0&&!(R.value===void 0&&R.writable===void 0)}function jn(R,O){var j=R[O];if(j!==void 0&&typeof j!="function")throw new TypeError("Expected '"+O+"' to be a function");return j}function wn(R){var O=function(j,U){if(Pr(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(Pr(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return Pr(O)=="symbol"?O:O+""}function $n(R,O){if(R){if(typeof R=="string")return xn(R,O);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?xn(R,O):void 0}}function xn(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function di(R){if(typeof Symbol<"u"&&R[Symbol.iterator]!=null||R["@@iterator"]!=null)return Array.from(R)}function Si(R,O,j,U){var le=yi(rr(1&U?R.prototype:R),O,j);return 2&U&&typeof le=="function"?function(fe){return le.apply(j,fe)}:le}function yi(){return yi=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,O,j){var U=function(fe,Ae){for(;!{}.hasOwnProperty.call(fe,Ae)&&(fe=rr(fe))!==null;);return fe}(R,O);if(U){var le=Object.getOwnPropertyDescriptor(U,O);return le.get?le.get.call(arguments.length<3?R:j):le.value}},yi.apply(null,arguments)}function rr(R){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},rr(R)}var ar=mi([(0,se.EM)("br-mode-2up")],function(R,O){var j,U,le=function(fe){function Ae(Nt,yt){var Yt;return be(this,Ae),Yt=xe(this,Ae),R(Yt),Yt.book=Nt,Yt.br=yt,Yt}return zt(Ae,fe),B(Ae)}(O);return{F:le,d:[{kind:"field",key:"br",value:void 0},{kind:"field",decorators:[(0,se.MZ)({type:Object})],key:"book",value:void 0},{kind:"field",key:"coordSpace",value:function(){return new ti(this)}},{kind:"field",decorators:[(0,se.MZ)({type:Number})],key:"scale",value:function(){return 1}},{kind:"field",key:"initialScale",value:function(){return 1}},{kind:"field",decorators:[(0,se.MZ)({type:String})],key:"autoFit",value:function(){return"auto"}},{kind:"field",key:"flipSpeed",value:function(){return 400}},{kind:"field",decorators:[(0,se.P)(".br-mode-2up__leafs--flipping")],key:"$flippingEdges",value:void 0},{kind:"field",decorators:[(0,se.MZ)({type:Array,hasChanged:o.arrChanged})],key:"visiblePages",value:function(){return[]}},{kind:"get",key:"pageLeft",value:function(){return this.visiblePages.find(function(fe){return fe.pageSide=="L"})}},{kind:"get",key:"pageRight",value:function(){return this.visiblePages.find(function(fe){return fe.pageSide=="R"})}},{kind:"field",decorators:[(0,se.MZ)({type:Array})],key:"renderedPages",value:function(){return[]}},{kind:"field",key:"pageContainerCache",value:function(){return{}}},{kind:"field",key:"activeFlip",value:function(){return null}},{kind:"field",key:"_leftCoverWidth",value:function(){return 0}},{kind:"get",key:"$container",value:function(){return this}},{kind:"get",key:"$visibleWorld",value:function(){return this.$book}},{kind:"field",decorators:[(0,se.P)(".br-mode-2up__book")],key:"$book",value:void 0},{kind:"get",key:"positions",value:function(){return this.computePositions(this.pageLeft,this.pageRight)}},{kind:"method",key:"computePageHeight",value:function(fe){return this.book.getMedianPageSizeInches().height}},{kind:"method",key:"computePageWidth",value:function(fe){return fe.widthInches*this.computePageHeight(fe)/fe.heightInches}},{kind:"method",key:"computePositions",value:function(fe,Ae){var Nt,yt,Yt,li,Pi=this.computePageWidth.bind(this),Ii=this.book.getNumLeafs(),Li=this.activeFlip?Math.ceil(this.activeFlip.pagesFlippingCount/2)*this.PAGE_THICKNESS_IN:0,cr=this.book.pageProgression=="lr"?(Nt=fe==null?void 0:fe.index)!==null&&Nt!==void 0?Nt:0:fe?Ii-fe.index:0,Wi=this._leftCoverWidth+cr*this.PAGE_THICKNESS_IN,Di=Wi,Xi=Pi(fe||Ae.right),er=Wi-Xi,Zi=er,gr=((yt=this.activeFlip)===null||yt===void 0?void 0:yt.direction)!="left"?0:Li,Ir=Math.ceil(cr/2)*this.PAGE_THICKNESS_IN-gr,Oi=gr+Ir,ur=Zi-gr,Yr=ur-Ir,mr=Wi,Br=Ae?Pi(Ae):0,Mr=mr+Br,mn=this.book.pageProgression=="lr"?Ae?Ii-Ae.index:0:(Yt=Ae==null?void 0:Ae.index)!==null&&Yt!==void 0?Yt:0,jr=Mr,Or=((li=this.activeFlip)===null||li===void 0?void 0:li.direction)!="right"?0:Li,Kr=jr+Or,me=Math.ceil(mn/2)*this.PAGE_THICKNESS_IN-Or,pe=jr+me+Or;return{leafEdgesLeftStart:Yr,leafEdgesLeftMainWidth:Ir,leafEdgesLeftMovingStart:ur,leafEdgesLeftMovingWidth:gr,leafEdgesLeftEnd:Zi,leafEdgesLeftFullWidth:Oi,pageLeftStart:er,pageLeftWidth:Xi,pageLeftEnd:Di,gutter:Wi,pageRightStart:mr,pageRightWidth:Br,pageRightEnd:Mr,leafEdgesRightStart:jr,leafEdgesRightMovingWidth:Or,leafEdgesRightMainStart:Kr,leafEdgesRightMainWidth:me,leafEdgesRightEnd:pe,leafEdgesRightFullWidth:Or+me,spreadWidth:Mr-er,bookWidth:pe-Yr}}},{kind:"field",key:"htmlDimensionsCacher",value:function(){return new Ct(this)}},{kind:"field",key:"smoothZoomer",value:function(){return new pt(this)}},{kind:"field",key:"ZOOM_FACTOR",value:function(){return 1.1}},{kind:"field",key:"PAGE_THICKNESS_IN",value:function(){return .002}},{kind:"method",key:"jumpToIndex",value:(U=ve(Gr().mark(function fe(Ae){var Nt,yt,Yt=arguments;return Gr().wrap(function(li){for(;;)switch(li.prev=li.next){case 0:return Nt=(Yt.length>1&&Yt[1]!==void 0?Yt[1]:{}).smooth,yt=Nt===void 0||Nt,li.next=3,this.flipAnimation(Ae,{animate:yt});case 3:case"end":return li.stop()}},fe,this)})),function(fe){return U.apply(this,arguments)})},{kind:"method",key:"zoomIn",value:function(){this.scale*=this.ZOOM_FACTOR}},{kind:"method",key:"zoomOut",value:function(){this.scale*=1/this.ZOOM_FACTOR}},{kind:"method",key:"firstUpdated",value:function(fe){Si(le,"firstUpdated",this,3)([fe]),this.htmlDimensionsCacher.updateClientSizes(),this.smoothZoomer.attach()}},{kind:"method",key:"connectedCallback",value:function(){Si(le,"connectedCallback",this,3)([]),this.htmlDimensionsCacher.attachResizeListener(),this.smoothZoomer.attach()}},{kind:"method",key:"disconnectedCallback",value:function(){this.htmlDimensionsCacher.detachResizeListener(),this.smoothZoomer.detach(),Si(le,"disconnectedCallback",this,3)([])}},{kind:"method",key:"updated",value:function(fe){if(fe.has("book")&&(this._leftCoverWidth=this.computePageWidth(this.book.getPage(this.book.pageProgression=="lr"?0:-1))),fe.has("visiblePages")&&(this.renderedPages=this.computeRenderedPages(),this.br.displayedIndices=this.visiblePages.map(function(Nt){return Nt.index}),this.br.updateFirstIndex(this.br.displayedIndices[0]),this.br._components.navbar.updateNavIndexThrottled()),fe.has("autoFit")&&this.autoFit!="none"&&this.resizeViaAutofit(),fe.has("scale")){var Ae=fe.get("scale");this.recenter(),this.smoothZoomer.updateViewportOnZoom(this.scale,Ae)}}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var fe=this;return(0,de.qy)(ir||(ir=Dr([`
      <div class="br-mode-2up__book" @mouseup=`,`>
        `,`
        `,`
        `,`
      </div>`])),this.handlePageClick,this.renderLeafEdges("left"),this.renderedPages.map(function(Ae){return fe.renderPage(Ae)}),this.renderLeafEdges("right"))}},{kind:"field",key:"createPageContainer",value:function(){var fe=this;return function(Ae){return fe.pageContainerCache[Ae.index]||(fe.pageContainerCache[Ae.index]=fe.br._createPageContainer(Ae.index))}}},{kind:"method",key:"initFirstRender",value:function(fe){var Ae=this.book.getPage(fe),Nt=Ae.spread;this.visiblePages=(this.book.pageProgression=="lr"?[Nt.left,Nt.right]:[Nt.right,Nt.left]).filter(function(yt){return yt}),this.htmlDimensionsCacher.updateClientSizes(),this.resizeViaAutofit(Ae),this.initialScale=this.scale}},{kind:"field",key:"renderPage",value:function(){var fe=this;return function(Ae){var Nt=fe.coordSpace.worldUnitsToRenderedPixels,yt=fe.coordSpace.worldUnitsToVisiblePixels,Yt=Nt(fe.computePageWidth(Ae)),li=Nt(fe.computePageHeight(Ae)),Pi=fe.visiblePages.map(function(cr){return cr.index}).includes(Ae.index),Ii=fe.computePositions(Ae.spread.left,Ae.spread.right),Li=fe.createPageContainer(Ae).update({dimensions:{width:Yt,height:li,top:0,left:Nt(Ae.pageSide=="L"?Ii.pageLeftStart:Ii.pageLeftEnd)},reduce:Ae.width/yt(fe.computePageWidth(Ae))}).$container[0];return Li.classList.toggle("BRpage-visible",Pi),Li}}},{kind:"field",key:"renderLeafEdges",value:function(){var fe=this;return function(Ae){var Nt;if(!fe.visiblePages.length)return(0,de.qy)(Yi||(Yi=Dr([""])));if(!(Ae=="left"?fe.positions.leafEdgesLeftFullWidth:fe.positions.leafEdgesRightFullWidth))return(0,de.qy)(Gi||(Gi=Dr([""])));var yt=fe.coordSpace.worldUnitsToRenderedPixels,Yt=yt(fe.computePageHeight(fe.visiblePages[0])),li=((Nt=fe.activeFlip)===null||Nt===void 0?void 0:Nt.direction)==Ae,Pi=fe.book.getPage(fe.book.pageProgression=="lr"?0:fe.book.getNumLeafs()-1),Ii=fe.book.getPage(fe.book.pageProgression=="lr"?fe.book.getNumLeafs()-1:0),Li=li?fe.activeFlip.pagesFlippingCount:0,cr=Ae=="left"?[Pi.index,fe.pageLeft.goLeft(Li).index]:[fe.pageRight.goRight(Li).index,Ii.index],Wi={width:"".concat(yt(Ae=="left"?fe.positions.leafEdgesLeftMainWidth:fe.positions.leafEdgesRightMainWidth),"px"),height:"".concat(Yt,"px"),left:"".concat(yt(Ae=="left"?fe.positions.leafEdgesLeftStart:fe.positions.leafEdgesRightMainStart),"px")},Di=(0,de.qy)(Sr||(Sr=Dr([`
      <br-leaf-edges
        leftIndex=`,`
        rightIndex=`,`
        .book=`,`
        .pageClickHandler=`,`
        side=`,`
        class="br-mode-2up__leafs br-mode-2up__leafs--`,`"
        style=`,`
      ></br-leaf-edges>
    `])),cr[0],cr[1],fe.book,function(gr){return fe.br.jumpToIndex(gr)},Ae,Ae,(0,Z.W)(Wi));if(li){var Xi=yt(Ae=="left"?fe.positions.leafEdgesLeftMovingWidth:fe.positions.leafEdgesRightMovingWidth),er={width:"".concat(Xi,"px"),height:"".concat(Yt,"px"),left:"".concat(yt(Ae=="left"?fe.positions.leafEdgesLeftMovingStart:fe.positions.leafEdgesRightStart),"px"),pointerEvents:"none",transformOrigin:"".concat(yt(Ae=="left"?fe.positions.pageLeftWidth:-fe.positions.pageRightWidth)+Xi/2,"px 0")},Zi=(0,de.qy)(tr||(tr=Dr([`
        <br-leaf-edges
          leftIndex=`,`
          rightIndex=`,`
          .book=`,`
          side=`,`
          class="br-mode-2up__leafs br-mode-2up__leafs--`,` br-mode-2up__leafs--flipping"
          style=`,`
        ></br-leaf-edges>
      `])),fe.activeFlip.pagesFlipping[0],fe.activeFlip.pagesFlipping[1],fe.book,Ae,Ae,(0,Z.W)(er));return Ae=="left"?(0,de.qy)(yr||(yr=Dr(["","",""])),Di,Zi):(0,de.qy)(xr||(xr=Dr(["","",""])),Zi,Di)}return Di}}},{kind:"method",key:"resizeViaAutofit",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0];this.scale=this.computeScale(fe,this.autoFit)}},{kind:"method",key:"recenter",value:function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.visiblePages[0],Ae=this.computeTranslate(fe,this.scale);this.$book.style.transform="translateX(".concat(Ae.x,"px) translateY(").concat(Ae.y,"px) scale(").concat(this.scale,")")}},{kind:"method",key:"computeRenderedPages",value:function(){var fe,Ae,Nt,yt,Yt;return[(fe=this.visiblePages[0])===null||fe===void 0||(fe=fe.prev)===null||fe===void 0?void 0:fe.prev,(Ae=this.visiblePages[0])===null||Ae===void 0?void 0:Ae.prev].concat((Yt=this.visiblePages,function(li){if(Array.isArray(li))return xn(li)}(Yt)||di(Yt)||$n(Yt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),[(Nt=this.visiblePages[this.visiblePages.length-1])===null||Nt===void 0?void 0:Nt.next,(yt=this.visiblePages[this.visiblePages.length-1])===null||yt===void 0||(yt=yt.next)===null||yt===void 0?void 0:yt.next]).filter(function(li){return li}).slice(0,10)}},{kind:"method",key:"computeScale",value:function(fe,Ae){if(!fe)return 1;var Nt=fe.spread,yt=this.computePositions(Nt.left,Nt.right).bookWidth,Yt=this.computePageHeight(Nt.left||Nt.right),li=this.scale;this.scale=1;var Pi=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientWidth-20)/yt,Ii=this.coordSpace.renderedPixelsToWorldUnits(this.htmlDimensionsCacher.clientHeight-20)/Yt;this.scale=li;var Li=1;if(Ae=="width")Li=Pi;else if(Ae=="height")Li=Ii;else if(Ae=="auto")Li=Math.min(Pi,Ii);else{if(Ae!="none")throw new Error("Invalid autoFit value: ".concat(Ae));Li=this.scale}return Li}},{kind:"method",key:"computeTranslate",value:function(fe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;if(!fe)return{x:0,y:0};var Nt=fe.spread,yt=this.computePositions(Nt.left,Nt.right),Yt=yt.bookWidth,li=this.computePageHeight(Nt.left||Nt.right),Pi=this.coordSpace.worldUnitsToRenderedPixels(Yt)*Ae,Ii=this.coordSpace.worldUnitsToRenderedPixels(li)*Ae,Li=this.coordSpace.worldUnitsToRenderedPixels(-yt.leafEdgesLeftStart)*Ae,cr=(this.htmlDimensionsCacher.clientWidth-Pi)/2+Li,Wi=(this.htmlDimensionsCacher.clientHeight-Ii)/2;return{x:Math.max(Li,cr),y:Math.max(0,Wi)}}},{kind:"method",key:"flipAnimation",value:(j=ve(Gr().mark(function fe(Ae){var Nt,yt,Yt,li,Pi,Ii,Li,cr,Wi,Di,Xi,er,Zi,gr,Ir,Oi,ur,Yr,mr,Br,Mr,mn,jr,Or,Kr,me,pe,Ee,Wt,bt,ai,_i,zi=this,Ri=arguments;return Gr().wrap(function(Qi){for(;;)switch(Qi.prev=Qi.next){case 0:if(Li=(Ii=Ri.length>1&&Ri[1]!==void 0?Ri[1]:{}).animate,cr=Li===void 0||Li,Wi=Ii.flipSpeed,Di=Wi===void 0?this.flipSpeed:Wi,Xi=(Nt=this.pageLeft||this.pageRight)===null||Nt===void 0?void 0:Nt.spread){Qi.next=4;break}return Qi.abrupt("return");case 4:if(Di=Di||this.flipSpeed,Ae=this.parseNextSpread(Ae),!this.activeFlip&&Ae){Qi.next=8;break}return Qi.abrupt("return");case 8:if(er=this.book.pageProgression,Zi=(yt=(Yt=Xi.left)===null||Yt===void 0?void 0:Yt.index)!==null&&yt!==void 0?yt:er=="lr"?-1:this.book.getNumLeafs(),gr=(li=(Pi=Ae.left)===null||Pi===void 0?void 0:Pi.index)!==null&&li!==void 0?li:er=="lr"?-1:this.book.getNumLeafs(),Zi!=gr){Qi.next=13;break}return Qi.abrupt("return");case 13:Ir=this.renderedPages.map(function(fr){return fr.index}),Oi=[],ur=0,Yr=[Ae.left,Ae.right];case 16:if(!(ur<Yr.length)){Qi.next=25;break}if(mr=Yr[ur]){Qi.next=20;break}return Qi.abrupt("continue",22);case 20:Oi.push(this.createPageContainer(mr)),Ir.includes(mr.index)||this.renderedPages.push(mr);case 22:ur++,Qi.next=16;break;case 25:if(Br=this.computeTranslate(Xi.left||Xi.right,this.scale),Mr=this.computeTranslate(Ae.left||Ae.right,this.scale),mn=Math.sqrt(Math.pow(Mr.x-Br.x,2)+Math.pow(Mr.y-Br.y,2)),jr="translate(".concat(Mr.x,"px, ").concat(Mr.y,"px)"),mn<50&&(Kr=(Or=this.$book.style.transform.match(/translate\([^)]+\)/))===null||Or===void 0?void 0:Or[0])&&(jr=Kr),me="".concat(jr," scale(").concat(this.scale,")"),!cr||!("animate"in Element.prototype)){Qi.next=58;break}return pe=er=="lr"?gr>Zi?"right":"left":gr>Zi?"left":"right",this.activeFlip={direction:pe,pagesFlipping:[Zi,gr],pagesFlippingCount:Math.abs(gr-Zi)},this.classList.add("br-mode-2up--flipping-".concat(pe)),this.classList.add("BRpageFlipping"),this.requestUpdate(),Qi.next=39,this.updateComplete;case 39:return this.visiblePages.map(function(fr){return zi.pageContainerCache[fr.index].$container}).forEach(function(fr){return fr.addClass("BRpage-exiting")}),Oi.forEach(function(fr){return fr.$container.addClass("BRpage-entering")}),Ee={duration:Di+this.activeFlip.pagesFlippingCount,easing:"ease-in",fill:"none"},Wt=this.$book.animate([{transform:me}],Ee),bt=this.$flippingEdges.animate([{transform:"rotateY(0deg)"},{transform:pe=="left"?"rotateY(-180deg)":"rotateY(180deg)"}],Ee),ai=pe=="left"?this.querySelector(".BRpage-exiting[data-side=L]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(180deg)"}],Ee):this.querySelector(".BRpage-exiting[data-side=R]").animate([{transform:"rotateY(0deg)"},{transform:"rotateY(-180deg)"}],Ee),_i=pe=="left"?this.querySelector(".BRpage-entering[data-side=R]").animate([{transform:"rotateY(-180deg)"},{transform:"rotateY(0deg)"}],Ee):this.querySelector(".BRpage-entering[data-side=L]").animate([{transform:"rotateY(180deg)"},{transform:"rotateY(0deg)"}],Ee),Wt.play(),bt.play(),ai.play(),_i.play(),Oi.forEach(function(fr){return fr.$container.addClass("BRpage-visible")}),Qi.next=53,Promise.race([(0,o.promisifyEvent)(Wt,"finish"),(0,o.promisifyEvent)(bt,"finish"),(0,o.promisifyEvent)(ai,"finish"),(0,o.promisifyEvent)(_i,"finish")]);case 53:this.classList.remove("br-mode-2up--flipping-".concat(pe)),this.classList.remove("BRpageFlipping"),this.visiblePages.map(function(fr){return zi.pageContainerCache[fr.index].$container}).forEach(function(fr){return fr.removeClass("BRpage-exiting BRpage-visible")}),Oi.forEach(function(fr){return fr.$container.removeClass("BRpage-entering")}),this.activeFlip=null;case 58:this.$book.style.transform=me,this.visiblePages=(er=="lr"?[Ae.left,Ae.right]:[Ae.right,Ae.left]).filter(function(fr){return fr});case 60:case"end":return Qi.stop()}},fe,this)})),function(fe){return j.apply(this,arguments)})},{kind:"method",key:"parseNextSpread",value:function(fe){fe=="next"?fe=this.book.pageProgression=="lr"?"right":"left":fe=="prev"&&(fe=this.book.pageProgression=="lr"?"left":"right");var Ae,Nt=(this.pageLeft||this.pageRight).spread;if(fe=="left")fe=(Ae=Nt.left)===null||Ae===void 0||(Ae=Ae.findLeft({combineConsecutiveUnviewables:!0}))===null||Ae===void 0?void 0:Ae.spread;else if(fe=="right"){var yt;fe=(yt=Nt.right)===null||yt===void 0||(yt=yt.findRight({combineConsecutiveUnviewables:!0}))===null||yt===void 0?void 0:yt.spread}return typeof fe=="number"&&(fe=this.book.getPage(fe).spread),fe instanceof W&&(fe=fe.spread),fe}},{kind:"field",key:"handlePageClick",value:function(){var fe=this;return function(Ae){if(Ae.which==3&&fe.br.protected)return!1;if(Ae.which==1){var Nt=ln(Ae.target).closest(".BRpagecontainer");Nt.length&&(Nt.data("side")=="L"?fe.flipAnimation("left"):Nt.data("side")=="R"&&fe.flipAnimation("right"))}}}}]}},de.WF),Ln=(mi([(0,se.EM)("br-leaf-edges")],function(R,O){var j=function(U){function le(){var fe;be(this,le);for(var Ae=arguments.length,Nt=new Array(Ae),yt=0;yt<Ae;yt++)Nt[yt]=arguments[yt];return fe=xe(this,le,[].concat(Nt)),R(fe),fe}return zt(le,U),B(le)}(O);return{F:j,d:[{kind:"field",decorators:[(0,se.MZ)({type:Number})],key:"leftIndex",value:function(){return 0}},{kind:"field",decorators:[(0,se.MZ)({type:Number})],key:"rightIndex",value:function(){return 0}},{kind:"field",decorators:[(0,se.MZ)({type:String})],key:"side",value:function(){return"left"}},{kind:"field",decorators:[(0,se.MZ)({attribute:!1})],key:"book",value:function(){return null}},{kind:"field",decorators:[(0,se.MZ)({attribute:!1,type:Function})],key:"pageClickHandler",value:function(){return null}},{kind:"field",decorators:[(0,se.P)(".br-leaf-edges__bar")],key:"$hoverBar",value:void 0},{kind:"field",decorators:[(0,se.P)(".br-leaf-edges__label")],key:"$hoverLabel",value:void 0},{kind:"get",key:"pageWidthPercent",value:function(){return 100/(this.rightIndex-this.leftIndex+1)}},{kind:"method",key:"render",value:function(){return(0,de.qy)(Tr||(Tr=Dr([`
      <div
        class="br-leaf-edges__bar"
        style="`,`"
      ></div>
      <div class="br-leaf-edges__label">Page</div>`])),(0,Z.W)({width:"".concat(this.pageWidthPercent,"%")}))}},{kind:"method",key:"connectedCallback",value:function(){Si(j,"connectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave),this.addEventListener("click",this.onClick)}},{kind:"method",key:"disconnectedCallback",value:function(){Si(j,"disconnectedCallback",this,3)([]),this.addEventListener("mouseenter",this.onMouseEnter),this.removeEventListener("mousemove",this.onMouseMove),this.removeEventListener("mouseleave",this.onMouseLeave)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"field",key:"onMouseEnter",value:function(){var U=this;return function(le){U.addEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="block",U.$hoverLabel.style.display="block"}}},{kind:"field",key:"onMouseMove",value:function(){var U=this;return function(le){U.$hoverBar.style.left="".concat(le.offsetX,"px"),U.side=="right"?U.$hoverLabel.style.left="".concat(le.offsetX,"px"):U.$hoverLabel.style.right="".concat(U.offsetWidth-le.offsetX,"px"),U.$hoverLabel.style.top="".concat(le.offsetY,"px");var fe=U.mouseEventToPageIndex(le);U.$hoverLabel.textContent=U.book.getPageName(fe)}}},{kind:"field",key:"onMouseLeave",value:function(){var U=this;return function(le){U.removeEventListener("mousemove",U.onMouseMove),U.$hoverBar.style.display="none",U.$hoverLabel.style.display="none"}}},{kind:"field",key:"onClick",value:function(){var U=this;return function(le){U.pageClickHandler(U.mouseEventToPageIndex(le))}}},{kind:"method",key:"mouseEventToPageIndex",value:function(U){return Math.floor(this.leftIndex+U.offsetX/this.offsetWidth*(this.rightIndex-this.leftIndex+1))}}]}},de.WF),s(1669));function yn(R){return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},yn(R)}function _o(){_o=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&yn(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(yn(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function fo(R,O,j,U,le,fe,Ae){try{var Nt=R[fe](Ae),yt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?O(yt):Promise.resolve(yt).then(U,le)}function is(R){return function(){var O=this,j=arguments;return new Promise(function(U,le){var fe=R.apply(O,j);function Ae(yt){fo(fe,U,le,Ae,Nt,"next",yt)}function Nt(yt){fo(fe,U,le,Ae,Nt,"throw",yt)}Ae(void 0)})}}function ma(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Eo(U.key),U)}}function Eo(R){var O=function(j,U){if(yn(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(yn(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return yn(O)=="symbol"?O:O+""}var Nn=function(){return function(R,O,j){return O&&ma(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(O,j){(function(U,le){if(!(U instanceof le))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,le,fe){(le=Eo(le))in U?Object.defineProperty(U,le,{value:"2up",enumerable:!0,configurable:!0,writable:!0}):U[le]="2up"}(this,"name"),this.br=O,this.book=j,this.mode2UpLit=new ar(j,O),this.mode2UpLit.flipSpeed=O.flipSpeed,this.$el=Ln(this.mode2UpLit).attr("autoFit",this.br.options.twoPage.autofit).addClass("br-mode-2up__root BRmode2up"),this.everShown=!1},[{key:"prepare",value:function(){var R=this,O=this.br.currentIndex();this.br.refs.$brContainer.empty().css({overflow:"hidden"}).append(this.$el),this.mode2UpLit.style.opacity="0",setTimeout(is(_o().mark(function j(){return _o().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(R.everShown){U.next=9;break}return R.mode2UpLit.initFirstRender(O),R.everShown=!0,R.mode2UpLit.requestUpdate(),U.next=6,R.mode2UpLit.updateComplete;case 6:new We(R.mode2UpLit,{preventDefault:!0,dragSelector:".br-mode-2up__book",dragstart:"mousedown",dragcontinue:"mousemove",dragend:"mouseup"}),U.next=12;break;case 9:return U.next=11,R.mode2UpLit.jumpToIndex(O,{smooth:!1});case 11:R.resizePageView();case 12:R.mode2UpLit.style.opacity="1";case 13:case"end":return U.stop()}},j)}))),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R,O,j,U){this.mode2UpLit.jumpToIndex(R)}},{key:"zoom",value:function(R){switch(R){case"in":this.mode2UpLit.zoomIn();break;case"out":this.mode2UpLit.zoomOut();break;default:console.error("Unsupported direction: ".concat(R))}}},{key:"resizePageView",value:function(){this.mode2UpLit.htmlDimensionsCacher.updateClientSizes(),this.mode2UpLit.scale<this.mode2UpLit.initialScale&&this.mode2UpLit.autoFit=="none"&&(this.mode2UpLit.autoFit="auto"),this.mode2UpLit.autoFit!="none"&&this.mode2UpLit.resizeViaAutofit(),this.mode2UpLit.recenter()}}])}(),Jr=s(1669);function mo(R){return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},mo(R)}function To(R,O){var j=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!j){if(Array.isArray(R)||(j=function(yt,Yt){if(yt){if(typeof yt=="string")return ga(yt,Yt);var li={}.toString.call(yt).slice(8,-1);return li==="Object"&&yt.constructor&&(li=yt.constructor.name),li==="Map"||li==="Set"?Array.from(yt):li==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(li)?ga(yt,Yt):void 0}}(R))||O&&R&&typeof R.length=="number"){j&&(R=j);var U=0,le=function(){};return{s:le,n:function(){return U>=R.length?{done:!0}:{done:!1,value:R[U++]}},e:function(yt){throw yt},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe,Ae=!0,Nt=!1;return{s:function(){j=j.call(R)},n:function(){var yt=j.next();return Ae=yt.done,yt},e:function(yt){Nt=!0,fe=yt},f:function(){try{Ae||j.return==null||j.return()}finally{if(Nt)throw fe}}}}function ga(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function Qn(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,Da(U.key),U)}}function Da(R){var O=function(j,U){if(mo(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(mo(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return mo(O)=="symbol"?O:O+""}var rs=function(){return function(R,O,j){return O&&Qn(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(O,j){(function(U,le){if(!(U instanceof le))throw new TypeError("Cannot call a class as a function")})(this,R),function(U,le,fe){(le=Da(le))in U?Object.defineProperty(U,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}):U[le]=fe}(this,"name","thumb"),this.br=O,this.book=j},[{key:"drawLeafs",value:function(R){var O,j,U,le=this,fe=Math.floor,Ae=this.book,Nt=this.br.refs.$brContainer.prop("scrollWidth")-20,yt=0,Yt=0,li=0,Pi=0,Ii=0,Li=[],cr=To(Ae.pagesIterator({combineConsecutiveUnviewables:!0}));try{for(cr.s();!(U=cr.n()).done;){var Wi=U.value,Di=this.br.thumbWidth;yt+(Di+this.br.thumbPadding)>Nt&&(Pi++,yt=0,Ii=0),Li[Pi]||(Li[Pi]={}),Li[Pi].leafs||(Li[Pi].leafs=[],Li[Pi].height=0,Li[Pi].top=0),Li[Pi].leafs[Ii]={num:Wi.index,left:yt},(O=fe(Wi.height*this.br.thumbWidth/Wi.width))>Li[Pi].height&&(Li[Pi].height=O),Ii===0&&(Yt+=this.br.thumbPadding+Li[Pi].height),(yt+=Di+this.br.thumbPadding)>li&&(li=yt),Ii++,Wi.index==R&&(j=Yt-this.br.thumbPadding-Li[Pi].height)}}catch(dr){cr.e(dr)}finally{cr.f()}this.br.refs.$brPageViewEl.height(Yt);var Xi=fe((this.br.refs.$brContainer.prop("scrollWidth")-li)/2)-14;j!==void 0&&this.br.refs.$brContainer.scrollTop(j);for(var er=this.br.refs.$brContainer.prop("scrollTop"),Zi=er+this.br.refs.$brContainer.height(),gr=0,Ir=0,Oi=[],ur=[],Yr=Ae.getNumLeafs()-1,mr=0,Br=0;Br<Li.length;Br++)Li[Br]&&(Ir+=this.br.thumbPadding+Li[Br].height,(gr>=er&&gr<=Zi||Ir>=er&&Ir<=Zi||gr<=er&&Ir>=Zi)&&(Oi.push(Br),Li[Br].leafs[0].num<Yr&&(Yr=Li[Br].leafs[0].num),Li[Br].leafs[Li[Br].leafs.length-1].num>mr&&(mr=Li[Br].leafs[Li[Br].leafs.length-1].num)),gr>Li[Br].top&&(Li[Br].top=gr),gr=Ir);for(var Mr=Oi[0],mn=Oi[Oi.length-1],jr=1;jr<this.br.thumbRowBuffer+1;jr++)mn+jr<Li.length&&Oi.push(mn+jr);for(var Or=1;Or<this.br.thumbRowBuffer;Or++)Mr-Or>=0&&Oi.push(Mr-Or);Oi.sort(function(dr,Mn){return dr-Mn});for(var Kr=0,me=Oi;Kr<me.length;Kr++){var pe=me[Kr];if((0,o.notInArray)(pe,this.br.displayedRows)){if(!Li[pe])continue;var Ee,Wt=To(Li[pe].leafs);try{var bt=function(){var dr=Ee.value,Mn=dr.num,pn=dr.left,gn=le.br.thumbWidth,Zo=fe(Ae.getPageHeight(Mn)*le.br.thumbWidth/Ae.getPageWidth(Mn)),ko=Li[pe].top,Jo=pn+Xi;le.br.pageProgression=="rl"&&(Jo=Nt-gn-Jo),Jo+=le.br.thumbPadding,ur.push(Mn);var Ba=fe(Ae.getPageWidth(Mn)/le.br.thumbWidth),Ha=2*Math.round(Ba/2),Un=le.br._createPageContainer(Mn).update({dimensions:{width:gn,height:Zo,top:ko,left:Jo},reduce:Ha});Un.$container.data("leaf",Mn).on("mouseup",function(Qo){le.br.updateFirstIndex(Mn,{suppressFragmentChange:!0}),le.br.switchMode(le.br.constMode1up,{suppressFragmentChange:!0});var Fa=le.br.viewModeOrder.shift();le.br.viewModeOrder.push(Fa),le.br._components.navbar.updateViewModeButton(Jr(".viewmode"),"twopg","Two-page view"),le.br.trigger(c.q.fragmentChange),Qo.stopPropagation()}),le.br.refs.$brPageViewEl.append(Un.$container)};for(Wt.s();!(Ee=Wt.n()).done;)bt()}catch(dr){Wt.e(dr)}finally{Wt.f()}}}var ai,_i=To(this.br.displayedRows);try{for(_i.s();!(ai=_i.n()).done;){var zi=ai.value;if((0,o.notInArray)(zi,Oi)){var Ri,Qi,fr=To((Ri=Li[zi])===null||Ri===void 0?void 0:Ri.leafs);try{for(fr.s();!(Qi=fr.n()).done;){var wr,Po=Qi.value.num;ur!=null&&ur.includes(Po)||(wr=this.br.$(".pagediv".concat(Po)))===null||wr===void 0||wr.remove()}}catch(dr){fr.e(dr)}finally{fr.f()}}}}catch(dr){_i.e(dr)}finally{_i.f()}var Na=this.br.currentIndex();Na<Yr?this.br.updateFirstIndex(Yr):Na>mr&&this.br.updateFirstIndex(mr),this.br.displayedRows=Oi.slice(),this.br.$(".BRpagedivthumb_highlight").removeClass("BRpagedivthumb_highlight"),this.br.$(".pagediv"+this.br.currentIndex()).addClass("BRpagedivthumb_highlight")}},{key:"lazyLoadImage",value:function(R){var O=Jr(R).data("leaf"),j=Jr(R).data("reduce"),U=this.br.imageCache.image(O,j),le=Jr(R).parent();Jr(le).append(U),Jr(R).remove()}},{key:"zoom",value:function(R){var O=this.br.thumbColumns;switch(R){case"in":this.br.thumbColumns-=1;break;case"out":this.br.thumbColumns+=1;break;default:console.error("Unsupported direction: ".concat(R))}this.br.thumbColumns=(0,o.clamp)(this.br.thumbColumns,this.br.options.thumbMinZoomColumns,this.br.options.thumbMaxZoomColumns),this.br.thumbColumns!=O&&(this.br.displayedRows=[],this.prepare())}},{key:"getThumbnailWidth",value:function(R){var O=(R+1)*this.br.thumbPadding,j=(this.br.refs.$brPageViewEl.width()-O)/(R+.5),U=Math.floor(j);return U>0?U:100}},{key:"prepare",value:function(){this.br.refs.$brContainer.empty(),this.br.refs.$brContainer.css({overflowY:"scroll",overflowX:"auto"}),this.br.refs.$brPageViewEl=Jr("<div class='BRpageview'></div>"),this.br.refs.$brContainer.append(this.br.refs.$brPageViewEl),this.dragScrollable=this.dragScrollable||new We(this.br.refs.$brContainer[0],{preventDefault:!0}),this.br.bindGestures(this.br.refs.$brContainer),this.br.thumbWidth=this.getThumbnailWidth(this.br.thumbColumns),this.br.reduce=this.book.getPageWidth(0)/this.br.thumbWidth,this.br.displayedRows=[],this.drawLeafs(this.br.currentIndex()),this.br.updateBrClasses()}},{key:"jumpToIndex",value:function(R){for(var O=this,j=Math.floor,U=this.book,le=this.br.refs.$brContainer.prop("scrollWidth")-20,fe=this.br.thumbWidth,Ae=0,Nt=0,yt=0,Yt=0,li=0,Pi=0;Pi<=R;Pi++){Nt+(fe+this.br.thumbPadding)>le&&(Nt=0,Yt=0,li=0);var Ii=j(U.getPageHeight(li)*this.br.thumbWidth/U.getPageWidth(li));Ii>Yt&&(Yt=Ii),li==0&&(Ae=yt,yt+=this.br.thumbPadding+Yt),Nt+=fe+this.br.thumbPadding,li++}this.br.updateFirstIndex(R),this.br.refs.$brContainer.prop("scrollTop")==Ae?this.br.drawLeafs():(this.br.animating=!0,this.br.refs.$brContainer.stop(!0).animate({scrollTop:Ae},"fast",function(){O.br.animating=!1}))}}])}(),ja=(s(1367),{floor:Math.floor,decr:function(R){return R-1}}),co={floor:function(R){return Math.pow(2,Math.floor(Math.log2(Math.max(1,R))))},decr:function(R){return Math.pow(2,Math.log2(R)-1)}},zo={pow2:co,integer:ja},Ko=s(1669);function Xo(R){return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},Xo(R)}function go(R){return function(O){if(Array.isArray(O))return _n(O)}(R)||function(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}(R)||function(O,j){if(O){if(typeof O=="string")return _n(O,j);var U={}.toString.call(O).slice(8,-1);return U==="Object"&&O.constructor&&(U=O.constructor.name),U==="Map"||U==="Set"?Array.from(O):U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?_n(O,j):void 0}}(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _n(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function f(R,O){for(var j=0;j<O.length;j++){var U=O[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,b(U.key),U)}}function b(R){var O=function(j,U){if(Xo(j)!="object"||!j)return j;var le=j[Symbol.toPrimitive];if(le!==void 0){var fe=le.call(j,"string");if(Xo(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}(R);return Xo(O)=="symbol"?O:O+""}var S=function(){return function(R,O,j){return O&&f(R.prototype,O),Object.defineProperty(R,"prototype",{writable:!1}),R}(function R(O){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=j.useSrcSet,le=U!==void 0&&U,fe=j.reduceSet,Ae=fe===void 0?co:fe,Nt=j.renderPageURI,yt=Nt===void 0?L.renderPageURI:Nt;(function(Yt,li){if(!(Yt instanceof li))throw new TypeError("Cannot call a class as a function")})(this,R),this.book=O,this.useSrcSet=le,this.reduceSet=Ae,this.renderPageURI=yt,this.cache={},this.defaultScale=8},[{key:"image",value:function(R,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,U=this.getFinalReduce(R,O);return this._serveImageElement(R,U,j)}},{key:"getFinalReduce",value:function(R,O){var j=(this.cache[R]||[]).filter(function(U){return U.loaded&&U.reduce<=O});return j.length?Math.max.apply(Math,go(j.map(function(U){return U.reduce}))):this.reduceSet.floor(O)}},{key:"imageLoaded",value:function(R,O){var j,U,le=(j=this.cache[R])===null||j===void 0?void 0:j.find(function(fe){return fe.reduce<=O});return(U=le==null?void 0:le.loaded)!==null&&U!==void 0&&U}},{key:"getBestLoadedReduce",value:function(R){var O,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,U=((O=this.cache[R])===null||O===void 0?void 0:O.filter(function(Ae){return Ae.loaded}))||[];if(!U.length)return null;var le=U.filter(function(Ae){return Ae.reduce>=j});if(le.length)return Math.min.apply(Math,go(le.map(function(Ae){return Ae.reduce})));var fe=U.filter(function(Ae){return Ae.reduce<j});return Math.max.apply(Math,go(fe.map(function(Ae){return Ae.reduce})))}},{key:"_serveImageElement",value:function(R,O){var j,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,le=(j=this.cache[R])===null||j===void 0?void 0:j.find(function(yt){return yt.reduce==O});le||(le={reduce:O,loaded:!1},(this.cache[R]||(this.cache[R]=[])).push(le));var fe=this.book.getPage(R),Ae=fe.getURI(O,0),Nt=Ko(U||document.createElement("img")).addClass("BRpageimage").attr("alt","Book page image").data("reduce",O).data("src",Ae);return this.renderPageURI(Nt[0],Ae),this.useSrcSet&&Nt.attr("srcset",fe.getURISrcSet(O)),le.loaded||Nt.one("load",function(){return le.loaded=!0}),Nt}}])}(),M=s(4907),H=s(1669),F=s(1669);function X(R){return X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},X(R)}function Ne(){Ne=function(){return O};var R,O={},j=Object.prototype,U=j.hasOwnProperty,le=Object.defineProperty||function(me,pe,Ee){me[pe]=Ee.value},fe=typeof Symbol=="function"?Symbol:{},Ae=fe.iterator||"@@iterator",Nt=fe.asyncIterator||"@@asyncIterator",yt=fe.toStringTag||"@@toStringTag";function Yt(me,pe,Ee){return Object.defineProperty(me,pe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),me[pe]}try{Yt({},"")}catch(me){Yt=function(pe,Ee,Wt){return pe[Ee]=Wt}}function li(me,pe,Ee,Wt){var bt=pe&&pe.prototype instanceof Xi?pe:Xi,ai=Object.create(bt.prototype),_i=new Or(Wt||[]);return le(ai,"_invoke",{value:Br(me,Ee,_i)}),ai}function Pi(me,pe,Ee){try{return{type:"normal",arg:me.call(pe,Ee)}}catch(Wt){return{type:"throw",arg:Wt}}}O.wrap=li;var Ii="suspendedStart",Li="suspendedYield",cr="executing",Wi="completed",Di={};function Xi(){}function er(){}function Zi(){}var gr={};Yt(gr,Ae,function(){return this});var Ir=Object.getPrototypeOf,Oi=Ir&&Ir(Ir(Kr([])));Oi&&Oi!==j&&U.call(Oi,Ae)&&(gr=Oi);var ur=Zi.prototype=Xi.prototype=Object.create(gr);function Yr(me){["next","throw","return"].forEach(function(pe){Yt(me,pe,function(Ee){return this._invoke(pe,Ee)})})}function mr(me,pe){function Ee(bt,ai,_i,zi){var Ri=Pi(me[bt],me,ai);if(Ri.type!=="throw"){var Qi=Ri.arg,fr=Qi.value;return fr&&X(fr)=="object"&&U.call(fr,"__await")?pe.resolve(fr.__await).then(function(wr){Ee("next",wr,_i,zi)},function(wr){Ee("throw",wr,_i,zi)}):pe.resolve(fr).then(function(wr){Qi.value=wr,_i(Qi)},function(wr){return Ee("throw",wr,_i,zi)})}zi(Ri.arg)}var Wt;le(this,"_invoke",{value:function(bt,ai){function _i(){return new pe(function(zi,Ri){Ee(bt,ai,zi,Ri)})}return Wt=Wt?Wt.then(_i,_i):_i()}})}function Br(me,pe,Ee){var Wt=Ii;return function(bt,ai){if(Wt===cr)throw Error("Generator is already running");if(Wt===Wi){if(bt==="throw")throw ai;return{value:R,done:!0}}for(Ee.method=bt,Ee.arg=ai;;){var _i=Ee.delegate;if(_i){var zi=Mr(_i,Ee);if(zi){if(zi===Di)continue;return zi}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(Wt===Ii)throw Wt=Wi,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);Wt=cr;var Ri=Pi(me,pe,Ee);if(Ri.type==="normal"){if(Wt=Ee.done?Wi:Li,Ri.arg===Di)continue;return{value:Ri.arg,done:Ee.done}}Ri.type==="throw"&&(Wt=Wi,Ee.method="throw",Ee.arg=Ri.arg)}}}function Mr(me,pe){var Ee=pe.method,Wt=me.iterator[Ee];if(Wt===R)return pe.delegate=null,Ee==="throw"&&me.iterator.return&&(pe.method="return",pe.arg=R,Mr(me,pe),pe.method==="throw")||Ee!=="return"&&(pe.method="throw",pe.arg=new TypeError("The iterator does not provide a '"+Ee+"' method")),Di;var bt=Pi(Wt,me.iterator,pe.arg);if(bt.type==="throw")return pe.method="throw",pe.arg=bt.arg,pe.delegate=null,Di;var ai=bt.arg;return ai?ai.done?(pe[me.resultName]=ai.value,pe.next=me.nextLoc,pe.method!=="return"&&(pe.method="next",pe.arg=R),pe.delegate=null,Di):ai:(pe.method="throw",pe.arg=new TypeError("iterator result is not an object"),pe.delegate=null,Di)}function mn(me){var pe={tryLoc:me[0]};1 in me&&(pe.catchLoc=me[1]),2 in me&&(pe.finallyLoc=me[2],pe.afterLoc=me[3]),this.tryEntries.push(pe)}function jr(me){var pe=me.completion||{};pe.type="normal",delete pe.arg,me.completion=pe}function Or(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(mn,this),this.reset(!0)}function Kr(me){if(me||me===""){var pe=me[Ae];if(pe)return pe.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var Ee=-1,Wt=function bt(){for(;++Ee<me.length;)if(U.call(me,Ee))return bt.value=me[Ee],bt.done=!1,bt;return bt.value=R,bt.done=!0,bt};return Wt.next=Wt}}throw new TypeError(X(me)+" is not iterable")}return er.prototype=Zi,le(ur,"constructor",{value:Zi,configurable:!0}),le(Zi,"constructor",{value:er,configurable:!0}),er.displayName=Yt(Zi,yt,"GeneratorFunction"),O.isGeneratorFunction=function(me){var pe=typeof me=="function"&&me.constructor;return!!pe&&(pe===er||(pe.displayName||pe.name)==="GeneratorFunction")},O.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Zi):(me.__proto__=Zi,Yt(me,yt,"GeneratorFunction")),me.prototype=Object.create(ur),me},O.awrap=function(me){return{__await:me}},Yr(mr.prototype),Yt(mr.prototype,Nt,function(){return this}),O.AsyncIterator=mr,O.async=function(me,pe,Ee,Wt,bt){bt===void 0&&(bt=Promise);var ai=new mr(li(me,pe,Ee,Wt),bt);return O.isGeneratorFunction(pe)?ai:ai.next().then(function(_i){return _i.done?_i.value:ai.next()})},Yr(ur),Yt(ur,yt,"Generator"),Yt(ur,Ae,function(){return this}),Yt(ur,"toString",function(){return"[object Generator]"}),O.keys=function(me){var pe=Object(me),Ee=[];for(var Wt in pe)Ee.push(Wt);return Ee.reverse(),function bt(){for(;Ee.length;){var ai=Ee.pop();if(ai in pe)return bt.value=ai,bt.done=!1,bt}return bt.done=!0,bt}},O.values=Kr,Or.prototype={constructor:Or,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=R,this.done=!1,this.delegate=null,this.method="next",this.arg=R,this.tryEntries.forEach(jr),!me)for(var pe in this)pe.charAt(0)==="t"&&U.call(this,pe)&&!isNaN(+pe.slice(1))&&(this[pe]=R)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var pe=this;function Ee(Ri,Qi){return ai.type="throw",ai.arg=me,pe.next=Ri,Qi&&(pe.method="next",pe.arg=R),!!Qi}for(var Wt=this.tryEntries.length-1;Wt>=0;--Wt){var bt=this.tryEntries[Wt],ai=bt.completion;if(bt.tryLoc==="root")return Ee("end");if(bt.tryLoc<=this.prev){var _i=U.call(bt,"catchLoc"),zi=U.call(bt,"finallyLoc");if(_i&&zi){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0);if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}else if(_i){if(this.prev<bt.catchLoc)return Ee(bt.catchLoc,!0)}else{if(!zi)throw Error("try statement without catch or finally");if(this.prev<bt.finallyLoc)return Ee(bt.finallyLoc)}}}},abrupt:function(me,pe){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Wt=this.tryEntries[Ee];if(Wt.tryLoc<=this.prev&&U.call(Wt,"finallyLoc")&&this.prev<Wt.finallyLoc){var bt=Wt;break}}bt&&(me==="break"||me==="continue")&&bt.tryLoc<=pe&&pe<=bt.finallyLoc&&(bt=null);var ai=bt?bt.completion:{};return ai.type=me,ai.arg=pe,bt?(this.method="next",this.next=bt.finallyLoc,Di):this.complete(ai)},complete:function(me,pe){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&pe&&(this.next=pe),Di},finish:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.finallyLoc===me)return this.complete(Ee.completion,Ee.afterLoc),jr(Ee),Di}},catch:function(me){for(var pe=this.tryEntries.length-1;pe>=0;--pe){var Ee=this.tryEntries[pe];if(Ee.tryLoc===me){var Wt=Ee.completion;if(Wt.type==="throw"){var bt=Wt.arg;jr(Ee)}return bt}}throw Error("illegal catch attempt")},delegateYield:function(me,pe,Ee){return this.delegate={iterator:Kr(me),resultName:pe,nextLoc:Ee},this.method==="next"&&(this.arg=R),Di}},O}function Te(R,O,j,U,le,fe,Ae){try{var Nt=R[fe](Ae),yt=Nt.value}catch(Yt){return void j(Yt)}Nt.done?O(yt):Promise.resolve(yt).then(U,le)}function mt(R){return function(){var O=this,j=arguments;return new Promise(function(U,le){var fe=R.apply(O,j);function Ae(yt){Te(fe,U,le,Ae,Nt,"next",yt)}function Nt(yt){Te(fe,U,le,Ae,Nt,"throw",yt)}Ae(void 0)})}}function Dt(R,O){return function(j){if(Array.isArray(j))return j}(R)||function(j,U){var le=j==null?null:typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(le!=null){var fe,Ae,Nt,yt,Yt=[],li=!0,Pi=!1;try{if(Nt=(le=le.call(j)).next,U===0){if(Object(le)!==le)return;li=!1}else for(;!(li=(fe=Nt.call(le)).done)&&(Yt.push(fe.value),Yt.length!==U);li=!0);}catch(Ii){Pi=!0,Ae=Ii}finally{try{if(!li&&le.return!=null&&(yt=le.return(),Object(yt)!==yt))return}finally{if(Pi)throw Ae}}return Yt}}(R,O)||ii(R,O)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ii(R,O){if(R){if(typeof R=="string")return Mt(R,O);var j={}.toString.call(R).slice(8,-1);return j==="Object"&&R.constructor&&(j=R.constructor.name),j==="Map"||j==="Set"?Array.from(R):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Mt(R,O):void 0}}function Mt(R,O){(O==null||O>R.length)&&(O=R.length);for(var j=0,U=Array(O);j<O;j++)U[j]=R[j];return U}function rt(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=H.extend(!0,{},rt.defaultOptions,R,rt.optionOverrides);this.setup(O)}function $i(R,O,j){var U,le,fe,Ae,Nt,yt,Yt,li;le=j,fe=function(Pi){return Pi.br},Ae=rt,Nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j,yt=function(Pi){return Pi._overrideable[O]},Yt=(U=R).prototype[le],li=function(){return Yt.apply(yt(this),arguments)},Object.defineProperty(Ae.prototype,Nt,{get:function(){return li},set:function(Pi){U.prototype[le]=function(){var Ii=this instanceof U?fe(this):this;return Pi.apply(Ii,arguments)},li=Pi}})}rt.version="5.0.0-96",rt.constMode1up=1,rt.constMode2up=2,rt.constModeThumb=3,rt.PLUGINS={archiveAnalytics:null,autoplay:null,chapters:null,resume:null,search:null,textSelection:null,tts:null},rt.registerPlugin=function(R,O){rt.PLUGINS[R]&&console.warn("Plugin ".concat(R," already registered. Overwriting.")),rt.PLUGINS[R]=O},rt.imageCache=null,rt.constNavAnimationDuration=300,rt.constResizeAnimationDuration=100,rt.eventNames=c.q,rt.defaultOptions=L,rt.optionOverrides={},rt.prototype.setup=function(R){var O;this.options=R,this.shell,this.bookId=R.bookId,this.server=R.server,this.subPrefix=R.subPrefix,this.bookPath=R.bookPath,this.plugins={archiveAnalytics:rt.PLUGINS.archiveAnalytics?new rt.PLUGINS.archiveAnalytics(this):null,autoplay:rt.PLUGINS.autoplay?new rt.PLUGINS.autoplay(this):null,chapters:rt.PLUGINS.chapters?new rt.PLUGINS.chapters(this):null,search:rt.PLUGINS.search?new rt.PLUGINS.search(this):null,resume:rt.PLUGINS.resume?new rt.PLUGINS.resume(this):null,textSelection:rt.PLUGINS.textSelection?new rt.PLUGINS.textSelection(this):null,tts:rt.PLUGINS.tts?new rt.PLUGINS.tts(this):null};for(var j=0,U=Object.entries(this.plugins);j<U.length;j++){var le=Dt(U[j],2),fe=le[0];le[1]||delete this.plugins[fe]}for(var Ae=0,Nt=Object.entries(rt.PLUGINS);Ae<Nt.length;Ae++){var yt=Dt(Nt[Ae],2),Yt=yt[0],li=yt[1];!this.plugins[Yt]&&li&&(this.plugins[Yt]=new li(this))}for(var Pi=0,Ii=Object.entries(this.plugins);Pi<Ii.length;Pi++){var Li=Dt(Ii[Pi],2),cr=Li[0],Wi=Li[1];try{var Di,Xi;Wi.setup((Di=(Xi=this.options.plugins)===null||Xi===void 0?void 0:Xi[cr])!==null&&Di!==void 0?Di:{}),this.options.plugins[cr]=Wi.options}catch(er){console.error("Error setting up plugin ".concat(cr),er)}}(O=this.plugins.search)!==null&&O!==void 0&&O.options.enabled&&(this.search=this.plugins.search.search.bind(this.plugins.search)),this.numLeafs=void 0,this.viewModeOrder=[],this.suppressFragmentChange=!1,this.animationFinishedCallback=null,this.constMode1up=rt.constMode1up,this.constMode2up=rt.constMode2up,this.constModeThumb=rt.constModeThumb,this.reduce=8,this.defaults=R.defaults,this.padding=R.padding,this.reduceSet=zo[R.reduceSet],this.reduceSet||(console.warn("Invalid reduceSet ".concat(R.reduceSet,". Ignoring.")),this.reduceSet=zo[L.reduceSet]),this.mode=null,this.prevReadMode=null,this.ui=R.ui,this.uiAutoHide=R.uiAutoHide,this.thumbWidth=100,this.thumbRowBuffer=R.thumbRowBuffer,this.thumbColumns=R.thumbColumns,this.thumbMaxLoading=R.thumbMaxLoading,this.thumbPadding=R.thumbPadding,this.displayedRows=[],this.displayedIndices=[],this.animating=!1,this.flipSpeed=o.parseAnimationSpeed(R.flipSpeed)||400,this.firstIndex=null,this.isFullscreenActive=R.startFullscreen||!1,this.lastScroll=null,this.showLogo=R.showLogo,this.logoURL=R.logoURL,this.imagesBaseURL=R.imagesBaseURL,this.reductionFactors=R.reductionFactors,this.onePage=R.onePage,this.twoPage=R.twoPage,this.onePageMinBreakpoint=R.onePageMinBreakpoint,this.bookTitle=R.bookTitle,this.bookUrl=R.bookUrl,this.bookUrlText=R.bookUrlText,this.bookUrlTitle=R.bookUrlTitle,this.titleLeaf=R.titleLeaf,this.metadata=R.metadata,this.thumbnail=R.thumbnail,this.bookUrlMoreInfo=R.bookUrlMoreInfo,this.enableExperimentalControls=R.enableExperimentalControls,this.el=R.el,this.pageProgression=R.pageProgression,this.protected=R.protected,this.getEmbedCode=R.getEmbedCode,this.popup=null,this.data=R.data,this.refs={},this.book=new ge(this),R.getNumLeafs&&(this.book.getNumLeafs=R.getNumLeafs.bind(this)),R.getPageWidth&&(this.book.getPageWidth=R.getPageWidth.bind(this)),R.getPageHeight&&(this.book.getPageHeight=R.getPageHeight.bind(this)),R.getPageURI&&(this.book.getPageURI=R.getPageURI.bind(this)),R.getPageSide&&(this.book.getPageSide=R.getPageSide.bind(this)),R.getPageNum&&(this.book.getPageNum=R.getPageNum.bind(this)),R.getPageProp&&(this.book.getPageProp=R.getPageProp.bind(this)),R.getSpreadIndices&&(this.book.getSpreadIndices=R.getSpreadIndices.bind(this)),R.leafNumToIndex&&(this.book.leafNumToIndex=R.leafNumToIndex.bind(this)),this._components={navbar:new m(this),toolbar:new x(this)},this._modes={mode1Up:new Xr(this,this.book),mode2Up:new Nn(this,this.book),modeThumb:new rs(this,this.book)},this._overrideable={book:this.book,"_components.navbar":this._components.navbar,"_components.toolbar":this._components.toolbar,"_modes.mode1Up":this._modes.mode1Up,"_modes.mode2Up":this._modes.mode2Up,"_modes.modeThumb":this._modes.modeThumb},this.imageCache=new S(this.book,{useSrcSet:this.options.useSrcSet,reduceSet:this.reduceSet,renderPageURI:R.renderPageURI.bind(this)}),this.hasKeyFocus=!0},rt.prototype.getActivePageContainerElements=function(){var R=Object.values(this._modes.mode2Up.mode2UpLit.pageContainerCache).map(function(O){return O.$container[0]}).concat(Object.values(this._modes.mode1Up.mode1UpLit.pageContainerCache).map(function(O){return O.$container[0]}));return this.mode==this.constModeThumb&&(R=R.concat(this.$(".BRpagecontainer").toArray())),R},rt.prototype.getActivePageContainerElementsForIndex=function(R){var O,j,U;return[(O=this._modes.mode2Up.mode2UpLit.pageContainerCache[R])===null||O===void 0||(O=O.$container)===null||O===void 0?void 0:O[0],(j=this._modes.mode1Up.mode1UpLit.pageContainerCache[R])===null||j===void 0||(j=j.$container)===null||j===void 0?void 0:j[0]].concat((U=this.mode==this.constModeThumb?this.$(".pagediv".concat(R)).toArray():[],function(le){if(Array.isArray(le))return Mt(le)}(U)||function(le){if(typeof Symbol<"u"&&le[Symbol.iterator]!=null||le["@@iterator"]!=null)return Array.from(le)}(U)||ii(U)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())).filter(function(le){return le})},Object.defineProperty(rt.prototype,"activeMode",{get:function(){return{1:this._modes.mode1Up,2:this._modes.mode2Up,3:this._modes.modeThumb}[this.mode]}}),rt.util=o,rt.prototype.extendParams=function(R,O){var j=F.extend({},O);if(j.page!==void 0){var U=this.book.parsePageString(j.page);isNaN(U)||(j.index=U),delete j.page}F.extend(R,j)},rt.prototype.initParams=function(){var R,O,j={init:!0,pageFound:!1,fragmentChange:!1};if(this.titleLeaf!==void 0&&this.book.getNumLeafs()>2?j.index=this.book.leafNumToIndex(this.titleLeaf):j.index=0,this.defaults){var U=this.paramsFromFragment(this.defaults);U.page!==void 0&&(j.pageFound=!0),this.extendParams(j,U)}if((R=this.plugins.resume)!==null&&R!==void 0&&R.options.enabled){var le=this.plugins.resume.getResumeValue();le!==null&&(j.index!==le&&(j.fragmentChange=!0),j.index=le)}if(this.options.enableUrlPlugin){var fe=this.paramsFromFragment(this.urlReadFragment());!Object.keys(fe).length&&this.urlReadHashFragment()&&this.options.urlMode==="history"&&(fe=this.paramsFromFragment(this.urlReadHashFragment())),Object.keys(fe).length&&(fe.page!==void 0&&(j.pageFound=!0),this.extendParams(j,fe),j.fragmentChange=!0)}if((O=this.plugins.search)!==null&&O!==void 0&&O.options.enabled){var Ae=this.plugins.search;if(Ae.options.goToFirstResult=!j.pageFound,!Ae.initialSearchTerm)if(j.search)Ae.options.initialSearchTerm=j.search,Ae.searchTerm=j.search;else{var Nt=new URLSearchParams(this.readQueryString()).get("q");Nt&&(Ae.options.initialSearchTerm=o.decodeURIComponentPlus(Nt))}}return this.suppressFragmentChange=!j.fragmentChange,j},rt.prototype.getLocationSearch=function(){return window.location.search},rt.prototype.getLocationHash=function(){return window.location.hash},rt.prototype.readQueryString=function(){var R=this.getLocationSearch();if(R)return R;var O=this.getLocationHash(),j=O.search(/\?\w+=/);return j>-1?O.slice(j):""},rt.prototype.getInitialMode=function(R){var O,j=F(window).width(),U=j&&j<=this.onePageMinBreakpoint;if(O=R.mode?R.mode:U?this.constMode1up:this.constMode2up,this.canSwitchToMode(O)||(O=this.constMode1up),this.options.defaults)try{O=function(le){var fe={"mode/1up":1,"mode/2up":2,"mode/thumb":3};if(!(le in fe))throw new T("Invalid mode string: ".concat(le));return fe[le]}(this.options.defaults)}catch(le){}return O},rt.prototype.init=function(){var R;this.init.initComplete=!1,this.pageScale=this.reduce;var O=this.initParams();if(this.firstIndex=O.index?O.index:0,this.isTouchDevice="ontouchstart"in window||"msmaxtouchpoints"in window.navigator,this.refs.$br=F(this.el).empty().removeClass().addClass("ui-"+this.ui).addClass("br-ui-"+this.ui).addClass("BookReader"),this.isTouchDevice?this.refs.$br.addClass("touch"):this.refs.$br.addClass("no-touch"),this.refs.$brContainer=F("<div class='BRcontainer' dir='ltr'></div>"),this.refs.$br.append(this.refs.$brContainer),O.mode=this.getInitialMode(O),this.mode=O.mode,this.options.showToolbar&&this.initToolbar(this.mode,this.ui),this.options.showNavbar)for(var j=this.initNavbar(),U=0,le=Object.values(this.plugins);U<le.length;U++)le[U].extendNavBar(j);this._components.navbar.switchNavbarControls(),this.resizeBRcontainer(),this.updateFromParams(O),this.initUIStrings(),this.bindNavigationHandlers(),this.setupKeyListeners(),this.lastScroll=new Date().getTime(),this.refs.$brContainer.on("scroll",this,function(li){li.data.lastScroll=new Date().getTime(),li.data.constModeThumb==li.data.mode&&li.data.drawLeafsThrottled()}),this.options.autoResize&&(F(window).on("resize",this,function(li){li.data.resize()}),F(window).on("orientationchange",this,function(li){li.data.resize()}.bind(this))),this.protected&&this.$(".BRicon.share").hide(),(R=this.plugins.search)!==null&&R!==void 0&&R.options.initialSearchTerm||(this.suppressFragmentChange=!1),this.options.startFullscreen&&this.enterFullscreen(!0);for(var fe=0,Ae=Object.entries(this.plugins);fe<Ae.length;fe++){var Nt=Dt(Ae[fe],2),yt=Nt[0],Yt=Nt[1];try{Yt.init()}catch(li){console.error("Error initializing plugin ".concat(yt),li)}}this.init.initComplete=!0,this.trigger(rt.eventNames.PostInit)},rt.prototype.trigger=function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,j="BookReader:"+R;o.polyfillCustomEvent(window),window.dispatchEvent(new CustomEvent(j,{bubbles:!0,composed:!0,detail:{props:O}})),F(document).trigger(j,O)},rt.prototype.on=function(R,O){F(document).on("BookReader:"+R,O)},rt.prototype.off=function(R,O){F(document).off("BookReader:"+R,O)},rt.prototype.bind=function(R,O){return this.on(R,O)},rt.prototype.unbind=function(R,O){return this.off(R,O)},rt.prototype.resize=function(){this.init.initComplete&&(this.resizeBRcontainer(),this._components.navbar.switchNavbarControls(),this.constMode1up==this.mode?this.onePage.autofit!="none"?(this._modes.mode1Up.resizePageView(),this.centerPageView()):(this.centerPageView(),this.displayedIndices=[],this.drawLeafsThrottled()):this.constModeThumb==this.mode?this._modes.modeThumb.prepare():this._modes.mode2Up.resizePageView(),this.trigger(rt.eventNames.resize))},rt.prototype.setupKeyListeners=function(){var R=this;window.IntersectionObserver&&new IntersectionObserver(function(O){O.forEach(function(j){j.intersectionRatio===0?R.hasKeyFocus=!1:R.hasKeyFocus=!0})},{root:null,rootMargin:"0px",threshold:[0,.05,1]}).observe(this.refs.$br[0]),document.addEventListener("keydown",function(O){if(R.hasKeyFocus&&!(O.getModifierState("Control")||O.getModifierState("Alt")||O.getModifierState("Meta")||O.getModifierState("Win")||o.isInputActive()))switch(O.key){case"Home":O.preventDefault(),R.first();break;case"End":O.preventDefault(),R.last();break;case"ArrowDown":case"PageDown":case"Down":R.constMode2up===R.mode&&(O.preventDefault(),R.next());break;case"ArrowUp":case"PageUp":case"Up":R.constMode2up===R.mode&&(O.preventDefault(),R.prev());break;case"ArrowLeft":case"Left":R.constModeThumb!=R.mode&&(O.preventDefault(),R.left());break;case"ArrowRight":case"Right":R.constModeThumb!=R.mode&&(O.preventDefault(),R.right());break;case"-":case"Subtract":O.preventDefault(),R.zoom(-1);break;case"+":case"=":case"Add":O.preventDefault(),R.zoom(1);break;case"F":case"f":O.preventDefault(),R.toggleFullscreen()}})},rt.prototype.drawLeafs=function(){this.constMode1up!=this.mode&&this.activeMode.drawLeafs()},rt.prototype._createPageContainer=function(R){for(var O=new M.LN(this.book.getPage(R,!1),{isProtected:this.protected,imageCache:this.imageCache}),j=0,U=Object.values(this.plugins);j<U.length;j++)U[j]._configurePageContainer(O);return O},rt.prototype.bindGestures=function(R){var O=this,j=1;R.unbind("touchmove").bind("touchmove",function(U){U.originalEvent.cancelable&&(j=U.originalEvent.touches.length),U.stopPropagation()}),R.unbind("gesturechange").bind("gesturechange",function(U){U.preventDefault(),j!==2||new Date().getTime()-O.lastScroll<500||(U.originalEvent.scale>1.5?O.zoom(1):U.originalEvent.scale<.6&&O.zoom(-1))})},rt.prototype.drawLeafsThrottled=o.throttle(rt.prototype.drawLeafs,250),rt.prototype.zoom=function(R){var O;R==1?this.activeMode.zoom("in"):this.activeMode.zoom("out"),(O=this.plugins.textSelection)===null||O===void 0||O.stopPageFlip(this.refs.$brContainer)},rt.prototype.resizeBRcontainer=function(R){R?this.refs.$brContainer.animate({top:this.getToolBarHeight(),bottom:this.getFooterHeight()},this.constResizeAnimationDuration,"linear"):this.refs.$brContainer.css({top:this.getToolBarHeight(),bottom:this.getFooterHeight()})},rt.prototype.centerPageView=function(){var R=this.refs.$brContainer.prop("scrollWidth"),O=this.refs.$brContainer.prop("clientWidth");R>O&&this.refs.$brContainer.prop("scrollLeft",(R-O)/2)},rt.prototype.quantizeReduce=function(R,O){for(var j=O[0].reduce,U=Math.abs(R-j),le=1;le<O.length;le++){var fe=Math.abs(R-O[le].reduce);fe<U&&(U=fe,j=O[le].reduce)}return j},rt.prototype.nextReduce=function(R,O,j){if(O==="in"){for(var U=0,le=1;le<j.length;le++)j[le].reduce<R&&(U=le);return j[U]}if(O==="out"){for(var fe=j.length-1,Ae=fe,Nt=fe;Nt>=0;Nt--)j[Nt].reduce>R&&(Ae=Nt);return j[Ae]}if(O==="auto"){var yt=j.find(function(Li){return Li.autofit=="auto"});if(yt)return yt;for(var Yt=j.filter(function(Li){var cr=Li.autofit;return cr=="height"||cr=="width"}),li=null,Pi=0;Pi<Yt.length;Pi++)(li===null||li.reduce<Yt[Pi].reduce)&&(li=Yt[Pi]);if(li)return li}else if(O==="height"||O==="width"){var Ii=j.find(function(Li){return Li.autofit==O});if(Ii)return Ii}return j[0]},rt.prototype._reduceSort=function(R,O){return R.reduce-O.reduce},rt.prototype.jumpToPage=function(R){var O=this.book.parsePageString(R);return O!==void 0&&(this.jumpToIndex(O),!0)},rt.prototype._isIndexDisplayed=function(R){return this.displayedIndices?this.displayedIndices.includes(R):this.currentIndex()==R},rt.prototype.jumpToIndex=function(R,O,j,U){var le=this.book.getPage(R);if(le.isViewable||le.unviewablesStart==le.index)this.trigger(rt.eventNames.stop),this.activeMode.jumpToIndex(R,O,j,U);else{var fe,Ae=this._isIndexDisplayed(le.unviewablesStart)?(fe=le.findNext({combineConsecutiveUnviewables:!0}))===null||fe===void 0?void 0:fe.index:le.unviewablesStart;Ae!==void 0&&this.jumpToIndex(Ae,O,j,U)}},rt.prototype.getPrevReadMode=function(R){return R===rt.constMode1up||R===rt.constMode2up?R:this.prevReadMode===null?rt.constMode1up:void 0},rt.prototype.switchMode=function(R){var O,j,U,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=le.suppressFragmentChange,Ae=fe!==void 0&&fe;if(le.init,le.pageFound,typeof R=="string"&&(R={"1up":this.constMode1up,"2up":this.constMode2up,thumb:this.constModeThumb}[R]),!R)throw new Error("Invalid mode: ".concat(R));if(!(this.init.initComplete&&(R===this.mode||!this.canSwitchToMode(R)))){this.trigger(rt.eventNames.stop),this.prevReadMode=this.getPrevReadMode(this.mode),this.mode!=R&&((j=(U=this.activeMode).unprepare)===null||j===void 0||j.call(U)),this.mode=R,this.pageScale!==this.reduce&&(this.reduce=this.pageScale),this.constMode1up==R?this._modes.mode1Up.prepare():this.constModeThumb==R?(this.reduce=this.quantizeReduce(this.reduce,this.reductionFactors),this._modes.modeThumb.prepare()):this._modes.mode2Up.prepare(),this.suppressFragmentChange||Ae||this.trigger(rt.eventNames.fragmentChange);var Nt=R+"PageViewSelected";this.trigger(rt.eventNames[Nt]),(O=this.plugins.textSelection)===null||O===void 0||O.stopPageFlip(this.refs.$brContainer)}},rt.prototype.updateBrClasses=function(){var R={};R[this.constMode1up]="BRmode1up",R[this.constMode2up]="BRmode2up",R[this.constModeThumb]="BRmodeThumb",this.refs.$br.removeClass("BRmode1up BRmode2up BRmodeThumb").addClass(R[this.mode]),this.isFullscreen()?(this.refs.$br.addClass("fullscreenActive"),F(document.body).addClass("BRfullscreenActive")):(this.refs.$br.removeClass("fullscreenActive"),F(document.body).removeClass("BRfullscreenActive"))},rt.prototype.isFullscreen=function(){return this.isFullscreenActive},rt.prototype.toggleFullscreen=mt(Ne().mark(function R(){var O,j=arguments;return Ne().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(O=!(j.length>0&&j[0]!==void 0)||j[0],!this.isFullscreen()){U.next=6;break}return U.next=4,this.exitFullScreen();case 4:U.next=8;break;case 6:return U.next=8,this.enterFullscreen(O);case 8:case"end":return U.stop()}},R,this)})),rt.prototype.enterFullscreen=mt(Ne().mark(function R(){var O,j,U,le=this,fe=arguments;return Ne().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(j=!(fe.length>0&&fe[0]!==void 0)||fe[0],this.refs.$br.addClass("BRfullscreenAnimation"),U=this.currentIndex(),j&&(this._fullscreenCloseHandler=function(Nt){Nt.keyCode===27&&le.toggleFullscreen()},F(document).on("keyup",this._fullscreenCloseHandler)),F(window).width()<=this.onePageMinBreakpoint&&this.switchMode(this.constMode1up),this.isFullscreenActive=!0,this.updateBrClasses(),!(this.activeMode instanceof Xr)){Ae.next=13;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(U)),this.activeMode.mode1UpLit.requestUpdate(),Ae.next=13,this.activeMode.mode1UpLit.updateComplete;case 13:return this.jumpToIndex(U),(O=this.plugins.textSelection)===null||O===void 0||O.stopPageFlip(this.refs.$brContainer),this.trigger(rt.eventNames.fragmentChange),this.trigger(rt.eventNames.fullscreenToggled),Ae.next=19,new Promise(function(Nt){return setTimeout(Nt,0)});case 19:this.resize(),this.refs.$br.removeClass("BRfullscreenAnimation");case 21:case"end":return Ae.stop()}},R,this)})),rt.prototype.exitFullScreen=mt(Ne().mark(function R(){var O,j;return Ne().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return this.refs.$br.addClass("BRfullscreenAnimation"),F(document).off("keyup",this._fullscreenCloseHandler),j=F(window).width(),this.options.controls.twoPage.visible&&j<=this.onePageMinBreakpoint&&this.switchMode(this.constMode2up),this.isFullscreenActive=!1,this.trigger(rt.eventNames.fullscreenToggled),this.updateBrClasses(),U.next=10,new Promise(function(le){return setTimeout(le,0)});case 10:if(this.resize(),!(this.activeMode instanceof Xr)){U.next=16;break}return this.activeMode.mode1UpLit.scale=this.activeMode.mode1UpLit.computeDefaultScale(this.book.getPage(this.currentIndex())),this.activeMode.mode1UpLit.requestUpdate(),U.next=16,this.activeMode.mode1UpLit.updateComplete;case 16:(O=this.plugins.textSelection)===null||O===void 0||O.stopPageFlip(this.refs.$brContainer),this.trigger(rt.eventNames.fragmentChange),this.refs.$br.removeClass("BRfullscreenAnimation");case 19:case"end":return U.stop()}},R,this)})),rt.prototype.currentIndex=function(){if(this.mode==this.constMode1up||this.mode==this.constModeThumb)return this.firstIndex;if(this.mode==this.constMode2up)return o.clamp(this.firstIndex,0,this.book.getNumLeafs()-1);throw"currentIndex called for unimplemented mode "+this.mode},rt.prototype.updateFirstIndex=function(R){var O,j=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).suppressFragmentChange,U=j!==void 0&&j;this.firstIndex!==R&&(this.firstIndex=R,this.suppressFragmentChange||U||this.trigger(rt.eventNames.fragmentChange),(O=this.plugins.search)!==null&&O!==void 0&&O.options.initialSearchTerm&&!U&&(this.suppressFragmentChange=!1),this.trigger(rt.eventNames.pageChanged),this.trigger(rt.eventNames.userAction),this._components.navbar.updateNavIndexThrottled(R))},rt.prototype.right=function(){this.pageProgression!="rl"?this.next():this.prev()},rt.prototype.rightmost=function(){this.pageProgression!="rl"?this.last():this.first()},rt.prototype.left=function(){this.pageProgression!="rl"?this.prev():this.next()},rt.prototype.leftmost=function(){this.pageProgression!="rl"?this.first():this.last()},rt.prototype.next=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=R.triggerStop,j=O===void 0||O,U=R.flipSpeed,le=U===void 0?null:U;this.constMode2up==this.mode?(j&&this.trigger(rt.eventNames.stop),le=o.parseAnimationSpeed(le)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("next",{flipSpeed:le})):this.firstIndex<this.book.getNumLeafs()-1&&this.jumpToIndex(this.firstIndex+1)},rt.prototype.prev=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=R.triggerStop,j=O===void 0||O,U=R.flipSpeed,le=U===void 0?null:U;this.firstIndex<1||(this.constMode2up==this.mode?(j&&this.trigger(rt.eventNames.stop),le=o.parseAnimationSpeed(le)||this.flipSpeed,this._modes.mode2Up.mode2UpLit.flipAnimation("prev",{flipSpeed:le})):this.firstIndex>=1&&this.jumpToIndex(this.firstIndex-1))},rt.prototype.first=function(){this.jumpToIndex(0)},rt.prototype.last=function(){this.jumpToIndex(this.book.getNumLeafs()-1)},rt.prototype.initNavbar=m.prototype.init,$i(m,"_components.navbar","init","initNavbar"),rt.prototype.buildToolbarElement=x.prototype.buildToolbarElement,$i(x,"_components.toolbar","buildToolbarElement"),rt.prototype.initToolbar=x.prototype.initToolbar,$i(x,"_components.toolbar","initToolbar"),rt.prototype.buildShareDiv=x.prototype.buildShareDiv,$i(x,"_components.toolbar","buildShareDiv"),rt.prototype.buildInfoDiv=x.prototype.buildInfoDiv,$i(x,"_components.toolbar","buildInfoDiv"),rt.prototype.getToolBarHeight=x.prototype.getToolBarHeight,$i(x,"_components.toolbar","getToolBarHeight"),rt.prototype.bindNavigationHandlers=function(){var R=this,O=this,j=this.$(".BRicon"),U={book_left:function(){R.trigger(rt.eventNames.stop),R.left()},book_right:function(){R.trigger(rt.eventNames.stop),R.right()},book_top:this.first.bind(this),book_bottom:this.last.bind(this),book_leftmost:this.leftmost.bind(this),book_rightmost:this.rightmost.bind(this),onepg:function(){R.switchMode(O.constMode1up)},thumb:function(){R.switchMode(O.constModeThumb)},twopg:function(){R.switchMode(O.constMode2up)},zoom_in:function(){R.trigger(rt.eventNames.stop),R.zoom(1),R.trigger(rt.eventNames.zoomIn)},zoom_out:function(){R.trigger(rt.eventNames.stop),R.zoom(-1),R.trigger(rt.eventNames.zoomOut)},full:function(){if(R.ui=="embed"){var li=R.$(".BRembedreturn a").attr("href");window.open(li)}else R.toggleFullscreen()}};this.$("nav.BRcontrols li button").on("click",function(){R.trigger(rt.eventNames.userAction)});var le=function(li){j.filter(".".concat(li)).on("click.bindNavigationHandlers",function(){return U[li](),!1})};for(var fe in U)le(fe);var Ae=this.$(".BRnavCntlBtm"),Nt=this.$(".BRnavCntlTop");this.$(".BRnavCntl").click(function(){var li=[];Ae.hasClass("BRdn")?(O.refs.$BRtoolbar&&li.push(O.refs.$BRtoolbar.animate({top:-1*O.getToolBarHeight()}).promise()),li.push(O.$(".BRfooter").animate({bottom:-1*O.getFooterHeight()}).promise()),Ae.addClass("BRup").removeClass("BRdn"),Nt.addClass("BRdn").removeClass("BRup"),O.$(".BRnavCntlBtm.BRnavCntl").animate({height:"45px"}),O.$(".BRnavCntl").delay(1e3).animate({opacity:.75},1e3)):(O.refs.$BRtoolbar&&li.push(O.refs.$BRtoolbar.animate({top:0}).promise()),li.push(O.$(".BRfooter").animate({bottom:0}).promise()),Ae.addClass("BRdn").removeClass("BRup"),Nt.addClass("BRup").removeClass("BRdn"),O.$(".BRnavCntlBtm.BRnavCntl").animate({height:"30px"}),O.$(".BRvavCntl").animate({opacity:1})),F.when.apply(F,li).done(function(){O.mode==O.constMode2up&&O.twoPage.autofit!=null&&O.twoPage.autofit!="none"||O.mode==O.constMode1up&&O.onePage.autofit!=null&&O.onePage.autofit!="none"?O.resize():O.resizeBRcontainer()})}),Ae.on("mouseover",function(){F(this).hasClass("BRup")&&O.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRup")&&O.$(".BRnavCntl").animate({opacity:.75},250)}),Nt.on("mouseover",function(){F(this).hasClass("BRdn")&&O.$(".BRnavCntl").animate({opacity:1},250)}).on("mouseleave",function(){F(this).hasClass("BRdn")&&O.$(".BRnavCntl").animate({opacity:.75},250)});for(var yt=0,Yt=Object.values(this.plugins);yt<Yt.length;yt++)Yt[yt]._bindNavigationHandlers()},rt.prototype.getPageURI=ge.prototype.getPageURI,$i(ge,"book","getPageURI"),rt.prototype.updateFromParams=function(R){var O,j=R.mode,U=j===void 0?0:j,le=R.init,fe=le!==void 0&&le,Ae=R.fragmentChange,Nt=Ae!==void 0&&Ae;U&&this.switchMode(U,{init:fe,suppressFragmentChange:!Nt}),R.index!==void 0?R.index!=this.currentIndex()&&this.jumpToIndex(R.index):R.page!==void 0&&R.page!=this.book.getPageNum(this.currentIndex())&&this.jumpToPage(R.page),(O=this.plugins.search)!==null&&O!==void 0&&O.enabled&&R.search!==void 0&&this.plugins.search.searchTerm!==R.search&&this.$(".BRsearchInput").val(R.search),this.enableThemesPlugin&&R.theme!==void 0&&this.updateTheme(R.theme)},rt.prototype.canSwitchToMode=function(R){return R!=this.constMode2up&&R!=this.constModeThumb||!(this.book.getNumLeafs()<2)},rt.prototype._getPageURI=function(R,O,j){var U=this.book.getPage(R,!1);return U?(O===void 0&&(O=U.height/this.twoPage.height),U.getURI(O,j)):this.imagesBaseURL+"transparent.png"},rt.prototype.showProgressPopup=function(R,O){var j=this;if(!this.popup){if(this.popup=document.createElement("div"),F(this.popup).prop("className","BRprogresspopup"),typeof O=="function"){var U=document.createElement("button");U.setAttribute("title","close"),U.setAttribute("class","close-popup");var le=document.createElement("span");le.setAttribute("class","icon icon-close-dark"),F(U).append(le),U.addEventListener("click",function(){O(),j.removeProgressPopup()}),F(this.popup).append(U)}var fe=document.createElement("div");if(F(fe).css({height:"20px"}).prop("className","BRprogressbar"),F(this.popup).append(fe),R){var Ae=document.createElement("div");Ae.innerHTML=R,F(this.popup).append(Ae)}F(this.popup).appendTo(this.refs.$br)}},rt.prototype.removeProgressPopup=function(){F(this.popup).remove(),this.$(".BRprogresspopup").remove(),this.popup=null},rt.prototype.initUIStrings=function(){var R={".logo":"Go to Archive.org",".zoom_in":"Zoom in",".zoom_out":"Zoom out",".onepg":"One-page view",".twopg":"Two-page view",".thumb":"Thumbnail view",".print":"Print this page",".embed":"Embed BookReader",".link":"Link to this book (and page)",".bookmark":"Bookmark this page",".share":"Share this book",".info":"About this book",".full":"Toggle fullscreen",".book_left":"Flip left",".book_right":"Flip right",".play":"Play",".pause":"Pause",".BRdn":"Show/hide nav bar",".BRup":"Show/hide nav bar",".book_top":"First page",".book_bottom":"Last page",".book_leftmost":"First page",".book_rightmost":"Last page"};for(var O in this.pageProgression=="rl"&&(R[".book_leftmost"]="Last page",R[".book_rightmost"]="First page"),R)this.$(O).prop("title",R[O])},rt.prototype.reloadImages=function(){this.refs.$brContainer.find("img").each(function(R,O){if(!O.complete||O.naturalHeight===0){var j=O.src;O.src="",setTimeout(function(){O.src=j},1e3)}})},rt.prototype.getFooterHeight=function(){var R=this.mode==this.constMode2up?this.refs.$BRfooter:this.refs.$BRnav;if(R&&this.refs.$BRfooter){var O=R.outerHeight(),j=parseInt(this.refs.$BRfooter.css("bottom"));if(!isNaN(O)&&!isNaN(j))return O+j}return 0},rt.prototype.paramsFromCurrent=function(){var R,O={},j=this.currentIndex(),U=this.book.getPageNum(j);return(U===0||U)&&(O.page=U),O.index=j,O.mode=this.mode,this.isFullscreenActive&&(O.view="theater"),(R=this.plugins.search)!==null&&R!==void 0&&R.enabled&&(O.search=this.plugins.search.searchTerm),O},rt.prototype.paramsFromFragment=function(R){var O={};R.substr(0,1)=="#"&&(R=R.substr(1));var j=parseInt(/^\d+$/.exec(R));if(!isNaN(j))return O.index=j,O;for(var U=R.split("/"),le={},fe=0;fe<U.length;fe+=2)le[U[fe]]=U[fe+1];return le.mode=="1up"?O.mode=this.constMode1up:le.mode=="2up"?O.mode=this.constMode2up:le.mode=="thumb"&&(O.mode=this.constModeThumb),le.page!==void 0&&(O.page=decodeURIComponent(le.page)),le.search!=null&&(O.search=o.decodeURIComponentPlus(le.search)),le.theme!=null&&(O.theme=le.theme),O},rt.prototype.fragmentFromParams=function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"hash",j=[];if(R.page!==void 0?j.push("page",encodeURIComponent(R.page)):R.index!==void 0&&j.push("page","n"+R.index),R.mode!==void 0)if(R.mode==this.constMode1up)j.push("mode","1up");else if(R.mode==this.constMode2up)j.push("mode","2up");else{if(R.mode!=this.constModeThumb)throw"fragmentFromParams called with unknown mode "+R.mode;j.push("mode","thumb")}return R.search&&O==="hash"&&j.push("search",o.encodeURIComponentPlus(R.search)),j.join("/")},rt.prototype.queryStringFromParams=function(R,O){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hash",U=new URLSearchParams(O);R.view?U.set("view",R.view):U.delete("view"),R.search&&j==="history"&&U.set("q",R.search);var le=U.toString();return le?"?"+le:""},rt.prototype.$=function(R){return this.refs.$br.find(R)},window.BookReader=rt})(),l=s.O(l)})();J1=UA,{default:Q1}=J1,VA=nn(J1,["default"]),ew=Q1!==void 0?Q1:VA;});var tw={};Fn(tw,{default:()=>ew});var iw=si(()=>{Im();Im()});var WA,rw,nw,qA,ow,Rm=si(()=>{WA={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[924],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},5372:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(9572),r(2010),r(4731),r(479),r(8130),r(5506),r(3851),r(875),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(5440),r(5746),r(3500),r(2953),r(8408);var s=r(8004),l=r(4907),o=(r(8940),r(1669));function c(Z){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},c(Z)}function n(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,u(ce.key),ce)}}function u(Z){var ye=function(Y,ce){if(c(Y)!="object"||!Y)return Y;var Ge=Y[Symbol.toPrimitive];if(Ge!==void 0){var ht=Ge.call(Y,"string");if(c(ht)!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return c(ye)=="symbol"?ye:ye+""}var h=function(){return Z=function Y(ce){var Ge=ce.br,ht=ce.searchCancelledCallback,st=ht===void 0?function(){}:ht;(function(qe,Se){if(!(qe instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,Y),this.br=Ge,this.matches=[],this.cacheDOMElements(),this.cancelSearch=st},ye=[{key:"init",value:function(){this.bindEvents()}},{key:"cacheDOMElements",value:function(){this.dom={},this.dom.toolbarSearch=this.buildToolbarSearch()}},{key:"setQuery",value:function(Y){this.br.$('[name="query"]').val(Y)}},{key:"emptyMatches",value:function(){this.matches=[]}},{key:"removeResultPins",value:function(){this.br.$(".BRnavpos .BRsearch").remove()}},{key:"clearSearchFieldAndResults",value:function(){var Y=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.plugins.search.removeSearchResults(),this.removeResultPins(),this.emptyMatches(),this.setQuery(""),this.teardownSearchNavigation(),Y&&this.br.trigger("SearchResultsCleared")}},{key:"toggleSidebar",value:function(){this.br.trigger("ToggleSearchMenu")}},{key:"renderSearchNavigation",value:function(){var Y="BRsearch-navigation";o(".BRnav").before(`
      <div class="`.concat(Y,`">
        <button class="toggle-sidebar">
          <h4>
            <span class="icon icon-search"></span> Results
          </h4>
        </button>
        <div class="pagination">
          <button class="prev" title="Previous result"><span class="icon icon-chevron hflip"></span></button>
          <span data-id="resultsCount">`).concat(this.resultsPosition(),`</span>
          <button class="next" title="Next result"><span class="icon icon-chevron"></button>
        </div>
        <button class="clear" title="Clear search results">
          <span class="icon icon-close"></span>
        </button>
      </div>
    `)),this.dom.searchNavigation=o(".".concat(Y))}},{key:"resultsPosition",value:function(){var Y="".concat(this.matches.length," result").concat(this.matches.length===1?"":"s");return~this.currentMatchIndex&&(Y="".concat(this.currentMatchIndex+1," / ").concat(this.matches.length)),Y}},{key:"bindSearchNavigationEvents",value:function(){if(this.dom.searchNavigation){var Y="searchNavigation";this.dom.searchNavigation.on("click.".concat(Y),".clear",this.clearSearchFieldAndResults.bind(this)).on("click.".concat(Y),".prev",this.showPrevResult.bind(this)).on("click.".concat(Y),".next",this.showNextResult.bind(this)).on("click.".concat(Y),".toggle-sidebar",this.toggleSidebar.bind(this)).on("click.".concat(Y),!1)}}},{key:"showPrevResult",value:function(){this.currentMatchIndex!==0&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,ce,Ge){return ce[0]>Ge})+1),this.br.$(".BRnavline .BRsearch").eq(--this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"showNextResult",value:function(){this.currentMatchIndex+1!==this.matches.length&&(this.br.mode===this.br.constModeThumb&&this.br.switchMode(this.br.constMode1up),~this.currentMatchIndex||(this.currentMatchIndex=this.getClosestMatchIndex(function(Y,ce,Ge){return Y[Y.length-1]>Ge})-1),this.br.$(".BRnavline .BRsearch").eq(++this.currentMatchIndex).click(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"getClosestMatchIndex",value:function(Y){var ce=this.matches.map(function(qe){return qe.par[0].page}),Ge=this.br.currentIndex()+1,ht=function(qe,Se){if(qe.length===1)return qe[0];var Ie=qe.slice(0,qe.length/2),Re=qe.slice(qe.length/2);return ht(Y(Ie,Re,Se)?Ie:Re,Se)},st=ht(ce,Ge);return this.matches.indexOf(this.matches.find(function(qe){return qe.par[0].page===st}))}},{key:"updateResultsPosition",value:function(){this.dom.searchNavigation&&this.dom.searchNavigation.find("[data-id=resultsCount]").text(this.resultsPosition())}},{key:"updateSearchNavigationButtons",value:function(){this.dom.searchNavigation&&(this.dom.searchNavigation.find(".prev").attr("disabled",!this.currentMatchIndex),this.dom.searchNavigation.find(".next").attr("disabled",this.currentMatchIndex+1===this.matches.length))}},{key:"teardownSearchNavigation",value:function(){this.dom.searchNavigation||(this.dom.searchNavigation=o(".BRsearch-navigation")),this.dom.searchNavigation.length&&(this.dom.searchNavigation.off(".searchNavigation").remove(),this.dom.searchNavigation=null,this.br.resize())}},{key:"setCurrentMatchIndex",value:function(){var Y;this.br.mode!==this.br.constModeThumb?(Y=this.br.mode===this.br.constMode2up?this.find2upMatchingSearchResult():this.find1upMatchingSearchResult(),this.currentMatchIndex=this.matches.indexOf(Y)):this.currentMatchIndex=-1}},{key:"find1upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(ce){return Y.br.currentIndex()===ce.par[0].page-1})}},{key:"find2upMatchingSearchResult",value:function(){var Y=this;return this.matches.find(function(ce){return Y.br._isIndexDisplayed(ce.par[0].page-1)})}},{key:"updateSearchNavigation",value:function(){this.matches.length&&(this.setCurrentMatchIndex(),this.updateResultsPosition(),this.updateSearchNavigationButtons())}},{key:"togglePinsFor",value:function(Y){var ce=Y?"visible":"hidden";this.br.refs.$BRfooter.find(".BRsearch").css({visibility:ce})}},{key:"buildToolbarSearch",value:function(){var Y=document.createElement("span");return Y.classList.add("BRtoolbarSection","BRtoolbarSectionSearch"),Y.innerHTML=`
      <form class="BRbooksearch desktop">
        <input type="search" name="query" class="BRsearchInput" value="" placeholder="Search inside"/>
        <button type="submit" class="BRsearchSubmit">
          <img src="`.concat(this.br.options.imagesBaseURL,`icon_search_button.svg" />
        </button>
      </form>
    `),Y}},{key:"renderPins",value:function(Y){var ce=this;Y.forEach(function(Ge){var ht=ce.br.book.leafNumToIndex(Ge.par[0].page),st=ce.br.constructor.util.cssPercentage(ht,ce.br.book.getNumLeafs()-1),qe=Ge.html;if(qe.length>200){var Se=Math.max(0,qe.indexOf("<mark>")-100);Se!=0&&(qe="\u2026"+Ge.html.substring(Se).replace(/^\S+/,""))}o("<div>").addClass("BRsearch").css({left:st}).attr("title","Search result").append(`
          <div class="BRquery">
            <main>`.concat(qe,`</main>
            <footer>Page `).concat(Ge.displayPageNumber,`</footer>
          </div>
        `)).appendTo(ce.br.$(".BRnavline")).on("mouseenter",function(Ie){var Re=Ie.currentTarget,ot=Re.querySelector(".BRquery"),pt=ot.getBoundingClientRect(),Pt=Re.getBoundingClientRect(),Qe=2*parseInt(getComputedStyle(ot).paddingLeft);pt.x-Qe<0&&ot.style.setProperty("transform","translateX(-".concat(Pt.left-Qe,"px)")),o(".BRsearch,.BRchapter").removeClass("front"),o(Ie.target).addClass("front")}).on("mouseleave",function(Ie){return o(Ie.target).removeClass("front")}).on("click",function(){ce.br.plugins.search.jumpToMatch(Ge.matchIndex)})})}},{key:"toggleSearchPending",value:function(){var Y=this;arguments.length>0&&arguments[0]!==void 0&&arguments[0]?this.br.showProgressPopup("Search results will appear below...",function(){return Y.progressPopupClosed()}):this.br.removeProgressPopup()}},{key:"progressPopupClosed",value:function(){this.toggleSearchPending(),this.cancelSearch()}},{key:"renderErrorModal",value:function(){var Y="".concat(arguments.length>0&&arguments[0]!==void 0&&arguments[0]?"":"The text may still be processing. ","Please try again.");this.renderModalMessage(`
      Sorry, there was an error with your search.
      <br />
      `.concat(Y,`
    `)),this.delayModalRemovalFor(4e3)}},{key:"renderBookNotIndexedModal",value:function(){this.renderModalMessage(`
      <p>
         This book hasn't been indexed for searching yet.
         We've just started indexing it, so search should be available soon.
         <br />
         Please try again later. Thanks!
      </p>
    `),this.delayModalRemovalFor(5e3)}},{key:"renderResultsEmptyModal",value:function(){this.renderModalMessage("No matches were found."),this.delayModalRemovalFor(2e3)}},{key:"renderModalMessage",value:function(Y){var ce=document.createElement("div");ce.classList.add("BRprogresspopup","search_modal"),ce.innerHTML=Y,document.querySelector(this.br.el).append(ce)}},{key:"delayModalRemovalFor",value:function(Y){setTimeout(this.br.removeProgressPopup.bind(this.br),Y)}},{key:"submitHandler",value:function(Y){Y.preventDefault();var ce=Y.target.querySelector('[name="query"]').value;return!!ce.length&&(this.br.search(ce),this.emptyMatches(),this.toggleSearchPending(!0),!1)}},{key:"handleSearchCallback",value:function(Y,ce){var Ge=this,ht=ce.results,st=ce.options;this.matches=ht.matches,this.setCurrentMatchIndex(),this.teardownSearchNavigation(),this.renderSearchNavigation(),this.bindSearchNavigationEvents(),this.renderPins(ht.matches),this.toggleSearchPending(!1),st.goToFirstResult?o(document).one("BookReader:pageChanged",function(){Ge.br.resize()}):this.br.resize()}},{key:"handleSearchStarted",value:function(){this.emptyMatches(),this.br.plugins.search.removeSearchHilites(),this.removeResultPins(),this.toggleSearchPending(!0),this.teardownSearchNavigation(),this.setQuery(this.br.plugins.search.searchTerm)}},{key:"handleSearchCallbackError",value:function(){var Y,ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.toggleSearchPending(!1);var Ge=ce==null||(Y=ce.detail)===null||Y===void 0||(Y=Y.props)===null||Y===void 0||(Y=Y.results)===null||Y===void 0?void 0:Y.indexed;this.renderErrorModal(Ge)}},{key:"handleSearchCallbackBookNotIndexed",value:function(){this.toggleSearchPending(!1),this.renderBookNotIndexedModal()}},{key:"handleSearchCallbackEmpty",value:function(){this.toggleSearchPending(!1),this.renderResultsEmptyModal()}},{key:"bindEvents",value:function(){var Y="BookReader:";window.addEventListener("".concat(Y,"SearchCallbackError"),this.handleSearchCallbackError.bind(this)),o(document).on("".concat(Y,"SearchCallback"),this.handleSearchCallback.bind(this)).on("".concat(Y,"SearchStarted"),this.handleSearchStarted.bind(this)).on("".concat(Y,"SearchCallbackBookNotIndexed"),this.handleSearchCallbackBookNotIndexed.bind(this)).on("".concat(Y,"SearchCallbackEmpty"),this.handleSearchCallbackEmpty.bind(this)).on("".concat(Y,"pageChanged"),this.updateSearchNavigation.bind(this)),this.dom.toolbarSearch.querySelector("form").addEventListener("submit",this.submitHandler.bind(this))}}],ye&&n(Z.prototype,ye),Object.defineProperty(Z,"prototype",{writable:!1}),Z;var Z,ye}(),g=h;function m(Z,ye){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,ce){var Ge=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ge!=null){var ht,st,qe,Se,Ie=[],Re=!0,ot=!1;try{if(qe=(Ge=Ge.call(Y)).next,ce===0){if(Object(Ge)!==Ge)return;Re=!1}else for(;!(Re=(ht=qe.call(Ge)).done)&&(Ie.push(ht.value),Ie.length!==ce);Re=!0);}catch(pt){ot=!0,st=pt}finally{try{if(!Re&&Ge.return!=null&&(Se=Ge.return(),Object(Se)!==Se))return}finally{if(ot)throw st}}return Ie}}(Z,ye)||_(Z,ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(Z,ye){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=_(Z))||ye&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var ce=0,Ge=function(){};return{s:Ge,n:function(){return ce>=Z.length?{done:!0}:{done:!1,value:Z[ce++]}},e:function(Se){throw Se},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,st=!0,qe=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Se=Y.next();return st=Se.done,Se},e:function(Se){qe=!0,ht=Se},f:function(){try{st||Y.return==null||Y.return()}finally{if(qe)throw ht}}}}function _(Z,ye){if(Z){if(typeof Z=="string")return w(Z,ye);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?w(Z,ye):void 0}}function w(Z,ye){(ye==null||ye>Z.length)&&(ye=Z.length);for(var Y=0,ce=Array(ye);Y<ye;Y++)ce[Y]=Z[Y];return ce}function k(Z,ye,Y){var ce=(0,s.escapeRegExp)((0,s.escapeHTML)(ye)),Ge=(0,s.escapeRegExp)((0,s.escapeHTML)(Y)),ht=new RegExp("".concat(ce,"([^]+?)").concat(Ge),"g");return(0,s.escapeHTML)(Z).replace(ht,"<mark>$1</mark>").replace(/(\b)- /g,"$1")}r(4864);var A=r(1041),L=r(9073),T=r(1669),E=r(1669);function a(Z){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ye){return typeof ye}:function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},a(Z)}function p(Z,ye){return function(Y){if(Array.isArray(Y))return Y}(Z)||function(Y,ce){var Ge=Y==null?null:typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(Ge!=null){var ht,st,qe,Se,Ie=[],Re=!0,ot=!1;try{if(qe=(Ge=Ge.call(Y)).next,ce===0){if(Object(Ge)!==Ge)return;Re=!1}else for(;!(Re=(ht=qe.call(Ge)).done)&&(Ie.push(ht.value),Ie.length!==ce);Re=!0);}catch(pt){ot=!0,st=pt}finally{try{if(!Re&&Ge.return!=null&&(Se=Ge.return(),Object(Se)!==Se))return}finally{if(ot)throw st}}return Ie}}(Z,ye)||d(Z,ye)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function v(Z,ye){var Y=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!Y){if(Array.isArray(Z)||(Y=d(Z))||ye&&Z&&typeof Z.length=="number"){Y&&(Z=Y);var ce=0,Ge=function(){};return{s:Ge,n:function(){return ce>=Z.length?{done:!0}:{done:!1,value:Z[ce++]}},e:function(Se){throw Se},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ht,st=!0,qe=!1;return{s:function(){Y=Y.call(Z)},n:function(){var Se=Y.next();return st=Se.done,Se},e:function(Se){qe=!0,ht=Se},f:function(){try{st||Y.return==null||Y.return()}finally{if(qe)throw ht}}}}function d(Z,ye){if(Z){if(typeof Z=="string")return x(Z,ye);var Y={}.toString.call(Z).slice(8,-1);return Y==="Object"&&Z.constructor&&(Y=Z.constructor.name),Y==="Map"||Y==="Set"?Array.from(Z):Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y)?x(Z,ye):void 0}}function x(Z,ye){(ye==null||ye>Z.length)&&(ye=Z.length);for(var Y=0,ce=Array(ye);Y<ye;Y++)ce[Y]=Z[Y];return ce}function C(){C=function(){return ye};var Z,ye={},Y=Object.prototype,ce=Y.hasOwnProperty,Ge=Object.defineProperty||function(Ot,It,At){Ot[It]=At.value},ht=typeof Symbol=="function"?Symbol:{},st=ht.iterator||"@@iterator",qe=ht.asyncIterator||"@@asyncIterator",Se=ht.toStringTag||"@@toStringTag";function Ie(Ot,It,At){return Object.defineProperty(Ot,It,{value:At,enumerable:!0,configurable:!0,writable:!0}),Ot[It]}try{Ie({},"")}catch(Ot){Ie=function(It,At,St){return It[At]=St}}function Re(Ot,It,At,St){var kt=It&&It.prototype instanceof Ke?It:Ke,I=Object.create(kt.prototype),Ue=new oi(St||[]);return Ge(I,"_invoke",{value:ct(Ot,At,Ue)}),I}function ot(Ot,It,At){try{return{type:"normal",arg:Ot.call(It,At)}}catch(St){return{type:"throw",arg:St}}}ye.wrap=Re;var pt="suspendedStart",Pt="suspendedYield",Qe="executing",ne="completed",ie={};function Ke(){}function Ct(){}function we(){}var $e={};Ie($e,st,function(){return this});var at=Object.getPrototypeOf,Ce=at&&at(at(ui([])));Ce&&Ce!==Y&&ce.call(Ce,st)&&($e=Ce);var Je=we.prototype=Ke.prototype=Object.create($e);function tt(Ot){["next","throw","return"].forEach(function(It){Ie(Ot,It,function(At){return this._invoke(It,At)})})}function Vt(Ot,It){function At(kt,I,Ue,_e){var Ve=ot(Ot[kt],Ot,I);if(Ve.type!=="throw"){var Xe=Ve.arg,ut=Xe.value;return ut&&a(ut)=="object"&&ce.call(ut,"__await")?It.resolve(ut.__await).then(function(re){At("next",re,Ue,_e)},function(re){At("throw",re,Ue,_e)}):It.resolve(ut).then(function(re){Xe.value=re,Ue(Xe)},function(re){return At("throw",re,Ue,_e)})}_e(Ve.arg)}var St;Ge(this,"_invoke",{value:function(kt,I){function Ue(){return new It(function(_e,Ve){At(kt,I,_e,Ve)})}return St=St?St.then(Ue,Ue):Ue()}})}function ct(Ot,It,At){var St=pt;return function(kt,I){if(St===Qe)throw Error("Generator is already running");if(St===ne){if(kt==="throw")throw I;return{value:Z,done:!0}}for(At.method=kt,At.arg=I;;){var Ue=At.delegate;if(Ue){var _e=gt(Ue,At);if(_e){if(_e===ie)continue;return _e}}if(At.method==="next")At.sent=At._sent=At.arg;else if(At.method==="throw"){if(St===pt)throw St=ne,At.arg;At.dispatchException(At.arg)}else At.method==="return"&&At.abrupt("return",At.arg);St=Qe;var Ve=ot(Ot,It,At);if(Ve.type==="normal"){if(St=At.done?ne:Pt,Ve.arg===ie)continue;return{value:Ve.arg,done:At.done}}Ve.type==="throw"&&(St=ne,At.method="throw",At.arg=Ve.arg)}}}function gt(Ot,It){var At=It.method,St=Ot.iterator[At];if(St===Z)return It.delegate=null,At==="throw"&&Ot.iterator.return&&(It.method="return",It.arg=Z,gt(Ot,It),It.method==="throw")||At!=="return"&&(It.method="throw",It.arg=new TypeError("The iterator does not provide a '"+At+"' method")),ie;var kt=ot(St,Ot.iterator,It.arg);if(kt.type==="throw")return It.method="throw",It.arg=kt.arg,It.delegate=null,ie;var I=kt.arg;return I?I.done?(It[Ot.resultName]=I.value,It.next=Ot.nextLoc,It.method!=="return"&&(It.method="next",It.arg=Z),It.delegate=null,ie):I:(It.method="throw",It.arg=new TypeError("iterator result is not an object"),It.delegate=null,ie)}function Rt(Ot){var It={tryLoc:Ot[0]};1 in Ot&&(It.catchLoc=Ot[1]),2 in Ot&&(It.finallyLoc=Ot[2],It.afterLoc=Ot[3]),this.tryEntries.push(It)}function ti(Ot){var It=Ot.completion||{};It.type="normal",delete It.arg,Ot.completion=It}function oi(Ot){this.tryEntries=[{tryLoc:"root"}],Ot.forEach(Rt,this),this.reset(!0)}function ui(Ot){if(Ot||Ot===""){var It=Ot[st];if(It)return It.call(Ot);if(typeof Ot.next=="function")return Ot;if(!isNaN(Ot.length)){var At=-1,St=function kt(){for(;++At<Ot.length;)if(ce.call(Ot,At))return kt.value=Ot[At],kt.done=!1,kt;return kt.value=Z,kt.done=!0,kt};return St.next=St}}throw new TypeError(a(Ot)+" is not iterable")}return Ct.prototype=we,Ge(Je,"constructor",{value:we,configurable:!0}),Ge(we,"constructor",{value:Ct,configurable:!0}),Ct.displayName=Ie(we,Se,"GeneratorFunction"),ye.isGeneratorFunction=function(Ot){var It=typeof Ot=="function"&&Ot.constructor;return!!It&&(It===Ct||(It.displayName||It.name)==="GeneratorFunction")},ye.mark=function(Ot){return Object.setPrototypeOf?Object.setPrototypeOf(Ot,we):(Ot.__proto__=we,Ie(Ot,Se,"GeneratorFunction")),Ot.prototype=Object.create(Je),Ot},ye.awrap=function(Ot){return{__await:Ot}},tt(Vt.prototype),Ie(Vt.prototype,qe,function(){return this}),ye.AsyncIterator=Vt,ye.async=function(Ot,It,At,St,kt){kt===void 0&&(kt=Promise);var I=new Vt(Re(Ot,It,At,St),kt);return ye.isGeneratorFunction(It)?I:I.next().then(function(Ue){return Ue.done?Ue.value:I.next()})},tt(Je),Ie(Je,Se,"Generator"),Ie(Je,st,function(){return this}),Ie(Je,"toString",function(){return"[object Generator]"}),ye.keys=function(Ot){var It=Object(Ot),At=[];for(var St in It)At.push(St);return At.reverse(),function kt(){for(;At.length;){var I=At.pop();if(I in It)return kt.value=I,kt.done=!1,kt}return kt.done=!0,kt}},ye.values=ui,oi.prototype={constructor:oi,reset:function(Ot){if(this.prev=0,this.next=0,this.sent=this._sent=Z,this.done=!1,this.delegate=null,this.method="next",this.arg=Z,this.tryEntries.forEach(ti),!Ot)for(var It in this)It.charAt(0)==="t"&&ce.call(this,It)&&!isNaN(+It.slice(1))&&(this[It]=Z)},stop:function(){this.done=!0;var Ot=this.tryEntries[0].completion;if(Ot.type==="throw")throw Ot.arg;return this.rval},dispatchException:function(Ot){if(this.done)throw Ot;var It=this;function At(Ve,Xe){return I.type="throw",I.arg=Ot,It.next=Ve,Xe&&(It.method="next",It.arg=Z),!!Xe}for(var St=this.tryEntries.length-1;St>=0;--St){var kt=this.tryEntries[St],I=kt.completion;if(kt.tryLoc==="root")return At("end");if(kt.tryLoc<=this.prev){var Ue=ce.call(kt,"catchLoc"),_e=ce.call(kt,"finallyLoc");if(Ue&&_e){if(this.prev<kt.catchLoc)return At(kt.catchLoc,!0);if(this.prev<kt.finallyLoc)return At(kt.finallyLoc)}else if(Ue){if(this.prev<kt.catchLoc)return At(kt.catchLoc,!0)}else{if(!_e)throw Error("try statement without catch or finally");if(this.prev<kt.finallyLoc)return At(kt.finallyLoc)}}}},abrupt:function(Ot,It){for(var At=this.tryEntries.length-1;At>=0;--At){var St=this.tryEntries[At];if(St.tryLoc<=this.prev&&ce.call(St,"finallyLoc")&&this.prev<St.finallyLoc){var kt=St;break}}kt&&(Ot==="break"||Ot==="continue")&&kt.tryLoc<=It&&It<=kt.finallyLoc&&(kt=null);var I=kt?kt.completion:{};return I.type=Ot,I.arg=It,kt?(this.method="next",this.next=kt.finallyLoc,ie):this.complete(I)},complete:function(Ot,It){if(Ot.type==="throw")throw Ot.arg;return Ot.type==="break"||Ot.type==="continue"?this.next=Ot.arg:Ot.type==="return"?(this.rval=this.arg=Ot.arg,this.method="return",this.next="end"):Ot.type==="normal"&&It&&(this.next=It),ie},finish:function(Ot){for(var It=this.tryEntries.length-1;It>=0;--It){var At=this.tryEntries[It];if(At.finallyLoc===Ot)return this.complete(At.completion,At.afterLoc),ti(At),ie}},catch:function(Ot){for(var It=this.tryEntries.length-1;It>=0;--It){var At=this.tryEntries[It];if(At.tryLoc===Ot){var St=At.completion;if(St.type==="throw"){var kt=St.arg;ti(At)}return kt}}throw Error("illegal catch attempt")},delegateYield:function(Ot,It,At){return this.delegate={iterator:ui(Ot),resultName:It,nextLoc:At},this.method==="next"&&(this.arg=Z),ie}},ye}function N(Z,ye,Y,ce,Ge,ht,st){try{var qe=Z[ht](st),Se=qe.value}catch(Ie){return void Y(Ie)}qe.done?ye(Se):Promise.resolve(Se).then(ce,Ge)}function G(Z){return function(){var ye=this,Y=arguments;return new Promise(function(ce,Ge){var ht=Z.apply(ye,Y);function st(Se){N(ht,ce,Ge,st,qe,"next",Se)}function qe(Se){N(ht,ce,Ge,st,qe,"throw",Se)}st(void 0)})}}function q(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,W(ce.key),ce)}}function K(Z,ye,Y){return ye=Oe(ye),function(ce,Ge){if(Ge&&(a(Ge)=="object"||typeof Ge=="function"))return Ge;if(Ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ht){if(ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht}(ce)}(Z,oe()?Reflect.construct(ye,Y||[],Oe(Z).constructor):ye.apply(Z,Y))}function oe(){try{var Z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(ye){}return(oe=function(){return!!Z})()}function J(Z,ye,Y,ce){var Ge=Q(Oe(1&ce?Z.prototype:Z),ye,Y);return 2&ce&&typeof Ge=="function"?function(ht){return Ge.apply(Y,ht)}:Ge}function Q(){return Q=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Z,ye,Y){var ce=function(ht,st){for(;!{}.hasOwnProperty.call(ht,st)&&(ht=Oe(ht))!==null;);return ht}(Z,ye);if(ce){var Ge=Object.getOwnPropertyDescriptor(ce,ye);return Ge.get?Ge.get.call(arguments.length<3?Z:Y):Ge.value}},Q.apply(null,arguments)}function Oe(Z){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},Oe(Z)}function ge(Z,ye){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,ce){return Y.__proto__=ce,Y},ge(Z,ye)}function W(Z){var ye=function(Y,ce){if(a(Y)!="object"||!Y)return Y;var Ge=Y[Symbol.toPrimitive];if(Ge!==void 0){var ht=Ge.call(Y,"string");if(a(ht)!="object")return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Y)}(Z);return a(ye)=="symbol"?ye:ye+""}var se=window.BookReader,de=function(Z){function ye(){var st,qe,Se,Ie;(function(Pt,Qe){if(!(Pt instanceof Qe))throw new TypeError("Cannot call a class as a function")})(this,ye);for(var Re=arguments.length,ot=new Array(Re),pt=0;pt<Re;pt++)ot[pt]=arguments[pt];return qe=st=K(this,ye,[].concat(ot)),Se="options",Ie={enabled:!0,preTag:"{{{",postTag:"}}}",searchInsideUrl:"/fulltext/inside.php?"+["q={{query|urlencode}}","pre_tag={{preTag|urlencode}}","post_tag={{postTag|urlencode}}"].join("&"),initialSearchTerm:null,goToFirstResult:!1},(Se=W(Se))in qe?Object.defineProperty(qe,Se,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):qe[Se]=Ie,st}return function(st,qe){if(typeof qe!="function"&&qe!==null)throw new TypeError("Super expression must either be null or a function");st.prototype=Object.create(qe&&qe.prototype,{constructor:{value:st,writable:!0,configurable:!0}}),Object.defineProperty(st,"prototype",{writable:!1}),qe&&ge(st,qe)}(ye,Z),Y=ye,ce=[{key:"setup",value:function(st){var qe=this;J(ye,"setup",this,3)([st]),this.searchTerm="",this.searchResults=null,this.searchInsideUrl=this.options.searchInsideUrl,this.enabled=this.options.enabled,this.searchXHR=null,this._searchBoxesByIndex={},this.enabled?this.searchView=new g({br:this.br,searchCancelledCallback:function(){qe._cancelSearch(),qe.br.trigger("SearchCanceled",{term:qe.searchTerm,instance:qe.br})}}):this.searchView=null}},{key:"init",value:function(){J(ye,"init",this,3)([]),this.enabled&&(this.searchView.init(),this.options.initialSearchTerm&&this.search(this.options.initialSearchTerm,{goToFirstResult:this.options.goToFirstResult,suppressFragmentChange:!1}))}},{key:"_configureToolbar",value:function(st){if(this.enabled)return this.searchView.dom.toolbarSearch&&st.find(".BRtoolbarSectionInfo").after(this.searchView.dom.toolbarSearch),st}},{key:"_configurePageContainer",value:function(st){if(this.enabled&&st.page&&st.page.index in this._searchBoxesByIndex){var qe=st.page.index,Se=this._searchBoxesByIndex[qe];(0,l.KL)("searchHiliteLayer",Se,st.page,st.$container[0],Se.map(function(Ie){return"match-index-".concat(Ie.matchIndex)}))}return st}},{key:"search",value:(ht=G(C().mark(function st(){var qe,Se,Ie,Re,ot,pt,Pt=this,Qe=arguments;return C().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return qe=Qe.length>0&&Qe[0]!==void 0?Qe[0]:"",Se=Qe.length>1&&Qe[1]!==void 0?Qe[1]:{},Ie={goToFirstResult:!1,disablePopup:!1,suppressFragmentChange:!1,error:null,success:null},Re=T.extend({},Ie,Se),this.suppressFragmentChange=Re.suppressFragmentChange,this.searchCancelled=!1,this.searchTerm=qe.replace(/\//g," "),Re.suppressFragmentChange||this.br.trigger(se.eventNames.fragmentChange),ot=(0,L.g)(this.options.searchInsideUrl,this.br.options.vars,{query:qe,preTag:this.options.preTag,postTag:this.options.postTag}),pt=function(ie){if(!Pt.searchCancelled){var Ke=ie.error||!ie.matches.length,Ct=typeof Re.error=="function",we=typeof Re.success=="function";Ke?(console.error("Search Inside Response Error",ie.error||"matches.length == 0"),Ct?Re.error.call(Pt,ie,Re):Pt.BRSearchCallbackError(ie)):we?Re.success.call(Pt,ie,Re):Pt.BRSearchCallback(ie,Re)}},this.br.trigger("SearchStarted",{term:this.searchTerm,instance:this.br}),ne.t0=pt,ne.next=14,E.ajax({url:ot,cache:!0,xhrFields:{withCredentials:this.br.protected},beforeSend:function(ie){Pt.searchXHR=ie}});case 14:ne.t1=ne.sent,(0,ne.t0)(ne.t1);case 16:case"end":return ne.stop()}},st,this)})),function(){return ht.apply(this,arguments)})},{key:"_cancelSearch",value:function(){var st;(st=this.searchXHR)===null||st===void 0||st.abort(),this.searchView.clearSearchFieldAndResults(!1),this.searchTerm="",this.searchXHR=null,this.searchCancelled=!0,this.searchResults=null}},{key:"cancelSearchRequest",value:function(){this.searchCancelled=!0,this.searchXHR!==null&&(this._cancelSearch(),this.searchView.toggleSearchPending(),this.br.trigger("SearchCanceled",{term:this.searchTerm,instance:this.br}))}},{key:"BRSearchCallback",value:function(st,qe){var Se=this;(function(Ie,Re,ot,pt){var Pt,Qe,ne=y(Ie.matches.entries());try{for(ne.s();!(Pt=ne.n()).done;){var ie=m(Pt.value,2),Ke=ie[0],Ct=ie[1];Ct.matchIndex=Ke,Ct.displayPageNumber=(Qe=Ct.par[0].page,Se.br.book.getPageNum(Se.br.book.leafNumToIndex(Qe))),Ct.html=k(Ct.text,ot,pt);var we,$e=y(Ct.par);try{for($e.s();!(we=$e.n()).done;){var at,Ce=y(we.value.boxes);try{for(Ce.s();!(at=Ce.n()).done;)at.value.matchIndex=Ke}catch(Je){Ce.e(Je)}finally{Ce.f()}}}catch(Je){$e.e(Je)}finally{$e.f()}}}catch(Je){ne.e(Je)}finally{ne.f()}})(st,0,this.options.preTag,this.options.postTag),this.searchResults=st||null,this.updateSearchHilites(),this.br.removeProgressPopup(),qe.goToFirstResult&&this.jumpToMatch(0),this.br.trigger("SearchCallback",{results:st,options:qe,instance:this.br})}},{key:"BRSearchCallbackError",value:function(st){this._BRSearchCallbackError(st)}},{key:"_BRSearchCallbackError",value:function(st){this.searchResults=st;var qe={term:this.searchTerm,results:st,instance:this.br};if(st.error)this.br.trigger("SearchCallbackError",qe);else if(st.matches.length==0){if(st.indexed===!1)return void this.br.trigger("SearchCallbackBookNotIndexed",qe);this.br.trigger("SearchCallbackEmpty",qe)}}},{key:"updateSearchHilites",value:function(){var st,qe=((st=this.searchResults)===null||st===void 0?void 0:st.matches)||[],Se={};this.removeSearchHilites();var Ie,Re=v(qe);try{for(Re.s();!(Ie=Re.n()).done;){var ot,pt=v(Ie.value.par[0].boxes);try{for(pt.s();!(ot=pt.n()).done;){var Pt=ot.value,Qe=this.br.book.leafNumToIndex(Pt.page);(Se[Qe]||(Se[Qe]=[])).push(Pt)}}catch(Vt){pt.e(Vt)}finally{pt.f()}}}catch(Vt){Re.e(Vt)}finally{Re.f()}for(var ne=0,ie=Object.entries(Se);ne<ie.length;ne++){var Ke,Ct=p(ie[ne],2),we=Ct[0],$e=Ct[1],at=parseFloat(we),Ce=this.br.book.getPage(at),Je=v(this.br.getActivePageContainerElementsForIndex(at));try{for(Je.s();!(Ke=Je.n()).done;){var tt=Ke.value;(0,l.KL)("searchHiliteLayer",$e,Ce,tt,$e.map(function(Vt){return"match-index-".concat(Vt.matchIndex)}))}}catch(Vt){Je.e(Vt)}finally{Je.f()}}this._searchBoxesByIndex=Se}},{key:"removeSearchHilites",value:function(){E(this.br.getActivePageContainerElements()).find(".searchHiliteLayer").remove()}},{key:"jumpToMatch",value:(Ge=G(C().mark(function st(qe){var Se,Ie,Re,ot,pt,Pt,Qe,ne,ie,Ke,Ct,we;return C().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(Ie=(Se=this.searchResults)===null||Se===void 0?void 0:Se.matches[qe],Re=this.br.book,ot=Re.leafNumToIndex(Ie.par[0].page),pt=Re.getPage(ot),Pt=Math.abs(this.br.currentIndex()-ot)<3,Qe=!1,pt.isViewable){$e.next=17;break}return $e.next=9,fetch("/services/bookreader/request_page?"+new URLSearchParams({id:this.br.options.bookId,subprefix:this.br.options.subPrefix,leafNum:pt.leafNum})).then(function(at){return at.json()});case 9:ne=$e.sent,ie=v(ne.value);try{for(ie.s();!(Ke=ie.n()).done;)Ct=Ke.value,Re.getPage(Re.leafNumToIndex(Ct)).makeViewable()}catch(at){ie.e(at)}finally{ie.f()}if(ne.value.length||(Re.getPage(ot).makeViewable(),Qe=!0),this.br._modes.mode1Up.mode1UpLit.updatePages(),this.br.activeMode!=this.br._modes.mode1Up){$e.next=17;break}return $e.next=17,this.br._modes.mode1Up.mode1UpLit.updateComplete;case 17:return this.br._isIndexDisplayed(ot)||(this.suppressFragmentChange=!1,this.br.jumpToIndex(ot)),Qe&&Re.getPage(ot).makeViewable(!1),$e.next=21,(0,s.poll)(function(){return E("rect.match-index-".concat(Ie.matchIndex))},{until:function(at){return at.length>0}});case 21:if(!(we=$e.sent).length){$e.next=28;break}return we.css("animation","none"),we[0].scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:Pt?"smooth":"auto"}),$e.next=27,new Promise(function(at){return setTimeout(at,100)});case 27:we.removeAttr("style");case 28:case"end":return $e.stop()}},st,this)})),function(st){return Ge.apply(this,arguments)})},{key:"removeSearchResults",value:function(){var st=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.removeSearchHilites(),this.searchTerm=null,this.searchResults=null,st||this.br.trigger(se.eventNames.fragmentChange)}}],ce&&q(Y.prototype,ce),Object.defineProperty(Y,"prototype",{writable:!1}),Y;var Y,ce,Ge,ht}(A.S);se==null||se.registerPlugin("search",de)},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,h=Array(n);u<n;u++)h[u]=c[u];return h}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,_=function(L){if(Array.isArray(L))return L}(y=m.split("|").map(function(L){return L.trim()}))||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(y)||function(L,T){if(L){if(typeof L=="string")return s(L,T);var E={}.toString.call(L).slice(8,-1);return E==="Object"&&L.constructor&&(E=L.constructor.name),E==="Map"||E==="Set"?Array.from(L):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(L,T):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=_[0],k=_.slice(1);if(!(w in u)&&!(w in n))return g;var A=w in u?u[w]:w in n?n[w]:null;return k.map(function(L){return h[L]}).reduce(function(L,T){return T(L)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=5372)}]);rw=WA,{default:nw}=rw,qA=nn(rw,["default"]),ow=nw!==void 0?nw:qA;});var aw={};Fn(aw,{default:()=>ow});var sw=si(()=>{Rm();Rm()});var GA,lw,cw,YA,uw,Dm=si(()=>{GA={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[623],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6165:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(9572),r(8130),r(875),r(6099),r(825),r(7495),r(7764),r(1761),r(2953);var s=r(1041);function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},l(w)}function o(w,k){for(var A=0;A<k.length;A++){var L=k[A];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(w,m(L.key),L)}}function c(w,k,A){return k=u(k),function(L,T){if(T&&(l(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(L)}(w,n()?Reflect.construct(k,A||[],u(w).constructor):k.apply(w,A))}function n(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(k){}return(n=function(){return!!w})()}function u(w){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},u(w)}function h(w,k){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,L){return A.__proto__=L,A},h(w,k)}function g(w,k,A){return(k=m(k))in w?Object.defineProperty(w,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):w[k]=A,w}function m(w){var k=function(A,L){if(l(A)!="object"||!A)return A;var T=A[Symbol.toPrimitive];if(T!==void 0){var E=T.call(A,"string");if(l(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(A)}(w);return l(k)=="symbol"?k:k+""}var y=window.BookReader,_=function(w){function k(){var T;(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,k);for(var E=arguments.length,a=new Array(E),p=0;p<E;p++)a[p]=arguments[p];return g(T=c(this,k,[].concat(a)),"options",{enabled:!0,debug:!1}),g(T,"_prevFragment",null),T}return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),E&&h(T,E)}(k,w),A=k,L=[{key:"init",value:function(){var T=this;this.options.enabled&&this.br.bind(y.eventNames.fragmentChange,function(){return T.sendFragmentChange()})}},{key:"sendFragmentChange",value:function(){if(window.archive_analytics){var T=this._prevFragment,E=this.br.paramsFromCurrent(),a=this.br.fragmentFromParams(E);if(T!=a){var p,v={bookreader:"user_changed_view",itemid:this.br.bookId,cache_bust:Math.random(),offsite:1,details:0};try{v.offsite=window.top.location.hostname.match(/\.archive.org$/)?0:1,v.details=!v.offsite&&window.top.location.pathname.match(/^\/details\//)?1:0}catch(x){}window.archive_analytics.send_ping(v,null,"augment_for_ao_site");var d=(p=this.br.options.lendingInfo)!==null&&p!==void 0&&p.loanId?{loanId:this.br.options.lendingInfo.loanId}:{};window.archive_analytics.send_event("BookReader","UserChangedView",window.location.pathname,d),this._prevFragment=a}}}},{key:"sendEvent",value:function(T,E,a,p){this.options.enabled&&(this.options.debug&&console.log("archiveAnalyticsSendEvent",arguments,window.archive_analytics),window.archive_analytics&&(p=p||{},typeof a=="number"&&(p.ev=a),window.archive_analytics.send_event(T,E,null,p)))}}],L&&o(A.prototype,L),Object.defineProperty(A,"prototype",{writable:!1}),A;var A,L}(s.S);y==null||y.registerPlugin("archiveAnalytics",_)}},function(e){e(e.s=6165)}]);lw=GA,{default:cw}=lw,YA=nn(lw,["default"]),uw=cw!==void 0?cw:YA});var dw={};Fn(dw,{default:()=>uw});var hw=si(()=>{Dm();Dm()});var KA,pw,fw,XA,mw,jm=si(()=>{KA={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[479],{6098:function(e,t,r){var s=r(9504),l=2147483647,o=/[^\0-\u007E]/,c=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",u=RangeError,h=s(c.exec),g=Math.floor,m=String.fromCharCode,y=s("".charCodeAt),_=s([].join),w=s([].push),k=s("".replace),A=s("".split),L=s("".toLowerCase),T=function(p){return p+22+75*(p<26)},E=function(p,v,d){var x=0;for(p=d?g(p/700):p>>1,p+=g(p/v);p>455;)p=g(p/35),x+=36;return g(x+36*p/(p+38))},a=function(p){var v=[];p=function(Z){for(var ye=[],Y=0,ce=Z.length;Y<ce;){var Ge=y(Z,Y++);if(Ge>=55296&&Ge<=56319&&Y<ce){var ht=y(Z,Y++);(64512&ht)==56320?w(ye,((1023&Ge)<<10)+(1023&ht)+65536):(w(ye,Ge),Y--)}else w(ye,Ge)}return ye}(p);var d,x,C=p.length,N=128,G=0,q=72;for(d=0;d<p.length;d++)(x=p[d])<128&&w(v,m(x));var K=v.length,oe=K;for(K&&w(v,"-");oe<C;){var J=l;for(d=0;d<p.length;d++)(x=p[d])>=N&&x<J&&(J=x);var Q=oe+1;if(J-N>g((l-G)/Q))throw new u(n);for(G+=(J-N)*Q,N=J,d=0;d<p.length;d++){if((x=p[d])<N&&++G>l)throw new u(n);if(x===N){for(var Oe=G,ge=36;;){var W=ge<=q?1:ge>=q+26?26:ge-q;if(Oe<W)break;var se=Oe-W,de=36-W;w(v,m(T(W+se%de))),Oe=g(se/de),ge+=36}w(v,m(T(Oe))),q=E(G,Q,oe===K),G=0,oe++}}G++,N++}return _(v,"")};e.exports=function(p){var v,d,x=[],C=A(k(L(p),c,"."),".");for(v=0;v<C.length;v++)d=C[v],w(x,h(o,d)?"xn--"+a(d):d);return _(x,".")}},706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},3921:function(e,t,r){var s=r(6518),l=r(2652),o=r(4659);s({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,h){o(n,u,h)},{AS_ENTRIES:!0}),n}})},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},5806:function(e,t,r){r(7764);var s,l=r(6518),o=r(3724),c=r(7416),n=r(4576),u=r(6080),h=r(9504),g=r(6840),m=r(2106),y=r(679),_=r(9297),w=r(4213),k=r(7916),A=r(7680),L=r(8183).codeAt,T=r(6098),E=r(655),a=r(687),p=r(2812),v=r(8406),d=r(1181),x=d.set,C=d.getterFor("URL"),N=v.URLSearchParams,G=v.getState,q=n.URL,K=n.TypeError,oe=n.parseInt,J=Math.floor,Q=Math.pow,Oe=h("".charAt),ge=h(/./.exec),W=h([].join),se=h(1 .toString),de=h([].pop),Z=h([].push),ye=h("".replace),Y=h([].shift),ce=h("".split),Ge=h("".slice),ht=h("".toLowerCase),st=h([].unshift),qe="Invalid scheme",Se="Invalid host",Ie="Invalid port",Re=/[a-z]/i,ot=/[\d+-.a-z]/i,pt=/\d/,Pt=/^0x/i,Qe=/^[0-7]+$/,ne=/^\d+$/,ie=/^[\da-f]+$/i,Ke=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Ct=/[\0\t\n\r #/:<>?@[\\\]^|]/,we=/^[\u0000-\u0020]+/,$e=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,at=/[\t\n\r]/g,Ce=function(Ze){var wt,_t,Xt,We;if(typeof Ze=="number"){for(wt=[],_t=0;_t<4;_t++)st(wt,Ze%256),Ze=J(Ze/256);return W(wt,".")}if(typeof Ze=="object"){for(wt="",Xt=function(ri){for(var ei=null,ki=1,qt=null,ci=0,Ei=0;Ei<8;Ei++)ri[Ei]!==0?(ci>ki&&(ei=qt,ki=ci),qt=null,ci=0):(qt===null&&(qt=Ei),++ci);return ci>ki?qt:ei}(Ze),_t=0;_t<8;_t++)We&&Ze[_t]===0||(We&&(We=!1),Xt===_t?(wt+=_t?":":"::",We=!0):(wt+=se(Ze[_t],16),_t<7&&(wt+=":")));return"["+wt+"]"}return Ze},Je={},tt=w({},Je,{" ":1,'"':1,"<":1,">":1,"`":1}),Vt=w({},tt,{"#":1,"?":1,"{":1,"}":1}),ct=w({},Vt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),gt=function(Ze,wt){var _t=L(Ze,0);return _t>32&&_t<127&&!_(wt,Ze)?Ze:encodeURIComponent(Ze)},Rt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ti=function(Ze,wt){var _t;return Ze.length===2&&ge(Re,Oe(Ze,0))&&((_t=Oe(Ze,1))===":"||!wt&&_t==="|")},oi=function(Ze){var wt;return Ze.length>1&&ti(Ge(Ze,0,2))&&(Ze.length===2||(wt=Oe(Ze,2))==="/"||wt==="\\"||wt==="?"||wt==="#")},ui=function(Ze){return Ze==="."||ht(Ze)==="%2e"},Ot={},It={},At={},St={},kt={},I={},Ue={},_e={},Ve={},Xe={},ut={},re={},Pe={},He={},vt={},lt={},Et={},Ut={},Jt={},Lt={},jt={},Ye=function(Ze,wt,_t){var Xt,We,ri,ei=E(Ze);if(wt){if(We=this.parse(ei))throw new K(We);this.searchParams=null}else{if(_t!==void 0&&(Xt=new Ye(_t,!0)),We=this.parse(ei,null,Xt))throw new K(We);(ri=G(new N)).bindURL(this),this.searchParams=ri}};Ye.prototype={type:"URL",parse:function(Ze,wt,_t){var Xt,We,ri,ei,ki,qt=this,ci=wt||Ot,Ei=0,Mi="",ir=!1,Yi=!1,Gi=!1;for(Ze=E(Ze),wt||(qt.scheme="",qt.username="",qt.password="",qt.host=null,qt.port=null,qt.path=[],qt.query=null,qt.fragment=null,qt.cannotBeABaseURL=!1,Ze=ye(Ze,we,""),Ze=ye(Ze,$e,"$1")),Ze=ye(Ze,at,""),Xt=k(Ze);Ei<=Xt.length;){switch(We=Xt[Ei],ci){case Ot:if(!We||!ge(Re,We)){if(wt)return qe;ci=At;continue}Mi+=ht(We),ci=It;break;case It:if(We&&(ge(ot,We)||We==="+"||We==="-"||We==="."))Mi+=ht(We);else{if(We!==":"){if(wt)return qe;Mi="",ci=At,Ei=0;continue}if(wt&&(qt.isSpecial()!==_(Rt,Mi)||Mi==="file"&&(qt.includesCredentials()||qt.port!==null)||qt.scheme==="file"&&!qt.host))return;if(qt.scheme=Mi,wt)return void(qt.isSpecial()&&Rt[qt.scheme]===qt.port&&(qt.port=null));Mi="",qt.scheme==="file"?ci=He:qt.isSpecial()&&_t&&_t.scheme===qt.scheme?ci=St:qt.isSpecial()?ci=_e:Xt[Ei+1]==="/"?(ci=kt,Ei++):(qt.cannotBeABaseURL=!0,Z(qt.path,""),ci=Jt)}break;case At:if(!_t||_t.cannotBeABaseURL&&We!=="#")return qe;if(_t.cannotBeABaseURL&&We==="#"){qt.scheme=_t.scheme,qt.path=A(_t.path),qt.query=_t.query,qt.fragment="",qt.cannotBeABaseURL=!0,ci=jt;break}ci=_t.scheme==="file"?He:I;continue;case St:if(We!=="/"||Xt[Ei+1]!=="/"){ci=I;continue}ci=Ve,Ei++;break;case kt:if(We==="/"){ci=Xe;break}ci=Ut;continue;case I:if(qt.scheme=_t.scheme,We===s)qt.username=_t.username,qt.password=_t.password,qt.host=_t.host,qt.port=_t.port,qt.path=A(_t.path),qt.query=_t.query;else if(We==="/"||We==="\\"&&qt.isSpecial())ci=Ue;else if(We==="?")qt.username=_t.username,qt.password=_t.password,qt.host=_t.host,qt.port=_t.port,qt.path=A(_t.path),qt.query="",ci=Lt;else{if(We!=="#"){qt.username=_t.username,qt.password=_t.password,qt.host=_t.host,qt.port=_t.port,qt.path=A(_t.path),qt.path.length--,ci=Ut;continue}qt.username=_t.username,qt.password=_t.password,qt.host=_t.host,qt.port=_t.port,qt.path=A(_t.path),qt.query=_t.query,qt.fragment="",ci=jt}break;case Ue:if(!qt.isSpecial()||We!=="/"&&We!=="\\"){if(We!=="/"){qt.username=_t.username,qt.password=_t.password,qt.host=_t.host,qt.port=_t.port,ci=Ut;continue}ci=Xe}else ci=Ve;break;case _e:if(ci=Ve,We!=="/"||Oe(Mi,Ei+1)!=="/")continue;Ei++;break;case Ve:if(We!=="/"&&We!=="\\"){ci=Xe;continue}break;case Xe:if(We==="@"){ir&&(Mi="%40"+Mi),ir=!0,ri=k(Mi);for(var Sr=0;Sr<ri.length;Sr++){var tr=ri[Sr];if(tr!==":"||Gi){var yr=gt(tr,ct);Gi?qt.password+=yr:qt.username+=yr}else Gi=!0}Mi=""}else if(We===s||We==="/"||We==="?"||We==="#"||We==="\\"&&qt.isSpecial()){if(ir&&Mi==="")return"Invalid authority";Ei-=k(Mi).length+1,Mi="",ci=ut}else Mi+=We;break;case ut:case re:if(wt&&qt.scheme==="file"){ci=lt;continue}if(We!==":"||Yi){if(We===s||We==="/"||We==="?"||We==="#"||We==="\\"&&qt.isSpecial()){if(qt.isSpecial()&&Mi==="")return Se;if(wt&&Mi===""&&(qt.includesCredentials()||qt.port!==null))return;if(ei=qt.parseHost(Mi))return ei;if(Mi="",ci=Et,wt)return;continue}We==="["?Yi=!0:We==="]"&&(Yi=!1),Mi+=We}else{if(Mi==="")return Se;if(ei=qt.parseHost(Mi))return ei;if(Mi="",ci=Pe,wt===re)return}break;case Pe:if(!ge(pt,We)){if(We===s||We==="/"||We==="?"||We==="#"||We==="\\"&&qt.isSpecial()||wt){if(Mi!==""){var xr=oe(Mi,10);if(xr>65535)return Ie;qt.port=qt.isSpecial()&&xr===Rt[qt.scheme]?null:xr,Mi=""}if(wt)return;ci=Et;continue}return Ie}Mi+=We;break;case He:if(qt.scheme="file",We==="/"||We==="\\")ci=vt;else{if(!_t||_t.scheme!=="file"){ci=Ut;continue}switch(We){case s:qt.host=_t.host,qt.path=A(_t.path),qt.query=_t.query;break;case"?":qt.host=_t.host,qt.path=A(_t.path),qt.query="",ci=Lt;break;case"#":qt.host=_t.host,qt.path=A(_t.path),qt.query=_t.query,qt.fragment="",ci=jt;break;default:oi(W(A(Xt,Ei),""))||(qt.host=_t.host,qt.path=A(_t.path),qt.shortenPath()),ci=Ut;continue}}break;case vt:if(We==="/"||We==="\\"){ci=lt;break}_t&&_t.scheme==="file"&&!oi(W(A(Xt,Ei),""))&&(ti(_t.path[0],!0)?Z(qt.path,_t.path[0]):qt.host=_t.host),ci=Ut;continue;case lt:if(We===s||We==="/"||We==="\\"||We==="?"||We==="#"){if(!wt&&ti(Mi))ci=Ut;else if(Mi===""){if(qt.host="",wt)return;ci=Et}else{if(ei=qt.parseHost(Mi))return ei;if(qt.host==="localhost"&&(qt.host=""),wt)return;Mi="",ci=Et}continue}Mi+=We;break;case Et:if(qt.isSpecial()){if(ci=Ut,We!=="/"&&We!=="\\")continue}else if(wt||We!=="?")if(wt||We!=="#"){if(We!==s&&(ci=Ut,We!=="/"))continue}else qt.fragment="",ci=jt;else qt.query="",ci=Lt;break;case Ut:if(We===s||We==="/"||We==="\\"&&qt.isSpecial()||!wt&&(We==="?"||We==="#")){if((ki=ht(ki=Mi))===".."||ki==="%2e."||ki===".%2e"||ki==="%2e%2e"?(qt.shortenPath(),We==="/"||We==="\\"&&qt.isSpecial()||Z(qt.path,"")):ui(Mi)?We==="/"||We==="\\"&&qt.isSpecial()||Z(qt.path,""):(qt.scheme==="file"&&!qt.path.length&&ti(Mi)&&(qt.host&&(qt.host=""),Mi=Oe(Mi,0)+":"),Z(qt.path,Mi)),Mi="",qt.scheme==="file"&&(We===s||We==="?"||We==="#"))for(;qt.path.length>1&&qt.path[0]==="";)Y(qt.path);We==="?"?(qt.query="",ci=Lt):We==="#"&&(qt.fragment="",ci=jt)}else Mi+=gt(We,Vt);break;case Jt:We==="?"?(qt.query="",ci=Lt):We==="#"?(qt.fragment="",ci=jt):We!==s&&(qt.path[0]+=gt(We,Je));break;case Lt:wt||We!=="#"?We!==s&&(We==="'"&&qt.isSpecial()?qt.query+="%27":qt.query+=We==="#"?"%23":gt(We,Je)):(qt.fragment="",ci=jt);break;case jt:We!==s&&(qt.fragment+=gt(We,tt))}Ei++}},parseHost:function(Ze){var wt,_t,Xt;if(Oe(Ze,0)==="["){if(Oe(Ze,Ze.length-1)!=="]"||(wt=function(We){var ri,ei,ki,qt,ci,Ei,Mi,ir=[0,0,0,0,0,0,0,0],Yi=0,Gi=null,Sr=0,tr=function(){return Oe(We,Sr)};if(tr()===":"){if(Oe(We,1)!==":")return;Sr+=2,Gi=++Yi}for(;tr();){if(Yi===8)return;if(tr()!==":"){for(ri=ei=0;ei<4&&ge(ie,tr());)ri=16*ri+oe(tr(),16),Sr++,ei++;if(tr()==="."){if(ei===0||(Sr-=ei,Yi>6))return;for(ki=0;tr();){if(qt=null,ki>0){if(!(tr()==="."&&ki<4))return;Sr++}if(!ge(pt,tr()))return;for(;ge(pt,tr());){if(ci=oe(tr(),10),qt===null)qt=ci;else{if(qt===0)return;qt=10*qt+ci}if(qt>255)return;Sr++}ir[Yi]=256*ir[Yi]+qt,++ki!=2&&ki!==4||Yi++}if(ki!==4)return;break}if(tr()===":"){if(Sr++,!tr())return}else if(tr())return;ir[Yi++]=ri}else{if(Gi!==null)return;Sr++,Gi=++Yi}}if(Gi!==null)for(Ei=Yi-Gi,Yi=7;Yi!==0&&Ei>0;)Mi=ir[Yi],ir[Yi--]=ir[Gi+Ei-1],ir[Gi+--Ei]=Mi;else if(Yi!==8)return;return ir}(Ge(Ze,1,-1)),!wt))return Se;this.host=wt}else if(this.isSpecial()){if(Ze=T(Ze),ge(Ke,Ze)||(wt=function(We){var ri,ei,ki,qt,ci,Ei,Mi,ir=ce(We,".");if(ir.length&&ir[ir.length-1]===""&&ir.length--,(ri=ir.length)>4)return We;for(ei=[],ki=0;ki<ri;ki++){if((qt=ir[ki])==="")return We;if(ci=10,qt.length>1&&Oe(qt,0)==="0"&&(ci=ge(Pt,qt)?16:8,qt=Ge(qt,ci===8?1:2)),qt==="")Ei=0;else{if(!ge(ci===10?ne:ci===8?Qe:ie,qt))return We;Ei=oe(qt,ci)}Z(ei,Ei)}for(ki=0;ki<ri;ki++)if(Ei=ei[ki],ki===ri-1){if(Ei>=Q(256,5-ri))return null}else if(Ei>255)return null;for(Mi=de(ei),ki=0;ki<ei.length;ki++)Mi+=ei[ki]*Q(256,3-ki);return Mi}(Ze),wt===null))return Se;this.host=wt}else{if(ge(Ct,Ze))return Se;for(wt="",_t=k(Ze),Xt=0;Xt<_t.length;Xt++)wt+=gt(_t[Xt],Je);this.host=wt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return _(Rt,this.scheme)},shortenPath:function(){var Ze=this.path,wt=Ze.length;!wt||this.scheme==="file"&&wt===1&&ti(Ze[0],!0)||Ze.length--},serialize:function(){var Ze=this,wt=Ze.scheme,_t=Ze.username,Xt=Ze.password,We=Ze.host,ri=Ze.port,ei=Ze.path,ki=Ze.query,qt=Ze.fragment,ci=wt+":";return We!==null?(ci+="//",Ze.includesCredentials()&&(ci+=_t+(Xt?":"+Xt:"")+"@"),ci+=Ce(We),ri!==null&&(ci+=":"+ri)):wt==="file"&&(ci+="//"),ci+=Ze.cannotBeABaseURL?ei[0]:ei.length?"/"+W(ei,"/"):"",ki!==null&&(ci+="?"+ki),qt!==null&&(ci+="#"+qt),ci},setHref:function(Ze){var wt=this.parse(Ze);if(wt)throw new K(wt);this.searchParams.update()},getOrigin:function(){var Ze=this.scheme,wt=this.port;if(Ze==="blob")try{return new Me(Ze.path[0]).origin}catch(_t){return"null"}return Ze!=="file"&&this.isSpecial()?Ze+"://"+Ce(this.host)+(wt!==null?":"+wt:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(Ze){this.parse(E(Ze)+":",Ot)},getUsername:function(){return this.username},setUsername:function(Ze){var wt=k(E(Ze));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var _t=0;_t<wt.length;_t++)this.username+=gt(wt[_t],ct)}},getPassword:function(){return this.password},setPassword:function(Ze){var wt=k(E(Ze));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var _t=0;_t<wt.length;_t++)this.password+=gt(wt[_t],ct)}},getHost:function(){var Ze=this.host,wt=this.port;return Ze===null?"":wt===null?Ce(Ze):Ce(Ze)+":"+wt},setHost:function(Ze){this.cannotBeABaseURL||this.parse(Ze,ut)},getHostname:function(){var Ze=this.host;return Ze===null?"":Ce(Ze)},setHostname:function(Ze){this.cannotBeABaseURL||this.parse(Ze,re)},getPort:function(){var Ze=this.port;return Ze===null?"":E(Ze)},setPort:function(Ze){this.cannotHaveUsernamePasswordPort()||((Ze=E(Ze))===""?this.port=null:this.parse(Ze,Pe))},getPathname:function(){var Ze=this.path;return this.cannotBeABaseURL?Ze[0]:Ze.length?"/"+W(Ze,"/"):""},setPathname:function(Ze){this.cannotBeABaseURL||(this.path=[],this.parse(Ze,Et))},getSearch:function(){var Ze=this.query;return Ze?"?"+Ze:""},setSearch:function(Ze){(Ze=E(Ze))===""?this.query=null:(Oe(Ze,0)==="?"&&(Ze=Ge(Ze,1)),this.query="",this.parse(Ze,Lt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Ze=this.fragment;return Ze?"#"+Ze:""},setHash:function(Ze){(Ze=E(Ze))!==""?(Oe(Ze,0)==="#"&&(Ze=Ge(Ze,1)),this.fragment="",this.parse(Ze,jt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Me=function(Ze){var wt=y(this,De),_t=p(arguments.length,1)>1?arguments[1]:void 0,Xt=x(wt,new Ye(Ze,!1,_t));o||(wt.href=Xt.serialize(),wt.origin=Xt.getOrigin(),wt.protocol=Xt.getProtocol(),wt.username=Xt.getUsername(),wt.password=Xt.getPassword(),wt.host=Xt.getHost(),wt.hostname=Xt.getHostname(),wt.port=Xt.getPort(),wt.pathname=Xt.getPathname(),wt.search=Xt.getSearch(),wt.searchParams=Xt.getSearchParams(),wt.hash=Xt.getHash())},De=Me.prototype,et=function(Ze,wt){return{get:function(){return C(this)[Ze]()},set:wt&&function(_t){return C(this)[wt](_t)},configurable:!0,enumerable:!0}};if(o&&(m(De,"href",et("serialize","setHref")),m(De,"origin",et("getOrigin")),m(De,"protocol",et("getProtocol","setProtocol")),m(De,"username",et("getUsername","setUsername")),m(De,"password",et("getPassword","setPassword")),m(De,"host",et("getHost","setHost")),m(De,"hostname",et("getHostname","setHostname")),m(De,"port",et("getPort","setPort")),m(De,"pathname",et("getPathname","setPathname")),m(De,"search",et("getSearch","setSearch")),m(De,"searchParams",et("getSearchParams")),m(De,"hash",et("getHash","setHash"))),g(De,"toJSON",function(){return C(this).serialize()},{enumerable:!0}),g(De,"toString",function(){return C(this).serialize()},{enumerable:!0}),q){var Tt=q.createObjectURL,Ht=q.revokeObjectURL;Tt&&g(Me,"createObjectURL",u(Tt,q)),Ht&&g(Me,"revokeObjectURL",u(Ht,q))}a(Me,"URL"),l({global:!0,constructor:!0,forced:!c,sham:!o},{URL:Me})},3296:function(e,t,r){r(5806)},7208:function(e,t,r){var s=r(6518),l=r(9565);s({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return l(URL.prototype.toString,this)}})},5857:function(e,t,r){function s(T){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s(T)}function l(T,E){(E==null||E>T.length)&&(E=T.length);for(var a=0,p=Array(E);a<E;a++)p[a]=T[a];return p}function o(T,E){for(var a=0;a<E.length;a++){var p=E[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,c(p.key),p)}}function c(T){var E=function(a,p){if(s(a)!="object"||!a)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var d=v.call(a,"string");if(s(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(T);return s(E)=="symbol"?E:E+""}r(2675),r(9463),r(2259),r(5700),r(8706),r(3792),r(2712),r(9572),r(8130),r(3851),r(875),r(6099),r(825),r(888),r(7495),r(7764),r(5440),r(2953),r(8408),r(2008),r(113),r(3418),r(8598),r(2062),r(4782),r(2010),r(5506),r(3921),r(9432),r(8781),r(1761),r(5746),r(2762),r(3500),r(3296),r(7208);var n,u=function(){return T=function a(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),this.bookReaderOptions=p,this.urlSchema=[{name:"page",position:"path",default:"n0"},{name:"mode",position:"path",default:"2up"},{name:"search",position:"path",deprecated_for:"q"},{name:"q",position:"query_param"},{name:"sort",position:"query_param"},{name:"view",position:"query_param"},{name:"admin",position:"query_param"}],this.urlState={},this.urlMode=this.bookReaderOptions.urlMode||"hash",this.urlHistoryBasePath=this.bookReaderOptions.urlHistoryBasePath||"/",this.urlLocationPollId=null,this.oldLocationHash=null,this.oldUserHash=null},E=[{key:"urlStateToUrlString",value:function(a){var p=this,v=new URLSearchParams,d={};Object.keys(a).forEach(function(G){var q,K,oe,J,Q=p.urlSchema.find(function(Oe){return Oe.name===G});(q=Q)!==null&&q!==void 0&&q.deprecated_for&&(Q=p.urlSchema.find(function(Oe){return Oe.name===Q.deprecated_for})),((K=Q)===null||K===void 0?void 0:K.position)=="path"?d[(oe=Q)===null||oe===void 0?void 0:oe.name]=a[G]:v.append(((J=Q)===null||J===void 0?void 0:J.name)||G,a[G])});var x=this.urlSchema.filter(function(G){return G.position=="path"}).map(function(G){return d[G.name]?"".concat(G.name,"/").concat(encodeURIComponent(d[G.name])):""}).join("/"),C="".concat(x.replace(/\/+/g,"/").replace(/\/+$/,"")),N="".concat(C,"?").concat(v.toString());return v.toString()?N:"".concat(C)}},{key:"urlStringToUrlState",value:function(a){var p={},v=new URL(a,"http://example.com"),d=Object.fromEntries(v.searchParams.entries()),x=v.pathname.match(/[^\\/]+\/[^\\/]+/g),C=x?Object.fromEntries(x.map(function(G){return G.split("/")})):{},N=function(G,q){return Object.keys(G).some(function(K){return K==q})};return this.urlSchema.filter(function(G){return G.position=="path"}).forEach(function(G){var q=N(C,G.name),K=N(G,"deprecated_for")&&q;if(q||K){var oe=K?G.deprecated_for:G.name;p[oe]=decodeURIComponent(C[G.name])}}),Object.entries(d).forEach(function(G){var q=function(J,Q){return function(Oe){if(Array.isArray(Oe))return Oe}(J)||function(Oe,ge){var W=Oe==null?null:typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(W!=null){var se,de,Z,ye,Y=[],ce=!0,Ge=!1;try{if(Z=(W=W.call(Oe)).next,ge===0){if(Object(W)!==W)return;ce=!1}else for(;!(ce=(se=Z.call(W)).done)&&(Y.push(se.value),Y.length!==ge);ce=!0);}catch(ht){Ge=!0,de=ht}finally{try{if(!ce&&W.return!=null&&(ye=W.return(),Object(ye)!==ye))return}finally{if(Ge)throw de}}return Y}}(J,Q)||function(Oe,ge){if(Oe){if(typeof Oe=="string")return l(Oe,ge);var W={}.toString.call(Oe).slice(8,-1);return W==="Object"&&Oe.constructor&&(W=Oe.constructor.name),W==="Map"||W==="Set"?Array.from(Oe):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?l(Oe,ge):void 0}}(J,Q)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(G,2),K=q[0],oe=q[1];p[K]=oe}),p}},{key:"setUrlParam",value:function(a,p){this.urlState[a]=p,this.pushToAddressBar()}},{key:"removeUrlParam",value:function(a){delete this.urlState[a],this.pushToAddressBar()}},{key:"getUrlParam",value:function(a){return this.urlState[a]}},{key:"pushToAddressBar",value:function(){var a=this.urlStateToUrlString(this.urlState),p=a!=="/"?a:"";if(this.urlMode=="history")if(window.history&&window.history.replaceState){var v="".concat(this.urlHistoryBasePath).concat(p).trim().replace(/(\/+)/g,"/");try{window.history.replaceState({},null,v)}catch(d){this.urlMode="hash"}}else this.options.urlMode="hash";this.urlMode=="hash"&&window.location.replace("#"+p),this.oldLocationHash=a}},{key:"listenForHashChanges",value:function(){var a=this;this.oldLocationHash=window.location.hash.substr(1),this.urlLocationPollId&&(clearInterval(this.urlLocationPollId),this.urlLocationPollId=null),this.urlLocationPollId=setInterval(function(){var p=window.location.hash.substr(1);p!=a.oldLocationHash&&(a.urlState=a.urlStringToUrlState(p))},500)}},{key:"pullFromAddressBar",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.location,p=this.urlMode==="history"?a.pathname.substr(this.urlHistoryBasePath.length)+a.search:a.hash.substr(1);this.urlState=this.urlStringToUrlState(p)}}],E&&o(T.prototype,E),Object.defineProperty(T,"prototype",{writable:!1}),T;var T,E}();function h(T){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(T)}function g(T,E){for(var a=0;a<E.length;a++){var p=E[a];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,m(p.key),p)}}function m(T){var E=function(a,p){if(h(a)!="object"||!a)return a;var v=a[Symbol.toPrimitive];if(v!==void 0){var d=v.call(a,"string");if(h(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(T);return h(E)=="symbol"?E:E+""}function y(T,E,a){return E=k(E),function(p,v){if(v&&(h(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(p)}(T,_()?Reflect.construct(E,a||[],k(T).constructor):E.apply(T,a))}function _(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(E){}return(_=function(){return!!T})()}function w(){return w=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(T,E,a){var p=function(d,x){for(;!{}.hasOwnProperty.call(d,x)&&(d=k(d))!==null;);return d}(T,E);if(p){var v=Object.getOwnPropertyDescriptor(p,E);return v.get?v.get.call(arguments.length<3?T:a):v.value}},w.apply(null,arguments)}function k(T){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},k(T)}function A(T,E){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,p){return a.__proto__=p,a},A(T,E)}r(1669).extend(BookReader.defaultOptions,{enableUrlPlugin:!0,bookId:"",defaults:null,updateWindowTitle:!1,urlMode:"hash",urlHistoryBasePath:"/",urlTrackedParams:["page","search","mode","region","highlight","view"],urlTrackIndex0:!1}),BookReader.prototype.setup=(n=BookReader.prototype.setup,function(T){n.call(this,T),this.bookId=T.bookId,this.defaults=T.defaults,this.locationPollId=null,this.oldLocationHash=null,this.oldUserHash=null}),BookReader.prototype.init=function(T){return function(){var E=this;this.options.enableUrlPlugin&&(this.bind(BookReader.eventNames.PostInit,function(){var a=E.options,p=a.updateWindowTitle,v=a.urlMode;p&&(document.title=E.shortTitle(E.bookTitle,50)),v==="hash"&&E.urlStartLocationPolling()}),this.bind(BookReader.eventNames.fragmentChange,this.urlUpdateFragment.bind(this))),T.call(this)}}(BookReader.prototype.init),BookReader.prototype.shortTitle=function(T){return this.bookTitle.length<T?this.bookTitle:"".concat(this.bookTitle.substr(0,T-3),"...")},BookReader.prototype.urlStartLocationPolling=function(){var T=this;this.oldLocationHash=this.urlReadFragment(),this.locationPollId&&(clearInterval(this.locationPollId),this.locationPollId=null),this.locationPollId=setInterval(function(){var E=T.urlReadFragment();if(E!=T.oldLocationHash&&E!=T.oldUserHash){var a,p=T.paramsFromFragment(E),v=function(){return T.updateFromParams(p)};T.trigger(BookReader.eventNames.stop),T.animating?((a=T.plugins.autoplay)===null||a===void 0||a.stop(),T.animationFinishedCallback=v):v(),T.oldUserHash=E}},500)},BookReader.prototype.urlUpdateFragment=function(){var T=this.paramsFromCurrent(),E=this.options,a=E.urlTrackIndex0,p=E.urlTrackedParams;a||T.index===void 0||T.index!==0||(delete T.index,delete T.page);var v=p.reduce(function(J,Q){return Q in T&&(J[Q]=T[Q]),J},{}),d=this.fragmentFromParams(v,this.options.urlMode),x=this.urlReadFragment(),C=this.getLocationSearch(),N=this.queryStringFromParams(v,C,this.options.urlMode);if(x!==d||C!==N){if(this.options.urlMode==="history")if(window.history&&window.history.replaceState){var G=this.options.urlHistoryBasePath.replace(/\/+$/,""),q=d===""?"":"/".concat(d),K="".concat(G).concat(q).concat(N);try{window.history.replaceState({},null,K),this.oldLocationHash=d+N}catch(J){this.options.urlMode="hash"}}else this.options.urlMode="hash";if(this.options.urlMode==="hash"){var oe=this.urlParamsFiltersOnlySearch(this.readQueryString());window.location.replace("#"+d+oe),this.oldLocationHash=d+oe}}},BookReader.prototype.urlParamsFiltersOnlySearch=function(T){var E=new URLSearchParams(T);return E.has("q")?"?".concat(new URLSearchParams({q:E.get("q")})):""},BookReader.prototype.urlReadFragment=function(){var T=this.options,E=T.urlMode,a=T.urlHistoryBasePath;return E==="history"?window.location.pathname.substr(a.length):window.location.hash.substr(1)},BookReader.prototype.urlReadHashFragment=function(){return window.location.hash.substr(1)};var L=function(T){function E(){return function(v,d){if(!(v instanceof d))throw new TypeError("Cannot call a class as a function")}(this,E),y(this,E,arguments)}return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(d&&d.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),d&&A(v,d)}(E,BookReader),a=E,p=[{key:"init",value:function(){var v,d,x,C=this;this.options.enableUrlPlugin&&(this.urlPlugin=new u(this.options),this.bind(BookReader.eventNames.PostInit,function(){C.options.urlMode==="hash"&&C.urlPlugin.listenForHashChanges()})),(v=E,d=this,typeof(x=w(k(v.prototype),"init",d))=="function"?function(N){return x.apply(d,N)}:x)([])}}],p&&g(a.prototype,p),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,p}();window.BookReader=L}},function(e){e(e.s=5857)}]);pw=KA,{default:fw}=pw,XA=nn(pw,["default"]),mw=fw!==void 0?fw:XA});var gw={};Fn(gw,{default:()=>mw});var vw=si(()=>{jm();jm()});var ZA,yw,bw,JA,ww,Nm=si(()=>{ZA={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[51],{4031:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=[["Serbian","\u0441\u0440\u043F\u0441\u043A\u0438 \u0458\u0435\u0437\u0438\u043A","sr","srp","srp"],["Romanian, Moldavian, Moldovan","Rom\xE2n\u0103","ro","ron","rum"],["Sichuan Yi, Nuosu","\uA188\uA320\uA4BF Nuosuhxop","ii","iii","iii"],["Tahitian","Reo Tahiti","ty","tah","tah"],["Tagalog","Wikang Tagalog","tl","tgl","tgl"],["Yiddish","\u05D9\u05D9\u05B4\u05D3\u05D9\u05E9","yi","yid","yid"],["Akan","Akan","ak","aka","aka"],["Malay","Bahasa Melayu, \u0628\u0647\u0627\u0633 \u0645\u0644\u0627\u064A\u0648\u200E","ms","msa","may"],["Arabic","\u0627\u0644\u0639\u0631\u0628\u064A\u0629","ar","ara","ara"],["Norwegian","Norsk","no","nor","nor"],["Ojibwa","\u140A\u14C2\u1511\u14C8\u142F\u14A7\u140E\u14D0","oj","oji","oji"],["Fulah","Fulfulde, Pulaar, Pular","ff","ful","ful"],["Persian","\u0641\u0627\u0631\u0633\u06CC","fa","fas","per"],["Albanian","Shqip","sq","sqi","alb"],["Aymara","aymar aru","ay","aym","aym"],["Azerbaijani","az\u0259rbaycan dili","az","aze","aze"],["Chinese","\u4E2D\u6587 (Zh\u014Dngw\xE9n), \u6C49\u8BED, \u6F22\u8A9E","zh","zho","chi"],["Cree","\u14C0\u1426\u1403\u152D\u140D\u140F\u1423","cr","cre","cre"],["Estonian","eesti, eesti keel","et","est","est"],["Guaran\xED","Ava\xF1e'\u1EBD","gn","grn","grn"],["Inupiaq","I\xF1upiaq, I\xF1upiatun","ik","ipk","ipk"],["Inuktitut","\u1403\u14C4\u1483\u144E\u1450\u1466","iu","iku","iku"],["Kanuri","Kanuri","kr","kau","kau"],["Komi","\u043A\u043E\u043C\u0438 \u043A\u044B\u0432","kv","kom","kom"],["Kongo","Kikongo","kg","kon","kon"],["Kurdish","Kurd\xEE, \u06A9\u0648\u0631\u062F\u06CC\u200E","ku","kur","kur"],["Latvian","latvie\u0161u valoda","lv","lav","lav"],["Malagasy","fiteny malagasy","mg","mlg","mlg"],["Mongolian","\u041C\u043E\u043D\u0433\u043E\u043B \u0445\u044D\u043B","mn","mon","mon"],["Oromo","Afaan Oromoo","om","orm","orm"],["Pashto, Pushto","\u067E\u069A\u062A\u0648","ps","pus","pus"],["Quechua","Runa Simi, Kichwa","qu","que","que"],["Sardinian","sardu","sc","srd","srd"],["Swahili","Kiswahili","sw","swa","swa"],["Uzbek","O\u02BBzbek, \u040E\u0437\u0431\u0435\u043A, \u0623\u06C7\u0632\u0628\u06D0\u0643\u200E","uz","uzb","uzb"],["Zhuang, Chuang","Sa\u026F cue\u014B\u0185, Saw cuengh","za","zha","zha"],["Bislama","Bislama","bi","bis","bis"],["Norwegian Bokm\xE5l","Norsk Bokm\xE5l","nb","nob","nob"],["Norwegian Nynorsk","Norsk Nynorsk","nn","nno","nno"],["Indonesian","Bahasa Indonesia","id","ind","ind"],["Twi","Twi","tw","twi","twi"],["Esperanto","Esperanto","eo","epo","epo"],["Interlingua","Interlingua","ia","ina","ina"],["Interlingue","Originally called Occidental; then Interlingue after WWII","ie","ile","ile"],["Ido","Ido","io","ido","ido"],["Volap\xFCk","Volap\xFCk","vo","vol","vol"],["Bihari languages","\u092D\u094B\u091C\u092A\u0941\u0930\u0940","bh","bih","bih"],["Hebrew (modern)","\u05E2\u05D1\u05E8\u05D9\u05EA","he","heb","heb"],["Sanskrit","\u0938\u0902\u0938\u094D\u0915\u0943\u0924\u092E\u094D","sa","san","san"],["Church Slavic, Church Slavonic, Old Church Slavonic, Old Slavonic, Old Bulgarian","\u0469\u0437\u044B\u043A\u044A \u0441\u043B\u043E\u0432\u0463\u043D\u044C\u0441\u043A\u044A","cu","chu","chu"],["Pali","\u092A\u093E\u0934\u093F","pi","pli","pli"],["Avestan","avesta","ae","ave","ave"],["Latin","latine, lingua latina","la","lat","lat"],["Armenian","\u0540\u0561\u0575\u0565\u0580\u0565\u0576","hy","hye","arm"],["Swati","SiSwati","ss","ssw","ssw"],["Tibetan","\u0F56\u0F7C\u0F51\u0F0B\u0F61\u0F72\u0F42","bo","bod","tib"],["South Ndebele","isiNdebele","nr","nbl","nbl"],["Slovene","Slovenski Jezik, Sloven\u0161\u010Dina","sl","slv","slv"],["Oriya","\u0B13\u0B21\u0B3C\u0B3F\u0B06","or","ori","ori"],["North Ndebele","isiNdebele","nd","nde","nde"],["Nauru","Dorerin Naoero","na","nau","nau"],["Maori","te reo M\u0101ori","mi","mri","mao"],["Marathi","\u092E\u0930\u093E\u0920\u0940","mr","mar","mar"],["Luba-Katanga","Kiluba","lu","lub","lub"],["Rundi","Ikirundi","rn","run","run"],["Central Khmer","\u1781\u17D2\u1798\u17C2\u179A, \u1781\u17C1\u1798\u179A\u1797\u17B6\u179F\u17B6, \u1797\u17B6\u179F\u17B6\u1781\u17D2\u1798\u17C2\u179A","km","khm","khm"],["Western Frisian","Frysk","fy","fry","fry"],["Bengali","\u09AC\u09BE\u0982\u09B2\u09BE","bn","ben","ben"],["Avaric","\u0430\u0432\u0430\u0440 \u043C\u0430\u0446\u04C0, \u043C\u0430\u0433\u04C0\u0430\u0440\u0443\u043B \u043C\u0430\u0446\u04C0","av","ava","ava"],["Abkhazian","\u0430\u04A7\u0441\u0443\u0430 \u0431\u044B\u0437\u0448\u04D9\u0430, \u0430\u04A7\u0441\u0448\u04D9\u0430","ab","abk","abk"],["Afar","Afaraf","aa","aar","aar"],["Afrikaans","Afrikaans","af","afr","afr"],["Amharic","\u12A0\u121B\u122D\u129B","am","amh","amh"],["Aragonese","aragon\xE9s","an","arg","arg"],["Assamese","\u0985\u09B8\u09AE\u09C0\u09AF\u09BC\u09BE","as","asm","asm"],["Bambara","bamanankan","bm","bam","bam"],["Bashkir","\u0431\u0430\u0448\u04A1\u043E\u0440\u0442 \u0442\u0435\u043B\u0435","ba","bak","bak"],["Basque","euskara, euskera","eu","eus","baq"],["Belarusian","\u0431\u0435\u043B\u0430\u0440\u0443\u0441\u043A\u0430\u044F \u043C\u043E\u0432\u0430","be","bel","bel"],["Bosnian","bosanski jezik","bs","bos","bos"],["Breton","brezhoneg","br","bre","bre"],["Bulgarian","\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438 \u0435\u0437\u0438\u043A","bg","bul","bul"],["Burmese","\u1017\u1019\u102C\u1005\u102C","my","mya","bur"],["Catalan, Valencian","catal\xE0, valenci\xE0","ca","cat","cat"],["Chamorro","Chamoru","ch","cha","cha"],["Chechen","\u043D\u043E\u0445\u0447\u0438\u0439\u043D \u043C\u043E\u0442\u0442","ce","che","che"],["Chichewa, Chewa, Nyanja","chiChe\u0175a, chinyanja","ny","nya","nya"],["Chuvash","\u0447\u04D1\u0432\u0430\u0448 \u0447\u04D7\u043B\u0445\u0438","cv","chv","chv"],["Cornish","Kernewek","kw","cor","cor"],["Corsican","corsu, lingua corsa","co","cos","cos"],["Croatian","hrvatski jezik","hr","hrv","hrv"],["Czech","\u010De\u0161tina, \u010Desk\xFD jazyk","cs","ces","cze"],["Danish","dansk","da","dan","dan"],["Divehi, Dhivehi, Maldivian","\u078B\u07A8\u0788\u07AC\u0780\u07A8","dv","div","div"],["Dutch, Flemish","Nederlands, Vlaams","nl","nld","dut"],["Dzongkha","\u0F62\u0FAB\u0F7C\u0F44\u0F0B\u0F41","dz","dzo","dzo"],["English","English","en","eng","eng"],["Ewe","E\u028Begbe","ee","ewe","ewe"],["Faroese","f\xF8royskt","fo","fao","fao"],["Fijian","vosa Vakaviti","fj","fij","fij"],["Finnish","suomi, suomen kieli","fi","fin","fin"],["French","fran\xE7ais, langue fran\xE7aise","fr","fra","fre"],["Galician","Galego","gl","glg","glg"],["Georgian","\u10E5\u10D0\u10E0\u10D7\u10E3\u10DA\u10D8","ka","kat","geo"],["German","Deutsch","de","deu","ger"],["Greek (modern)","\u03B5\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC","el","ell","gre"],["Gujarati","\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0","gu","guj","guj"],["Haitian, Haitian Creole","Krey\xF2l ayisyen","ht","hat","hat"],["Hausa","(Hausa) \u0647\u064E\u0648\u064F\u0633\u064E","ha","hau","hau"],["Herero","Otjiherero","hz","her","her"],["Hindi","\u0939\u093F\u0928\u094D\u0926\u0940, \u0939\u093F\u0902\u0926\u0940","hi","hin","hin"],["Hiri Motu","Hiri Motu","ho","hmo","hmo"],["Hungarian","magyar","hu","hun","hun"],["Irish","Gaeilge","ga","gle","gle"],["Igbo","As\u1EE5s\u1EE5 Igbo","ig","ibo","ibo"],["Icelandic","\xCDslenska","is","isl","ice"],["Italian","Italiano","it","ita","ita"],["Japanese","\u65E5\u672C\u8A9E (\u306B\u307B\u3093\u3054)","ja","jpn","jpn"],["Javanese","\uA9A7\uA9B1\uA997\uA9AE, Basa Jawa","jv","jav","jav"],["Kalaallisut, Greenlandic","kalaallisut, kalaallit oqaasii","kl","kal","kal"],["Kannada","\u0C95\u0CA8\u0CCD\u0CA8\u0CA1","kn","kan","kan"],["Kashmiri","\u0915\u0936\u094D\u092E\u0940\u0930\u0940, \u0643\u0634\u0645\u064A\u0631\u064A\u200E","ks","kas","kas"],["Kazakh","\u049B\u0430\u0437\u0430\u049B \u0442\u0456\u043B\u0456","kk","kaz","kaz"],["Kikuyu, Gikuyu","G\u0129k\u0169y\u0169","ki","kik","kik"],["Kinyarwanda","Ikinyarwanda","rw","kin","kin"],["Kirghiz, Kyrgyz","\u041A\u044B\u0440\u0433\u044B\u0437\u0447\u0430, \u041A\u044B\u0440\u0433\u044B\u0437 \u0442\u0438\u043B\u0438","ky","kir","kir"],["Korean","\uD55C\uAD6D\uC5B4","ko","kor","kor"],["Kuanyama, Kwanyama","Kuanyama","kj","kua","kua"],["Luxembourgish, Letzeburgesch","L\xEBtzebuergesch","lb","ltz","ltz"],["Ganda","Luganda","lg","lug","lug"],["Limburgan, Limburger, Limburgish","Limburgs","li","lim","lim"],["Lingala","Ling\xE1la","ln","lin","lin"],["Lao","\u0E9E\u0EB2\u0EAA\u0EB2\u0EA5\u0EB2\u0EA7","lo","lao","lao"],["Lithuanian","lietuvi\u0173 kalba","lt","lit","lit"],["Manx","Gaelg, Gailck","gv","glv","glv"],["Macedonian","\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438 \u0458\u0430\u0437\u0438\u043A","mk","mkd","mac"],["Malayalam","\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02","ml","mal","mal"],["Maltese","Malti","mt","mlt","mlt"],["Marshallese","Kajin M\u0327aje\u013C","mh","mah","mah"],["Navajo, Navaho","Din\xE9 bizaad","nv","nav","nav"],["Nepali","\u0928\u0947\u092A\u093E\u0932\u0940","ne","nep","nep"],["Ndonga","Owambo","ng","ndo","ndo"],["Occitan","occitan, lenga d'\xF2c","oc","oci","oci"],["Ossetian, Ossetic","\u0438\u0440\u043E\u043D \xE6\u0432\u0437\u0430\u0433","os","oss","oss"],["Panjabi, Punjabi","\u0A2A\u0A70\u0A1C\u0A3E\u0A2C\u0A40","pa","pan","pan"],["Polish","j\u0119zyk polski, polszczyzna","pl","pol","pol"],["Portuguese","Portugu\xEAs","pt","por","por"],["Romansh","Rumantsch Grischun","rm","roh","roh"],["Russian","\u0440\u0443\u0441\u0441\u043A\u0438\u0439","ru","rus","rus"],["Sindhi","\u0938\u093F\u0928\u094D\u0927\u0940, \u0633\u0646\u068C\u064A\u060C \u0633\u0646\u062F\u06BE\u06CC\u200E","sd","snd","snd"],["Northern Sami","Davvis\xE1megiella","se","sme","sme"],["Samoan","gagana fa'a Samoa","sm","smo","smo"],["Sango","y\xE2ng\xE2 t\xEE s\xE4ng\xF6","sg","sag","sag"],["Gaelic, Scottish Gaelic","G\xE0idhlig","gd","gla","gla"],["Shona","chiShona","sn","sna","sna"],["Sinhala, Sinhalese","\u0DC3\u0DD2\u0D82\u0DC4\u0DBD","si","sin","sin"],["Slovak","Sloven\u010Dina, Slovensk\xFD Jazyk","sk","slk","slo"],["Somali","Soomaaliga, af Soomaali","so","som","som"],["Southern Sotho","Sesotho","st","sot","sot"],["Spanish, Castilian","Espa\xF1ol","es","spa","spa"],["Sundanese","Basa Sunda","su","sun","sun"],["Swedish","Svenska","sv","swe","swe"],["Tamil","\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD","ta","tam","tam"],["Telugu","\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41","te","tel","tel"],["Tajik","\u0442\u043E\u04B7\u0438\u043A\u04E3, to\xE7ik\u012B, \u062A\u0627\u062C\u06CC\u06A9\u06CC\u200E","tg","tgk","tgk"],["Thai","\u0E44\u0E17\u0E22","th","tha","tha"],["Tigrinya","\u1275\u130D\u122D\u129B","ti","tir","tir"],["Turkmen","T\xFCrkmen, \u0422\u04AF\u0440\u043A\u043C\u0435\u043D","tk","tuk","tuk"],["Tswana","Setswana","tn","tsn","tsn"],["Tongan (Tonga Islands)","Faka Tonga","to","ton","ton"],["Turkish","T\xFCrk\xE7e","tr","tur","tur"],["Tsonga","Xitsonga","ts","tso","tso"],["Tatar","\u0442\u0430\u0442\u0430\u0440 \u0442\u0435\u043B\u0435, tatar tele","tt","tat","tat"],["Uighur, Uyghur","\u0626\u06C7\u064A\u063A\u06C7\u0631\u0686\u06D5\u200E, Uyghurche","ug","uig","uig"],["Ukrainian","\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430","uk","ukr","ukr"],["Urdu","\u0627\u0631\u062F\u0648","ur","urd","urd"],["Venda","Tshiven\u1E13a","ve","ven","ven"],["Vietnamese","Ti\u1EBFng Vi\u1EC7t","vi","vie","vie"],["Walloon","Walon","wa","wln","wln"],["Welsh","Cymraeg","cy","cym","wel"],["Wolof","Wollof","wo","wol","wol"],["Xhosa","isiXhosa","xh","xho","xho"],["Yoruba","Yor\xF9b\xE1","yo","yor","yor"],["Zulu","isiZulu","zu","zul","zul"]]},1792:function(e,t,r){var s,l;s=[r(1669)],(l=function(o){return function(c){"use strict";function n(u){u===void 0&&(u=window.navigator.userAgent),u=u.toLowerCase();var h=/(edge)\/([\w.]+)/.exec(u)||/(opr)[\/]([\w.]+)/.exec(u)||/(chrome)[ \/]([\w.]+)/.exec(u)||/(iemobile)[\/]([\w.]+)/.exec(u)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],g=/(ipad)/.exec(u)||/(ipod)/.exec(u)||/(windows phone)/.exec(u)||/(iphone)/.exec(u)||/(kindle)/.exec(u)||/(silk)/.exec(u)||/(android)/.exec(u)||/(win)/.exec(u)||/(mac)/.exec(u)||/(linux)/.exec(u)||/(cros)/.exec(u)||/(playbook)/.exec(u)||/(bb)/.exec(u)||/(blackberry)/.exec(u)||[],m={},y={browser:h[5]||h[3]||h[1]||"",version:h[2]||h[4]||"0",versionNumber:h[4]||h[2]||"0",platform:g[0]||""};if(y.browser&&(m[y.browser]=!0,m.version=y.version,m.versionNumber=parseInt(y.versionNumber,10)),y.platform&&(m[y.platform]=!0),(m.android||m.bb||m.blackberry||m.ipad||m.iphone||m.ipod||m.kindle||m.playbook||m.silk||m["windows phone"])&&(m.mobile=!0),(m.cros||m.mac||m.linux||m.win)&&(m.desktop=!0),(m.chrome||m.opr||m.safari)&&(m.webkit=!0),m.rv||m.iemobile){var _="msie";y.browser=_,m[_]=!0}if(m.edge){delete m.edge;var w="msedge";y.browser=w,m[w]=!0}if(m.safari&&m.blackberry){var k="blackberry";y.browser=k,m[k]=!0}if(m.safari&&m.playbook){var A="playbook";y.browser=A,m[A]=!0}if(m.bb){var L="blackberry";y.browser=L,m[L]=!0}if(m.opr){var T="opera";y.browser=T,m[T]=!0}if(m.safari&&m.android){var E="android";y.browser=E,m[E]=!0}if(m.safari&&m.kindle){var a="kindle";y.browser=a,m[a]=!0}if(m.safari&&m.silk){var p="silk";y.browser=p,m[p]=!0}return m.name=y.browser,m.platform=y.platform,m}return window.jQBrowser=n(window.navigator.userAgent),window.jQBrowser.uaMatch=n,c&&(c.browser=window.jQBrowser),window.jQBrowser}(o)}.apply(t,s))===void 0||(e.exports=l)},2443:function(e,t,r){var s;e=r.nmd(e),function(l,o){"use strict";if(!l||!l.document)throw new Error("SoundManager requires a browser with window and document objects.");var c=null;function n(u,h){this.setupOptions={url:u||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,forceUseGlobalHTML5Audio:!1,ignoreMobileRestrictions:!1,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onerror:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,playbackRate:1,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={onfailure:null,isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1},flac:{type:["audio/flac"],required:!1}},this.movieID="sm2-container",this.id=h||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20170601",this.version=null,this.movieURL=null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1;var g,m,y,_,w,k,A,L,T,E,a,p,v,d,x,C,N,G,q,K,oe,J,Q,Oe,ge,W,se,de,Z,ye,Y,ce,Ge,ht,st,qe,Se,Ie,Re,ot,pt,Pt,Qe,ne,ie,Ke,Ct,we,$e,at,Ce,Je,tt,Vt,ct,gt,Rt,ti,oi,ui,Ot,It,At,St,kt,I=this,Ue=null,_e=null,Ve="soundManager",Xe=Ve+": ",ut=navigator.userAgent,re=l.location.href.toString(),Pe=document,He=[],vt=!0,lt=!1,Et=!1,Ut=!1,Jt=!1,Lt=!1,jt=0,Ye=["log","info","warn","error"],Me=null,De=null,et=!1,Tt=!1,Ht=0,Ze=null,wt=[],_t=null,Xt=Array.prototype.slice,We=!1,ri=0,ei=1e3,ki=ut.match(/(ipad|iphone|ipod)/i),qt=ut.match(/android/i),ci=ut.match(/msie|trident/i),Ei=ut.match(/webkit/i),Mi=ut.match(/safari/i)&&!ut.match(/chrome/i),ir=ut.match(/opera/i),Yi=ut.match(/(mobile|pre\/|xoom)/i)||ki||qt,Gi=!re.match(/usehtml5audio/i)&&!re.match(/sm2-ignorebadua/i)&&Mi&&!ut.match(/silk/i)&&ut.match(/OS\sX\s10_6_([3-7])/i),Sr=l.console!==o&&console.log!==o,tr=Pe.hasFocus!==o?Pe.hasFocus():null,yr=Mi&&(Pe.hasFocus===o||!Pe.hasFocus()),xr=!yr,Tr=/(mp3|mp4|mpa|m4a|m4b)/i,Xr="about:blank",ln=Pe.location?Pe.location.protocol.match(/http/i):null,Pr=ln?"":"//",Dr=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4|m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Gr=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","m4b","mp4v","3gp","3g2"],Vr=new RegExp("\\.("+Gr.join("|")+")(\\?.*)?$","i");function ve(B){return I.preferFlash&&ti&&!I.ignoreFlash&&I.flash[B]!==o&&I.flash[B]}function he(B){return function(be){var xe,$t=this._s;return $t&&$t._a?xe=B.call(this,be):($t&&$t.id?I._wD($t.id+": Ignoring "+be.type):I._wD("HTML5::Ignoring "+be.type),xe=null),xe}}this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!ln,Se={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},Ce=[null,"MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"],this.hasHTML5=function(){try{return Audio!==o&&(ir&&opera!==o&&opera.version()<10?new Audio(null):new Audio).canPlayType!==o}catch(B){return!1}}(),this.setup=function(B){var be=!I.url;return B!==o&&Ut&&_t&&I.ok()&&(B.flashVersion!==o||B.url!==o||B.html5Test!==o)&&pt(ht("setupLate")),a(B),We||(Yi?I.setupOptions.ignoreMobileRestrictions&&!I.setupOptions.forceUseGlobalHTML5Audio||(wt.push(oe.globalHTML5),We=!0):I.setupOptions.forceUseGlobalHTML5Audio&&(wt.push(oe.globalHTML5),We=!0)),!kt&&Yi&&(I.setupOptions.ignoreMobileRestrictions?wt.push(oe.ignoreMobile):(I.setupOptions.useHTML5Audio&&!I.setupOptions.preferFlash||I._wD(oe.mobileUA),I.setupOptions.useHTML5Audio=!0,I.setupOptions.preferFlash=!1,ki?I.ignoreFlash=!0:(qt&&!ut.match(/android\s2\.3/i)||!qt)&&(I._wD(oe.globalHTML5),We=!0))),B&&(be&&ge&&B.url!==o&&I.beginDelayedInit(),ge||B.url===o||Pe.readyState!=="complete"||setTimeout(Q,1)),kt=!0,I},this.ok=function(){return _t?Ut&&!Jt:I.useHTML5Audio&&I.hasHTML5},this.supported=this.ok,this.getMovie=function(B){return m(B)||Pe[B]||l[B]},this.createSound=function(B,be){var xe,$t,zt,gi=null;if($t=(xe=Ve+".createSound(): ")+ht(Ut?"notOK":"notReady"),!Ut||!I.ok())return pt($t),!1;if(be!==o&&(B={id:B,url:be}),(zt=E(B)).url=Ke(zt.url),zt.id===o&&(zt.id=I.setupOptions.idPrefix+ri++),zt.id.toString().charAt(0).match(/^[0-9]$/)&&I._wD(xe+ht("badID",zt.id),2),I._wD(xe+zt.id+(zt.url?" ("+zt.url+")":""),1),Pt(zt.id,!0))return I._wD(xe+zt.id+" exists",1),I.sounds[zt.id];function mi(){return zt=Re(zt),I.sounds[zt.id]=new g(zt),I.soundIDs.push(zt.id),I.sounds[zt.id]}if($e(zt))gi=mi(),I.html5Only||I._wD(zt.id+": Using HTML5"),gi._setup_html5(zt);else{if(I.html5Only)return I._wD(zt.id+": No HTML5 support for this sound, and no Flash. Exiting."),mi();if(I.html5.usingFlash&&zt.url&&zt.url.match(/data:/i))return I._wD(zt.id+": data: URIs not supported via Flash. Exiting."),mi();k>8&&(zt.isMovieStar===null&&(zt.isMovieStar=!!(zt.serverURL||zt.type&&zt.type.match(Dr)||zt.url&&zt.url.match(Vr))),zt.isMovieStar&&(I._wD(xe+"using MovieStar handling"),zt.loops>1&&L("noNSLoop"))),zt=ot(zt,xe),gi=mi(),k===8?_e._createSound(zt.id,zt.loops||1,zt.usePolicyFile):(_e._createSound(zt.id,zt.url,zt.usePeakData,zt.useWaveformData,zt.useEQData,zt.isMovieStar,!!zt.isMovieStar&&zt.bufferTime,zt.loops||1,zt.serverURL,zt.duration||null,zt.autoPlay,!0,zt.autoLoad,zt.usePolicyFile),zt.serverURL||(gi.connected=!0,zt.onconnect&&zt.onconnect.apply(gi))),zt.serverURL||!zt.autoLoad&&!zt.autoPlay||gi.load(zt)}return!zt.serverURL&&zt.autoPlay&&gi.play(),gi},this.destroySound=function(B,be){if(!Pt(B))return!1;var xe,$t=I.sounds[B];for($t.stop(),$t._iO={},$t.unload(),xe=0;xe<I.soundIDs.length;xe++)if(I.soundIDs[xe]===B){I.soundIDs.splice(xe,1);break}return be||$t.destruct(!0),$t=null,delete I.sounds[B],!0},this.load=function(B,be){return!!Pt(B)&&I.sounds[B].load(be)},this.unload=function(B){return!!Pt(B)&&I.sounds[B].unload()},this.onPosition=function(B,be,xe,$t){return!!Pt(B)&&I.sounds[B].onposition(be,xe,$t)},this.onposition=this.onPosition,this.clearOnPosition=function(B,be,xe){return!!Pt(B)&&I.sounds[B].clearOnPosition(be,xe)},this.play=function(B,be){var xe=null,$t=be&&!(be instanceof Object);if(!Ut||!I.ok())return pt(Ve+".play(): "+ht(Ut?"notOK":"notReady")),!1;if(Pt(B,$t))$t&&(be={url:be});else{if(!$t)return!1;$t&&(be={url:be}),be&&be.url&&(I._wD(Ve+'.play(): Attempting to create "'+B+'"',1),be.id=B,xe=I.createSound(be).play())}return xe===null&&(xe=I.sounds[B].play(be)),xe},this.start=this.play,this.setPlaybackRate=function(B,be,xe){return!!Pt(B)&&I.sounds[B].setPlaybackRate(be,xe)},this.setPosition=function(B,be){return!!Pt(B)&&I.sounds[B].setPosition(be)},this.stop=function(B){return!!Pt(B)&&(I._wD(Ve+".stop("+B+")",1),I.sounds[B].stop())},this.stopAll=function(){var B;for(B in I._wD(Ve+".stopAll()",1),I.sounds)I.sounds.hasOwnProperty(B)&&I.sounds[B].stop()},this.pause=function(B){return!!Pt(B)&&I.sounds[B].pause()},this.pauseAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].pause()},this.resume=function(B){return!!Pt(B)&&I.sounds[B].resume()},this.resumeAll=function(){var B;for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].resume()},this.togglePause=function(B){return!!Pt(B)&&I.sounds[B].togglePause()},this.setPan=function(B,be){return!!Pt(B)&&I.sounds[B].setPan(be)},this.setVolume=function(B,be){var xe,$t;if(B!==o&&!isNaN(B)&&be===o){for(xe=0,$t=I.soundIDs.length;xe<$t;xe++)I.sounds[I.soundIDs[xe]].setVolume(B);return!1}return!!Pt(B)&&I.sounds[B].setVolume(be)},this.mute=function(B){var be=0;if(B instanceof String&&(B=null),B)return!!Pt(B)&&(I._wD(Ve+'.mute(): Muting "'+B+'"'),I.sounds[B].mute());for(I._wD(Ve+".mute(): Muting all sounds"),be=I.soundIDs.length-1;be>=0;be--)I.sounds[I.soundIDs[be]].mute();return I.muted=!0,!0},this.muteAll=function(){I.mute()},this.unmute=function(B){var be;if(B instanceof String&&(B=null),B)return!!Pt(B)&&(I._wD(Ve+'.unmute(): Unmuting "'+B+'"'),I.sounds[B].unmute());for(I._wD(Ve+".unmute(): Unmuting all sounds"),be=I.soundIDs.length-1;be>=0;be--)I.sounds[I.soundIDs[be]].unmute();return I.muted=!1,!0},this.unmuteAll=function(){I.unmute()},this.toggleMute=function(B){return!!Pt(B)&&I.sounds[B].toggleMute()},this.getMemoryUse=function(){var B=0;return _e&&k!==8&&(B=parseInt(_e._getMemoryUse(),10)),B},this.disable=function(B){var be;if(B===o&&(B=!1),Jt)return!1;for(Jt=!0,L("shutdown",1),be=I.soundIDs.length-1;be>=0;be--)Y(I.sounds[I.soundIDs[be]]);return Y(I),T(B),gt.remove(l,"load",x),!0},this.canPlayMIME=function(B){var be;return I.hasHTML5&&(be=at({type:B})),!be&&_t&&(be=B&&I.ok()?!!(k>8&&B.match(Dr)||B.match(I.mimePattern)):null),be},this.canPlayURL=function(B){var be;return I.hasHTML5&&(be=at({url:B})),!be&&_t&&(be=B&&I.ok()?!!B.match(I.filePattern):null),be},this.canPlayLink=function(B){return!(B.type===o||!B.type||!I.canPlayMIME(B.type))||I.canPlayURL(B.href)},this.getSoundById=function(B,be){if(!B)return null;var xe=I.sounds[B];return xe||be||I._wD(Ve+'.getSoundById(): Sound "'+B+'" not found.',2),xe},this.onready=function(B,be){var xe="onready";if(typeof B!="function")throw ht("needFunction",xe);return Ut&&I._wD(ht("queue",xe)),be||(be=l),v(xe,B,be),d(),!0},this.ontimeout=function(B,be){var xe="ontimeout";if(typeof B!="function")throw ht("needFunction",xe);return Ut&&I._wD(ht("queue",xe)),be||(be=l),v(xe,B,be),d({type:xe}),!0},this._writeDebug=function(B,be){var xe,$t;return!(!I.setupOptions.debugMode||!(Sr&&I.useConsole&&(be&&typeof be=="object"?console.log(B,be):Ye[be]!==o?console[Ye[be]](B):console.log(B),I.consoleOnly))&&(!(xe=m("soundmanager-debug"))||($t=Pe.createElement("div"),++jt%2==0&&($t.className="sm2-alt"),be=be===o?0:parseInt(be,10),$t.appendChild(Pe.createTextNode(B)),be&&(be>=2&&($t.style.fontWeight="bold"),be===3&&($t.style.color="#ff3333")),xe.insertBefore($t,xe.firstChild),xe=null,0)))},re.indexOf("sm2-debug=alert")!==-1&&(this._writeDebug=function(B){l.alert(B)}),this._wD=this._writeDebug,this._debug=function(){var B,be;for(L("currentObj",1),B=0,be=I.soundIDs.length;B<be;B++)I.sounds[I.soundIDs[B]]._debug()},this.reboot=function(B,be){var xe,$t,zt;for(I.soundIDs.length&&I._wD("Destroying "+I.soundIDs.length+" SMSound object"+(I.soundIDs.length!==1?"s":"")+"..."),xe=I.soundIDs.length-1;xe>=0;xe--)I.sounds[I.soundIDs[xe]].destruct();if(_e)try{ci&&(De=_e.innerHTML),Me=_e.parentNode.removeChild(_e)}catch(gi){L("badRemove",2)}if(De=Me=_t=_e=null,I.enabled=ge=Ut=et=Tt=lt=Et=Jt=We=I.swfLoaded=!1,I.soundIDs=[],I.sounds={},ri=0,kt=!1,B)He=[];else for(xe in He)if(He.hasOwnProperty(xe))for($t=0,zt=He[xe].length;$t<zt;$t++)He[xe][$t].fired=!1;return be||I._wD(Ve+": Rebooting..."),I.html5={usingFlash:null},I.flash={},I.html5Only=!1,I.ignoreFlash=!1,l.setTimeout(function(){be||I.beginDelayedInit()},20),I},this.reset=function(){return L("reset"),I.reboot(!0,!0)},this.getMoviePercent=function(){return _e&&"PercentLoaded"in _e?_e.PercentLoaded():null},this.beginDelayedInit=function(){Lt=!0,Q(),setTimeout(function(){return!Tt&&(se(),J(),Tt=!0,!0)},20),C()},this.destruct=function(){I._wD(Ve+".destruct()"),I.disable(!0)},g=function(B){var be,xe,$t,zt,gi,mi,Fi,hr,or,Ur,ue=this,jn=!1,wn=[],$n=0,xn=null;or={duration:null,time:null},this.id=B.id,this.sID=this.id,this.url=B.url,this.options=E(B),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,Ur=!this.url,this.id3={},this._debug=function(){I._wD(ue.id+": Merged options:",ue.options)},this.load=function(di){var Si;if(di!==o?ue._iO=E(di,ue.options):(di=ue.options,ue._iO=di,xn&&xn!==ue.url&&(L("manURL"),ue._iO.url=ue.url,ue.url=null)),ue._iO.url||(ue._iO.url=ue.url),ue._iO.url=Ke(ue._iO.url),ue.instanceOptions=ue._iO,Si=ue._iO,I._wD(ue.id+": load ("+Si.url+")"),!Si.url&&!ue.url)return I._wD(ue.id+": load(): url is unassigned. Exiting.",2),ue;if(ue.isHTML5||k!==8||ue.url||Si.autoPlay||I._wD(ue.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1),Si.url===ue.url&&ue.readyState!==0&&ue.readyState!==2)return L("onURL",1),ue.readyState===3&&Si.onload&&St(ue,function(){Si.onload.apply(ue,[!!ue.duration])}),ue;if(ue.loaded=!1,ue.readyState=1,ue.playState=0,ue.id3={},$e(Si))ue._setup_html5(Si)._called_load?I._wD(ue.id+": Ignoring request to load again"):(ue._html5_canplay=!1,ue.url!==Si.url&&(I._wD(L("manURL")+": "+Si.url),ue._a.src=Si.url,ue.setPosition(0)),ue._a.autobuffer="auto",ue._a.preload="auto",ue._a._called_load=!0);else{if(I.html5Only)return I._wD(ue.id+": No flash support. Exiting."),ue;if(ue._iO.url&&ue._iO.url.match(/data:/i))return I._wD(ue.id+": data: URIs not supported via Flash. Exiting."),ue;try{ue.isHTML5=!1,ue._iO=ot(Re(Si)),ue._iO.autoPlay&&(ue._iO.position||ue._iO.from)&&(I._wD(ue.id+": Disabling autoPlay because of non-zero offset case"),ue._iO.autoPlay=!1),Si=ue._iO,k===8?_e._load(ue.id,Si.url,Si.stream,Si.autoPlay,Si.usePolicyFile):_e._load(ue.id,Si.url,!!Si.stream,!!Si.autoPlay,Si.loops||1,!!Si.autoLoad,Si.usePolicyFile)}catch(yi){L("smError",2),A("onload",!1),de({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return ue.url=Si.url,ue},this.unload=function(){return ue.readyState!==0&&(I._wD(ue.id+": unload()"),ue.isHTML5?(zt(),ue._a&&(ue._a.pause(),xn=tt(ue._a))):k===8?_e._unload(ue.id,Xr):_e._unload(ue.id),be()),ue},this.destruct=function(di){I._wD(ue.id+": Destruct"),ue.isHTML5?(zt(),ue._a&&(ue._a.pause(),tt(ue._a),We||$t(),ue._a._s=null,ue._a=null)):(ue._iO.onfailure=null,_e._destroySound(ue.id)),di||I.destroySound(ue.id,!0)},this.play=function(di,Si){var yi,rr,ar,Ln,yn,_o,fo=!0;if(yi=ue.id+": play(): ",Si=Si===o||Si,di||(di={}),ue.url&&(ue._iO.url=ue.url),ue._iO=E(ue._iO,ue.options),ue._iO=E(di,ue._iO),ue._iO.url=Ke(ue._iO.url),ue.instanceOptions=ue._iO,!ue.isHTML5&&ue._iO.serverURL&&!ue.connected)return ue.getAutoPlay()||(I._wD(yi+" Netstream not connected yet - setting autoPlay"),ue.setAutoPlay(!0)),ue;if($e(ue._iO)&&(ue._setup_html5(ue._iO),gi()),ue.playState===1&&!ue.paused){if(!ue._iO.multiShot)return I._wD(yi+"Already playing (one-shot)",1),ue.isHTML5&&ue.setPosition(ue._iO.position),ue;I._wD(yi+"Already playing (multi-shot)",1)}if(di.url&&di.url!==ue.url&&(ue.readyState||ue.isHTML5||k!==8||!Ur?ue.load(ue._iO):Ur=!1),ue.loaded)I._wD(yi.substr(0,yi.lastIndexOf(":")));else if(ue.readyState===0){if(I._wD(yi+"Attempting to load"),ue.isHTML5||I.html5Only){if(!ue.isHTML5)return I._wD(yi+"Unsupported type. Exiting."),ue;ue.load(ue._iO)}else ue._iO.autoPlay=!0,ue.load(ue._iO);ue.instanceOptions=ue._iO}else{if(ue.readyState===2)return I._wD(yi+"Could not load - exiting",2),ue;I._wD(yi+"Loading - attempting to play...")}return!ue.isHTML5&&k===9&&ue.position>0&&ue.position===ue.duration&&(I._wD(yi+"Sound at end, resetting to position: 0"),di.position=0),ue.paused&&ue.position>=0&&(!ue._iO.serverURL||ue.position>0)?(I._wD(yi+"Resuming from paused state",1),ue.resume()):(ue._iO=E(di,ue._iO),(!ue.isHTML5&&ue._iO.position!==null&&ue._iO.position>0||ue._iO.from!==null&&ue._iO.from>0||ue._iO.to!==null)&&ue.instanceCount===0&&ue.playState===0&&!ue._iO.serverURL&&(ar=function(){ue._iO=E(di,ue._iO),ue.play(ue._iO)},ue.isHTML5&&!ue._html5_canplay?(I._wD(yi+"Beginning load for non-zero offset case"),ue.load({_oncanplay:ar})):ue.isHTML5||ue.loaded||ue.readyState&&ue.readyState===2||(I._wD(yi+"Preloading for non-zero offset case"),ue.load({onload:ar})),ue._iO=hr()),(!ue.instanceCount||ue._iO.multiShotEvents||ue.isHTML5&&ue._iO.multiShot&&!We||!ue.isHTML5&&k>8&&!ue.getAutoPlay())&&ue.instanceCount++,ue._iO.onposition&&ue.playState===0&&mi(ue),ue.playState=1,ue.paused=!1,ue.position=ue._iO.position===o||isNaN(ue._iO.position)?0:ue._iO.position,ue.isHTML5||(ue._iO=ot(Re(ue._iO))),ue._iO.onplay&&Si&&(ue._iO.onplay.apply(ue),jn=!0),ue.setVolume(ue._iO.volume,!0),ue.setPan(ue._iO.pan,!0),ue._iO.playbackRate!==1&&ue.setPlaybackRate(ue._iO.playbackRate),ue.isHTML5?ue.instanceCount<2?(gi(),rr=ue._setup_html5(),ue.setPosition(ue._iO.position),rr.play()):(I._wD(ue.id+": Cloning Audio() for instance #"+ue.instanceCount+"..."),Ln=new Audio(ue._iO.url),yn=function(){gt.remove(Ln,"ended",yn),ue._onfinish(ue),tt(Ln),Ln=null},_o=function(){gt.remove(Ln,"canplay",_o);try{Ln.currentTime=ue._iO.position/ei}catch(is){pt(ue.id+": multiShot play() failed to apply position of "+ue._iO.position/ei)}Ln.play()},gt.add(Ln,"ended",yn),ue._iO.volume!==o&&(Ln.volume=Math.max(0,Math.min(1,ue._iO.volume/100))),ue.muted&&(Ln.muted=!0),ue._iO.position?gt.add(Ln,"canplay",_o):Ln.play()):(fo=_e._start(ue.id,ue._iO.loops||1,k===9?ue.position:ue.position/ei,ue._iO.multiShot||!1),k!==9||fo||(I._wD(yi+"No sound hardware, or 32-sound ceiling hit",2),ue._iO.onplayerror&&ue._iO.onplayerror.apply(ue)))),ue},this.start=this.play,this.stop=function(di){var Si,yi=ue._iO;return ue.playState===1&&(I._wD(ue.id+": stop()"),ue._onbufferchange(0),ue._resetOnPosition(0),ue.paused=!1,ue.isHTML5||(ue.playState=0),Fi(),yi.to&&ue.clearOnPosition(yi.to),ue.isHTML5?ue._a&&(Si=ue.position,ue.setPosition(0),ue.position=Si,ue._a.pause(),ue.playState=0,ue._onTimer(),zt()):(_e._stop(ue.id,di),yi.serverURL&&ue.unload()),ue.instanceCount=0,ue._iO={},yi.onstop&&yi.onstop.apply(ue)),ue},this.setAutoPlay=function(di){I._wD(ue.id+": Autoplay turned "+(di?"on":"off")),ue._iO.autoPlay=di,ue.isHTML5||(_e._setAutoPlay(ue.id,di),di&&(ue.instanceCount||ue.readyState!==1||(ue.instanceCount++,I._wD(ue.id+": Incremented instance count to "+ue.instanceCount))))},this.getAutoPlay=function(){return ue._iO.autoPlay},this.setPlaybackRate=function(di){var Si=Math.max(.5,Math.min(4,di));if(Si!==di&&I._wD(ue.id+": setPlaybackRate("+di+"): limiting rate to "+Si,2),ue.isHTML5)try{ue._iO.playbackRate=Si,ue._a.playbackRate=Si}catch(yi){I._wD(ue.id+": setPlaybackRate("+Si+") failed: "+yi.message,2)}return ue},this.setPosition=function(di){di===o&&(di=0);var Si,yi,rr=ue.isHTML5?Math.max(di,0):Math.min(ue.duration||ue._iO.duration,Math.max(di,0));if(ue.position=rr,yi=ue.position/ei,ue._resetOnPosition(ue.position),ue._iO.position=rr,ue.isHTML5){if(ue._a){if(ue._html5_canplay){if(ue._a.currentTime.toFixed(3)!==yi.toFixed(3)){I._wD(ue.id+": setPosition("+yi+")");try{ue._a.currentTime=yi,(ue.playState===0||ue.paused)&&ue._a.pause()}catch(ar){I._wD(ue.id+": setPosition("+yi+") failed: "+ar.message,2)}}}else if(yi)return I._wD(ue.id+": setPosition("+yi+"): Cannot seek yet, sound not ready",2),ue;ue.paused&&ue._onTimer(!0)}}else Si=k===9?ue.position:yi,ue.readyState&&ue.readyState!==2&&_e._setPosition(ue.id,Si,ue.paused||!ue.playState,ue._iO.multiShot);return ue},this.pause=function(di){return ue.paused||ue.playState===0&&ue.readyState!==1||(I._wD(ue.id+": pause()"),ue.paused=!0,ue.isHTML5?(ue._setup_html5().pause(),zt()):(di||di===o)&&_e._pause(ue.id,ue._iO.multiShot),ue._iO.onpause&&ue._iO.onpause.apply(ue)),ue},this.resume=function(){var di=ue._iO;return ue.paused&&(I._wD(ue.id+": resume()"),ue.paused=!1,ue.playState=1,ue.isHTML5?(ue._setup_html5().play(),gi()):(di.isMovieStar&&!di.serverURL&&ue.setPosition(ue.position),_e._pause(ue.id,di.multiShot)),!jn&&di.onplay?(di.onplay.apply(ue),jn=!0):di.onresume&&di.onresume.apply(ue)),ue},this.togglePause=function(){return I._wD(ue.id+": togglePause()"),ue.playState===0?(ue.play({position:k!==9||ue.isHTML5?ue.position/ei:ue.position}),ue):(ue.paused?ue.resume():ue.pause(),ue)},this.setPan=function(di,Si){return di===o&&(di=0),Si===o&&(Si=!1),ue.isHTML5||_e._setPan(ue.id,di),ue._iO.pan=di,Si||(ue.pan=di,ue.options.pan=di),ue},this.setVolume=function(di,Si){return di===o&&(di=100),Si===o&&(Si=!1),ue.isHTML5?ue._a&&(I.muted&&!ue.muted&&(ue.muted=!0,ue._a.muted=!0),ue._a.volume=Math.max(0,Math.min(1,di/100))):_e._setVolume(ue.id,I.muted&&!ue.muted||ue.muted?0:di),ue._iO.volume=di,Si||(ue.volume=di,ue.options.volume=di),ue},this.mute=function(){return ue.muted=!0,ue.isHTML5?ue._a&&(ue._a.muted=!0):_e._setVolume(ue.id,0),ue},this.unmute=function(){ue.muted=!1;var di=ue._iO.volume!==o;return ue.isHTML5?ue._a&&(ue._a.muted=!1):_e._setVolume(ue.id,di?ue._iO.volume:ue.options.volume),ue},this.toggleMute=function(){return ue.muted?ue.unmute():ue.mute()},this.onPosition=function(di,Si,yi){return wn.push({position:parseInt(di,10),method:Si,scope:yi!==o?yi:ue,fired:!1}),ue},this.onposition=this.onPosition,this.clearOnPosition=function(di,Si){var yi;if(di=parseInt(di,10),!isNaN(di))for(yi=0;yi<wn.length;yi++)di===wn[yi].position&&(Si&&Si!==wn[yi].method||(wn[yi].fired&&$n--,wn.splice(yi,1)))},this._processOnPosition=function(){var di,Si,yi=wn.length;if(!yi||!ue.playState||$n>=yi)return!1;for(di=yi-1;di>=0;di--)!(Si=wn[di]).fired&&ue.position>=Si.position&&(Si.fired=!0,$n++,Si.method.apply(Si.scope,[Si.position]),yi=wn.length);return!0},this._resetOnPosition=function(di){var Si,yi,rr=wn.length;if(!rr)return!1;for(Si=rr-1;Si>=0;Si--)(yi=wn[Si]).fired&&di<=yi.position&&(yi.fired=!1,$n--);return!0},hr=function(){var di,Si,yi=ue._iO,rr=yi.from,ar=yi.to;return Si=function(){I._wD(ue.id+': "To" time of '+ar+" reached."),ue.clearOnPosition(ar,Si),ue.stop()},di=function(){I._wD(ue.id+': Playing "from" '+rr),ar===null||isNaN(ar)||ue.onPosition(ar,Si)},rr===null||isNaN(rr)||(yi.position=rr,yi.multiShot=!1,di()),yi},mi=function(){var di,Si=ue._iO.onposition;if(Si)for(di in Si)Si.hasOwnProperty(di)&&ue.onPosition(parseInt(di,10),Si[di])},Fi=function(){var di,Si=ue._iO.onposition;if(Si)for(di in Si)Si.hasOwnProperty(di)&&ue.clearOnPosition(parseInt(di,10))},gi=function(){ue.isHTML5&&Qe(ue)},zt=function(){ue.isHTML5&&ne(ue)},(be=function(di){di||(wn=[],$n=0),jn=!1,ue._hasTimer=null,ue._a=null,ue._html5_canplay=!1,ue.bytesLoaded=null,ue.bytesTotal=null,ue.duration=ue._iO&&ue._iO.duration?ue._iO.duration:null,ue.durationEstimate=null,ue.buffered=[],ue.eqData=[],ue.eqData.left=[],ue.eqData.right=[],ue.failures=0,ue.isBuffering=!1,ue.instanceOptions={},ue.instanceCount=0,ue.loaded=!1,ue.metadata={},ue.readyState=0,ue.muted=!1,ue.paused=!1,ue.peakData={left:0,right:0},ue.waveformData={left:[],right:[]},ue.playState=0,ue.position=null,ue.id3={}})(),this._onTimer=function(di){var Si,yi,rr=!1,ar={};return(ue._hasTimer||di)&&ue._a&&(di||(ue.playState>0||ue.readyState===1)&&!ue.paused)&&((Si=ue._get_html5_duration())!==or.duration&&(or.duration=Si,ue.duration=Si,rr=!0),ue.durationEstimate=ue.duration,(yi=ue._a.currentTime*ei||0)!==or.time&&(or.time=yi,rr=!0),(rr||di)&&ue._whileplaying(yi,ar,ar,ar,ar)),rr},this._get_html5_duration=function(){var di=ue._iO,Si=ue._a&&ue._a.duration?ue._a.duration*ei:di&&di.duration?di.duration:null;return Si&&!isNaN(Si)&&Si!==1/0?Si:null},this._apply_loop=function(di,Si){!di.loop&&Si>1&&I._wD("Note: Native HTML5 looping is infinite.",1),di.loop=Si>1?"loop":""},this._setup_html5=function(di){var Si,yi=E(ue._iO,di),rr=We?Ue:ue._a,ar=decodeURI(yi.url);if(We?ar===decodeURI(Rt)&&(Si=!0):ar===decodeURI(xn)&&(Si=!0),rr){if(rr._s){if(We)rr._s&&rr._s.playState&&!Si&&rr._s.stop();else if(!We&&ar===decodeURI(xn))return ue._apply_loop(rr,yi.loops),rr}Si||(xn&&be(!1),rr.src=yi.url,ue.url=yi.url,xn=yi.url,Rt=yi.url,rr._called_load=!1)}else yi.autoLoad||yi.autoPlay?(ue._a=new Audio(yi.url),ue._a.load()):ue._a=ir&&opera.version()<10?new Audio(null):new Audio,(rr=ue._a)._called_load=!1,We&&(Ue=rr);return ue.isHTML5=!0,ue._a=rr,rr._s=ue,xe(),ue._apply_loop(rr,yi.loops),yi.autoLoad||yi.autoPlay?ue.load():(rr.autobuffer=!1,rr.preload="auto"),rr},xe=function(){if(ue._a._added_events)return!1;var di,Si,yi;for(di in ue._a._added_events=!0,Ot)Ot.hasOwnProperty(di)&&(Si=di,yi=Ot[di],ue._a&&ue._a.addEventListener(Si,yi,!1));return!0},$t=function(){var di,Si,yi;for(di in I._wD(ue.id+": Removing event listeners"),ue._a._added_events=!1,Ot)Ot.hasOwnProperty(di)&&(Si=di,yi=Ot[di],ue._a&&ue._a.removeEventListener(Si,yi,!1))},this._onload=function(di){var Si,yi=!!di||!ue.isHTML5&&k===8&&ue.duration;return Si=ue.id+": ",I._wD(Si+(yi?"onload()":"Failed to load / invalid sound?"+(ue.duration?" -":" Zero-length duration reported.")+" ("+ue.url+")"),yi?1:2),yi||ue.isHTML5||(I.sandbox.noRemote===!0&&I._wD(Si+ht("noNet"),1),I.sandbox.noLocal===!0&&I._wD(Si+ht("noLocal"),1)),ue.loaded=yi,ue.readyState=yi?3:2,ue._onbufferchange(0),yi||ue.isHTML5||ue._onerror(),ue._iO.onload&&St(ue,function(){ue._iO.onload.apply(ue,[yi])}),!0},this._onerror=function(di,Si){ue._iO.onerror&&St(ue,function(){ue._iO.onerror.apply(ue,[di,Si])})},this._onbufferchange=function(di){return!(ue.playState===0||di&&ue.isBuffering||!di&&!ue.isBuffering||(ue.isBuffering=di===1,ue._iO.onbufferchange&&(I._wD(ue.id+": Buffer state change: "+di),ue._iO.onbufferchange.apply(ue,[di])),0))},this._onsuspend=function(){return ue._iO.onsuspend&&(I._wD(ue.id+": Playback suspended"),ue._iO.onsuspend.apply(ue)),!0},this._onfailure=function(di,Si,yi){ue.failures++,I._wD(ue.id+": Failure ("+ue.failures+"): "+di),ue._iO.onfailure&&ue.failures===1?ue._iO.onfailure(di,Si,yi):I._wD(ue.id+": Ignoring failure")},this._onwarning=function(di,Si,yi){ue._iO.onwarning&&ue._iO.onwarning(di,Si,yi)},this._onfinish=function(){var di=ue._iO.onfinish;ue._onbufferchange(0),ue._resetOnPosition(0),ue.instanceCount&&(ue.instanceCount--,ue.instanceCount||(Fi(),ue.playState=0,ue.paused=!1,ue.instanceCount=0,ue.instanceOptions={},ue._iO={},zt(),ue.isHTML5&&(ue.position=0)),ue.instanceCount&&!ue._iO.multiShotEvents||di&&(I._wD(ue.id+": onfinish()"),St(ue,function(){di.apply(ue)})))},this._whileloading=function(di,Si,yi,rr){var ar=ue._iO;ue.bytesLoaded=di,ue.bytesTotal=Si,ue.duration=Math.floor(yi),ue.bufferLength=rr,ue.isHTML5||ar.isMovieStar?ue.durationEstimate=ue.duration:ar.duration?ue.durationEstimate=ue.duration>ar.duration?ue.duration:ar.duration:ue.durationEstimate=parseInt(ue.bytesTotal/ue.bytesLoaded*ue.duration,10),ue.isHTML5||(ue.buffered=[{start:0,end:ue.duration}]),(ue.readyState!==3||ue.isHTML5)&&ar.whileloading&&ar.whileloading.apply(ue)},this._whileplaying=function(di,Si,yi,rr,ar){var Ln,yn=ue._iO;return!isNaN(di)&&di!==null&&(ue.position=Math.max(0,di),ue._processOnPosition(),!ue.isHTML5&&k>8&&(yn.usePeakData&&Si!==o&&Si&&(ue.peakData={left:Si.leftPeak,right:Si.rightPeak}),yn.useWaveformData&&yi!==o&&yi&&(ue.waveformData={left:yi.split(","),right:rr.split(",")}),yn.useEQData&&ar!==o&&ar&&ar.leftEQ&&(Ln=ar.leftEQ.split(","),ue.eqData=Ln,ue.eqData.left=Ln,ar.rightEQ!==o&&ar.rightEQ&&(ue.eqData.right=ar.rightEQ.split(",")))),ue.playState===1&&(ue.isHTML5||k!==8||ue.position||!ue.isBuffering||ue._onbufferchange(0),yn.whileplaying&&yn.whileplaying.apply(ue)),!0)},this._oncaptiondata=function(di){I._wD(ue.id+": Caption data received."),ue.captiondata=di,ue._iO.oncaptiondata&&ue._iO.oncaptiondata.apply(ue,[di])},this._onmetadata=function(di,Si){I._wD(ue.id+": Metadata received.");var yi,rr,ar={};for(yi=0,rr=di.length;yi<rr;yi++)ar[di[yi]]=Si[yi];ue.metadata=ar,ue._iO.onmetadata&&ue._iO.onmetadata.call(ue,ue.metadata)},this._onid3=function(di,Si){I._wD(ue.id+": ID3 data received.");var yi,rr,ar=[];for(yi=0,rr=di.length;yi<rr;yi++)ar[di[yi]]=Si[yi];ue.id3=E(ue.id3,ar),ue._iO.onid3&&ue._iO.onid3.apply(ue)},this._onconnect=function(di){di=di===1,I._wD(ue.id+": "+(di?"Connected.":"Failed to connect? - "+ue.url),di?1:2),ue.connected=di,di&&(ue.failures=0,Pt(ue.id)&&(ue.getAutoPlay()?ue.play(o,ue.getAutoPlay()):ue._iO.autoLoad&&ue.load()),ue._iO.onconnect&&ue._iO.onconnect.apply(ue,[di]))},this._ondataerror=function(di){ue.playState>0&&(I._wD(ue.id+": Data error: "+di),ue._iO.ondataerror&&ue._iO.ondataerror.apply(ue))},this._debug()},W=function(){return Pe.body||Pe.getElementsByTagName("div")[0]},m=function(B){return Pe.getElementById(B)},E=function(B,be){var xe,$t,zt=B||{};for($t in xe=be===o?I.defaultOptions:be)xe.hasOwnProperty($t)&&zt[$t]===o&&(typeof xe[$t]!="object"||xe[$t]===null?zt[$t]=xe[$t]:zt[$t]=E(zt[$t],xe[$t]));return zt},St=function(B,be){B.isHTML5||k!==8?be():l.setTimeout(be,0)},p={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},a=function(B,be){var xe,$t=!0,zt=be!==o,gi=I.setupOptions,mi=p;if(B===o){for(xe in $t=[],gi)gi.hasOwnProperty(xe)&&$t.push(xe);for(xe in mi)mi.hasOwnProperty(xe)&&(typeof I[xe]=="object"?$t.push(xe+": {...}"):I[xe]instanceof Function?$t.push(xe+": function() {...}"):$t.push(xe));return I._wD(ht("setup",$t.join(", "))),!1}for(xe in B)if(B.hasOwnProperty(xe))if(typeof B[xe]!="object"||B[xe]===null||B[xe]instanceof Array||B[xe]instanceof RegExp)zt&&mi[be]!==o?I[be][xe]=B[xe]:gi[xe]!==o?(I.setupOptions[xe]=B[xe],I[xe]=B[xe]):mi[xe]===o?(pt(ht(I[xe]===o?"setupUndef":"setupError",xe),2),$t=!1):I[xe]instanceof Function?I[xe].apply(I,B[xe]instanceof Array?B[xe]:[B[xe]]):I[xe]=B[xe];else{if(mi[xe]!==o)return a(B[xe],xe);pt(ht(I[xe]===o?"setupUndef":"setupError",xe),2),$t=!1}return $t},gt=function(){var B=l.attachEvent,be={add:B?"attachEvent":"addEventListener",remove:B?"detachEvent":"removeEventListener"};function xe(zt){var gi=Xt.call(zt),mi=gi.length;return B?(gi[1]="on"+gi[1],mi>3&&gi.pop()):mi===3&&gi.push(!1),gi}function $t(zt,gi){var mi=zt.shift(),Fi=[be[gi]];B?mi[Fi](zt[0],zt[1]):mi[Fi].apply(mi,zt)}return{add:function(){$t(xe(arguments),"add")},remove:function(){$t(xe(arguments),"remove")}}}(),Ot={abort:he(function(){I._wD(this._s.id+": abort")}),canplay:he(function(){var B,be=this._s;if(!be._html5_canplay){if(be._html5_canplay=!0,I._wD(be.id+": canplay"),be._onbufferchange(0),B=be._iO.position===o||isNaN(be._iO.position)?null:be._iO.position/ei,this.currentTime!==B){I._wD(be.id+": canplay: Setting position to "+B);try{this.currentTime=B}catch(xe){I._wD(be.id+": canplay: Setting position of "+B+" failed: "+xe.message,2)}}be._iO._oncanplay&&be._iO._oncanplay()}}),canplaythrough:he(function(){var B=this._s;B.loaded||(B._onbufferchange(0),B._whileloading(B.bytesLoaded,B.bytesTotal,B._get_html5_duration()),B._onload(!0))}),durationchange:he(function(){var B,be=this._s;B=be._get_html5_duration(),isNaN(B)||B===be.duration||(I._wD(this._s.id+": durationchange ("+B+")"+(be.duration?", previously "+be.duration:"")),be.durationEstimate=be.duration=B)}),ended:he(function(){var B=this._s;I._wD(B.id+": ended"),B._onfinish()}),error:he(function(){var B=Ce[this.error.code]||null;I._wD(this._s.id+": HTML5 error, code "+this.error.code+(B?" ("+B+")":"")),this._s._onload(!1),this._s._onerror(this.error.code,B)}),loadeddata:he(function(){var B=this._s;I._wD(B.id+": loadeddata"),B._loaded||Mi||(B.duration=B._get_html5_duration())}),loadedmetadata:he(function(){I._wD(this._s.id+": loadedmetadata")}),loadstart:he(function(){I._wD(this._s.id+": loadstart"),this._s._onbufferchange(1)}),play:he(function(){this._s._onbufferchange(0)}),playing:he(function(){I._wD(this._s.id+": playing \u266B"),this._s._onbufferchange(0)}),progress:he(function(B){var be,xe,$t,zt=this._s,gi=0,mi=B.type==="progress",Fi=B.target.buffered,hr=B.loaded||0,or=B.total||1;if(zt.buffered=[],Fi&&Fi.length){for(be=0,xe=Fi.length;be<xe;be++)zt.buffered.push({start:Fi.start(be)*ei,end:Fi.end(be)*ei});if(gi=(Fi.end(0)-Fi.start(0))*ei,hr=Math.min(1,gi/(B.target.duration*ei)),mi&&Fi.length>1){for($t=[],xe=Fi.length,be=0;be<xe;be++)$t.push(B.target.buffered.start(be)*ei+"-"+B.target.buffered.end(be)*ei);I._wD(this._s.id+": progress, timeRanges: "+$t.join(", "))}mi&&!isNaN(hr)&&I._wD(this._s.id+": progress, "+Math.floor(100*hr)+"% loaded")}isNaN(hr)||(zt._whileloading(hr,or,zt._get_html5_duration()),hr&&or&&hr===or&&Ot.canplaythrough.call(this,B))}),ratechange:he(function(){I._wD(this._s.id+": ratechange")}),suspend:he(function(B){var be=this._s;I._wD(this._s.id+": suspend"),Ot.progress.call(this,B),be._onsuspend()}),stalled:he(function(){I._wD(this._s.id+": stalled")}),timeupdate:he(function(){this._s._onTimer()}),waiting:he(function(){var B=this._s;I._wD(this._s.id+": waiting"),B._onbufferchange(1)})},$e=function(B){return!(!B||!(B.type||B.url||B.serverURL))&&!(B.serverURL||B.type&&ve(B.type))&&(B.type?at({type:B.type}):at({url:B.url})||I.html5Only||B.url.match(/data:/i))},tt=function(B){var be;return B&&(be=Mi?Xr:I.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":Xr,B.src=be,B._called_unload!==o&&(B._called_load=!1)),We&&(Rt=null),be},at=function(B){if(!I.useHTML5Audio||!I.hasHTML5)return!1;var be,xe,$t,zt,gi=B.url||null,mi=B.type||null,Fi=I.audioFormats;if(mi&&I.html5[mi]!==o)return I.html5[mi]&&!ve(mi);if(!Je){for(zt in Je=[],Fi)Fi.hasOwnProperty(zt)&&(Je.push(zt),Fi[zt].related&&(Je=Je.concat(Fi[zt].related)));Je=new RegExp("\\.("+Je.join("|")+")(\\?.*)?$","i")}return($t=gi?gi.toLowerCase().match(Je):null)&&$t.length?$t=$t[1]:mi?$t=((xe=mi.indexOf(";"))!==-1?mi.substr(0,xe):mi).substr(6):be=!1,$t&&I.html5[$t]!==o?be=I.html5[$t]&&!ve($t):(mi="audio/"+$t,be=I.html5.canPlayType({type:mi}),I.html5[$t]=be,be=be&&I.html5[mi]&&!ve(mi)),be},ct=function(){if(!I.useHTML5Audio||!I.hasHTML5)return I.html5.usingFlash=!0,_t=!0,!1;var B,be,xe,$t,zt=Audio!==o?ir&&opera.version()<10?new Audio(null):new Audio:null,gi={};function mi(Fi){var hr,or,Ur=!1,ue=!1;if(!zt||typeof zt.canPlayType!="function")return Ur;if(Fi instanceof Array){for($t=0,or=Fi.length;$t<or;$t++)(I.html5[Fi[$t]]||zt.canPlayType(Fi[$t]).match(I.html5Test))&&(ue=!0,I.html5[Fi[$t]]=!0,I.flash[Fi[$t]]=!!Fi[$t].match(Tr));Ur=ue}else Ur=!(!(hr=!(!zt||typeof zt.canPlayType!="function")&&zt.canPlayType(Fi))||!hr.match(I.html5Test));return Ur}for(B in xe=I.audioFormats)if(xe.hasOwnProperty(B)&&(be="audio/"+B,gi[B]=mi(xe[B].type),gi[be]=gi[B],B.match(Tr)?(I.flash[B]=!0,I.flash[be]=!0):(I.flash[B]=!1,I.flash[be]=!1),xe[B]&&xe[B].related))for($t=xe[B].related.length-1;$t>=0;$t--)gi["audio/"+xe[B].related[$t]]=gi[B],I.html5[xe[B].related[$t]]=gi[B],I.flash[xe[B].related[$t]]=gi[B];return gi.canPlayType=zt?mi:null,I.html5=E(I.html5,gi),I.html5.usingFlash=we(),_t=I.html5.usingFlash,!0},oe={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:Ve+"exception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:Xe+"Verify that %s is a valid path.",tryDebug:"Try "+Ve+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:Xe+"Non-HTTP page ("+Pe.location.protocol+` URL?) Review Flash player security settings for this special case:
http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html
May need to add/allow path, eg. c:/sm2/ or /users/me/sm2/`,waitFocus:Xe+"Special case: Waiting for SWF to load with window focus...",waitForever:Xe+"Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:Xe+"Waiting for 100% SWF load...",needFunction:Xe+"Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:Xe+"_debug(): Current sound objects",waitOnload:Xe+"Waiting for window.onload()",docLoaded:Xe+"Document already loaded",onload:Xe+"initComplete(): calling soundManager.onload()",onloadOK:Ve+".onload() complete",didInit:Xe+"init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:Xe+"Failed to remove Flash node.",shutdown:Ve+".disable(): Shutting down",queue:Xe+"Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Se.swfTimedout+" CSS...",fbLoaded:"Flash loaded",fbHandler:Xe+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:Ve+".load(): current URL already assigned.",badFV:Ve+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",needFlash:Xe+"Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:Xe+"Got window focus.",policy:"Enabling usePolicyFile for data access",setup:Ve+".setup(): allowed parameters: %s",setupError:Ve+'.setup(): "%s" cannot be assigned with this method.',setupUndef:Ve+'.setup(): Could not find option "%s"',setupLate:Ve+".setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:Xe+"Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready. \u2713",reset:Ve+".reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device.",ignoreMobile:"Ignoring mobile restrictions for this device."},ht=function(){var B,be,xe,$t,zt;if($t=(B=Xt.call(arguments)).shift(),(zt=oe&&oe[$t]?oe[$t]:"")&&B&&B.length)for(be=0,xe=B.length;be<xe;be++)zt=zt.replace("%s",B[be]);return zt},Re=function(B){return k===8&&B.loops>1&&B.stream&&(L("as2loop"),B.stream=!1),B},ot=function(B,be){return B&&!B.usePolicyFile&&(B.onid3||B.usePeakData||B.useWaveformData||B.useEQData)&&(I._wD((be||"")+ht("policy")),B.usePolicyFile=!0),B},pt=function(B){Sr&&console.warn!==o?console.warn(B):I._wD(B)},y=function(){return!1},Y=function(B){var be;for(be in B)B.hasOwnProperty(be)&&typeof B[be]=="function"&&(B[be]=y);be=null},ce=function(B){B===o&&(B=!1),(Jt||B)&&I.disable(B)},Ge=function(B){var be;if(B)if(B.match(/\.swf(\?.*)?$/i)){if(B.substr(B.toLowerCase().lastIndexOf(".swf?")+4))return B}else B.lastIndexOf("/")!==B.length-1&&(B+="/");return be=(B&&B.lastIndexOf("/")!==-1?B.substr(0,B.lastIndexOf("/")+1):"./")+I.movieURL,I.noSWFCache&&(be+="?ts="+new Date().getTime()),be},q=function(){(k=parseInt(I.flashVersion,10))!==8&&k!==9&&(I._wD(ht("badFV",k,8)),I.flashVersion=k=8);var B=I.debugMode||I.debugFlash?"_debug.swf":".swf";I.useHTML5Audio&&!I.html5Only&&I.audioFormats.mp4.required&&k<9&&(I._wD(ht("needfl9")),I.flashVersion=k=9),I.version=I.versionNumber+(I.html5Only?" (HTML5-only mode)":k===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),k>8?(I.defaultOptions=E(I.defaultOptions,I.flash9Options),I.features.buffering=!0,I.defaultOptions=E(I.defaultOptions,I.movieStarOptions),I.filePatterns.flash9=new RegExp("\\.(mp3|"+Gr.join("|")+")(\\?.*)?$","i"),I.features.movieStar=!0):I.features.movieStar=!1,I.filePattern=I.filePatterns[k!==8?"flash9":"flash8"],I.movieURL=(k===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",B),I.features.peakData=I.features.waveformData=I.features.eqData=k>8},Z=function(B,be){_e&&_e._setPolling(B,be)},ye=function(){if(I.debugURLParam.test(re)&&(I.setupOptions.debugMode=I.debugMode=!0),!m(I.debugID)){var B,be,xe,$t,zt;if(I.debugMode&&!m(I.debugID)&&(!Sr||!I.useConsole||!I.consoleOnly)){for(zt in(B=Pe.createElement("div")).id=I.debugID+"-toggle",$t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},B.appendChild(Pe.createTextNode("-")),B.onclick=Ie,B.title="Toggle SM2 debug console",ut.match(/msie 6/i)&&(B.style.position="absolute",B.style.cursor="hand"),$t)$t.hasOwnProperty(zt)&&(B.style[zt]=$t[zt]);if((be=Pe.createElement("div")).id=I.debugID,be.style.display=I.debugMode?"block":"none",I.debugMode&&!m(B.id)){try{(xe=W()).appendChild(B)}catch(gi){throw new Error(ht("domError")+` 
`+gi.toString())}xe.appendChild(be)}}xe=null}},Pt=this.getSoundById,L=function(B,be){return B?I._wD(ht(B),be):""},Ie=function(){var B=m(I.debugID),be=m(I.debugID+"-toggle");B&&(vt?(be.innerHTML="+",B.style.display="none"):(be.innerHTML="-",B.style.display="block"),vt=!vt)},A=function(B,be,xe){if(l.sm2Debugger!==o)try{sm2Debugger.handleEvent(B,be,xe)}catch($t){return!1}return!0},qe=function(){var B=[];return I.debugMode&&B.push(Se.sm2Debug),I.debugFlash&&B.push(Se.flashDebug),I.useHighPerformance&&B.push(Se.highPerf),B.join(" ")},st=function(){var B=ht("fbHandler"),be=I.getMoviePercent(),xe=Se,$t={type:"FLASHBLOCK"};I.html5Only||(I.ok()?(I.didFlashBlock&&I._wD(B+": Unblocked"),I.oMC&&(I.oMC.className=[qe(),xe.swfDefault,xe.swfLoaded+(I.didFlashBlock?" "+xe.swfUnblocked:"")].join(" "))):(_t&&(I.oMC.className=qe()+" "+xe.swfDefault+" "+(be===null?xe.swfTimedout:xe.swfError),I._wD(B+": "+ht("fbTimeout")+(be?" ("+ht("fbLoaded")+")":""))),I.didFlashBlock=!0,d({type:"ontimeout",ignoreInit:!0,error:$t}),de($t)))},v=function(B,be,xe){He[B]===o&&(He[B]=[]),He[B].push({method:be,scope:xe||null,fired:!1})},d=function(B){if(B||(B={type:I.ok()?"onready":"ontimeout"}),!Ut&&B&&!B.ignoreInit||B.type==="ontimeout"&&(I.ok()||Jt&&!B.ignoreInit))return!1;var be,xe,$t={success:B&&B.ignoreInit?I.ok():!Jt},zt=B&&B.type&&He[B.type]||[],gi=[],mi=[$t],Fi=_t&&!I.ok();for(B.error&&(mi[0].error=B.error),be=0,xe=zt.length;be<xe;be++)zt[be].fired!==!0&&gi.push(zt[be]);if(gi.length)for(be=0,xe=gi.length;be<xe;be++)gi[be].scope?gi[be].method.apply(gi[be].scope,mi):gi[be].method.apply(this,mi),Fi||(gi[be].fired=!0);return!0},x=function(){l.setTimeout(function(){I.useFlashBlock&&st(),d(),typeof I.onload=="function"&&(L("onload",1),I.onload.apply(l),L("onloadOK",1)),I.waitForWindowLoad&&gt.add(l,"load",x)},1)},oi=function(){if(ti!==o)return ti;var B,be,xe,$t,zt=!1,gi=navigator,mi=l.ActiveXObject;try{$t=gi.plugins}catch(Fi){$t=void 0}if($t&&$t.length)be="application/x-shockwave-flash",(xe=gi.mimeTypes)&&xe[be]&&xe[be].enabledPlugin&&xe[be].enabledPlugin.description&&(zt=!0);else if(mi!==o&&!ut.match(/MSAppHost/i)){try{B=new mi("ShockwaveFlash.ShockwaveFlash")}catch(Fi){B=null}zt=!!B,B=null}return ti=zt,zt},we=function(){var B,be,xe=I.audioFormats;if(ki&&ut.match(/os (1|2|3_0|3_1)\s/i)?(I.hasHTML5=!1,I.html5Only=!0,I.oMC&&(I.oMC.style.display="none")):I.useHTML5Audio&&(I.html5&&I.html5.canPlayType||(I._wD("SoundManager: No HTML5 Audio() support detected."),I.hasHTML5=!1),Gi&&I._wD(Xe+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ti?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1)),I.useHTML5Audio&&I.hasHTML5)for(be in Ct=!0,xe)xe.hasOwnProperty(be)&&xe[be].required&&(I.html5.canPlayType(xe[be].type)?I.preferFlash&&(I.flash[be]||I.flash[xe[be].type])&&(B=!0):(Ct=!1,B=!0));return I.ignoreFlash&&(B=!1,Ct=!0),I.html5Only=I.hasHTML5&&I.useHTML5Audio&&!B,!I.html5Only},Ke=function(B){var be,xe,$t,zt=0;if(B instanceof Array){for(be=0,xe=B.length;be<xe;be++)if(B[be]instanceof Object){if(I.canPlayMIME(B[be].type)){zt=be;break}}else if(I.canPlayURL(B[be])){zt=be;break}B[zt].url&&(B[zt]=B[zt].url),$t=B[zt]}else $t=B;return $t},Qe=function(B){B._hasTimer||(B._hasTimer=!0,!Yi&&I.html5PollingInterval&&(Ze===null&&Ht===0&&(Ze=setInterval(ie,I.html5PollingInterval)),Ht++))},ne=function(B){B._hasTimer&&(B._hasTimer=!1,!Yi&&I.html5PollingInterval&&Ht--)},ie=function(){var B;if(Ze!==null&&!Ht)return clearInterval(Ze),void(Ze=null);for(B=I.soundIDs.length-1;B>=0;B--)I.sounds[I.soundIDs[B]].isHTML5&&I.sounds[I.soundIDs[B]]._hasTimer&&I.sounds[I.soundIDs[B]]._onTimer()},de=function(B){B=B!==o?B:{},typeof I.onerror=="function"&&I.onerror.apply(l,[{type:B.type!==o?B.type:null}]),B.fatal!==o&&B.fatal&&I.disable()},ui=function(){if(Gi&&oi()){var B,be,xe=I.audioFormats;for(be in xe)if(xe.hasOwnProperty(be)&&(be==="mp3"||be==="mp4")&&(I._wD(Ve+": Using flash fallback for "+be+" format"),I.html5[be]=!1,xe[be]&&xe[be].related))for(B=xe[be].related.length-1;B>=0;B--)I.html5[xe[be].related[B]]=!1}},this._setSandboxType=function(B){var be=I.sandbox;be.type=B,be.description=be.types[be.types[B]!==o?B:"unknown"],be.type==="localWithFile"?(be.noRemote=!0,be.noLocal=!1,L("secNote",2)):be.type==="localWithNetwork"?(be.noRemote=!1,be.noLocal=!0):be.type==="localTrusted"&&(be.noRemote=!1,be.noLocal=!1)},this._externalInterfaceOK=function(B){if(!I.swfLoaded){var be;if(A("swf",!0),A("flashtojs",!0),I.swfLoaded=!0,yr=!1,Gi&&ui(),!B||B.replace(/\+dev/i,"")!==I.versionNumber.replace(/\+dev/i,""))return be=Ve+': Fatal: JavaScript file build "'+I.versionNumber+'" does not match Flash SWF build "'+B+'" at '+I.url+". Ensure both are up-to-date.",void setTimeout(function(){throw new Error(be)},0);setTimeout(w,ci?100:1)}},se=function(B,be){if(lt&&Et)return!1;function xe(){var yi,rr=[],ar=[];yi="SoundManager "+I.version+(!I.html5Only&&I.useHTML5Audio?I.hasHTML5?" + HTML5 audio":", no HTML5 audio support":""),I.html5Only?I.html5PollingInterval&&rr.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"):(I.preferFlash&&rr.push("preferFlash"),I.useHighPerformance&&rr.push("useHighPerformance"),I.flashPollingInterval&&rr.push("flashPollingInterval ("+I.flashPollingInterval+"ms)"),I.html5PollingInterval&&rr.push("html5PollingInterval ("+I.html5PollingInterval+"ms)"),I.wmode&&rr.push("wmode ("+I.wmode+")"),I.debugFlash&&rr.push("debugFlash"),I.useFlashBlock&&rr.push("flashBlock")),rr.length&&(ar=ar.concat([rr.join(" + ")])),I._wD(yi+(ar.length?" + "+ar.join(", "):""),1),It()}if(I.html5Only)return q(),xe(),I.oMC=m(I.movieID),w(),lt=!0,Et=!0,!1;var $t,zt,gi,mi,Fi,hr,or,Ur,ue,jn=be||I.url,wn=I.altURL||jn,$n=W(),xn=qe(),di=Pe.getElementsByTagName("html")[0];function Si(yi,rr){return'<param name="'+yi+'" value="'+rr+'" />'}if($t=di&&di.dir&&di.dir.match(/rtl/i),B=B===o?I.id:B,q(),I.url=Ge(ln?jn:wn),be=I.url,I.wmode=!I.wmode&&I.useHighPerformance?"transparent":I.wmode,I.wmode!==null&&(ut.match(/msie 8/i)||!ci&&!I.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(wt.push(oe.spcWmode),I.wmode=null),zt={name:B,id:B,src:be,quality:"high",allowScriptAccess:I.allowScriptAccess,bgcolor:I.bgColor,pluginspage:Pr+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:I.wmode,hasPriority:"true"},I.debugFlash&&(zt.FlashVars="debug=1"),I.wmode||delete zt.wmode,ci)gi=Pe.createElement("div"),Fi=['<object id="'+B+'" data="'+be+'" type="'+zt.type+'" title="'+zt.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',Si("movie",be),Si("AllowScriptAccess",I.allowScriptAccess),Si("quality",zt.quality),I.wmode?Si("wmode",I.wmode):"",Si("bgcolor",I.bgColor),Si("hasPriority","true"),I.debugFlash?Si("FlashVars",zt.FlashVars):"","</object>"].join("");else for(mi in gi=Pe.createElement("embed"),zt)zt.hasOwnProperty(mi)&&gi.setAttribute(mi,zt[mi]);if(ye(),xn=qe(),$n=W())if(I.oMC=m(I.movieID)||Pe.createElement("div"),I.oMC.id)ue=I.oMC.className,I.oMC.className=(ue?ue+" ":Se.swfDefault)+(xn?" "+xn:""),I.oMC.appendChild(gi),ci&&((hr=I.oMC.appendChild(Pe.createElement("div"))).className=Se.swfBox,hr.innerHTML=Fi),Et=!0;else{if(I.oMC.id=I.movieID,I.oMC.className=Se.swfDefault+" "+xn,or=null,hr=null,I.useFlashBlock||(I.useHighPerformance?or={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(or={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},$t&&(or.left=Math.abs(parseInt(or.left,10))+"px"))),Ei&&(I.oMC.style.zIndex=1e4),!I.debugFlash)for(Ur in or)or.hasOwnProperty(Ur)&&(I.oMC.style[Ur]=or[Ur]);try{ci||I.oMC.appendChild(gi),$n.appendChild(I.oMC),ci&&((hr=I.oMC.appendChild(Pe.createElement("div"))).className=Se.swfBox,hr.innerHTML=Fi),Et=!0}catch(yi){throw new Error(ht("domError")+` 
`+yi.toString())}}return lt=!0,xe(),!0},J=function(){return I.html5Only?(se(),!1):!_e&&(I.url?((_e=I.getMovie(I.id))||(Me?(ci?I.oMC.innerHTML=De:I.oMC.appendChild(Me),Me=null,lt=!0):se(I.id,I.url),_e=I.getMovie(I.id)),typeof I.oninitmovie=="function"&&setTimeout(I.oninitmovie,1),At(),!0):(L("noURL"),!1))},C=function(){setTimeout(N,1e3)},G=function(){l.setTimeout(function(){pt(Xe+"useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false..."),I.setup({preferFlash:!1}).reboot(),I.didFlashBlock=!0,I.beginDelayedInit()},1)},N=function(){var B,be=!1;I.url&&(et||(et=!0,gt.remove(l,"load",C),ti&&yr&&!tr?L("waitFocus"):(Ut||(B=I.getMoviePercent())>0&&B<100&&(be=!0),setTimeout(function(){if(B=I.getMoviePercent(),be)return et=!1,I._wD(ht("waitSWF")),void l.setTimeout(C,1);Ut||(I._wD(Ve+": No Flash response within expected time. Likely causes: "+(B===0?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(I.debugFlash?" "+ht("checkSWF"):""),2),!ln&&B&&(L("localFail",2),I.debugFlash||L("tryDebug",2)),B===0&&I._wD(ht("swf404",I.url),1),A("flashtojs",!1,": Timed out"+(ln?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"))),!Ut&&xr&&(B===null?I.useFlashBlock||I.flashLoadTimeout===0?(I.useFlashBlock&&st(),L("waitForever")):!I.useFlashBlock&&Ct?G():(L("waitForever"),d({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}})):I.flashLoadTimeout===0?L("waitForever"):!I.useFlashBlock&&Ct?G():ce(!0))},I.flashLoadTimeout))))},K=function(){function B(){gt.remove(l,"focus",K)}return tr||!yr?(B(),!0):(xr=!0,tr=!0,L("gotFocus"),et=!1,C(),B(),!0)},At=function(){wt.length&&(I._wD("SoundManager 2: "+wt.join(" "),1),wt=[])},It=function(){At();var B,be=[];if(I.useHTML5Audio&&I.hasHTML5){for(B in I.audioFormats)I.audioFormats.hasOwnProperty(B)&&be.push(B+" = "+I.html5[B]+(!I.html5[B]&&_t&&I.flash[B]?" (using flash)":I.preferFlash&&I.flash[B]&&_t?" (preferring flash)":I.html5[B]?"":" ("+(I.audioFormats[B].required?"required, ":"")+"and no flash support)"));I._wD("SoundManager 2 HTML5 support: "+be.join(", "),1)}},T=function(B){if(Ut)return!1;if(I.html5Only)return L("sm2Loaded",1),Ut=!0,x(),A("onload",!0),!0;var be,xe=!0;return I.useFlashBlock&&I.flashLoadTimeout&&!I.getMoviePercent()||(Ut=!0),be={type:!ti&&_t?"NO_FLASH":"INIT_TIMEOUT"},I._wD("SoundManager 2 "+(Jt?"failed to load":"loaded")+" ("+(Jt?"Flash security/load error":"OK")+") "+String.fromCharCode(Jt?10006:10003),Jt?2:1),Jt||B?(I.useFlashBlock&&I.oMC&&(I.oMC.className=qe()+" "+(I.getMoviePercent()===null?Se.swfTimedout:Se.swfError)),d({type:"ontimeout",error:be,ignoreInit:!0}),A("onload",!1),de(be),xe=!1):A("onload",!0),Jt||(I.waitForWindowLoad&&!Lt?(L("waitOnload"),gt.add(l,"load",x)):(I.waitForWindowLoad&&Lt&&L("docLoaded"),x())),xe},_=function(){var B,be=I.setupOptions;for(B in be)be.hasOwnProperty(B)&&(I[B]===o?I[B]=be[B]:I[B]!==be[B]&&(I.setupOptions[B]=I[B]))},w=function(){if(Ut)return L("didInit"),!1;function B(){gt.remove(l,"load",I.beginDelayedInit)}if(I.html5Only)return Ut||(B(),I.enabled=!0,T()),!0;J();try{_e._externalInterfaceTest(!1),Z(!0,I.flashPollingInterval||(I.useHighPerformance?10:50)),I.debugMode||_e._disableDebug(),I.enabled=!0,A("jstoflash",!0),I.html5Only||gt.add(l,"unload",y)}catch(be){return I._wD("js/flash exception: "+be.toString()),A("jstoflash",!1),de({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),ce(!0),T(),!1}return T(),B(),!0},Q=function(){return!ge&&(ge=!0,_(),ye(),!ti&&I.hasHTML5&&(I._wD("SoundManager 2: No Flash detected"+(I.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5."),1),I.setup({useHTML5Audio:!0,preferFlash:!1})),ct(),!ti&&_t&&(wt.push(oe.needFlash),I.setup({flashLoadTimeout:1})),Pe.removeEventListener&&Pe.removeEventListener("DOMContentLoaded",Q,!1),J(),!0)},Vt=function(){return Pe.readyState==="complete"&&(Q(),Pe.detachEvent("onreadystatechange",Vt)),!0},Oe=function(){Lt=!0,Q(),gt.remove(l,"load",Oe)},oi(),gt.add(l,"focus",K),gt.add(l,"load",C),gt.add(l,"load",Oe),Pe.addEventListener?Pe.addEventListener("DOMContentLoaded",Q,!1):Pe.attachEvent?Pe.attachEvent("onreadystatechange",Vt):(A("onload",!1),de({type:"NO_DOM2_EVENTS",fatal:!0}))}l.SM2_DEFER!==o&&SM2_DEFER||(c=new n),e&&typeof e.exports=="object"?(e.exports.SoundManager=n,e.exports.soundManager=c):(s=function(){return{constructor:n,getInstance:function(u){if(!l.soundManager&&u instanceof Function){var h=u(n);h instanceof n&&(l.soundManager=h)}return l.soundManager}}}.call(t,r,t,e))===void 0||(e.exports=s),l.SoundManager=n,l.soundManager=c}(window)},706:function(e,t,r){"use strict";var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){"use strict";var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){"use strict";function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},1966:function(e,t,r){"use strict";r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(2008),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(479),r(8130),r(9085),r(5506),r(3851),r(1278),r(875),r(9432),r(6099),r(8459),r(3362),r(825),r(888),r(7495),r(8781),r(7764),r(1761),r(1392),r(3500),r(2953),r(5440);var s=r(9073),l=r(1669);function o(Ye){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},o(Ye)}function c(Ye,Me){return function(De){if(Array.isArray(De))return De}(Ye)||function(De,et){var Tt=De==null?null:typeof Symbol<"u"&&De[Symbol.iterator]||De["@@iterator"];if(Tt!=null){var Ht,Ze,wt,_t,Xt=[],We=!0,ri=!1;try{if(wt=(Tt=Tt.call(De)).next,et===0){if(Object(Tt)!==Tt)return;We=!1}else for(;!(We=(Ht=wt.call(Tt)).done)&&(Xt.push(Ht.value),Xt.length!==et);We=!0);}catch(ei){ri=!0,Ze=ei}finally{try{if(!We&&Tt.return!=null&&(_t=Tt.return(),Object(_t)!==_t))return}finally{if(ri)throw Ze}}return Xt}}(Ye,Me)||function(De,et){if(De){if(typeof De=="string")return n(De,et);var Tt={}.toString.call(De).slice(8,-1);return Tt==="Object"&&De.constructor&&(Tt=De.constructor.name),Tt==="Map"||Tt==="Set"?Array.from(De):Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt)?n(De,et):void 0}}(Ye,Me)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function n(Ye,Me){(Me==null||Me>Ye.length)&&(Me=Ye.length);for(var De=0,et=Array(Me);De<Me;De++)et[De]=Ye[De];return et}function u(){u=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&o(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(o(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function h(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function g(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,m(et.key),et)}}function m(Ye){var Me=function(De,et){if(o(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(o(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return o(Me)=="symbol"?Me:Me+""}var y=function(){function Ye(Ht,Ze,wt,_t){(function(Xt,We){if(!(Xt instanceof We))throw new TypeError("Cannot call a class as a function")})(this,Ye),this.leafIndex=Ht,this.chunkIndex=Ze,this.text=wt,this.lineRects=_t}return Me=Ye,De=[{key:"fetch",value:(et=u().mark(function Ht(Ze,wt){var _t;return u().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:return Xt.next=2,l.ajax({type:"GET",url:(0,s.g)(Ze,{pageIndex:wt}),cache:!0,xhrFields:{withCredentials:window.br.protected}});case 2:return _t=Xt.sent,Xt.abrupt("return",Ye._fromTextWrapperResponse(wt,_t));case 4:case"end":return Xt.stop()}},Ht)}),Tt=function(){var Ht=this,Ze=arguments;return new Promise(function(wt,_t){var Xt=et.apply(Ht,Ze);function We(ei){h(Xt,wt,_t,We,ri,"next",ei)}function ri(ei){h(Xt,wt,_t,We,ri,"throw",ei)}We(void 0)})},function(Ht,Ze){return Tt.apply(this,arguments)})},{key:"_fromTextWrapperResponse",value:function(Ht,Ze){return Ze.map(function(wt,_t){var Xt=Ye._fixChunkRects(wt.slice(1)),We=Ye._removeDanglingHyphens(wt[0]);return new Ye(Ht,_t,We,Xt)})}},{key:"_fixChunkRects",value:function(Ht){if(Ht.length<2)return Ht;var Ze=c(Ht,2),wt=Ze[0],_t=Ze[1],Xt=c(wt,3),We=Xt[0],ri=Xt[1],ei=Xt[2]-We,ki=_t[1]-_t[3],qt=_t[2]-_t[0],ci=_t[2];return ei>30*qt&&(wt[2]=ci,wt[3]=ri-ki),Ht}},{key:"_removeDanglingHyphens",value:function(Ht){return Ht.replace(/[-]\s+/g,"")}}],De&&g(Me,De),Object.defineProperty(Me,"prototype",{writable:!1}),Me;var Me,De,et,Tt}();function _(Ye){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},_(Ye)}function w(){w=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&_(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(_(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function k(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function A(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,L(et.key),et)}}function L(Ye){var Me=function(De,et){if(_(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(_(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return _(Me)=="symbol"?Me:Me+""}var T=function(){function Ye(Ht,Ze,wt){(function(_t,Xt){if(!(_t instanceof Xt))throw new TypeError("Cannot call a class as a function")})(this,Ye),this.pageCount=Ht,this.opts=Object.assign({},E,wt),this._cursor={page:Ze,chunk:0},this._bufferedPages={},this._bufferingPages={},this._cursorLock=Promise.resolve()}return Me=Ye,De=[{key:"next",value:function(){var Ht=this;return this._cursorLock=this._cursorLock.then(function(){return Ht._nextUncontrolled()})}},{key:"decrement",value:function(){var Ht=this;return this._cursorLock=this._cursorLock.then(function(){return Ht._decrementUncontrolled()})}},{key:"_nextUncontrolled",value:(et=w().mark(function Ht(){var Ze;return w().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(this._cursor.page!=this.pageCount){wt.next=2;break}return wt.abrupt("return",Promise.resolve(Ye.AT_END));case 2:return this._recenterBuffer(this._cursor.page),wt.next=5,this._fetchPageChunks(this._cursor.page);case 5:if(Ze=wt.sent,this._cursor.chunk!=Ze.length){wt.next=10;break}return this._cursor.page++,this._cursor.chunk=0,wt.abrupt("return",this._nextUncontrolled());case 10:return wt.abrupt("return",Ze[this._cursor.chunk++]);case 11:case"end":return wt.stop()}},Ht,this)}),Tt=function(){var Ht=this,Ze=arguments;return new Promise(function(wt,_t){var Xt=et.apply(Ht,Ze);function We(ei){k(Xt,wt,_t,We,ri,"next",ei)}function ri(ei){k(Xt,wt,_t,We,ri,"throw",ei)}We(void 0)})},function(){return Tt.apply(this,arguments)})},{key:"_decrementUncontrolled",value:function(){var Ht=this,Ze=Promise.resolve();return this._cursor.chunk>0?this._cursor.chunk--:this._cursor.page>0&&(this._cursor.page--,Ze=this._fetchPageChunks(this._cursor.page).then(function(wt){if(wt.length==0)return Ht._decrementUncontrolled();Ht._cursor.chunk=wt.length-1})),Ze.then(function(){return Ht._fetchPageChunks(Ht._cursor.page)})}},{key:"_recenterBuffer",value:function(Ht){for(var Ze=Math.max(0,Ht-this.opts.pageBufferSize),wt=Math.min(this.pageCount,Ht+this.opts.pageBufferSize+1),_t=Ze;_t<wt;_t++)this._fetchPageChunks(_t);this._removePageFromBuffer(Ze-1),this._removePageFromBuffer(wt+1)}},{key:"_removePageFromBuffer",value:function(Ht){delete this._bufferingPages[Ht],delete this._bufferedPages[Ht]}},{key:"_fetchPageChunks",value:function(Ht){var Ze=this;return Ht in this._bufferingPages?this._bufferingPages[Ht]:Ht in this._bufferedPages?Promise.resolve(this._bufferedPages[Ht]):(this._bufferingPages[Ht]=this._fetchPageChunksDirect(Ht).then(function(wt){return delete Ze._bufferingPages[Ht],Ze._bufferedPages[Ht]=wt,wt}),this._bufferingPages[Ht])}},{key:"_fetchPageChunksDirect",value:function(Ht){return y.fetch(this.opts.pageChunkUrl,Ht)}}],De&&A(Me.prototype,De),Object.defineProperty(Me,"prototype",{writable:!1}),Me;var Me,De,et,Tt}();T.AT_END="__PageChunkIterator.AT_END__";var E={pageChunkUrl:null,pageBufferSize:2},a=r(4031);function p(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:navigator.userAgent;return/android/i.test(Ye)}var v={Name:0,Endonym:1,"ISO 639-1":2,"ISO 639-2/T":3,"ISO 639-2/B":4};function d(Ye,Me){for(var De=0;De<a.length;De++)for(var et=0;et<Me.length;et++){var Tt=Me[et];if(a[De][v[Tt]].split(", ").map(function(Ht){return Ht.toLowerCase()}).indexOf(Ye)!=-1)return a[De][v["ISO 639-1"]]}return null}function x(){try{return!!window.localStorage}catch(Ye){return!1}}var C=location.toString().indexOf("_debugReadAloud=true")!=-1,N=r(1669);function G(Ye){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},G(Ye)}function q(Ye,Me){(Me==null||Me>Ye.length)&&(Me=Ye.length);for(var De=0,et=Array(Me);De<Me;De++)et[De]=Ye[De];return et}function K(){K=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&G(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(G(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function oe(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function J(Ye){return function(){var Me=this,De=arguments;return new Promise(function(et,Tt){var Ht=Ye.apply(Me,De);function Ze(_t){oe(Ht,et,Tt,Ze,wt,"next",_t)}function wt(_t){oe(Ht,et,Tt,Ze,wt,"throw",_t)}Ze(void 0)})}}function Q(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,Oe(et.key),et)}}function Oe(Ye){var Me=function(De,et){if(G(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(G(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return G(Me)=="symbol"?Me:Me+""}var ge=function(){function Ye(Ze){var wt,_t,Xt,We=this;(function(ri,ei){if(!(ri instanceof ei))throw new TypeError("Cannot call a class as a function")})(this,Ye),wt=this,Xt=function(){We.voice=Ye.getBestBookVoice(We.getVoices(),We.opts.bookLanguage)},(_t=Oe(_t="updateBestVoice"))in wt?Object.defineProperty(wt,_t,{value:Xt,enumerable:!0,configurable:!0,writable:!0}):wt[_t]=Xt,this.playing=!1,this.paused=!1,this.opts=Ze,this._chunkIterator=null,this.activeSound=null,this.playbackRate=1,this.events=N({}),this.voice=null,this.events.on("voiceschanged",this.updateBestVoice),this.events.trigger("voiceschanged")}return Me=Ye,De=[{key:"getVoices",value:function(){throw new Error("Unimplemented abstract class")}},{key:"init",value:function(){return null}},{key:"start",value:function(Ze,wt){this.playing=!0,this.paused=!1,this.opts.onLoadingStart(),this._chunkIterator=new T(wt,Ze,{pageChunkUrl:this.opts.pageChunkUrl,pageBufferSize:5}),this.step(),this.events.trigger("start")}},{key:"stop",value:function(){this.activeSound&&this.activeSound.stop(),this.playing=!1,this.paused=!0,this._chunkIterator=null,this.activeSound=null,this.events.trigger("stop")}},{key:"pause",value:function(){var Ze=!this.paused&&this.activeSound;this.paused=!0,this.activeSound&&this.activeSound.pause(),Ze&&this.events.trigger("pause")}},{key:"resume",value:function(){var Ze=this.paused&&this.activeSound;this.paused=!1,this.activeSound&&this.activeSound.resume(),Ze&&this.events.trigger("resume")}},{key:"togglePlayPause",value:function(){this.paused?this.resume():this.pause()}},{key:"jumpForward",value:function(){this.activeSound&&this.activeSound.finish()}},{key:"jumpBackward",value:(Ht=J(K().mark(function Ze(){var wt=this;return K().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,Promise.all([this.activeSound.stop(),this._chunkIterator.decrement().then(function(){return wt._chunkIterator.decrement()})]);case 2:this.step();case 3:case"end":return _t.stop()}},Ze,this)})),function(){return Ht.apply(this,arguments)})},{key:"setVoice",value:function(Ze){this.events.off("voiceschanged",this.updateBestVoice),this.voice=this.getVoices().find(function(wt){return wt.voiceURI===Ze}),this.opts.bookLanguage&&x()&&localStorage.setItem("BRtts-voice-".concat(this.opts.bookLanguage),this.voice.voiceURI),this.activeSound&&this.activeSound.setVoice(this.voice)}},{key:"setPlaybackRate",value:function(Ze){this.playbackRate=Ze,this.activeSound&&this.activeSound.setPlaybackRate(Ze)}},{key:"step",value:(Tt=J(K().mark(function Ze(){var wt,_t,Xt,We=this;return K().wrap(function(ri){for(;;)switch(ri.prev=ri.next){case 0:return ri.next=2,this._chunkIterator.next();case 2:if((wt=ri.sent)!=T.AT_END){ri.next=7;break}return this.stop(),this.opts.onDone(),ri.abrupt("return");case 7:return this.opts.onLoadingStart(),(_t=this.createSound(wt)).chunk=wt,_t.rate=this.playbackRate,_t.voice=this.voice,_t.load(function(){return We.opts.onLoadingComplete()}),this.opts.onLoadingComplete(),ri.next=16,this.opts.beforeChunkPlay(wt);case 16:if(this.playing){ri.next=18;break}return ri.abrupt("return");case 18:return ri.next=20,this.playSound(_t).then(function(){return We.opts.afterChunkPlay(_t.chunk)});case 20:return Xt=ri.sent,this.paused&&this.pause(),ri.next=24,Xt;case 24:if(!this.playing){ri.next=26;break}return ri.abrupt("return",this.step());case 26:case"end":return ri.stop()}},Ze,this)})),function(){return Tt.apply(this,arguments)})},{key:"createSound",value:function(Ze){throw new Error("Unimplemented abstract class")}},{key:"playSound",value:function(Ze){return this.activeSound=Ze,this.activeSound.loaded||this.opts.onLoadingStart(),this.activeSound.play()}},{key:"getBestVoice",value:function(){return Ye.getBestBookVoice(this.getVoices(),this.opts.bookLanguage)}}],et=[{key:"isSupported",value:function(){throw new Error("Unimplemented abstract class")}},{key:"getBestBookVoice",value:function(Ze,wt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:navigator.languages,Xt=Ze.filter(function(ri){return ri.lang.startsWith(wt)}),We=(_t=_t||(navigator.language?[navigator.language]:[])).filter(function(ri){return ri.startsWith(wt)});return Ye.getMatchingStoredVoice(Xt,wt)||Ye.getMatchingVoice(We,Xt)||Xt.find(function(ri){return ri.default})||Xt[0]||Ye.getMatchingVoice(_t,Ze)||Ze.find(function(ri){return ri.default})||Ze[0]}},{key:"getMatchingStoredVoice",value:function(Ze,wt){var _t=x()&&localStorage.getItem("BRtts-voice-".concat(wt));return _t?Ze.find(function(Xt){return Xt.voiceURI===_t}):void 0}},{key:"getMatchingVoice",value:function(Ze,wt){var _t,Xt=function(ei,ki){var qt=typeof Symbol<"u"&&ei[Symbol.iterator]||ei["@@iterator"];if(!qt){if(Array.isArray(ei)||(qt=function(Gi,Sr){if(Gi){if(typeof Gi=="string")return q(Gi,Sr);var tr={}.toString.call(Gi).slice(8,-1);return tr==="Object"&&Gi.constructor&&(tr=Gi.constructor.name),tr==="Map"||tr==="Set"?Array.from(Gi):tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr)?q(Gi,Sr):void 0}}(ei))||ki&&ei&&typeof ei.length=="number"){qt&&(ei=qt);var ci=0,Ei=function(){};return{s:Ei,n:function(){return ci>=ei.length?{done:!0}:{done:!1,value:ei[ci++]}},e:function(Gi){throw Gi},f:Ei}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mi,ir=!0,Yi=!1;return{s:function(){qt=qt.call(ei)},n:function(){var Gi=qt.next();return ir=Gi.done,Gi},e:function(Gi){Yi=!0,Mi=Gi},f:function(){try{ir||qt.return==null||qt.return()}finally{if(Yi)throw Mi}}}}(Ze);try{var We,ri=function(){var ei=_t.value,ki=wt.filter(function(qt){return qt.lang.replace("_","-").startsWith(ei)});if(ki.length)return{v:ki.find(function(qt){return qt.default})||ki[0]}};for(Xt.s();!(_t=Xt.n()).done;)if(We=ri())return We.v}catch(ei){Xt.e(ei)}finally{Xt.f()}}}],De&&Q(Me.prototype,De),et&&Q(Me,et),Object.defineProperty(Me,"prototype",{writable:!1}),Me;var Me,De,et,Tt,Ht}(),W=r(8004),se=(r(2443),r(1792),r(1669));function de(Ye){return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},de(Ye)}function Z(){Z=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&de(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(de(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function ye(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function Y(Ye){return function(){var Me=this,De=arguments;return new Promise(function(et,Tt){var Ht=Ye.apply(Me,De);function Ze(_t){ye(Ht,et,Tt,Ze,wt,"next",_t)}function wt(_t){ye(Ht,et,Tt,Ze,wt,"throw",_t)}Ze(void 0)})}}function ce(Ye,Me){if(!(Ye instanceof Me))throw new TypeError("Cannot call a class as a function")}function Ge(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,st(et.key),et)}}function ht(Ye,Me,De){return Me&&Ge(Ye.prototype,Me),De&&Ge(Ye,De),Object.defineProperty(Ye,"prototype",{writable:!1}),Ye}function st(Ye){var Me=function(De,et){if(de(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(de(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return de(Me)=="symbol"?Me:Me+""}function qe(Ye,Me,De){return Me=Re(Me),function(et,Tt){if(Tt&&(de(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(et)}(Ye,Se()?Reflect.construct(Me,De||[],Re(Ye).constructor):Me.apply(Ye,De))}function Se(){try{var Ye=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Me){}return(Se=function(){return!!Ye})()}function Ie(){return Ie=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Ye,Me,De){var et=function(Ht,Ze){for(;!{}.hasOwnProperty.call(Ht,Ze)&&(Ht=Re(Ht))!==null;);return Ht}(Ye,Me);if(et){var Tt=Object.getOwnPropertyDescriptor(et,Me);return Tt.get?Tt.get.call(arguments.length<3?Ye:De):Tt.value}},Ie.apply(null,arguments)}function Re(Ye){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},Re(Ye)}function ot(Ye,Me){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,et){return De.__proto__=et,De},ot(Ye,Me)}var pt=function(Ye){function Me(et){var Tt,Ht;return ce(this,Me),(Ht=qe(this,Me,[et])).audioFormat=(Tt=se.browser)!==null&&Tt!==void 0&&Tt.mozilla?"ogg":"mp3",Ht.festivalUrl=et.festivalUrl,Ht}return function(et,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");et.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:et,writable:!0,configurable:!0}}),Object.defineProperty(et,"prototype",{writable:!1}),Tt&&ot(et,Tt)}(Me,Ye),ht(Me,[{key:"getVoices",value:function(){return[{default:!0,lang:"en-US",localService:!1,name:"Festival - English (US)",voiceURI:null}]}},{key:"init",value:function(){soundManager.setup({debugMode:!1,preferFlash:!0,url:"/bookreader/BookReader/soundmanager/swf",useHTML5Audio:!0,flashVersion:9})}},{key:"start",value:function(et,Tt){var Ht=this,Ze=null;navigator.userAgent.match(/mobile/i)&&(Ze=this.iOSCaptureUserIntentHack()),(Ze=Ze||Promise.resolve()).then(function(){return(wt=Me,_t=Ht,typeof(Xt=Ie(Re(wt.prototype),"start",_t))=="function"?function(We){return Xt.apply(_t,We)}:Xt)([et,Tt]);var wt,_t,Xt})}},{key:"createSound",value:function(et){return new Pt((0,s.g)(this.festivalUrl,{text:et.text,format:this.audioFormat}))}},{key:"iOSCaptureUserIntentHack",value:(De=Y(Z().mark(function et(){var Tt;return Z().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Tt=soundManager.createSound({url:Qe[this.audioFormat]}),Ht.next=3,new Promise(function(Ze){return Tt.play({onfinish:Ze})});case 3:Tt.destruct();case 4:case"end":return Ht.stop()}},et,this)})),function(){return De.apply(this,arguments)})}],[{key:"isSupported",value:function(){return typeof soundManager<"u"&&soundManager.supported()}}]);var De}(ge),Pt=function(){return ht(function Me(De){ce(this,Me),this.soundUrl=De,this.sound=null,this.rate=1,this._finishResolver=null},[{key:"loaded",get:function(){return this.sound&&this.sound.loaded}},{key:"load",value:function(Me){var De,et=this;return this.sound=soundManager.createSound({url:this.soundUrl,onload:function(){et.rate!=1&&et.sound.setPlaybackRate(et.rate),Me()},onresume:(De=Y(Z().mark(function Tt(){return Z().wrap(function(Ht){for(;;)switch(Ht.prev=Ht.next){case 0:return Ht.next=2,(0,W.sleep)(25);case 2:et.rate!=1&&et.sound.setPlaybackRate(et.rate);case 3:case"end":return Ht.stop()}},Tt)})),function(){return De.apply(this,arguments)})}),this.sound.load()}},{key:"play",value:(Ye=Y(Z().mark(function Me(){var De=this;return Z().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,new Promise(function(Tt){De._finishResolver=Tt,De.sound.play({onfinish:Tt})});case 2:this.sound.destruct();case 3:case"end":return et.stop()}},Me,this)})),function(){return Ye.apply(this,arguments)})},{key:"stop",value:function(){return this.sound.stop(),Promise.resolve()}},{key:"pause",value:function(){this.sound.pause()}},{key:"resume",value:function(){this.sound.resume()}},{key:"setPlaybackRate",value:function(Me){this.rate=Me,this.sound.setPlaybackRate(Me)}},{key:"finish",value:function(){this.sound.stop(),this._finishResolver()}}]);var Ye}(),Qe={mp3:"data:audio/mp3;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAAAeTEFNRTMuOTlyBJwAAAAAAAAAADUgJAaUQQABrgAAAnHIf8sZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADwlwBKGAAACAAAD/AAAAEAAAAH///////////////+UBAMExBTUUzLjk5LjOqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+xDEIAPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",ogg:"data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAVEgAAAAAAAADSDf4BHgF2b3JiaXMAAAAAAUSsAAAAAAAAAHcBAAAAAAC4AU9nZ1MAAAAAAAAAAAAAFRIAAAEAAAB4VKTpEDv//////////////////8kDdm9yYmlzKwAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTIwMjAzIChPbW5pcHJlc2VudCkAAAAAAQV2b3JiaXMpQkNWAQAIAAAAMUwgxYDQkFUAABAAAGAkKQ6TZkkppZShKHmYlEhJKaWUxTCJmJSJxRhjjDHGGGOMMcYYY4wgNGQVAAAEAIAoCY6j5klqzjlnGCeOcqA5aU44pyAHilHgOQnC9SZjbqa0pmtuziklCA1ZBQAAAgBASCGFFFJIIYUUYoghhhhiiCGHHHLIIaeccgoqqKCCCjLIIINMMumkk0466aijjjrqKLTQQgsttNJKTDHVVmOuvQZdfHPOOeecc84555xzzglCQ1YBACAAAARCBhlkEEIIIYUUUogppphyCjLIgNCQVQAAIACAAAAAAEeRFEmxFMuxHM3RJE/yLFETNdEzRVNUTVVVVVV1XVd2Zdd2ddd2fVmYhVu4fVm4hVvYhV33hWEYhmEYhmEYhmH4fd/3fd/3fSA0ZBUAIAEAoCM5luMpoiIaouI5ogOEhqwCAGQAAAQAIAmSIimSo0mmZmquaZu2aKu2bcuyLMuyDISGrAIAAAEABAAAAAAAoGmapmmapmmapmmapmmapmmapmmaZlmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVmWZVlAaMgqAEACAEDHcRzHcSRFUiTHciwHCA1ZBQDIAAAIAEBSLMVyNEdzNMdzPMdzPEd0RMmUTM30TA8IDVkFAAACAAgAAAAAAEAxHMVxHMnRJE9SLdNyNVdzPddzTdd1XVdVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVgdCQVQAABAAAIZ1mlmqACDOQYSA0ZBUAgAAAABihCEMMCA1ZBQAABAAAiKHkIJrQmvPNOQ6a5aCpFJvTwYlUmye5qZibc84555xszhnjnHPOKcqZxaCZ0JpzzkkMmqWgmdCac855EpsHranSmnPOGeecDsYZYZxzzmnSmgep2Vibc85Z0JrmqLkUm3POiZSbJ7W5VJtzzjnnnHPOOeecc86pXpzOwTnhnHPOidqba7kJXZxzzvlknO7NCeGcc84555xzzjnnnHPOCUJDVgEAQAAABGHYGMadgiB9jgZiFCGmIZMedI8Ok6AxyCmkHo2ORkqpg1BSGSeldILQkFUAACAAAIQQUkghhRRSSCGFFFJIIYYYYoghp5xyCiqopJKKKsoos8wyyyyzzDLLrMPOOuuwwxBDDDG00kosNdVWY4215p5zrjlIa6W11lorpZRSSimlIDRkFQAAAgBAIGSQQQYZhRRSSCGGmHLKKaegggoIDVkFAAACAAgAAADwJM8RHdERHdERHdERHdERHc/xHFESJVESJdEyLVMzPVVUVVd2bVmXddu3hV3Ydd/Xfd/XjV8XhmVZlmVZlmVZlmVZlmVZlmUJQkNWAQAgAAAAQgghhBRSSCGFlGKMMcecg05CCYHQkFUAACAAgAAAAABHcRTHkRzJkSRLsiRN0izN8jRP8zTRE0VRNE1TFV3RFXXTFmVTNl3TNWXTVWXVdmXZtmVbt31Ztn3f933f933f933f933f13UgNGQVACABAKAjOZIiKZIiOY7jSJIEhIasAgBkAAAEAKAojuI4jiNJkiRZkiZ5lmeJmqmZnumpogqEhqwCAAABAAQAAAAAAKBoiqeYiqeIiueIjiiJlmmJmqq5omzKruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6ruu6QGjIKgBAAgBAR3IkR3IkRVIkRXIkBwgNWQUAyAAACADAMRxDUiTHsixN8zRP8zTREz3RMz1VdEUXCA1ZBQAAAgAIAAAAAADAkAxLsRzN0SRRUi3VUjXVUi1VVD1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVXVNE3TNIHQkJUAABkAACNBBhmEEIpykEJuPVgIMeYkBaE5BqHEGISnEDMMOQ0idJBBJz24kjnDDPPgUigVREyDjSU3jiANwqZcSeU4CEJDVgQAUQAAgDHIMcQYcs5JyaBEzjEJnZTIOSelk9JJKS2WGDMpJaYSY+Oco9JJyaSUGEuKnaQSY4mtAACAAAcAgAALodCQFQFAFAAAYgxSCimFlFLOKeaQUsox5RxSSjmnnFPOOQgdhMoxBp2DECmlHFPOKccchMxB5ZyD0EEoAAAgwAEAIMBCKDRkRQAQJwDgcCTPkzRLFCVLE0XPFGXXE03XlTTNNDVRVFXLE1XVVFXbFk1VtiVNE01N9FRVE0VVFVXTlk1VtW3PNGXZVFXdFlXVtmXbFn5XlnXfM01ZFlXV1k1VtXXXln1f1m1dmDTNNDVRVFVNFFXVVFXbNlXXtjVRdFVRVWVZVFVZdmVZ91VX1n1LFFXVU03ZFVVVtlXZ9W1Vln3hdFVdV2XZ91VZFn5b14Xh9n3hGFXV1k3X1XVVln1h1mVht3XfKGmaaWqiqKqaKKqqqaq2baqurVui6KqiqsqyZ6qurMqyr6uubOuaKKquqKqyLKqqLKuyrPuqLOu2qKq6rcqysJuuq+u27wvDLOu6cKqurquy7PuqLOu6revGceu6MHymKcumq+q6qbq6buu6ccy2bRyjquq+KsvCsMqy7+u6L7R1IVFVdd2UXeNXZVn3bV93nlv3hbJtO7+t+8px67rS+DnPbxy5tm0cs24bv637xvMrP2E4jqVnmrZtqqqtm6qr67JuK8Os60JRVX1dlWXfN11ZF27fN45b142iquq6Ksu+sMqyMdzGbxy7MBxd2zaOW9edsq0LfWPI9wnPa9vGcfs64/Z1o68MCcePAACAAQcAgAATykChISsCgDgBAAYh5xRTECrFIHQQUuogpFQxBiFzTkrFHJRQSmohlNQqxiBUjknInJMSSmgplNJSB6GlUEproZTWUmuxptRi7SCkFkppLZTSWmqpxtRajBFjEDLnpGTOSQmltBZKaS1zTkrnoKQOQkqlpBRLSi1WzEnJoKPSQUippBJTSam1UEprpaQWS0oxthRbbjHWHEppLaQSW0kpxhRTbS3GmiPGIGTOScmckxJKaS2U0lrlmJQOQkqZg5JKSq2VklLMnJPSQUipg45KSSm2kkpMoZTWSkqxhVJabDHWnFJsNZTSWkkpxpJKbC3GWltMtXUQWgultBZKaa21VmtqrcZQSmslpRhLSrG1FmtuMeYaSmmtpBJbSanFFluOLcaaU2s1ptZqbjHmGlttPdaac0qt1tRSjS3GmmNtvdWae+8gpBZKaS2U0mJqLcbWYq2hlNZKKrGVklpsMebaWow5lNJiSanFklKMLcaaW2y5ppZqbDHmmlKLtebac2w19tRarC3GmlNLtdZac4+59VYAAMCAAwBAgAlloNCQlQBAFAAAQYhSzklpEHLMOSoJQsw5J6lyTEIpKVXMQQgltc45KSnF1jkIJaUWSyotxVZrKSm1FmstAACgwAEAIMAGTYnFAQoNWQkARAEAIMYgxBiEBhmlGIPQGKQUYxAipRhzTkqlFGPOSckYcw5CKhljzkEoKYRQSiophRBKSSWlAgAAChwAAAJs0JRYHKDQkBUBQBQAAGAMYgwxhiB0VDIqEYRMSiepgRBaC6111lJrpcXMWmqttNhACK2F1jJLJcbUWmatxJhaKwAA7MABAOzAQig0ZCUAkAcAQBijFGPOOWcQYsw56Bw0CDHmHIQOKsacgw5CCBVjzkEIIYTMOQghhBBC5hyEEEIIoYMQQgillNJBCCGEUkrpIIQQQimldBBCCKGUUgoAACpwAAAIsFFkc4KRoEJDVgIAeQAAgDFKOQehlEYpxiCUklKjFGMQSkmpcgxCKSnFVjkHoZSUWuwglNJabDV2EEppLcZaQ0qtxVhrriGl1mKsNdfUWoy15pprSi3GWmvNuQAA3AUHALADG0U2JxgJKjRkJQCQBwCAIKQUY4wxhhRiijHnnEMIKcWYc84pphhzzjnnlGKMOeecc4wx55xzzjnGmHPOOeccc84555xzjjnnnHPOOeecc84555xzzjnnnHPOCQAAKnAAAAiwUWRzgpGgQkNWAgCpAAAAEVZijDHGGBsIMcYYY4wxRhJijDHGGGNsMcYYY4wxxphijDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYW2uttdZaa6211lprrbXWWmutAEC/CgcA/wcbVkc4KRoLLDRkJQAQDgAAGMOYc445Bh2EhinopIQOQgihQ0o5KCWEUEopKXNOSkqlpJRaSplzUlIqJaWWUuogpNRaSi211loHJaXWUmqttdY6CKW01FprrbXYQUgppdZaiy3GUEpKrbXYYow1hlJSaq3F2GKsMaTSUmwtxhhjrKGU1lprMcYYay0ptdZijLXGWmtJqbXWYos11loLAOBucACASLBxhpWks8LR4EJDVgIAIQEABEKMOeeccxBCCCFSijHnoIMQQgghREox5hx0EEIIIYSMMeeggxBCCCGEkDHmHHQQQgghhBA65xyEEEIIoYRSSuccdBBCCCGUUELpIIQQQgihhFJKKR2EEEIooYRSSiklhBBCCaWUUkoppYQQQgihhBJKKaWUEEIIpZRSSimllBJCCCGUUkoppZRSQgihlFBKKaWUUkoIIYRSSimllFJKCSGEUEoppZRSSikhhBJKKaWUUkoppQAAgAMHAIAAI+gko8oibDThwgNQaMhKAIAMAABx2GrrKdbIIMWchJZLhJByEGIuEVKKOUexZUgZxRjVlDGlFFNSa+icYoxRT51jSjHDrJRWSiiRgtJyrLV2zAEAACAIADAQITOBQAEUGMgAgAOEBCkAoLDA0DFcBATkEjIKDArHhHPSaQMAEITIDJGIWAwSE6qBomI6AFhcYMgHgAyNjbSLC+gywAVd3HUghCAEIYjFARSQgIMTbnjiDU+4wQk6RaUOAgAAAAAAAQAeAACSDSAiIpo5jg6PD5AQkRGSEpMTlAAAAAAA4AGADwCAJAWIiIhmjqPD4wMkRGSEpMTkBCUAAAAAAAAAAAAICAgAAAAAAAQAAAAICE9nZ1MABCwAAAAAAAAAFRIAAAIAAAAPBTD1AgEBAAo="},ne=r(7583);function ie(Ye){return ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},ie(Ye)}function Ke(){Ke=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&ie(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(ie(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function Ct(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function we(Ye){return function(){var Me=this,De=arguments;return new Promise(function(et,Tt){var Ht=Ye.apply(Me,De);function Ze(_t){Ct(Ht,et,Tt,Ze,wt,"next",_t)}function wt(_t){Ct(Ht,et,Tt,Ze,wt,"throw",_t)}Ze(void 0)})}}function $e(Ye,Me){if(!(Ye instanceof Me))throw new TypeError("Cannot call a class as a function")}function at(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,Je(et.key),et)}}function Ce(Ye,Me,De){return Me&&at(Ye.prototype,Me),De&&at(Ye,De),Object.defineProperty(Ye,"prototype",{writable:!1}),Ye}function Je(Ye){var Me=function(De,et){if(ie(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(ie(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return ie(Me)=="symbol"?Me:Me+""}function tt(Ye,Me,De){return Me=gt(Me),function(et,Tt){if(Tt&&(ie(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(et)}(Ye,Vt()?Reflect.construct(Me,De||[],gt(Ye).constructor):Me.apply(Ye,De))}function Vt(){try{var Ye=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Me){}return(Vt=function(){return!!Ye})()}function ct(){return ct=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Ye,Me,De){var et=function(Ht,Ze){for(;!{}.hasOwnProperty.call(Ht,Ze)&&(Ht=gt(Ht))!==null;);return Ht}(Ye,Me);if(et){var Tt=Object.getOwnPropertyDescriptor(et,Me);return Tt.get?Tt.get.call(arguments.length<3?Ye:De):Tt.value}},ct.apply(null,arguments)}function gt(Ye){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},gt(Ye)}function Rt(Ye,Me){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,et){return De.__proto__=et,De},Rt(Ye,Me)}var ti=function(Ye){function Me(De){var et;return $e(this,Me),et=tt(this,Me,[De]),speechSynthesis.addEventListener&&speechSynthesis.addEventListener("voiceschanged",function(){return et.events.trigger("voiceschanged")}),et}return function(De,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");De.prototype=Object.create(et&&et.prototype,{constructor:{value:De,writable:!0,configurable:!0}}),Object.defineProperty(De,"prototype",{writable:!1}),et&&Rt(De,et)}(Me,Ye),Ce(Me,[{key:"start",value:function(De,et){var Tt,Ht,Ze,wt=this;if("mediaSession"in navigator){var _t=new Audio(ui);_t.loop=!0,this.events.on("pause",function(){return _t.pause()}),this.events.on("resume",function(){return _t.play()}),this.events.on("stop",function(){return _t.src=""}),_t.play().then(function(){navigator.mediaSession.metadata=new MediaMetadata({title:br.bookTitle,artist:br.options.metadata.filter(function(Xt){return Xt.label=="Author"}).map(function(Xt){return Xt.value})[0],artwork:[{src:br.options.thumbnail,type:"image/jpg"}]}),navigator.mediaSession.setPositionState({duration:1/0}),navigator.mediaSession.setActionHandler("play",function(){_t.play(),wt.resume()}),navigator.mediaSession.setActionHandler("pause",function(){_t.pause(),wt.pause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){return wt.jumpBackward()}),navigator.mediaSession.setActionHandler("nexttrack",function(){return wt.jumpForward()})})}return(Tt=Me,Ht=this,typeof(Ze=ct(gt(Tt.prototype),"start",Ht))=="function"?function(Xt){return Ze.apply(Ht,Xt)}:Ze)([De,et])}},{key:"getVoices",value:function(){var De=speechSynthesis.getVoices();return De.filter(function(et){return et.default}).length!=1&&De.unshift({voiceURI:"bookreader.SystemDefault",name:"System Default",lang:navigator.language,default:!0,localService:!0}),De}},{key:"createSound",value:function(De){return new oi(De.text)}}],[{key:"isSupported",value:function(){return window.speechSynthesis!==void 0}}])}(ge),oi=function(){return Ce(function Ht(Ze){$e(this,Ht),this.text=Ze,this.loaded=!1,this.paused=!1,this.started=!1,this.stopped=!1,this.rate=1,this.utterance=null,this.voice=null,this._lastEvents={pause:null,boundary:null,start:null},this._charIndex=0,this._finishResolver=null,this._finishPromise=null},[{key:"load",value:function(Ht){var Ze,wt=this;this.loaded=!1,this.started=!1,this.utterance=new SpeechSynthesisUtterance(this.text.slice(this._charIndex)),((Ze=this.voice)===null||Ze===void 0?void 0:Ze.voiceURI)!=="bookreader.SystemDefault"&&(this.utterance.voice=this.voice),this.voice&&(this.utterance.lang=this.voice.lang),this.utterance.rate=this.rate,C&&(this.utterance.addEventListener("pause",function(){return console.log("pause")}),this.utterance.addEventListener("resume",function(){return console.log("resume")}),this.utterance.addEventListener("start",function(){return console.log("start")}),this.utterance.addEventListener("end",function(){return console.log("end")}),this.utterance.addEventListener("error",function(_t){return console.log("error",_t)}),this.utterance.addEventListener("boundary",function(){return console.log("boundary")}),this.utterance.addEventListener("mark",function(){return console.log("mark")}),this.utterance.addEventListener("finish",function(){return console.log("finish")})),this.utterance.addEventListener("start",function(_t){return wt._lastEvents.start=_t}),this.utterance.addEventListener("boundary",function(_t){return wt._lastEvents.boundary=_t}),this.utterance.addEventListener("pause",function(_t){return wt._lastEvents.pause=_t}),this.utterance.addEventListener("start",function(){wt.started=!0,wt.stopped=!1,wt.paused=!1}),this.utterance.addEventListener("pause",function(){return wt.paused=!0}),this.utterance.addEventListener("resume",function(){return wt.paused=!1}),this.utterance.addEventListener("end",function(_t){wt.paused||wt.stopped||wt.utterance.dispatchEvent(new CustomEvent("finish",_t))}),this.loaded=!0,Ht&&Ht()}},{key:"reload",value:(Tt=we(Ke().mark(function Ht(){var Ze,wt;return Ke().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return Ze=this.paused,(wt=this._lastEvents.boundary||this._lastEvents.pause)&&(this._charIndex=this.text.indexOf(wt.target.text)+wt.charIndex),_t.next=5,this.stop();case 5:this.load(),Ze||this.play();case 7:case"end":return _t.stop()}},Ht,this)})),function(){return Tt.apply(this,arguments)})},{key:"play",value:function(){var Ht=this;this._finishPromise=this._finishPromise||new Promise(function(wt){return Ht._finishResolver=wt}),this.utterance.addEventListener("finish",this._finishResolver),speechSynthesis.cancel(),speechSynthesis.resume(),speechSynthesis.speak(this.utterance);var Ze=this.utterance.voice&&this.utterance.voice.localService;return(0,ne.H8)()&&!Ze&&this._chromePausingBugFix(),this._finishPromise}},{key:"stop",value:function(){var Ht=Promise.resolve();return this.stopped||(Ht=Promise.race([(0,W.promisifyEvent)(this.utterance,"end"),(0,W.promisifyEvent)(this.utterance,"error")])),this.stopped=!0,speechSynthesis.cancel(),Ht}},{key:"finish",value:(et=we(Ke().mark(function Ht(){return Ke().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,this.stop();case 2:this.utterance.dispatchEvent(new Event("finish"));case 3:case"end":return Ze.stop()}},Ht,this)})),function(){return et.apply(this,arguments)})},{key:"pause",value:(De=we(Ke().mark(function Ht(){var Ze,wt;return Ke().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(!this.paused){_t.next=2;break}return _t.abrupt("return");case 2:return Ze=(0,W.promisifyEvent)(this.utterance,"pause"),speechSynthesis.pause(),wt=(0,ne.gm)()&&p(),_t.next=7,Promise.race([Ze,(0,W.sleep)(100).then(function(){return"timeout"})]);case 7:if(_t.sent=="timeout"){_t.next=10;break}return _t.abrupt("return");case 10:C&&console.log("TTS: Firing pause event manually"),this.utterance.dispatchEvent(new CustomEvent("pause",this._lastEvents.start)),wt&&this.stop();case 13:case"end":return _t.stop()}},Ht,this)})),function(){return De.apply(this,arguments)})},{key:"resume",value:(Me=we(Ke().mark(function Ht(){var Ze,wt;return Ke().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(this.started&&!this.stopped){_t.next=3;break}return this.play(),_t.abrupt("return");case 3:if(this.paused){_t.next=5;break}return _t.abrupt("return");case 5:return Ze=(0,ne.H8)()&&p()||(0,ne.gm)()&&p(),wt=(0,W.promisifyEvent)(this.utterance,"resume"),speechSynthesis.resume(),_t.next=10,Promise.race([wt,(0,W.sleep)(100).then(function(){return"timeout"})]);case 10:if(_t.sent=="timeout"){_t.next=13;break}return _t.abrupt("return");case 13:if(C&&console.log("TTS: Firing resume event manually"),this.utterance.dispatchEvent(new CustomEvent("resume",{})),!Ze){_t.next=19;break}return _t.next=18,this.reload();case 18:this.play();case 19:case"end":return _t.stop()}},Ht,this)})),function(){return Me.apply(this,arguments)})},{key:"setPlaybackRate",value:function(Ht){this.rate=Ht,this.reload()}},{key:"setVoice",value:function(Ht){this.voice=Ht,this.reload()}},{key:"_chromePausingBugFix",value:(Ye=we(Ke().mark(function Ht(){var Ze;return Ke().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:return C&&console.log("CHROME-PAUSE-HACK: starting"),wt.next=3,Promise.race([(0,W.sleep)(14e3).then(function(){return"timeout"}),(0,W.promisifyEvent)(this.utterance,"pause").then(function(){return"pause"}),(0,W.promisifyEvent)(this.utterance,"end").then(function(){return"end"}),(0,W.promisifyEvent)(this.utterance,"error").then(function(){return"error"})]);case 3:if(Ze=wt.sent,C&&console.log("CHROME-PAUSE-HACK: ".concat(Ze)),Ze!="end"&&Ze!="error"){wt.next=9;break}C&&console.log("CHROME-PAUSE-HACK: stopped (end/error)"),wt.next=22;break;case 9:if(Ze!="pause"){wt.next=16;break}return wt.next=12,Promise.race([(0,W.promisifyEvent)(this.utterance,"resume").then(function(){return"resume"}),(0,W.sleep)(14e3).then(function(){return"timeout"})]);case 12:wt.sent=="timeout"?(C&&console.log("CHROME-PAUSE-HACK: stopped (timed out while paused)"),this.stop()):this._chromePausingBugFix(),wt.next=22;break;case 16:if(Ze!="timeout"){wt.next=22;break}return speechSynthesis.pause(),wt.next=20,(0,W.sleep)(25);case 20:speechSynthesis.resume(),this._chromePausingBugFix();case 22:case"end":return wt.stop()}},Ht,this)})),function(){return Ye.apply(this,arguments)})}]);var Ye,Me,De,et,Tt}(),ui="data:audio/mp3;base64,/+MYxAAMEAISSAhElhIpJYzz1vz9mUdlHvJwTP/n3FJesPxB9/8mp0oGaz9+7+T//8oCDhJqOMqLh4o4uhUAUUDaf//3r+///+MYxAoKy2ImKAgEqbfr/t///27/+n3s32/////+b5qMsq7vnXCKh2By3ZcIqyrUYbbRH0fp+ljtf+n2Uo72PHX/03f0df///+MYxBkKUAYmQAhEAL+2l44oKFjZMwJAOJnhguMqokFAqBKl/5f1/+f+3/v////9GT//r+//v+//////b1VvucaRChqnMqsY/+MYxCoLo2IiSAgEpRrgIRVq//p////25nlpVFbQ9kuXtrpt+n//3ZUZNKHVTHdJk3Q6h961DAU8loFlsfTnTZYLLQ1xiIYC/+MYxDYLa2YYAACNFAKKv5swEnqSccBoi//xVP9R/q/370r02////7VpaiWWLrDaF//X8+Rf/6ys2irmURCrI/Lr7///+m1t/+MYxEMKqAI2SAhElh7vNPmHrKdmMPFMimBI5xYQEiIRxh1gk0pKvfo7nezMyH6P67uKW+z/7NusoS/4//STUtCUiwASccAQ/+MYxFMKs2IcIABFEFRhEOUCgACs//l3/6df///+qZf6V9X2t69f/p////+v97UOY7UyyIxZWPa1inCgyCDq//pXpSia2v23/+MYxGMK6AYqSABEAl70RfX2+nu6///v+rfdWCLKMhUBmZhIDqt23LQGBjyNGEjBCnI5JGjRWkU2a8b29z/+n6/9SnN7LUfo/+MYxHILg2IiQAgEUPpX9//96jShqxUCtNiIeCAcmxc3/tn18pTBRmaNzgUvIqropQvPf/Fy99+z9/8/bx43Xn95kr6QHFQp/+MYxH8LG2IcAACNMTZjQ1mIlAyLi1r7PBeeff3WH/rB/r/2/7a/+6/0/0b19F5lfb/p////9qWyzOGqY5WlRoqAGuCOp1Dm/+MYxI0KuAIuSAhElhZ6kDcciBDa1gec/T1uqXsq/0Pf+z/9tf0fbV8Jf//xrqJs4BnZgPhibbcDkhvrmd9q9s+3XL+2X+9e/+MYxJ0MK14UAABNLG/7/dfT6f/1Rt+v/0/09f///1fZbWuR7ohD7JuzWZRbVe5Or5lVUWrunn1/Z+v/v//p9Ozvqh6OoMKb/+MYxKcMo2YhgAgExmatD1TeZuDdxZACD6ZEipG5JWjTNJZ16WIitt4yx3+/3fud9dFaG/7fdRQ///2a8PsCLxIDokWAam24/+MYxK8JsAYuSAhEAtxow+XubpX85GAu+/8z//2cpeR+xf/KXOZchkyy8//P5f+X/////edcJFIEjHFNBB0OtjXoQIEUm8mx/+MYxMMMi14mKAgEpmaRQYFFM5jChhMBskKSnLHwMz8jUiTb6rq////Pf0u6p038KcqLh8tFIDPK0waRwBJBSIFgBH+eAMDT/+MYxMsKG2IYAACNTf///9P/////5/+f9ZKCZazujkeQGA+RIYDEc4oApsX+dz5P//O5+WXJWPpLGoNdAyEtBgspdF5FUbFU/+MYxN0KUAIuSAhElphZOtQNqKkTl6///B7L9f//5//5fz+V1/L5f++f3/qD/n3//+3svyOlCl52VRRE7iVvgaFRcAxZVbe0/+MYxO4Og2ImSAhG3+lb683WpVSNSyNspd0UzsyTkRVqjsj0ej//1rZG9Co1Go8hSlgMjhQucpg9Fp6+uL06ZdcfIdD1ckrm/+MYxO8Os14QAABNLaj9X+YufyaKj/L1t//8H/qi//5+RF+LQjyw2+XDjO2/Oaj///93+ja45qSmWYIJQEc0bZqkTcr7IVep/+MYxO8QI2YVgAjNoNrP+QIELy/8t6XR+eyorh/f//lg2WZf/7/5e//fR+/3n+YOX5f///owB5uJ2AJjUjMSRgzRqNJV/rUZ/+MYxOkNS2oiSAiHoCRFe8nrl2Pvi15/JiyX/5T+vecv8z17/L5R9F5k5Z3b+YC6yr8fP+3q1m0TMZjrAnSg0CCBw7EjjUWC/+MYxO4OY14QAAFTMVFqv0w2rN+YPGceXOXn/+XP//8v/n//9fy/35BrF///f/////yI08yQDwI+dXQ0HJERuhH+9xIkWcvm/+MYxO8Pq2YaQAiNoPYT38z3LPn/X//1v32IRy49cz/5f9Lnzfz5/InIzKD/1+Xp1/0ar6I8YqlQQZkzYJLkIcO6sDjmwHuv/+MYxOsNi14lqAhG3//33Ln8vBl/P9Kf/8/+X2UpVxaJV+kYMsr9dtFr///l//3SQ2v1CRbHIPKziXzJVEkeHFBQADHVjccc/+MYxO8P214dqAiHoohQ8T6PXm5mjvzJirn9X//eX/5r/5fykE3Ni12f/185fn+v/8/6e//TaqOoNyZTiIJc8YEAygzxf//P/+MYxOoMez4iQAhG3fry//////8v//Kf7ckWwdjU6uAlPIxG5Tl6VM4PV/5f55eZylFPOPd8+pBCJZ/XpEmmNSwmYOHpl+8l/+MYxPMO62YhqAiHomIQPMfzYfl//Lr/YkBd3APxQ/z3//5ctVrMPakfyqebn//T////TkqS/QylsGVd48YSy46YoyMkuz/T/+MYxPIPW2IaQAhGvcsh/D/M/+9+ll//Oyz/88v5//+y5v/yk3nL8pTl////8+f5FlWkpuw22NXIjbfSLWc61WWWHynCuQIe/+MYxO8OGz4mSAiHo5f/+fl+6PQReMvX//PaIhL//fN/sqD6zWhL/V65v73///f+YCU4yRtDLIwg1XBowhGBB9hrgDTcaBER/+MYxPEPg2IVYAjNoU///15+ZcFdV//eSL/y//l1+i+vPy/kfv/rl////+JaajzwMYMAghvUbHiBQQIPAbC1ssAgiBYf57+v/+MYxO4Og0IhqAiHh//3////z/Oz7+W3lNll+U07IIZZzqTh3M8nFman/H///JZ7yZNkaLB0Jm7sJc+SMA55lhJMhxxWD//3/+MYxO8Og2IdgAjNoxkk379d8j1rs5dfLbn/8nP/6/fI96P9df/z4r//9ecXX89H+6aUs2dmtayGHP0pclEjszX4HMJuF/65/+MYxPAOO2IdoAhG3j/XzN0ullhGsszM/ozztvKpndTslEpKj2PdL6fT+7s2V7EMsIZjAR3CNdSEIWWkxGnEVitwwSIE0yNv/+MYxPIN42IiSAhG32r/XVk9VVG107IY5j6q57Gc/pXT+eX//+u/PR8s7s6FI5zlEKGJVKLKV40qeS1MtkxKW2ro9xEXn7/P/+MYxPUQg14WQAjNof1Q3Xr4q2XJfy//y//l/z+EveR/6GLX/8K////6fbT9CoRyDsdHMIn279+ZuHuOFIvVt//e1pVZ1Sju/+MYxO4Oe2YhqAiNorOaY+51MxL2UoMIjmcxjQdFRyNVVa1LUd6/172a9VbR1U4VCCXA1HkcQMoC0U/SoACSMRAUgYdoKEGU/+MYxO8Pk2oQIACTFIGGIGiRxzP/iH/vP+A5r///z/838v36n//7//P//6P33///+IWZyzRmB+SBvm5THMSlFEL/+Rk4Zi9+/+MYxOsMk2oUAACTMIu5BP9fIxC7h//3y/+pSujznMj/z9S/P/z/3LmX////5b//JkWqxxoRRaLrubJCHAdzYcWODdv+mtvZ/+MYxPMOC2odoAiNotVJZ0Vt2VqSD52bqzoQUdUKy2er0mroz2ImX/ffZq7X1k3INcezhRmERUQFFMAKMfV+gmPaVJ1igl2k/+MYxPUQ+2oMAACNFHP/9xk/D8srrZ8vzu/6//+Rn/z/z+zneV/+v/4uZ9f//r///7ra1i0znd0Ugk4dN6Y7gvKgUdX79xks/+MYxOwM804mSAhG3/KCtd87mQv5c/5Zf/7Ev/78+WauWX//kpIjI5uRowybyixL5XX///9ljMuUzMQqXJK/tDgIgrL/559G/+MYxPMPO14hoAhGv/mf5ZzlJLOy2QkeTfcjvUyVy//8/f2FeWu88vZVPrqa9ZRm4QQNIl+ZXNGC6/SXL88C+nHJ/7+SvMhI/+MYxPEQQ2YMAAFTFIs2gqVC7+4N/uX//f8vxH/58uUymv/9y3n5b6p/////23ZHynRxARCkKUwRQQKsdFCUNswfdmL1lgtv/+MYxOsNU1YhoAiHo6Sv3/l/Xzl3+2v//z//39/Rn/Bzz50R8pf+u1l1////p1TRqIXaXd0lDIY1USShoAoxCxaAAqa79xkE/+MYxPAOq2YlqAhG3i/PH3PO5xkW66X2h6/88sP8+U/+uX5lkd1Wyys9az/smhajlmX//5cUNkTjmAKPJoxzJyrMUopoJBRq/+MYxPAOQ2YQAABTEP73EgSF593QPX7+U3v8///5P/5f/1//8WfL5/1/wwp+mQv5f/LOigzvMjoczjItyM9EgLnY/+XqeeNw/+MYxPIPW1odgAiNh1SJsuiWWbOXoFVzs2a4NzlzXZn5//7X3dqO9L75RtzsmeQIKivkbIknm6xULDDSF5G5edXuv9C5lKVa/+MYxO8Og2IeQAiHhU3LrlyX7QBy//nfQ//Ky//ly7J58a7KBc0ayl7+6f2b///zX2K6SHIepGMDBElCtphtGsZv0xJEKiQ//+MYxPAPq1odqAhG3wDT/nXn7///////L//e/cyXZbb6AMy12NvdI9zIy89yP////v7TUeUIqnHCCasDDMKcm5u123L8cVu3/+MYxOwNQ1YhqAhG3zUVguuHqHy/6l2v3wV/qv//1/y/6/L//4es9nUvyz39T////ZutU9IzMWbQyKjY5epCS1vy5xHlVZJJ/+MYxPIOS2YQAABTEANCv/fIss+X6P////8v+Z//7/LI8NLlZNFck/z+/Xv////0K/83Yuomhozh1pUW7Qga+6t4NNE0ONyy/+MYxPMQQ14ZgAiNo8toABfy/svsz/rLv/17a0avX2vbuuzH00V0+XbV20T///3+ljpQxDFMyOMU1BpkIo8YcHKrCcyiKKre/+MYxO0PY2YVgAiToO2vyGX6nq+ZGb/rXl1//z//5b//lP8uf//EXKv+v0/////XvQqTHqxWoRRgrhmDQQThlQOyKj8/0/Nr/+MYxOoNk14eQAiNob7U7/4/la2f//OxCL/n//f/3l2Y15p5/upz2pf9f//vb6fPQrUQuQWcUc+KjmrmzmEozKAfEE2ozP6//+MYxO4PA2oaIAjNoPr/Nfaw///33+X9X/eZ+fn1/WsjbNckfer3+X////IfPyFgNsUSt77vc4pDvI10yuq3EgRQpc7tf8uf/+MYxO0Oq2IeQAgKyYp9+ff/8t/VKaoXy//G//Mlg/vqertShLzX3z/v1/1usqWRrBmSOCTfz+xy0sx9H63VEYg/r1//y/f9/+MYxO0Nk1YiQAiHhPRtNNHzUTq6q62f1XTbORdOq//X+ifdGOWrVHT2OY9hoLyZQ1I1OkSI4NyocRYoUKCKLRLH0W23JYjT/+MYxPEOe14dgAiNo19+/Ln9Uglsp4+ZoF/0oiS+//+6/Ky99yje////qTa8////5/i+DFN2QNkCg0QUzocL/8z+9XOZ54F5/+MYxPINW2IeQAhM3ceYqGZJzgEAMZmZnZwkIrdFDDe/+6/bO+zrRU5sYqdzx7dIYqqOyjECzyIUAwNkCJGxav/3/cvwCyzh/+MYxPcPC14dqAiNow2kh3GeZQmSGeKjgYTMzZ7l58z/3//633UfmVt4ncevdKqvispjUlOkhOkTwuwsXQoxMruyQWgISfyX/+MYxPUPs2oV4AgOkPLK//PPzf////5n/+/8NeDSNlRbu9FKjI8Zn/O89Z/+f/L6fL6ObO7wiuTKLQRjt4JUkfCiZZFYEpXT/+MYxPENwzYqSAhG3zlwiHl+Vln8utc8+X///36///L9Tv5LMl1ftaeZd/zl//////nLfhZytqwKmCjMFcMIwQcAMZ2oQGKn/+MYxPUO214QAABNEf1y0qzKPqaNn3AEjuGta0EsZF8j/+X/+avnuL5WLWOhrPCGdKIznKWIbhBiOUIrq4eiMNb++RofJUR//+MYxPQO+2oQAABTECDLKpKyp7AFEE8jv/+Sl/f/y/f/l5fP4fymp//l////19DUomQyM0m1ZpEZBzxYoAZF/76MqX0Xlyuc/+MYxPMQE2YaQAjNoOhkaR051mjiXVyEahjrxZUVKOOczO6VzO22dvX/72/XSfKGp6jj1xthiMTqqkaMDONH8CrEtDC58Rlm/+MYxO0PA2IeQAhGvRcLtzbVM/gZH6X/lrIqeVGpIri//vyEv/zP/5f5/9b/8Pz/X6/////b9NHfUzFhEoxzO4G0JqZksJg5/+MYxOwNA2oUAABRLKr/0/12Xg3ZXsiKqursXOls6MpKE2znexzO55WW+peuvZ/7auaSuIHKhjghBhAV3CmBClmIxpPSkSy7/+MYxPMOIz4hoAhG3yfJyIVqohcXWCjI/8vP9+1/7//X/3/6f61/+v7/t77f6/2/////+26mQzIyjqylhTO4eKGRQxhbNDiJ/+MYxPUSE2oIAACTEFX/++n7JrSx2WYNMZFc7AlUirWqGBPCXOpzmRTPQjIe9czff/5/PfLPJX3KO6w22kttoaJ9pNWZDjFM/+MYxOcNi2YhoAiHhqk05mxEuYDmFRBBIGDT7+IflmVMb/0Wf/0/QLkHf1/2m6v6fpoY+1+sAhoMlxoGOFQ+jbbcZJGljIXK/+MYxOsQO2IMAACTFb+lv4fH/GVV//r//efnoslIj/r9fxbPO8vHItLDn/P//ZdO6lS9VdVByqsIqUNAYfBAhpCxuXVke+X2/+MYxOUNE2IiQAgEwV5f0jVYbP3//7v/L//l5f5ss4GVEaGbmesRh9K0ju6///837UmOjpIwssokUcxQt+gNYplsHLYhB5eJ/+MYxOsQk1YMAACTEY3JJQ1wxZtG/tak6KISwy/uZ/j6nkHvZei9RjajSy8n3x/u3///stJyKaAKCFJMKC4b/r/WvwKplRP5/+MYxOMKOAYuSABEAnq+WEvP//5I//v/QMz8//X758VpvOnnOVPn/f//uX2+f7nDYvkGpozxt8Xn2tRGoPBM1PX/6/+YdDJZ/+MYxPUPQ1YiSAiHo8IiMFFDMfiOduTSMAxPIM7R9Lkv8t/3993+be079FC2LRc8jYlp5R6KheqB2l0kwFwoFSmWOyCsZ8v+/+MYxPMQg2IaQAlNoFP7Ly7/X//+W+gepL/1mP1mfb8ccMf6rJy7AZA9f8//z/1MupC79GSiKa17cElnuR7pw5MG48AV+ucZ/+MYxOwMgAYuSAhEAhglKMW9+py5S+PP+Rf/6MP/fXz/vlOfvzMv/LWRcWGz16///9fZMlpasVhhHOGxIRbHk8nkkYP+EQKl/+MYxPUPG2IdgAjNozJQByAMF/6//le/y////8/rVl/v5/d/5U98kU2tzl5SITKXk///7Pt5VWhZSMOQqIHZwB0LymkzFFnA/+MYxPMOw2oQAABNEL0pKo025GgSbCS9H7lzLlV58mRTv//3+W8WT//f/7zz5//l/9ki/6////WXFkRjlygC4US7JYQwCIg1/+MYxPMPk1YaQAjNof+3GgQj8XKu+pz/PNeX2//81+BMxLX//nz8/5vXovznf9GZ8kZy//J/t1dPqqsZWQIqK2lF4LBUIAJn/+MYxO8Pq2YdoAlNopA5QImv5P/i4cqmi/y///9DP/mplLdWL/8rZS/qX////m+pfVpWM5jBgJysYxQpTGMYUcygIwYU6qqq/+MYxOsPE14aQAiNoYAwNmLCuoX4szULsxZmoXZiwr/FhX//gIWFSJmtiVCwr3f7P/ioqLCwsLC4qK1MQU1FMy45OS4zVVVV/+MYxOkN614mSAhE31VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOwz4hqAiHo1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxOwOG1oOIAgEqFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxO4L6AVtkAhEAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Ot="Read this book aloud",It=r(4907),At=r(1041),St=r(1669);function kt(Ye){return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Me){return typeof Me}:function(Me){return Me&&typeof Symbol=="function"&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me},kt(Ye)}function I(Ye,Me){return function(De){if(Array.isArray(De))return De}(Ye)||function(De,et){var Tt=De==null?null:typeof Symbol<"u"&&De[Symbol.iterator]||De["@@iterator"];if(Tt!=null){var Ht,Ze,wt,_t,Xt=[],We=!0,ri=!1;try{if(wt=(Tt=Tt.call(De)).next,et===0){if(Object(Tt)!==Tt)return;We=!1}else for(;!(We=(Ht=wt.call(Tt)).done)&&(Xt.push(Ht.value),Xt.length!==et);We=!0);}catch(ei){ri=!0,Ze=ei}finally{try{if(!We&&Tt.return!=null&&(_t=Tt.return(),Object(_t)!==_t))return}finally{if(ri)throw Ze}}return Xt}}(Ye,Me)||function(De,et){if(De){if(typeof De=="string")return Ue(De,et);var Tt={}.toString.call(De).slice(8,-1);return Tt==="Object"&&De.constructor&&(Tt=De.constructor.name),Tt==="Map"||Tt==="Set"?Array.from(De):Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt)?Ue(De,et):void 0}}(Ye,Me)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ue(Ye,Me){(Me==null||Me>Ye.length)&&(Me=Ye.length);for(var De=0,et=Array(Me);De<Me;De++)et[De]=Ye[De];return et}function _e(){_e=function(){return Me};var Ye,Me={},De=Object.prototype,et=De.hasOwnProperty,Tt=Object.defineProperty||function(ve,he,B){ve[he]=B.value},Ht=typeof Symbol=="function"?Symbol:{},Ze=Ht.iterator||"@@iterator",wt=Ht.asyncIterator||"@@asyncIterator",_t=Ht.toStringTag||"@@toStringTag";function Xt(ve,he,B){return Object.defineProperty(ve,he,{value:B,enumerable:!0,configurable:!0,writable:!0}),ve[he]}try{Xt({},"")}catch(ve){Xt=function(he,B,be){return he[B]=be}}function We(ve,he,B,be){var xe=he&&he.prototype instanceof Mi?he:Mi,$t=Object.create(xe.prototype),zt=new Gr(be||[]);return Tt($t,"_invoke",{value:Xr(ve,B,zt)}),$t}function ri(ve,he,B){try{return{type:"normal",arg:ve.call(he,B)}}catch(be){return{type:"throw",arg:be}}}Me.wrap=We;var ei="suspendedStart",ki="suspendedYield",qt="executing",ci="completed",Ei={};function Mi(){}function ir(){}function Yi(){}var Gi={};Xt(Gi,Ze,function(){return this});var Sr=Object.getPrototypeOf,tr=Sr&&Sr(Sr(Vr([])));tr&&tr!==De&&et.call(tr,Ze)&&(Gi=tr);var yr=Yi.prototype=Mi.prototype=Object.create(Gi);function xr(ve){["next","throw","return"].forEach(function(he){Xt(ve,he,function(B){return this._invoke(he,B)})})}function Tr(ve,he){function B(xe,$t,zt,gi){var mi=ri(ve[xe],ve,$t);if(mi.type!=="throw"){var Fi=mi.arg,hr=Fi.value;return hr&&kt(hr)=="object"&&et.call(hr,"__await")?he.resolve(hr.__await).then(function(or){B("next",or,zt,gi)},function(or){B("throw",or,zt,gi)}):he.resolve(hr).then(function(or){Fi.value=or,zt(Fi)},function(or){return B("throw",or,zt,gi)})}gi(mi.arg)}var be;Tt(this,"_invoke",{value:function(xe,$t){function zt(){return new he(function(gi,mi){B(xe,$t,gi,mi)})}return be=be?be.then(zt,zt):zt()}})}function Xr(ve,he,B){var be=ei;return function(xe,$t){if(be===qt)throw Error("Generator is already running");if(be===ci){if(xe==="throw")throw $t;return{value:Ye,done:!0}}for(B.method=xe,B.arg=$t;;){var zt=B.delegate;if(zt){var gi=ln(zt,B);if(gi){if(gi===Ei)continue;return gi}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(be===ei)throw be=ci,B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);be=qt;var mi=ri(ve,he,B);if(mi.type==="normal"){if(be=B.done?ci:ki,mi.arg===Ei)continue;return{value:mi.arg,done:B.done}}mi.type==="throw"&&(be=ci,B.method="throw",B.arg=mi.arg)}}}function ln(ve,he){var B=he.method,be=ve.iterator[B];if(be===Ye)return he.delegate=null,B==="throw"&&ve.iterator.return&&(he.method="return",he.arg=Ye,ln(ve,he),he.method==="throw")||B!=="return"&&(he.method="throw",he.arg=new TypeError("The iterator does not provide a '"+B+"' method")),Ei;var xe=ri(be,ve.iterator,he.arg);if(xe.type==="throw")return he.method="throw",he.arg=xe.arg,he.delegate=null,Ei;var $t=xe.arg;return $t?$t.done?(he[ve.resultName]=$t.value,he.next=ve.nextLoc,he.method!=="return"&&(he.method="next",he.arg=Ye),he.delegate=null,Ei):$t:(he.method="throw",he.arg=new TypeError("iterator result is not an object"),he.delegate=null,Ei)}function Pr(ve){var he={tryLoc:ve[0]};1 in ve&&(he.catchLoc=ve[1]),2 in ve&&(he.finallyLoc=ve[2],he.afterLoc=ve[3]),this.tryEntries.push(he)}function Dr(ve){var he=ve.completion||{};he.type="normal",delete he.arg,ve.completion=he}function Gr(ve){this.tryEntries=[{tryLoc:"root"}],ve.forEach(Pr,this),this.reset(!0)}function Vr(ve){if(ve||ve===""){var he=ve[Ze];if(he)return he.call(ve);if(typeof ve.next=="function")return ve;if(!isNaN(ve.length)){var B=-1,be=function xe(){for(;++B<ve.length;)if(et.call(ve,B))return xe.value=ve[B],xe.done=!1,xe;return xe.value=Ye,xe.done=!0,xe};return be.next=be}}throw new TypeError(kt(ve)+" is not iterable")}return ir.prototype=Yi,Tt(yr,"constructor",{value:Yi,configurable:!0}),Tt(Yi,"constructor",{value:ir,configurable:!0}),ir.displayName=Xt(Yi,_t,"GeneratorFunction"),Me.isGeneratorFunction=function(ve){var he=typeof ve=="function"&&ve.constructor;return!!he&&(he===ir||(he.displayName||he.name)==="GeneratorFunction")},Me.mark=function(ve){return Object.setPrototypeOf?Object.setPrototypeOf(ve,Yi):(ve.__proto__=Yi,Xt(ve,_t,"GeneratorFunction")),ve.prototype=Object.create(yr),ve},Me.awrap=function(ve){return{__await:ve}},xr(Tr.prototype),Xt(Tr.prototype,wt,function(){return this}),Me.AsyncIterator=Tr,Me.async=function(ve,he,B,be,xe){xe===void 0&&(xe=Promise);var $t=new Tr(We(ve,he,B,be),xe);return Me.isGeneratorFunction(he)?$t:$t.next().then(function(zt){return zt.done?zt.value:$t.next()})},xr(yr),Xt(yr,_t,"Generator"),Xt(yr,Ze,function(){return this}),Xt(yr,"toString",function(){return"[object Generator]"}),Me.keys=function(ve){var he=Object(ve),B=[];for(var be in he)B.push(be);return B.reverse(),function xe(){for(;B.length;){var $t=B.pop();if($t in he)return xe.value=$t,xe.done=!1,xe}return xe.done=!0,xe}},Me.values=Vr,Gr.prototype={constructor:Gr,reset:function(ve){if(this.prev=0,this.next=0,this.sent=this._sent=Ye,this.done=!1,this.delegate=null,this.method="next",this.arg=Ye,this.tryEntries.forEach(Dr),!ve)for(var he in this)he.charAt(0)==="t"&&et.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=Ye)},stop:function(){this.done=!0;var ve=this.tryEntries[0].completion;if(ve.type==="throw")throw ve.arg;return this.rval},dispatchException:function(ve){if(this.done)throw ve;var he=this;function B(mi,Fi){return $t.type="throw",$t.arg=ve,he.next=mi,Fi&&(he.method="next",he.arg=Ye),!!Fi}for(var be=this.tryEntries.length-1;be>=0;--be){var xe=this.tryEntries[be],$t=xe.completion;if(xe.tryLoc==="root")return B("end");if(xe.tryLoc<=this.prev){var zt=et.call(xe,"catchLoc"),gi=et.call(xe,"finallyLoc");if(zt&&gi){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}else if(zt){if(this.prev<xe.catchLoc)return B(xe.catchLoc,!0)}else{if(!gi)throw Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return B(xe.finallyLoc)}}}},abrupt:function(ve,he){for(var B=this.tryEntries.length-1;B>=0;--B){var be=this.tryEntries[B];if(be.tryLoc<=this.prev&&et.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var xe=be;break}}xe&&(ve==="break"||ve==="continue")&&xe.tryLoc<=he&&he<=xe.finallyLoc&&(xe=null);var $t=xe?xe.completion:{};return $t.type=ve,$t.arg=he,xe?(this.method="next",this.next=xe.finallyLoc,Ei):this.complete($t)},complete:function(ve,he){if(ve.type==="throw")throw ve.arg;return ve.type==="break"||ve.type==="continue"?this.next=ve.arg:ve.type==="return"?(this.rval=this.arg=ve.arg,this.method="return",this.next="end"):ve.type==="normal"&&he&&(this.next=he),Ei},finish:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.finallyLoc===ve)return this.complete(B.completion,B.afterLoc),Dr(B),Ei}},catch:function(ve){for(var he=this.tryEntries.length-1;he>=0;--he){var B=this.tryEntries[he];if(B.tryLoc===ve){var be=B.completion;if(be.type==="throw"){var xe=be.arg;Dr(B)}return xe}}throw Error("illegal catch attempt")},delegateYield:function(ve,he,B){return this.delegate={iterator:Vr(ve),resultName:he,nextLoc:B},this.method==="next"&&(this.arg=Ye),Ei}},Me}function Ve(Ye,Me,De,et,Tt,Ht,Ze){try{var wt=Ye[Ht](Ze),_t=wt.value}catch(Xt){return void De(Xt)}wt.done?Me(_t):Promise.resolve(_t).then(et,Tt)}function Xe(Ye){return function(){var Me=this,De=arguments;return new Promise(function(et,Tt){var Ht=Ye.apply(Me,De);function Ze(_t){Ve(Ht,et,Tt,Ze,wt,"next",_t)}function wt(_t){Ve(Ht,et,Tt,Ze,wt,"throw",_t)}Ze(void 0)})}}function ut(Ye,Me){var De=Object.keys(Ye);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(Ye);Me&&(et=et.filter(function(Tt){return Object.getOwnPropertyDescriptor(Ye,Tt).enumerable})),De.push.apply(De,et)}return De}function re(Ye,Me){for(var De=0;De<Me.length;De++){var et=Me[De];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Ye,Jt(et.key),et)}}function Pe(Ye,Me,De){return Me=lt(Me),function(et,Tt){if(Tt&&(kt(Tt)=="object"||typeof Tt=="function"))return Tt;if(Tt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(et)}(Ye,He()?Reflect.construct(Me,De||[],lt(Ye).constructor):Me.apply(Ye,De))}function He(){try{var Ye=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Me){}return(He=function(){return!!Ye})()}function vt(){return vt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Ye,Me,De){var et=function(Ht,Ze){for(;!{}.hasOwnProperty.call(Ht,Ze)&&(Ht=lt(Ht))!==null;);return Ht}(Ye,Me);if(et){var Tt=Object.getOwnPropertyDescriptor(et,Me);return Tt.get?Tt.get.call(arguments.length<3?Ye:De):Tt.value}},vt.apply(null,arguments)}function lt(Ye){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},lt(Ye)}function Et(Ye,Me){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(De,et){return De.__proto__=et,De},Et(Ye,Me)}function Ut(Ye,Me,De){return(Me=Jt(Me))in Ye?Object.defineProperty(Ye,Me,{value:De,enumerable:!0,configurable:!0,writable:!0}):Ye[Me]=De,Ye}function Jt(Ye){var Me=function(De,et){if(kt(De)!="object"||!De)return De;var Tt=De[Symbol.toPrimitive];if(Tt!==void 0){var Ht=Tt.call(De,"string");if(kt(Ht)!="object")return Ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(Ye);return kt(Me)=="symbol"?Me:Me+""}var Lt=window.BookReader,jt=function(Ye){function Me(){var Ze;(function(We,ri){if(!(We instanceof ri))throw new TypeError("Cannot call a class as a function")})(this,Me);for(var wt=arguments.length,_t=new Array(wt),Xt=0;Xt<wt;Xt++)_t[Xt]=arguments[Xt];return Ut(Ze=Pe(this,Me,[].concat(_t)),"options",{enabled:!0,pageChunkUrl:"https://{{server}}/BookReader/BookReaderGetTextWrapper.php?path={{bookPath|urlencode}}_djvu.xml&page={{pageIndex}}&callback=false",remoteTtsUrl:"https://{{server}}/BookReader/BookReaderGetTTS.php?string={{text|urlencode}}&format={{format}}"}),Ze}return function(Ze,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");Ze.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Ze,writable:!0,configurable:!0}}),Object.defineProperty(Ze,"prototype",{writable:!1}),wt&&Et(Ze,wt)}(Me,Ye),De=Me,et=[{key:"setup",value:function(Ze){var wt,_t,Xt;if((wt=Me,_t=this,typeof(Xt=vt(lt(wt.prototype),"setup",_t))=="function"?function(ki){return Xt.apply(_t,ki)}:Xt)([Object.assign({server:this.br.options.server,bookPath:this.br.options.bookPath},Ze)]),this.options.enabled){this._ttsBoxesByIndex={};var We,ri=ti.isSupported()?ti:pt.isSupported()?pt:null;if(/_forceTTSEngine=(festival|web)/.test(location.toString())){var ei=location.toString().match(/_forceTTSEngine=(festival|web)/)[1];ri={festival:pt,web:ti}[ei]}ri&&(this.ttsEngine=new ri(function(ki){for(var qt=1;qt<arguments.length;qt++){var ci=arguments[qt]!=null?arguments[qt]:{};qt%2?ut(Object(ci),!0).forEach(function(Ei){Ut(ki,Ei,ci[Ei])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ki,Object.getOwnPropertyDescriptors(ci)):ut(Object(ci)).forEach(function(Ei){Object.defineProperty(ki,Ei,Object.getOwnPropertyDescriptor(ci,Ei))})}return ki}({pageChunkUrl:(0,s.g)(this.options.pageChunkUrl,this.br.options.vars),bookLanguage:(We=this.br.options.bookLanguage,We?d(We=We.toLowerCase(),["ISO 639-1"])||d(We,["ISO 639-2/B"])||d(We,["ISO 639-2/T","Endonym","Name"]):null),onLoadingStart:this.br.showProgressPopup.bind(this.br,"Loading audio..."),onLoadingComplete:this.br.removeProgressPopup.bind(this.br),onDone:this.stop.bind(this),beforeChunkPlay:this.beforeChunkPlay.bind(this),afterChunkPlay:this.sendChunkFinishedAnalyticsEvent.bind(this)},ri===pt?{festivalUrl:(0,s.g)(this.options.remoteTtsUrl,this.br.options.vars)}:{})))}}},{key:"init",value:function(){var Ze=this;this.options.enabled&&this.br.bind(Lt.eventNames.PostInit,function(){Ze.br.$(".BRicon.read").click(function(){return Ze.toggle(),!1}),Ze.ttsEngine&&(Ze.ttsEngine.init(),/[?&]_autoReadAloud=show/.test(location.toString())&&Ze.start(!1))})}},{key:"_configurePageContainer",value:function(Ze){if(this.options.enabled&&Ze.page&&Ze.page.index in this._ttsBoxesByIndex){var wt=Ze.page.index;(0,It.KL)("ttsHiliteLayer",this._ttsBoxesByIndex[wt],Ze.page,Ze.$container[0])}}},{key:"extendNavBar",value:function(Ze){var wt=this;if(this.options.enabled&&this.ttsEngine){this.br.refs.$BRReadAloudToolbar=St(`
      <ul class="read-aloud">
        <li>
          <select class="playback-speed" name="playback-speed" title="`.concat("Playback speed",`">
            <option value="0.25">0.25x</option>
            <option value="0.5">0.5x</option>
            <option value="0.75">0.75x</option>
            <option value="1.0" selected>1.0x</option>
            <option value="1.25">1.25x</option>
            <option value="1.5">1.5x</option>
            <option value="1.75">1.75x</option>
            <option value="2">2x</option>
          </select>
        </li>
        <li>
          <button type="button" name="review" title="`).concat("Review 10 seconds",`">
            <div class="icon icon-review"></div>
          </button>
        </li>
        <li>
          <button type="button" name="play" title="`).concat("Play",`">
            <div class="icon icon-play"></div>
            <div class="icon icon-pause"></div>
          </button>
        </li>
        <li>
          <button type="button" name="advance" title="`).concat("Advance 10 seconds",`">
            <div class="icon icon-advance"></div>
          </button>
        </li>
        <li>
          <select class="playback-voices" name="playback-voice" style="display: none" title="Change read aloud voices">
          </select>
        </li>
      </ul>
    `)),Ze.find(".BRcontrols").prepend(this.br.refs.$BRReadAloudToolbar);var _t=function(ki){return ki.map(function(qt){return'<option value="'.concat(qt.voiceURI,'">').concat(qt.lang," - ").concat(qt.name,"</option>")}).join("")},Xt=function(ki,qt){return"".concat(ki.lang," - ").concat(ki.name).localeCompare("".concat(qt.lang," - ").concat(qt.name))},We=function(ki){ki.empty();var qt=wt.ttsEngine.opts.bookLanguage,ci=wt.ttsEngine.getVoices().filter(function(Mi){return Mi.lang.startsWith(qt)}).sort(Xt),Ei=wt.ttsEngine.getVoices().filter(function(Mi){return!Mi.lang.startsWith(qt)}).sort(Xt);wt.ttsEngine.getVoices().length>1?(ki.append(St('<optgroup label="Book Language ('.concat(qt,')"> ').concat(_t(ci)," </optgroup>"))),ki.append(St('<optgroup label="Other Languages"> '.concat(_t(Ei)," </optgroup>"))),ki.val(wt.ttsEngine.voice.voiceURI),ki.show()):ki.hide()},ri=this.br.refs.$BRReadAloudToolbar.find("[name=playback-voice]");We(ri),ri.on("change",function(ki){return wt.ttsEngine.setVoice(ri.val())}),this.ttsEngine.events.on("pause resume start",function(){return wt.updateState()}),this.ttsEngine.events.on("voiceschanged",function(){return We(ri)}),this.br.refs.$BRReadAloudToolbar.find("[name=play]").on("click",this.playPause.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=advance]").on("click",this.jumpForward.bind(this)),this.br.refs.$BRReadAloudToolbar.find("[name=review]").on("click",this.jumpBackward.bind(this));var ei=this.br.refs.$BRReadAloudToolbar.find('select[name="playback-speed"]');ei.on("change",function(ki){return wt.ttsEngine.setPlaybackRate(parseFloat(ei.val()))}),St(`<li>
        <button class="BRicon read js-tooltip" title="`.concat(Ot,`">
          <div class="icon icon-read-aloud"></div>
          <span class="BRtooltip">`).concat(Ot,`</span>
        </button>
      </li>`)).insertBefore(Ze.find(".BRcontrols .BRicon.zoom_out").closest("li"))}}},{key:"toggle",value:function(){var Ze;(Ze=this.br.plugins.autoplay)===null||Ze===void 0||Ze.stop(),this.ttsEngine.playing?this.stop():this.start()}},{key:"start",value:function(){var Ze=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.br.constModeThumb==this.br.mode&&this.br.switchMode(this.br.constMode1up),this.br.refs.$BRReadAloudToolbar.addClass("visible"),this.br.$(".BRicon.read").addClass("unread active"),this.sendAnalyticsEvent("Start"),Ze&&this.ttsEngine.start(this.br.currentIndex(),this.br.book.getNumLeafs())}},{key:"jumpForward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpForward()}},{key:"jumpBackward",value:function(){this.ttsEngine.paused&&this.ttsEngine.resume(),this.ttsEngine.jumpBackward()}},{key:"updateState",value:function(){var Ze=!(this.ttsEngine.paused||!this.ttsEngine.playing);this.br.$(".read-aloud [name=play]").toggleClass("playing",Ze)}},{key:"playPause",value:function(){this.ttsEngine.playing?(this.ttsEngine.togglePlayPause(),this.updateState()):this.toggle()}},{key:"stop",value:function(){this.br.refs.$BRReadAloudToolbar.removeClass("visible"),this.br.$(".BRicon.read").removeClass("unread active"),this.sendAnalyticsEvent("Stop"),this.ttsEngine.stop(),this.removeHilites(),this.br.removeProgressPopup()}},{key:"beforeChunkPlay",value:(Ht=Xe(_e().mark(function Ze(wt){return _e().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.next=2,this.maybeFlipToIndex(wt.leafIndex);case 2:this.highlightChunk(wt),this.scrollToChunk(wt);case 4:case"end":return _t.stop()}},Ze,this)})),function(Ze){return Ht.apply(this,arguments)})},{key:"sendChunkFinishedAnalyticsEvent",value:function(Ze){var wt;this.sendAnalyticsEvent("ChunkFinished-Words",(wt=Ze.text.match(/\S+/g))?wt.length:0)}},{key:"maybeFlipToIndex",value:(Tt=Xe(_e().mark(function Ze(wt){return _e().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:this.br._isIndexDisplayed(wt)||this.br.jumpToIndex(wt);case 1:case"end":return _t.stop()}},Ze,this)})),function(Ze){return Tt.apply(this,arguments)})},{key:"highlightChunk",value:function(Ze){var wt=this,_t=Ze.leafIndex;this.removeHilites(),this._ttsBoxesByIndex=Ut({},_t,Ze.lineRects.map(function(ei){var ki=I(ei,4),qt=ki[0],ci=ki[1];return{l:qt,r:ki[2],b:ci,t:ki[3]}}));for(var Xt=function(){var ei=I(ri[We],2),ki=ei[0],qt=ei[1],ci=parseFloat(ki),Ei=wt.br.book.getPage(ci);wt.br.getActivePageContainerElementsForIndex(ci).forEach(function(Mi){return(0,It.KL)("ttsHiliteLayer",qt,Ei,Mi)})},We=0,ri=Object.entries(this._ttsBoxesByIndex);We<ri.length;We++)Xt()}},{key:"scrollToChunk",value:function(Ze){var wt;this.br.constModeThumb!=this.br.mode&&((wt=St(".pagediv".concat(Ze.leafIndex," .ttsHiliteLayer rect")).last())===null||wt===void 0||(wt=wt[0])===null||wt===void 0||wt.scrollIntoView({block:this.br.constMode1up==this.br.mode||this.br.isFullscreenActive?"center":"nearest",inline:"center",behavior:"smooth"}))}},{key:"removeHilites",value:function(){St(this.br.getActivePageContainerElements()).find(".ttsHiliteLayer").remove(),this._ttsBoxesByIndex={}}},{key:"sendAnalyticsEvent",value:function(Ze,wt){if(this.br.plugins.archiveAnalytics){var _t={},Xt=this.ttsEngine.opts.bookLanguage;Xt&&(_t.mediaLanguage=Xt),this.br.plugins.archiveAnalytics.sendEvent("BRReadAloud",Ze,wt,_t)}}}],et&&re(De.prototype,et),Object.defineProperty(De,"prototype",{writable:!1}),De;var De,et,Tt,Ht}(At.S);Lt==null||Lt.registerPlugin("tts",jt)},9073:function(e,t,r){"use strict";function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,h=Array(n);u<n;u++)h[u]=c[u];return h}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,_=function(L){if(Array.isArray(L))return L}(y=m.split("|").map(function(L){return L.trim()}))||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(y)||function(L,T){if(L){if(typeof L=="string")return s(L,T);var E={}.toString.call(L).slice(8,-1);return E==="Object"&&L.constructor&&(E=L.constructor.name),E==="Map"||E==="Set"?Array.from(L):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(L,T):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=_[0],k=_.slice(1);if(!(w in u)&&!(w in n))return g;var A=w in u?u[w]:w in n?n[w]:null;return k.map(function(L){return h[L]}).reduce(function(L,T){return T(L)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=1966)}]);yw=ZA,{default:bw}=yw,JA=nn(yw,["default"]),ww=bw!==void 0?bw:JA;});var xw={};Fn(xw,{default:()=>ww});var _w=si(()=>{Nm();Nm()});var QA,kw,Sw,e7,Aw,Bm=si(()=>{QA={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[393],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},3387:function(e,t,r){r(2675),r(9463),r(2259),r(5700),r(8706),r(2008),r(3792),r(9572),r(8130),r(9085),r(875),r(6099),r(825),r(7495),r(7764),r(5746),r(2953),r(8408);var s=r(8340),l=r(8004);function o(k){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},o(k)}function c(k,A){for(var L=0;L<A.length;L++){var T=A[L];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,y(T.key),T)}}function n(k,A,L){return A=h(A),function(T,E){if(E&&(o(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(T)}(k,u()?Reflect.construct(A,L||[],h(k).constructor):A.apply(k,L))}function u(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(A){}return(u=function(){return!!k})()}function h(k){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},h(k)}function g(k,A){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(L,T){return L.__proto__=T,L},g(k,A)}function m(k,A,L){return(A=y(A))in k?Object.defineProperty(k,A,{value:L,enumerable:!0,configurable:!0,writable:!0}):k[A]=L,k}function y(k){var A=function(L,T){if(o(L)!="object"||!L)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var a=E.call(L,"string");if(o(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(L)}(k);return o(A)=="symbol"?A:A+""}var _=function(k){function A(){var E;(function(d,x){if(!(d instanceof x))throw new TypeError("Cannot call a class as a function")})(this,A);for(var a=arguments.length,p=new Array(a),v=0;v<a;v++)p[v]=arguments[v];return m(E=n(this,A,[].concat(p)),"options",{enabled:!0,flipSpeed:1500,flipDelay:5e3,urlParams:!0}),m(E,"timer",null),E}return function(E,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(a&&a.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),a&&g(E,a)}(A,k),L=A,T=[{key:"init",value:function(){var E=this;if(this.options.enabled&&(this.br.bind(s.q.stop,function(){return E.stop()}),this.options.urlParams)){var a=new URLSearchParams(window.location.search);a.get("flipSpeed")&&(this.options.flipSpeed=(0,l.parseAnimationSpeed)(a.get("flipSpeed"))||this.options.flipSpeed),a.get("flipDelay")&&(this.options.flipDelay=(0,l.parseAnimationSpeed)(a.get("flipDelay"))||this.options.flipDelay),a.get("autoflip")==="1"&&this.toggle()}}},{key:"_bindNavigationHandlers",value:function(){var E=this;if(this.options.enabled){var a=this.br.$(".BRicon");a.filter(".play").on("click",function(){return E.toggle(),!1}),a.filter(".pause").on("click",function(){return E.toggle(),!1})}}},{key:"toggle",value:function(){var E=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(this.options.enabled){Object.assign(this.options,a),this.br.trigger(s.q.stop);var p=!1;this.br.constMode2up!=this.br.mode&&(p=!0,this.br.switchMode(this.br.constMode2up)),this.timer==null?(this.br.pageProgression=="rl"&&p||this.br.next({triggerStop:!1,flipSpeed:this.options.flipSpeed}),this.br.$(".play").hide(),this.br.$(".pause").show(),this.timer=setInterval(function(){E.br.animating||(Math.max(E.br.twoPage.currentIndexL,E.br.twoPage.currentIndexR)>=E.br.book.getNumLeafs()-1?E.br.prev({triggerStop:!1,flipSpeed:E.options.flipSpeed}):E.br.next({triggerStop:!1,flipSpeed:E.options.flipSpeed}))},(0,l.parseAnimationSpeed)(this.options.flipDelay))):this.stop()}}},{key:"stop",value:function(){this.options.enabled&&this.timer!=null&&(clearInterval(this.timer),this.br.$(".pause").hide(),this.br.$(".play").show(),this.timer=null)}}],T&&c(L.prototype,T),Object.defineProperty(L,"prototype",{writable:!1}),L;var L,T}(r(1041).S),w=window.BookReader;w==null||w.registerPlugin("autoplay",_)}},function(e){e(e.s=3387)}]);kw=QA,{default:Sw}=kw,e7=nn(kw,["default"]),Aw=Sw!==void 0?Sw:e7});var Cw={};Fn(Cw,{default:()=>Aw});var Ew=si(()=>{Bm();Bm()});var t7,Tw,Pw,i7,$w,Hm=si(()=>{t7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[555],{1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},4442:function(e,t,r){var s={};r.r(s),r.d(s,{areCookiesBlocked:function(){return c},getItem:function(){return h},removeItem:function(){return m},setItem:function(){return g}}),r(2675),r(9463),r(2259),r(3792),r(875),r(6099),r(825),r(7764),r(2953),r(5700),r(8706),r(9572),r(8130),r(8940),r(7495),r(1761);var l=r(8340),o=r(1041);function c(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;try{return a.cookie,!1}catch(p){return!0}}r(4864),r(8781),r(5440);var n,u=c();function h(a){return u||!a?null:decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function g(a,p,v,d,x,C){return!u&&(document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(p)+(v?"; expires=".concat(v.toUTCString()):"")+(x?"; domain=".concat(x):"")+(d?"; path=".concat(d):"")+(C?"; secure":""),!0)}function m(a,p,v){return!u&&!!hasItem(a)&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(v?"; domain=".concat(v):"")+(p?"; path=".concat(p):""),!0)}function y(a){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},y(a)}function _(a,p){for(var v=0;v<p.length;v++){var d=p[v];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,T(d.key),d)}}function w(a,p,v){return p=A(p),function(d,x){if(x&&(y(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(d)}(a,k()?Reflect.construct(p,v||[],A(a).constructor):p.apply(a,v))}function k(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(p){}return(k=function(){return!!a})()}function A(a){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},A(a)}function L(a,p){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,d){return v.__proto__=d,v},L(a,p)}function T(a){var p=function(v,d){if(y(v)!="object"||!v)return v;var x=v[Symbol.toPrimitive];if(x!==void 0){var C=x.call(v,"string");if(y(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(a);return y(p)=="symbol"?p:p+""}BookReader.docCookies=s;var E=function(a){function p(){var x,C,N,G;(function(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")})(this,p);for(var q=arguments.length,K=new Array(q),oe=0;oe<q;oe++)K[oe]=arguments[oe];return C=x=w(this,p,[].concat(K)),G={enabled:!0,cookiePath:null},(N=T(N="options"))in C?Object.defineProperty(C,N,{value:G,enumerable:!0,configurable:!0,writable:!0}):C[N]=G,x}return function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),C&&L(x,C)}(p,a),v=p,(d=[{key:"init",value:function(){var x=this;this.options.enabled&&this.br.bind(l.q.fragmentChange,function(){var C=x.br.paramsFromCurrent();x.updateResumeValue(C.index)})}},{key:"getResumeValue",value:function(){var x=BookReader.docCookies.getItem("br-resume");return x!==null?parseInt(x):null}},{key:"getCookiePath",value:function(x){return x.match(".+?(?=/page/|/mode/|$)")[0]}},{key:"updateResumeValue",value:function(x,C){var N=new Date(+new Date+12096e5),G=this.options.cookiePath||this.getCookiePath(window.location.pathname);BookReader.docCookies.setItem(C||"br-resume",x,N,G,null,!1)}}])&&_(v.prototype,d),Object.defineProperty(v,"prototype",{writable:!1}),v;var v,d}(o.S);(n=BookReader)===null||n===void 0||n.registerPlugin("resume",E)}},function(e){e(e.s=4442)}]);Tw=t7,{default:Pw}=Tw,i7=nn(Tw,["default"]),$w=Pw!==void 0?Pw:i7});var Lw={};Fn(Lw,{default:()=>$w});var Mw=si(()=>{Hm();Hm()});var r7,Ow,Iw,n7,Rw,Fm=si(()=>{r7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[858],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},9220:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(8125),r(113),r(3418),r(4782),r(4554),r(2010),r(4731),r(479),r(2811),r(3851),r(875),r(3362),r(825),r(888),r(7495),r(8781),r(5700),r(8706),r(2008),r(8980),r(3792),r(8598),r(2062),r(4490),r(9572),r(8130),r(9085),r(6099),r(8940),r(7764),r(3500),r(2953),r(8408);var s=r(420),l=r(9696),o=r(6681),c=r(8900),n=s.qy`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="tocTitleID tocDescID"
>
  <title id="tocTitleID">Table of contents icon</title>
  <desc id="tocDescID">An illustration of three text list items</desc>
  <g class="fill-color" fill-rule="evenodd"><rect height="3" rx="1.5" width="18" x="6"/><rect height="3" rx="1.5" width="18" x="6" y="21"/><rect height="3" rx="1.5" width="18" x="6" y="14"/><rect height="3" rx="1.5" width="18" x="6" y="7"/><rect height="3" rx="1.5" width="4"/><rect height="3" rx="1.5" width="4" y="21"/><rect height="3" rx="1.5" width="4" y="14"/><rect height="3" rx="1.5" width="4" y="7"/></g>
</svg>
`;class u extends s.WF{static get styles(){return s.AH`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return n}}customElements.define("ia-icon-toc",u);var h,g,m,y,_,w,k=r(1041),A=r(9073),L=r(1669);function T(ne){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},T(ne)}function E(){E=function(){return ne};var ne={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(ie,Ke){["method","field"].forEach(function(Ct){Ke.forEach(function(we){we.kind===Ct&&we.placement==="own"&&this.defineClassElement(ie,we)},this)},this)},initializeClassElements:function(ie,Ke){var Ct=ie.prototype;["method","field"].forEach(function(we){Ke.forEach(function($e){var at=$e.placement;if($e.kind===we&&(at==="static"||at==="prototype")){var Ce=at==="static"?ie:Ct;this.defineClassElement(Ce,$e)}},this)},this)},defineClassElement:function(ie,Ke){var Ct=Ke.descriptor;if(Ke.kind==="field"){var we=Ke.initializer;Ct={enumerable:Ct.enumerable,writable:Ct.writable,configurable:Ct.configurable,value:we===void 0?void 0:we.call(ie)}}Object.defineProperty(ie,Ke.key,Ct)},decorateClass:function(ie,Ke){var Ct=[],we=[],$e={static:[],prototype:[],own:[]};if(ie.forEach(function(Ce){this.addElementPlacement(Ce,$e)},this),ie.forEach(function(Ce){if(!v(Ce))return Ct.push(Ce);var Je=this.decorateElement(Ce,$e);Ct.push(Je.element),Ct.push.apply(Ct,Je.extras),we.push.apply(we,Je.finishers)},this),!Ke)return{elements:Ct,finishers:we};var at=this.decorateConstructor(Ct,Ke);return we.push.apply(we,at.finishers),at.finishers=we,at},addElementPlacement:function(ie,Ke,Ct){var we=Ke[ie.placement];if(!Ct&&we.indexOf(ie.key)!==-1)throw new TypeError("Duplicated element ("+ie.key+")");we.push(ie.key)},decorateElement:function(ie,Ke){for(var Ct=[],we=[],$e=ie.decorators,at=$e.length-1;at>=0;at--){var Ce=Ke[ie.placement];Ce.splice(Ce.indexOf(ie.key),1);var Je=this.fromElementDescriptor(ie),tt=this.toElementFinisherExtras((0,$e[at])(Je)||Je);ie=tt.element,this.addElementPlacement(ie,Ke),tt.finisher&&we.push(tt.finisher);var Vt=tt.extras;if(Vt){for(var ct=0;ct<Vt.length;ct++)this.addElementPlacement(Vt[ct],Ke);Ct.push.apply(Ct,Vt)}}return{element:ie,finishers:we,extras:Ct}},decorateConstructor:function(ie,Ke){for(var Ct=[],we=Ke.length-1;we>=0;we--){var $e=this.fromClassDescriptor(ie),at=this.toClassDescriptor((0,Ke[we])($e)||$e);if(at.finisher!==void 0&&Ct.push(at.finisher),at.elements!==void 0){ie=at.elements;for(var Ce=0;Ce<ie.length-1;Ce++)for(var Je=Ce+1;Je<ie.length;Je++)if(ie[Ce].key===ie[Je].key&&ie[Ce].placement===ie[Je].placement)throw new TypeError("Duplicated element ("+ie[Ce].key+")")}}return{elements:ie,finishers:Ct}},fromElementDescriptor:function(ie){var Ke={kind:ie.kind,key:ie.key,placement:ie.placement,descriptor:ie.descriptor};return Object.defineProperty(Ke,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),ie.kind==="field"&&(Ke.initializer=ie.initializer),Ke},toElementDescriptors:function(ie){if(ie!==void 0)return(Ke=ie,function(Ct){if(Array.isArray(Ct))return Ct}(Ke)||N(Ke)||C(Ke)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(Ct){var we=this.toElementDescriptor(Ct);return this.disallowProperty(Ct,"finisher","An element descriptor"),this.disallowProperty(Ct,"extras","An element descriptor"),we},this);var Ke},toElementDescriptor:function(ie){var Ke=ie.kind+"";if(Ke!=="method"&&Ke!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Ke+'"');var Ct=ht(ie.key),we=ie.placement+"";if(we!=="static"&&we!=="prototype"&&we!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+we+'"');var $e=ie.descriptor;this.disallowProperty(ie,"elements","An element descriptor");var at={kind:Ke,key:Ct,placement:we,descriptor:Object.assign({},$e)};return Ke!=="field"?this.disallowProperty(ie,"initializer","A method descriptor"):(this.disallowProperty($e,"get","The property descriptor of a field descriptor"),this.disallowProperty($e,"set","The property descriptor of a field descriptor"),this.disallowProperty($e,"value","The property descriptor of a field descriptor"),at.initializer=ie.initializer),at},toElementFinisherExtras:function(ie){return{element:this.toElementDescriptor(ie),finisher:x(ie,"finisher"),extras:this.toElementDescriptors(ie.extras)}},fromClassDescriptor:function(ie){var Ke={kind:"class",elements:ie.map(this.fromElementDescriptor,this)};return Object.defineProperty(Ke,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Ke},toClassDescriptor:function(ie){var Ke=ie.kind+"";if(Ke!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Ke+'"');this.disallowProperty(ie,"key","A class descriptor"),this.disallowProperty(ie,"placement","A class descriptor"),this.disallowProperty(ie,"descriptor","A class descriptor"),this.disallowProperty(ie,"initializer","A class descriptor"),this.disallowProperty(ie,"extras","A class descriptor");var Ct=x(ie,"finisher");return{elements:this.toElementDescriptors(ie.elements),finisher:Ct}},runClassFinishers:function(ie,Ke){for(var Ct=0;Ct<Ke.length;Ct++){var we=(0,Ke[Ct])(ie);if(we!==void 0){if(typeof we!="function")throw new TypeError("Finishers must return a constructor.");ie=we}}return ie},disallowProperty:function(ie,Ke,Ct){if(ie[Ke]!==void 0)throw new TypeError(Ct+" can't have a ."+Ke+" property.")}};return ne}function a(ne){var ie,Ke=ht(ne.key);ne.kind==="method"?ie={value:ne.value,writable:!0,configurable:!0,enumerable:!1}:ne.kind==="get"?ie={get:ne.value,configurable:!0,enumerable:!1}:ne.kind==="set"?ie={set:ne.value,configurable:!0,enumerable:!1}:ne.kind==="field"&&(ie={configurable:!0,writable:!0,enumerable:!0});var Ct={kind:ne.kind==="field"?"field":"method",key:Ke,placement:ne.static?"static":ne.kind==="field"?"own":"prototype",descriptor:ie};return ne.decorators&&(Ct.decorators=ne.decorators),ne.kind==="field"&&(Ct.initializer=ne.value),Ct}function p(ne,ie){ne.descriptor.get!==void 0?ie.descriptor.get=ne.descriptor.get:ie.descriptor.set=ne.descriptor.set}function v(ne){return ne.decorators&&ne.decorators.length}function d(ne){return ne!==void 0&&!(ne.value===void 0&&ne.writable===void 0)}function x(ne,ie){var Ke=ne[ie];if(Ke!==void 0&&typeof Ke!="function")throw new TypeError("Expected '"+ie+"' to be a function");return Ke}function C(ne,ie){if(ne){if(typeof ne=="string")return G(ne,ie);var Ke={}.toString.call(ne).slice(8,-1);return Ke==="Object"&&ne.constructor&&(Ke=ne.constructor.name),Ke==="Map"||Ke==="Set"?Array.from(ne):Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke)?G(ne,ie):void 0}}function N(ne){if(typeof Symbol<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}function G(ne,ie){(ie==null||ie>ne.length)&&(ie=ne.length);for(var Ke=0,Ct=Array(ie);Ke<ie;Ke++)Ct[Ke]=ne[Ke];return Ct}function q(ne,ie){return ie||(ie=ne.slice(0)),Object.freeze(Object.defineProperties(ne,{raw:{value:Object.freeze(ie)}}))}function K(){K=function(){return ie};var ne,ie={},Ke=Object.prototype,Ct=Ke.hasOwnProperty,we=Object.defineProperty||function(lt,Et,Ut){lt[Et]=Ut.value},$e=typeof Symbol=="function"?Symbol:{},at=$e.iterator||"@@iterator",Ce=$e.asyncIterator||"@@asyncIterator",Je=$e.toStringTag||"@@toStringTag";function tt(lt,Et,Ut){return Object.defineProperty(lt,Et,{value:Ut,enumerable:!0,configurable:!0,writable:!0}),lt[Et]}try{tt({},"")}catch(lt){tt=function(Et,Ut,Jt){return Et[Ut]=Jt}}function Vt(lt,Et,Ut,Jt){var Lt=Et&&Et.prototype instanceof Ot?Et:Ot,jt=Object.create(Lt.prototype),Ye=new He(Jt||[]);return we(jt,"_invoke",{value:Xe(lt,Ut,Ye)}),jt}function ct(lt,Et,Ut){try{return{type:"normal",arg:lt.call(Et,Ut)}}catch(Jt){return{type:"throw",arg:Jt}}}ie.wrap=Vt;var gt="suspendedStart",Rt="suspendedYield",ti="executing",oi="completed",ui={};function Ot(){}function It(){}function At(){}var St={};tt(St,at,function(){return this});var kt=Object.getPrototypeOf,I=kt&&kt(kt(vt([])));I&&I!==Ke&&Ct.call(I,at)&&(St=I);var Ue=At.prototype=Ot.prototype=Object.create(St);function _e(lt){["next","throw","return"].forEach(function(Et){tt(lt,Et,function(Ut){return this._invoke(Et,Ut)})})}function Ve(lt,Et){function Ut(Lt,jt,Ye,Me){var De=ct(lt[Lt],lt,jt);if(De.type!=="throw"){var et=De.arg,Tt=et.value;return Tt&&T(Tt)=="object"&&Ct.call(Tt,"__await")?Et.resolve(Tt.__await).then(function(Ht){Ut("next",Ht,Ye,Me)},function(Ht){Ut("throw",Ht,Ye,Me)}):Et.resolve(Tt).then(function(Ht){et.value=Ht,Ye(et)},function(Ht){return Ut("throw",Ht,Ye,Me)})}Me(De.arg)}var Jt;we(this,"_invoke",{value:function(Lt,jt){function Ye(){return new Et(function(Me,De){Ut(Lt,jt,Me,De)})}return Jt=Jt?Jt.then(Ye,Ye):Ye()}})}function Xe(lt,Et,Ut){var Jt=gt;return function(Lt,jt){if(Jt===ti)throw Error("Generator is already running");if(Jt===oi){if(Lt==="throw")throw jt;return{value:ne,done:!0}}for(Ut.method=Lt,Ut.arg=jt;;){var Ye=Ut.delegate;if(Ye){var Me=ut(Ye,Ut);if(Me){if(Me===ui)continue;return Me}}if(Ut.method==="next")Ut.sent=Ut._sent=Ut.arg;else if(Ut.method==="throw"){if(Jt===gt)throw Jt=oi,Ut.arg;Ut.dispatchException(Ut.arg)}else Ut.method==="return"&&Ut.abrupt("return",Ut.arg);Jt=ti;var De=ct(lt,Et,Ut);if(De.type==="normal"){if(Jt=Ut.done?oi:Rt,De.arg===ui)continue;return{value:De.arg,done:Ut.done}}De.type==="throw"&&(Jt=oi,Ut.method="throw",Ut.arg=De.arg)}}}function ut(lt,Et){var Ut=Et.method,Jt=lt.iterator[Ut];if(Jt===ne)return Et.delegate=null,Ut==="throw"&&lt.iterator.return&&(Et.method="return",Et.arg=ne,ut(lt,Et),Et.method==="throw")||Ut!=="return"&&(Et.method="throw",Et.arg=new TypeError("The iterator does not provide a '"+Ut+"' method")),ui;var Lt=ct(Jt,lt.iterator,Et.arg);if(Lt.type==="throw")return Et.method="throw",Et.arg=Lt.arg,Et.delegate=null,ui;var jt=Lt.arg;return jt?jt.done?(Et[lt.resultName]=jt.value,Et.next=lt.nextLoc,Et.method!=="return"&&(Et.method="next",Et.arg=ne),Et.delegate=null,ui):jt:(Et.method="throw",Et.arg=new TypeError("iterator result is not an object"),Et.delegate=null,ui)}function re(lt){var Et={tryLoc:lt[0]};1 in lt&&(Et.catchLoc=lt[1]),2 in lt&&(Et.finallyLoc=lt[2],Et.afterLoc=lt[3]),this.tryEntries.push(Et)}function Pe(lt){var Et=lt.completion||{};Et.type="normal",delete Et.arg,lt.completion=Et}function He(lt){this.tryEntries=[{tryLoc:"root"}],lt.forEach(re,this),this.reset(!0)}function vt(lt){if(lt||lt===""){var Et=lt[at];if(Et)return Et.call(lt);if(typeof lt.next=="function")return lt;if(!isNaN(lt.length)){var Ut=-1,Jt=function Lt(){for(;++Ut<lt.length;)if(Ct.call(lt,Ut))return Lt.value=lt[Ut],Lt.done=!1,Lt;return Lt.value=ne,Lt.done=!0,Lt};return Jt.next=Jt}}throw new TypeError(T(lt)+" is not iterable")}return It.prototype=At,we(Ue,"constructor",{value:At,configurable:!0}),we(At,"constructor",{value:It,configurable:!0}),It.displayName=tt(At,Je,"GeneratorFunction"),ie.isGeneratorFunction=function(lt){var Et=typeof lt=="function"&&lt.constructor;return!!Et&&(Et===It||(Et.displayName||Et.name)==="GeneratorFunction")},ie.mark=function(lt){return Object.setPrototypeOf?Object.setPrototypeOf(lt,At):(lt.__proto__=At,tt(lt,Je,"GeneratorFunction")),lt.prototype=Object.create(Ue),lt},ie.awrap=function(lt){return{__await:lt}},_e(Ve.prototype),tt(Ve.prototype,Ce,function(){return this}),ie.AsyncIterator=Ve,ie.async=function(lt,Et,Ut,Jt,Lt){Lt===void 0&&(Lt=Promise);var jt=new Ve(Vt(lt,Et,Ut,Jt),Lt);return ie.isGeneratorFunction(Et)?jt:jt.next().then(function(Ye){return Ye.done?Ye.value:jt.next()})},_e(Ue),tt(Ue,Je,"Generator"),tt(Ue,at,function(){return this}),tt(Ue,"toString",function(){return"[object Generator]"}),ie.keys=function(lt){var Et=Object(lt),Ut=[];for(var Jt in Et)Ut.push(Jt);return Ut.reverse(),function Lt(){for(;Ut.length;){var jt=Ut.pop();if(jt in Et)return Lt.value=jt,Lt.done=!1,Lt}return Lt.done=!0,Lt}},ie.values=vt,He.prototype={constructor:He,reset:function(lt){if(this.prev=0,this.next=0,this.sent=this._sent=ne,this.done=!1,this.delegate=null,this.method="next",this.arg=ne,this.tryEntries.forEach(Pe),!lt)for(var Et in this)Et.charAt(0)==="t"&&Ct.call(this,Et)&&!isNaN(+Et.slice(1))&&(this[Et]=ne)},stop:function(){this.done=!0;var lt=this.tryEntries[0].completion;if(lt.type==="throw")throw lt.arg;return this.rval},dispatchException:function(lt){if(this.done)throw lt;var Et=this;function Ut(De,et){return jt.type="throw",jt.arg=lt,Et.next=De,et&&(Et.method="next",Et.arg=ne),!!et}for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var Lt=this.tryEntries[Jt],jt=Lt.completion;if(Lt.tryLoc==="root")return Ut("end");if(Lt.tryLoc<=this.prev){var Ye=Ct.call(Lt,"catchLoc"),Me=Ct.call(Lt,"finallyLoc");if(Ye&&Me){if(this.prev<Lt.catchLoc)return Ut(Lt.catchLoc,!0);if(this.prev<Lt.finallyLoc)return Ut(Lt.finallyLoc)}else if(Ye){if(this.prev<Lt.catchLoc)return Ut(Lt.catchLoc,!0)}else{if(!Me)throw Error("try statement without catch or finally");if(this.prev<Lt.finallyLoc)return Ut(Lt.finallyLoc)}}}},abrupt:function(lt,Et){for(var Ut=this.tryEntries.length-1;Ut>=0;--Ut){var Jt=this.tryEntries[Ut];if(Jt.tryLoc<=this.prev&&Ct.call(Jt,"finallyLoc")&&this.prev<Jt.finallyLoc){var Lt=Jt;break}}Lt&&(lt==="break"||lt==="continue")&&Lt.tryLoc<=Et&&Et<=Lt.finallyLoc&&(Lt=null);var jt=Lt?Lt.completion:{};return jt.type=lt,jt.arg=Et,Lt?(this.method="next",this.next=Lt.finallyLoc,ui):this.complete(jt)},complete:function(lt,Et){if(lt.type==="throw")throw lt.arg;return lt.type==="break"||lt.type==="continue"?this.next=lt.arg:lt.type==="return"?(this.rval=this.arg=lt.arg,this.method="return",this.next="end"):lt.type==="normal"&&Et&&(this.next=Et),ui},finish:function(lt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var Ut=this.tryEntries[Et];if(Ut.finallyLoc===lt)return this.complete(Ut.completion,Ut.afterLoc),Pe(Ut),ui}},catch:function(lt){for(var Et=this.tryEntries.length-1;Et>=0;--Et){var Ut=this.tryEntries[Et];if(Ut.tryLoc===lt){var Jt=Ut.completion;if(Jt.type==="throw"){var Lt=Jt.arg;Pe(Ut)}return Lt}}throw Error("illegal catch attempt")},delegateYield:function(lt,Et,Ut){return this.delegate={iterator:vt(lt),resultName:Et,nextLoc:Ut},this.method==="next"&&(this.arg=ne),ui}},ie}function oe(ne,ie,Ke,Ct,we,$e,at){try{var Ce=ne[$e](at),Je=Ce.value}catch(tt){return void Ke(tt)}Ce.done?ie(Je):Promise.resolve(Je).then(Ct,we)}function J(ne){return function(){var ie=this,Ke=arguments;return new Promise(function(Ct,we){var $e=ne.apply(ie,Ke);function at(Je){oe($e,Ct,we,at,Ce,"next",Je)}function Ce(Je){oe($e,Ct,we,at,Ce,"throw",Je)}at(void 0)})}}function Q(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")}function Oe(ne,ie){for(var Ke=0;Ke<ie.length;Ke++){var Ct=ie[Ke];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(ne,ht(Ct.key),Ct)}}function ge(ne,ie,Ke){return ie&&Oe(ne.prototype,ie),Ke&&Oe(ne,Ke),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function W(ne,ie,Ke){return ie=ye(ie),function(Ct,we){if(we&&(T(we)=="object"||typeof we=="function"))return we;if(we!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function($e){if($e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e}(Ct)}(ne,se()?Reflect.construct(ie,Ke||[],ye(ne).constructor):ie.apply(ne,Ke))}function se(){try{var ne=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(ie){}return(se=function(){return!!ne})()}function de(ne,ie,Ke,Ct){var we=Z(ye(1&Ct?ne.prototype:ne),ie,Ke);return 2&Ct&&typeof we=="function"?function($e){return we.apply(Ke,$e)}:we}function Z(){return Z=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(ne,ie,Ke){var Ct=function($e,at){for(;!{}.hasOwnProperty.call($e,at)&&($e=ye($e))!==null;);return $e}(ne,ie);if(Ct){var we=Object.getOwnPropertyDescriptor(Ct,ie);return we.get?we.get.call(arguments.length<3?ne:Ke):we.value}},Z.apply(null,arguments)}function ye(ne){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},ye(ne)}function Y(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&ce(ne,ie)}function ce(ne,ie){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ke,Ct){return Ke.__proto__=Ct,Ke},ce(ne,ie)}function Ge(ne,ie,Ke){return(ie=ht(ie))in ne?Object.defineProperty(ne,ie,{value:Ke,enumerable:!0,configurable:!0,writable:!0}):ne[ie]=Ke,ne}function ht(ne){var ie=function(Ke,Ct){if(T(Ke)!="object"||!Ke)return Ke;var we=Ke[Symbol.toPrimitive];if(we!==void 0){var $e=we.call(Ke,"string");if(T($e)!="object")return $e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ke)}(ne);return T(ie)=="symbol"?ie:ie+""}var st,qe,Se,Ie,Re,ot,pt,Pt=window.BookReader,Qe=function(ne){function ie(){var we;Q(this,ie);for(var $e=arguments.length,at=new Array($e),Ce=0;Ce<$e;Ce++)at[Ce]=arguments[Ce];return Ge(we=W(this,ie,[].concat(at)),"options",{enabled:!0,openLibraryHost:"https://openlibrary.org",openLibraryId:"",internetArchiveId:"",olHost:"https://openlibrary.org",bookId:"{{bookId}}"}),Ge(we,"_tocEntries",void 0),Ge(we,"_chaptersPanel",void 0),we}return Y(ie,ne),ge(ie,[{key:"setup",value:function(we){de(ie,"setup",this,3)([we]),this.options.internetArchiveId=this.options.internetArchiveId||this.options.bookId,this.options.openLibraryHost=this.options.openLibraryHost||this.options.olHost}},{key:"init",value:(Ct=J(K().mark(function we(){var $e,at,Ce,Je,tt=this;return K().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(this.options.enabled&&this.br.ui!=="embed"){Vt.next=2;break}return Vt.abrupt("return");case 2:if(at=null,($e=this.br.options.table_of_contents)===null||$e===void 0||!$e.length){Vt.next=7;break}at=this.br.options.table_of_contents,Vt.next=11;break;case 7:return Vt.next=9,this.getOpenLibraryRecord();case 9:(Je=Vt.sent)!=null&&(Ce=Je.table_of_contents)!==null&&Ce!==void 0&&Ce.length&&(at=Je.table_of_contents);case 11:at&&(this._tocEntries=at.map(function(ct){return Object.assign({},ct,{pageIndex:typeof ct.leaf=="number"?tt.br.book.leafNumToIndex(ct.leaf):ct.pagenum?tt.br.book.getPageIndex(ct.pagenum):void 0})}),this._render(),this.br.bind(Pt.eventNames.pageChanged,function(){return tt._updateCurrent()}));case 12:case"end":return Vt.stop()}},we,this)})),function(){return Ct.apply(this,arguments)})},{key:"_render",value:function(){var we=this;this.br.shell.menuProviders.chapters={id:"chapters",icon:(0,s.qy)(h||(h=q(['<ia-icon-toc style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-toc>']))),label:"Table of Contents",component:(0,s.qy)(g||(g=q([`<br-chapters-panel
        .contents="`,`"
        .jumpToPage="`,`"
        @connected="`,`"
      />`])),this._tocEntries,function($e){we._updateCurrent($e),we.br.jumpToIndex($e)},function($e){we._chaptersPanel=$e.target,we._updateCurrent()})},this.br.shell.addMenuShortcut("chapters"),this.br.shell.updateMenuContents(),this._tocEntries.forEach(function($e,at){return we._renderMarker($e,at)})}},{key:"_renderMarker",value:function(we,$e){var at=this;if(we.pageIndex!=null){var Ce=[we.label,we.title].filter(function(tt){return tt}).join(" ")||"Chapter ".concat($e+1),Je=Pt.util.cssPercentage(we.pageIndex,this.br.book.getNumLeafs()-1);L("<div></div>").append(L("<div />").text(Ce).append(L('<div class="BRchapterPage" />').text(this.br.book.getPageName(we.pageIndex)))).addClass("BRchapter").css({left:Je}).appendTo(this.br.$(".BRnavline")).on("mouseenter",function(tt){var Vt=tt.currentTarget,ct=Vt.querySelector("div"),gt=ct.getBoundingClientRect(),Rt=Vt.getBoundingClientRect(),ti=2*parseInt(getComputedStyle(ct).paddingLeft);gt.x-ti<0&&ct.style.setProperty("transform","translateX(-".concat(Rt.left-ti,"px)")),at.br.$(".BRsearch,.BRchapter").removeClass("front"),L(tt.target).addClass("front")}).on("mouseleave",function(tt){return L(tt.target).removeClass("front")}).on("click",function(){at._updateCurrent(we.pageIndex),at.br.jumpToIndex(we.pageIndex)}),this.br.$(".BRchapter, .BRsearch").each(function(tt,Vt){var ct=L(Vt);ct.on("mouseenter",function(){return ct.addClass("front")}).on("mouseleave",function(){return ct.removeClass("front")})})}}},{key:"getOpenLibraryRecord",value:(Ke=J(K().mark(function we(){var $e,at,Ce,Je,tt,Vt;return K().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if($e=(0,A.g)(this.options.openLibraryHost,this.br.options.vars),!this.options.openLibraryId){ct.next=6;break}return at=(0,A.g)(this.options.openLibraryId,this.br.options.vars),ct.next=5,L.ajax({url:"".concat($e,"/books/").concat(at,".json")});case 5:return ct.abrupt("return",ct.sent);case 6:if(!this.options.internetArchiveId){ct.next=17;break}return Je=(0,A.g)(this.options.internetArchiveId,this.br.options.vars),tt="".concat($e,"/query.json?type=/type/edition&*=&"),ct.next=11,L.ajax({url:tt+new URLSearchParams({ocaid:Je,limit:"1"})});case 11:if((Vt=ct.sent)&&Vt.length){ct.next=16;break}return ct.next=15,L.ajax({url:tt+new URLSearchParams({source_records:"ia:".concat(Je),limit:"1"})});case 15:Vt=ct.sent;case 16:return ct.abrupt("return",(Ce=Vt)===null||Ce===void 0?void 0:Ce[0]);case 17:return ct.abrupt("return",null);case 18:case"end":return ct.stop()}},we,this)})),function(){return Ke.apply(this,arguments)})},{key:"_updateCurrent",value:function(){var we,$e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.br.mode==2?Math.max.apply(Math,function(Je){if(Array.isArray(Je))return G(Je)}(we=this.br.displayedIndices)||N(we)||C(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()):this.br.firstIndex,at=this._tocEntries.filter(function(Je){return Je.pageIndex!=null}).reverse(),Ce=at[at.findIndex(function(Je){return Je.pageIndex<=$e})];this._chaptersPanel&&(this._chaptersPanel.currentChapter=Ce)}}]);var Ke,Ct}(k.S);Pt==null||Pt.registerPlugin("chapters",Qe),st=[(0,l.EM)("br-chapters-panel")],qe=s.WF,Re=E(),Se=function(ne){Re.initializeInstanceElements(ne,pt.elements)},ot={F:Ie=function(ne){function ie(Ke){var Ct;return Q(this,ie),Ct=W(this,ie),Se(Ct),Ct.contents=Ke,Ct}return Y(ie,ne),ge(ie)}(qe),d:[{kind:"field",decorators:[(0,l.MZ)({type:Array})],key:"contents",value:function(){return[]}},{kind:"field",decorators:[(0,l.MZ)({type:Object})],key:"currentChapter",value:function(){return{}}},{kind:"field",key:"jumpToPage",value:function(){return function(){}}},{kind:"method",key:"render",value:function(){var ne=this;return(0,s.qy)(m||(m=q([`
    <ol>
      `,`
    </ol>
    `])),this.contents.map(function(ie){return ne.renderTOCEntry(ie)}))}},{kind:"method",key:"renderTOCEntry",value:function(ne){var ie,Ke=this,Ct=[ne.label,ne.title].filter(function($e){return $e}).join(" "),we=ne.pageIndex!=null;return(0,s.qy)(y||(y=q([`
    <li
      class="
        BRtable-contents-el
        `,`
        `,`
      "
      style="`,`"
      data-event-click-tracking="`,`"
      @click="`,`"
    >
      `,`
      `,`
    </li>`])),we?"clickable":"",ne==this.currentChapter?"current":"",(0,c.W)({marginLeft:10*(ne.level-1)+"px"}),(ie=we?"BRTOCPanel|GoToChapter":void 0)!=null?ie:o.s6,function(){return Ke.jumpToPage(ne.pageIndex)},Ct,ne.pagenum?(0,s.qy)(_||(_=q([`
        <br />
        <span class="BRTOCElementPage">Page `,`</span>
      `])),ne.pagenum):s.s6)}},{kind:"method",key:"connectedCallback",value:function(){de(Ie,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}},{kind:"method",key:"updated",value:function(ne){var ie;ne.has("currentChapter")&&((ie=this.shadowRoot.querySelector("li.current"))===null||ie===void 0||ie.scrollIntoView({block:"nearest",behavior:"smooth"}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,s.AH)(w||(w=q([`
      ol {
        padding: 0;
        margin: 0;
        margin-right: 5px;
      }
      li {
        padding: 10px;
        overflow: hidden;
        border-radius: 4px;
      }
      li.clickable {
        font-weight: normal;
        cursor: pointer;
        transition: background-color 0.2s;
      }

      li.clickable:not(.current):hover {
        background-color: rgba(255,255,255, 0.05);
      }

      li.current {
        background-color: rgba(255,255,255,0.9);
        color: #333;
      }

      .BRTOCElementPage {
        font-size: 0.85em;
        opacity: .8;
      }`])))}}]},pt=Re.decorateClass(function(ne){for(var ie=[],Ke=function(at){return at.kind==="method"&&at.key===$e.key&&at.placement===$e.placement},Ct=0;Ct<ne.length;Ct++){var we,$e=ne[Ct];if($e.kind==="method"&&(we=ie.find(Ke)))if(d($e.descriptor)||d(we.descriptor)){if(v($e)||v(we))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");we.descriptor=$e.descriptor}else{if(v($e)){if(v(we))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");we.decorators=$e.decorators}p($e,we)}else ie.push($e)}return ie}(ot.d.map(a)),st),Re.initializeClassElements(ot.F,pt.elements),Re.runClassFinishers(ot.F,pt.finishers)},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,h=Array(n);u<n;u++)h[u]=c[u];return h}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,_=function(L){if(Array.isArray(L))return L}(y=m.split("|").map(function(L){return L.trim()}))||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(y)||function(L,T){if(L){if(typeof L=="string")return s(L,T);var E={}.toString.call(L).slice(8,-1);return E==="Object"&&L.constructor&&(E=L.constructor.name),E==="Map"||E==="Set"?Array.from(L):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(L,T):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=_[0],k=_.slice(1);if(!(w in u)&&!(w in n))return g;var A=w in u?u[w]:w in n?n[w]:null;return k.map(function(L){return h[L]}).reduce(function(L,T){return T(L)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=9220)}]);Ow=r7,{default:Iw}=Ow,n7=nn(Ow,["default"]),Rw=Iw!==void 0?Iw:n7;});var Dw={};Fn(Dw,{default:()=>Rw});var jw=si(()=>{Fm();Fm()});var o7,Nw,Bw,a7,Hw,zm=si(()=>{o7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[326],{706:function(e,t,r){var s=r(350).PROPER,l=r(9039),o=r(7452);e.exports=function(c){return l(function(){return!!o[c]()||"\u200B\x85\u180E"[c]()!=="\u200B\x85\u180E"||s&&o[c].name!==c})}},2762:function(e,t,r){var s=r(6518),l=r(3802).trim;s({target:"String",proto:!0,forced:r(706)("trim")},{trim:function(){return l(this)}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},2763:function(e,t,r){r(2675),r(9463),r(6412),r(2259),r(5700),r(8125),r(8706),r(113),r(3418),r(3792),r(8598),r(2062),r(4490),r(4782),r(6910),r(9572),r(2010),r(4731),r(6033),r(479),r(8130),r(9085),r(875),r(6099),r(8459),r(3362),r(825),r(7495),r(8781),r(9449),r(7764),r(2762),r(3500),r(2953);var s=r(4907),l=r(1669);function o(Ie){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},o(Ie)}function c(Ie,Re){for(var ot=0;ot<Re.length;ot++){var pt=Re[ot];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(Ie,u(pt.key),pt)}}function n(Ie,Re,ot){return(Re=u(Re))in Ie?Object.defineProperty(Ie,Re,{value:ot,enumerable:!0,configurable:!0,writable:!0}):Ie[Re]=ot,Ie}function u(Ie){var Re=function(ot,pt){if(o(ot)!="object"||!ot)return ot;var Pt=ot[Symbol.toPrimitive];if(Pt!==void 0){var Qe=Pt.call(ot,"string");if(o(Qe)!="object")return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ot)}(Ie);return o(Re)=="symbol"?Re:Re+""}var h=function(){return Ie=function ot(pt,Pt){var Qe=this;(function(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,ot),n(this,"selecting",!1),n(this,"startedInSelector",!1),n(this,"target",null),n(this,"_onSelectionChange",function(){var ne=window.getSelection();if(!Qe.selecting&&ne.toString()){var ie=l(ne.anchorNode).closest(Qe.selector)[0];if(!ie)return;Qe.target=ie,Qe.selecting=!0,Qe.handler("started",Qe.target)}!Qe.selecting||!ne.isCollapsed&&ne.toString()&&l(ne.anchorNode).closest(Qe.selector)[0]||(Qe.selecting=!1,Qe.handler("cleared",Qe.target))}),this.selector=pt,this.handler=Pt},(Re=[{key:"attach",value:function(){document.addEventListener("selectionchange",this._onSelectionChange)}},{key:"detach",value:function(){document.removeEventListener("selectionchange",this._onSelectionChange)}}])&&c(Ie.prototype,Re),Object.defineProperty(Ie,"prototype",{writable:!1}),Ie;var Ie,Re}(),g=r(1041),m=r(9073),y=r(1669);function _(Ie){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re},_(Ie)}var w=d().mark(Y),k=d().mark(ce),A=d().mark(Ge),L=d().mark(ht),T=d().mark(Se);function E(Ie,Re){return function(ot){if(Array.isArray(ot))return ot}(Ie)||function(ot,pt){var Pt=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(Pt!=null){var Qe,ne,ie,Ke,Ct=[],we=!0,$e=!1;try{if(ie=(Pt=Pt.call(ot)).next,pt===0){if(Object(Pt)!==Pt)return;we=!1}else for(;!(we=(Qe=ie.call(Pt)).done)&&(Ct.push(Qe.value),Ct.length!==pt);we=!0);}catch(at){$e=!0,ne=at}finally{try{if(!we&&Pt.return!=null&&(Ke=Pt.return(),Object(Ke)!==Ke))return}finally{if($e)throw ne}}return Ct}}(Ie,Re)||p(Ie,Re)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(Ie,Re){var ot=typeof Symbol<"u"&&Ie[Symbol.iterator]||Ie["@@iterator"];if(!ot){if(Array.isArray(Ie)||(ot=p(Ie))||Re&&Ie&&typeof Ie.length=="number"){ot&&(Ie=ot);var pt=0,Pt=function(){};return{s:Pt,n:function(){return pt>=Ie.length?{done:!0}:{done:!1,value:Ie[pt++]}},e:function(Ke){throw Ke},f:Pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qe,ne=!0,ie=!1;return{s:function(){ot=ot.call(Ie)},n:function(){var Ke=ot.next();return ne=Ke.done,Ke},e:function(Ke){ie=!0,Qe=Ke},f:function(){try{ne||ot.return==null||ot.return()}finally{if(ie)throw Qe}}}}function p(Ie,Re){if(Ie){if(typeof Ie=="string")return v(Ie,Re);var ot={}.toString.call(Ie).slice(8,-1);return ot==="Object"&&Ie.constructor&&(ot=Ie.constructor.name),ot==="Map"||ot==="Set"?Array.from(Ie):ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot)?v(Ie,Re):void 0}}function v(Ie,Re){(Re==null||Re>Ie.length)&&(Re=Ie.length);for(var ot=0,pt=Array(Re);ot<Re;ot++)pt[ot]=Ie[ot];return pt}function d(){d=function(){return Re};var Ie,Re={},ot=Object.prototype,pt=ot.hasOwnProperty,Pt=Object.defineProperty||function(Xe,ut,re){Xe[ut]=re.value},Qe=typeof Symbol=="function"?Symbol:{},ne=Qe.iterator||"@@iterator",ie=Qe.asyncIterator||"@@asyncIterator",Ke=Qe.toStringTag||"@@toStringTag";function Ct(Xe,ut,re){return Object.defineProperty(Xe,ut,{value:re,enumerable:!0,configurable:!0,writable:!0}),Xe[ut]}try{Ct({},"")}catch(Xe){Ct=function(ut,re,Pe){return ut[re]=Pe}}function we(Xe,ut,re,Pe){var He=ut&&ut.prototype instanceof ct?ut:ct,vt=Object.create(He.prototype),lt=new _e(Pe||[]);return Pt(vt,"_invoke",{value:St(Xe,re,lt)}),vt}function $e(Xe,ut,re){try{return{type:"normal",arg:Xe.call(ut,re)}}catch(Pe){return{type:"throw",arg:Pe}}}Re.wrap=we;var at="suspendedStart",Ce="suspendedYield",Je="executing",tt="completed",Vt={};function ct(){}function gt(){}function Rt(){}var ti={};Ct(ti,ne,function(){return this});var oi=Object.getPrototypeOf,ui=oi&&oi(oi(Ve([])));ui&&ui!==ot&&pt.call(ui,ne)&&(ti=ui);var Ot=Rt.prototype=ct.prototype=Object.create(ti);function It(Xe){["next","throw","return"].forEach(function(ut){Ct(Xe,ut,function(re){return this._invoke(ut,re)})})}function At(Xe,ut){function re(He,vt,lt,Et){var Ut=$e(Xe[He],Xe,vt);if(Ut.type!=="throw"){var Jt=Ut.arg,Lt=Jt.value;return Lt&&_(Lt)=="object"&&pt.call(Lt,"__await")?ut.resolve(Lt.__await).then(function(jt){re("next",jt,lt,Et)},function(jt){re("throw",jt,lt,Et)}):ut.resolve(Lt).then(function(jt){Jt.value=jt,lt(Jt)},function(jt){return re("throw",jt,lt,Et)})}Et(Ut.arg)}var Pe;Pt(this,"_invoke",{value:function(He,vt){function lt(){return new ut(function(Et,Ut){re(He,vt,Et,Ut)})}return Pe=Pe?Pe.then(lt,lt):lt()}})}function St(Xe,ut,re){var Pe=at;return function(He,vt){if(Pe===Je)throw Error("Generator is already running");if(Pe===tt){if(He==="throw")throw vt;return{value:Ie,done:!0}}for(re.method=He,re.arg=vt;;){var lt=re.delegate;if(lt){var Et=kt(lt,re);if(Et){if(Et===Vt)continue;return Et}}if(re.method==="next")re.sent=re._sent=re.arg;else if(re.method==="throw"){if(Pe===at)throw Pe=tt,re.arg;re.dispatchException(re.arg)}else re.method==="return"&&re.abrupt("return",re.arg);Pe=Je;var Ut=$e(Xe,ut,re);if(Ut.type==="normal"){if(Pe=re.done?tt:Ce,Ut.arg===Vt)continue;return{value:Ut.arg,done:re.done}}Ut.type==="throw"&&(Pe=tt,re.method="throw",re.arg=Ut.arg)}}}function kt(Xe,ut){var re=ut.method,Pe=Xe.iterator[re];if(Pe===Ie)return ut.delegate=null,re==="throw"&&Xe.iterator.return&&(ut.method="return",ut.arg=Ie,kt(Xe,ut),ut.method==="throw")||re!=="return"&&(ut.method="throw",ut.arg=new TypeError("The iterator does not provide a '"+re+"' method")),Vt;var He=$e(Pe,Xe.iterator,ut.arg);if(He.type==="throw")return ut.method="throw",ut.arg=He.arg,ut.delegate=null,Vt;var vt=He.arg;return vt?vt.done?(ut[Xe.resultName]=vt.value,ut.next=Xe.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=Ie),ut.delegate=null,Vt):vt:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,Vt)}function I(Xe){var ut={tryLoc:Xe[0]};1 in Xe&&(ut.catchLoc=Xe[1]),2 in Xe&&(ut.finallyLoc=Xe[2],ut.afterLoc=Xe[3]),this.tryEntries.push(ut)}function Ue(Xe){var ut=Xe.completion||{};ut.type="normal",delete ut.arg,Xe.completion=ut}function _e(Xe){this.tryEntries=[{tryLoc:"root"}],Xe.forEach(I,this),this.reset(!0)}function Ve(Xe){if(Xe||Xe===""){var ut=Xe[ne];if(ut)return ut.call(Xe);if(typeof Xe.next=="function")return Xe;if(!isNaN(Xe.length)){var re=-1,Pe=function He(){for(;++re<Xe.length;)if(pt.call(Xe,re))return He.value=Xe[re],He.done=!1,He;return He.value=Ie,He.done=!0,He};return Pe.next=Pe}}throw new TypeError(_(Xe)+" is not iterable")}return gt.prototype=Rt,Pt(Ot,"constructor",{value:Rt,configurable:!0}),Pt(Rt,"constructor",{value:gt,configurable:!0}),gt.displayName=Ct(Rt,Ke,"GeneratorFunction"),Re.isGeneratorFunction=function(Xe){var ut=typeof Xe=="function"&&Xe.constructor;return!!ut&&(ut===gt||(ut.displayName||ut.name)==="GeneratorFunction")},Re.mark=function(Xe){return Object.setPrototypeOf?Object.setPrototypeOf(Xe,Rt):(Xe.__proto__=Rt,Ct(Xe,Ke,"GeneratorFunction")),Xe.prototype=Object.create(Ot),Xe},Re.awrap=function(Xe){return{__await:Xe}},It(At.prototype),Ct(At.prototype,ie,function(){return this}),Re.AsyncIterator=At,Re.async=function(Xe,ut,re,Pe,He){He===void 0&&(He=Promise);var vt=new At(we(Xe,ut,re,Pe),He);return Re.isGeneratorFunction(ut)?vt:vt.next().then(function(lt){return lt.done?lt.value:vt.next()})},It(Ot),Ct(Ot,Ke,"Generator"),Ct(Ot,ne,function(){return this}),Ct(Ot,"toString",function(){return"[object Generator]"}),Re.keys=function(Xe){var ut=Object(Xe),re=[];for(var Pe in ut)re.push(Pe);return re.reverse(),function He(){for(;re.length;){var vt=re.pop();if(vt in ut)return He.value=vt,He.done=!1,He}return He.done=!0,He}},Re.values=Ve,_e.prototype={constructor:_e,reset:function(Xe){if(this.prev=0,this.next=0,this.sent=this._sent=Ie,this.done=!1,this.delegate=null,this.method="next",this.arg=Ie,this.tryEntries.forEach(Ue),!Xe)for(var ut in this)ut.charAt(0)==="t"&&pt.call(this,ut)&&!isNaN(+ut.slice(1))&&(this[ut]=Ie)},stop:function(){this.done=!0;var Xe=this.tryEntries[0].completion;if(Xe.type==="throw")throw Xe.arg;return this.rval},dispatchException:function(Xe){if(this.done)throw Xe;var ut=this;function re(Ut,Jt){return vt.type="throw",vt.arg=Xe,ut.next=Ut,Jt&&(ut.method="next",ut.arg=Ie),!!Jt}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var He=this.tryEntries[Pe],vt=He.completion;if(He.tryLoc==="root")return re("end");if(He.tryLoc<=this.prev){var lt=pt.call(He,"catchLoc"),Et=pt.call(He,"finallyLoc");if(lt&&Et){if(this.prev<He.catchLoc)return re(He.catchLoc,!0);if(this.prev<He.finallyLoc)return re(He.finallyLoc)}else if(lt){if(this.prev<He.catchLoc)return re(He.catchLoc,!0)}else{if(!Et)throw Error("try statement without catch or finally");if(this.prev<He.finallyLoc)return re(He.finallyLoc)}}}},abrupt:function(Xe,ut){for(var re=this.tryEntries.length-1;re>=0;--re){var Pe=this.tryEntries[re];if(Pe.tryLoc<=this.prev&&pt.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var He=Pe;break}}He&&(Xe==="break"||Xe==="continue")&&He.tryLoc<=ut&&ut<=He.finallyLoc&&(He=null);var vt=He?He.completion:{};return vt.type=Xe,vt.arg=ut,He?(this.method="next",this.next=He.finallyLoc,Vt):this.complete(vt)},complete:function(Xe,ut){if(Xe.type==="throw")throw Xe.arg;return Xe.type==="break"||Xe.type==="continue"?this.next=Xe.arg:Xe.type==="return"?(this.rval=this.arg=Xe.arg,this.method="return",this.next="end"):Xe.type==="normal"&&ut&&(this.next=ut),Vt},finish:function(Xe){for(var ut=this.tryEntries.length-1;ut>=0;--ut){var re=this.tryEntries[ut];if(re.finallyLoc===Xe)return this.complete(re.completion,re.afterLoc),Ue(re),Vt}},catch:function(Xe){for(var ut=this.tryEntries.length-1;ut>=0;--ut){var re=this.tryEntries[ut];if(re.tryLoc===Xe){var Pe=re.completion;if(Pe.type==="throw"){var He=Pe.arg;Ue(re)}return He}}throw Error("illegal catch attempt")},delegateYield:function(Xe,ut,re){return this.delegate={iterator:Ve(Xe),resultName:ut,nextLoc:re},this.method==="next"&&(this.arg=Ie),Vt}},Re}function x(Ie,Re,ot,pt,Pt,Qe,ne){try{var ie=Ie[Qe](ne),Ke=ie.value}catch(Ct){return void ot(Ct)}ie.done?Re(Ke):Promise.resolve(Ke).then(pt,Pt)}function C(Ie){return function(){var Re=this,ot=arguments;return new Promise(function(pt,Pt){var Qe=Ie.apply(Re,ot);function ne(Ke){x(Qe,pt,Pt,ne,ie,"next",Ke)}function ie(Ke){x(Qe,pt,Pt,ne,ie,"throw",Ke)}ne(void 0)})}}function N(Ie,Re,ot){return Re=q(Re),function(pt,Pt){if(Pt&&(_(Pt)=="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Qe){if(Qe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qe}(pt)}(Ie,G()?Reflect.construct(Re,ot||[],q(Ie).constructor):Re.apply(Ie,ot))}function G(){try{var Ie=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Re){}return(G=function(){return!!Ie})()}function q(Ie){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Re){return Re.__proto__||Object.getPrototypeOf(Re)},q(Ie)}function K(Ie,Re){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ot,pt){return ot.__proto__=pt,ot},K(Ie,Re)}function oe(Ie,Re,ot){return(Re=ge(Re))in Ie?Object.defineProperty(Ie,Re,{value:ot,enumerable:!0,configurable:!0,writable:!0}):Ie[Re]=ot,Ie}function J(Ie,Re){if(!(Ie instanceof Re))throw new TypeError("Cannot call a class as a function")}function Q(Ie,Re){for(var ot=0;ot<Re.length;ot++){var pt=Re[ot];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(Ie,ge(pt.key),pt)}}function Oe(Ie,Re,ot){return Re&&Q(Ie.prototype,Re),ot&&Q(Ie,ot),Object.defineProperty(Ie,"prototype",{writable:!1}),Ie}function ge(Ie){var Re=function(ot,pt){if(_(ot)!="object"||!ot)return ot;var Pt=ot[Symbol.toPrimitive];if(Pt!==void 0){var Qe=Pt.call(ot,"string");if(_(Qe)!="object")return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ot)}(Ie);return _(Re)=="symbol"?Re:Re+""}var W=window.BookReader,se=function(){return Oe(function Ie(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;J(this,Ie),this.maxSize=Re,this.entries=[]},[{key:"add",value:function(Ie){this.entries.length>=this.maxSize&&this.entries.shift(),this.entries.push(Ie)}}])}(),de=function(Ie){function Re(Pt){var Qe;return J(this,Re),oe(Qe=N(this,Re,[Pt]),"options",{enabled:!0,fullDjvuXmlUrl:null,singlePageDjvuXmlUrl:null,jsonp:!1,maxProtectedWords:200}),oe(Qe,"djvuPagesPromise",null),oe(Qe,"pageTextCache",new se),oe(Qe,"maxWordRendered",2500),oe(Qe,"_limitSelection",function(){var ne=window.getSelection();if(ne.rangeCount){var ie=ne.getRangeAt(0),Ke=!!ie.startContainer.parentElement.closest(".BRcontainer"),Ct=!!ie.endContainer.parentElement.closest(".BRcontainer");if(Ke||Ct)if(Ke&&Ct){var we=function(at,Ce){var Je,tt=0,Vt=a(at);try{for(Vt.s();!(Je=Vt.n()).done;){var ct=Je.value;if(tt==Ce)return ct;tt++}}catch(gt){Vt.e(gt)}finally{Vt.f()}}(Y(Se(ie.startContainer,ie.endContainer),function(at){var Ce;return(Ce=at.classList)===null||Ce===void 0?void 0:Ce.contains("BRwordElement")}),Qe.options.maxProtectedWords-1);if(we&&ie.endContainer.parentNode!=we){var $e=document.createRange();$e.setStart(ie.startContainer,ie.startOffset),$e.setEnd(we.firstChild,we.textContent.length),ne.removeAllRanges(),ne.addRange($e)}}else ne.removeAllRanges()}}),oe(Qe,"_onSelectionChange",function(ne,ie){if(ne==="started")Qe.textSelectingMode(ie);else{if(ne!=="cleared")throw new Error("Unknown type ".concat(ne));Qe.defaultMode(ie)}}),Qe.rtl=Qe.br.pageProgression==="rl",Qe.selectionObserver=new h(".BRtextLayer",Qe._onSelectionChange),Qe}return function(Pt,Qe){if(typeof Qe!="function"&&Qe!==null)throw new TypeError("Super expression must either be null or a function");Pt.prototype=Object.create(Qe&&Qe.prototype,{constructor:{value:Pt,writable:!0,configurable:!0}}),Object.defineProperty(Pt,"prototype",{writable:!1}),Qe&&K(Pt,Qe)}(Re,Ie),Oe(Re,[{key:"init",value:function(){var Pt=this;this.options.enabled&&(this.loadData(),this.selectionObserver.attach(),new h(".BRtextLayer",function(Qe){var ne;Qe=="started"&&((ne=Pt.br.plugins.archiveAnalytics)===null||ne===void 0||ne.sendEvent("BookReader","SelectStart"),Pt.br.refs.$br.find(".BRpagecontainer--hasSelection").removeClass("BRpagecontainer--hasSelection"),y(window.getSelection().anchorNode).closest(".BRpagecontainer").addClass("BRpagecontainer--hasSelection"))}).attach(),this.br.protected&&(document.addEventListener("selectionchange",this._limitSelection),y(document.body).on("contextmenu dragstart copy",function(Qe){var ne=document.getSelection();if(ne!=null&&ne.toString()&&y(".BRtextLayer").toArray().some(function(ie){return ne.containsNode(ie,!0)}))return Qe.preventDefault(),!1})))}},{key:"_configurePageContainer",value:function(Pt){return this.br.mode!==this.br.constModeThumb&&Pt.page&&this.createTextLayer(Pt),Pt}},{key:"loadData",value:function(){this.options.singlePageDjvuXmlUrl||(this.djvuPagesPromise=y.ajax({type:"GET",url:(0,m.g)(this.options.fullDjvuXmlUrl,this.br.options.vars),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(Pt){}}).then(function(Pt){try{var Qe=y.parseXML(Pt);return Qe&&y(Qe).find("OBJECT")}catch(ne){return}}))}},{key:"getPageText",value:(pt=C(d().mark(function Pt(Qe){var ne,ie,Ke,Ct,we;return d().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(!this.options.singlePageDjvuXmlUrl){$e.next=19;break}if(!(ne=this.pageTextCache.entries.find(function(at){return at.index==Qe}))){$e.next=4;break}return $e.abrupt("return",ne.response);case 4:return $e.next=6,y.ajax({type:"GET",url:(0,m.g)(this.options.singlePageDjvuXmlUrl,this.br.options.vars,{pageIndex:Qe}),dataType:this.options.jsonp?"jsonp":"html",cache:!0,xhrFields:{withCredentials:this.br.protected},error:function(at){}});case 6:return ie=$e.sent,$e.prev=7,Ke=y.parseXML(ie),Ct=Ke&&y(Ke).find("OBJECT")[0],this.pageTextCache.add({index:Qe,response:Ct}),$e.abrupt("return",Ct);case 14:return $e.prev=14,$e.t0=$e.catch(7),$e.abrupt("return",void 0);case 17:$e.next=24;break;case 19:return $e.next=21,this.djvuPagesPromise;case 21:if(!(we=$e.sent)){$e.next=24;break}return $e.abrupt("return",we[Qe]);case 24:case"end":return $e.stop()}},Pt,this,[[7,14]])})),function(Pt){return pt.apply(this,arguments)})},{key:"interceptCopy",value:function(Pt){Pt[0].addEventListener("copy",function(Qe){var ne=document.getSelection();Qe.clipboardData.setData("text/plain",ne.toString()),Qe.preventDefault()})}},{key:"defaultMode",value:function(Pt){var Qe=this,ne=y(Pt).closest(".BRpagecontainer");Pt.style.pointerEvents="none",ne.find("img").css("pointer-events","auto"),y(Pt).off(".textSelectPluginHandler");var ie=this.mouseIsDown,Ke=this.mouseIsDown;ie&&(Pt.style.pointerEvents="auto"),y(Pt).on("mousedown.textSelectPluginHandler",function(Ct){Qe.mouseIsDown=!0,y(Ct.target).is(".BRwordElement, .BRspace")&&Ct.stopPropagation()}),y(Pt).on("mouseup.textSelectPluginHandler",function(Ct){Qe.mouseIsDown=!1,Pt.style.pointerEvents="none",Ke&&(Ke=!1,Ct.stopPropagation())})}},{key:"textSelectingMode",value:function(Pt){var Qe=this,ne=y(Pt).closest(".BRpagecontainer");Pt.style.pointerEvents="all",ne.find("img").css("pointer-events","none"),y(Pt).off(".textSelectPluginHandler"),y(Pt).on("mousedown.textSelectPluginHandler",function(ie){Qe.mouseIsDown=!0,ie.stopPropagation()}),y(Pt).on("mouseup.textSelectPluginHandler",function(ie){Qe.mouseIsDown=!1,ie.stopPropagation()})}},{key:"stopPageFlip",value:function(Pt){var Qe=this,ne=Pt.find(".BRtextLayer");ne.length&&(ne.each(function(ie,Ke){return Qe.defaultMode(Ke)}),this.br.protected||this.interceptCopy(Pt))}},{key:"createTextLayer",value:(ot=C(d().mark(function Pt(Qe){var ne,ie,Ke,Ct,we,$e,at,Ce,Je,tt,Vt,ct,gt,Rt,ti,oi,ui,Ot,It,At,St,kt,I,Ue,_e=this;return d().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(ne=Qe.page.index,!(ie=Qe.$container).find(".BRtextLayer").length){Ve.next=5;break}return Ve.abrupt("return");case 5:return Ve.next=7,this.getPageText(ne);case 7:if(Ke=Ve.sent){Ve.next=10;break}return Ve.abrupt("return");case 10:if(st(Ke),!((Ct=y(Ke).find("WORD").length)>this.maxWordRendered)){Ve.next=15;break}return console.log("Page ".concat(ne," has too many words (").concat(Ct," > ").concat(this.maxWordRendered,"). Not rendering text layer.")),Ve.abrupt("return");case 15:we=(0,s.Ql)(Qe.page,"BRtextLayer"),$e=parseFloat(Qe.$container[0].style.width)/Qe.page.width,at=parseFloat(Qe.$container[0].style.height)/Qe.page.height,we.style.transform="scale(".concat($e,", ").concat(at,")"),we.setAttribute("dir",this.rtl?"rtl":"ltr"),Ce=y(Ke).find("PARAGRAPH[coords]").toArray(),Je=Ce.map(function(Xe){var ut=_e.renderParagraph(Xe);return we.appendChild(ut),ut}),tt=Z(we,".BRparagraphElement"),Vt=0,ct=a(ht(Ce,Je));try{for(ct.s();!(gt=ct.n()).done;)Rt=E(gt.value,2),ti=Rt[0],oi=Rt[1],ui=y(ti).attr("coords").split(",").map(parseFloat),Ot=tt.get(oi),It=E(ui,4),At=It[0],St=It[2],kt=It[3],I=this.rtl?Ot.right-St:At-Ot.left,Ue=kt-(Ot.top+Vt),oi.style[this.rtl?"marginRight":"marginLeft"]="".concat(I,"px"),oi.style.marginTop="".concat(Ue,"px"),Vt+=Ue,we.appendChild(oi)}catch(Xe){ct.e(Xe)}finally{ct.f()}ie.append(we),this.stopPageFlip(ie);case 28:case"end":return Ve.stop()}},Pt,this)})),function(Pt){return ot.apply(this,arguments)})},{key:"renderParagraph",value:function(Pt){var Qe=document.createElement("p");Qe.classList.add("BRparagraphElement");var ne=E(y(Pt).attr("coords").split(",").map(parseFloat),4),ie=ne[0],Ke=ne[1],Ct=ne[2],we=ne[3],$e=[],at=y(Pt).find("LINE[coords]").toArray();if(!at.length)return Qe;var Ce,Je=a(Ge(ce(at,ye)));try{for(Je.s();!(Ce=Je.n()).done;){var tt=E(Ce.value,3),Vt=tt[0],ct=tt[1],gt=tt[2],Rt=ct.ocrElement==at[at.length-1],ti=document.createElement("span");ti.classList.add("BRlineElement");var oi,ui=a(ct.words.entries());try{for(ui.s();!(oi=ui.n()).done;){var Ot=E(oi.value,2),It=Ot[0],At=Ot[1],St=E(y(At).attr("coords").split(",").map(parseFloat),4),kt=St[1],I=St[2],Ue=St[3],_e=kt-Ue;if($e.push(_e),It==0&&Vt!=null&&Vt.lastWord.textContent.trim().endsWith("-")){var Ve=E(y((gt||Vt).firstWord).attr("coords").split(",").map(parseFloat),3)[0];y(At).attr("coords","".concat(Ve,",").concat(kt,",").concat(I,",").concat(Ue))}var Xe=document.createElement("span");if(Xe.setAttribute("class","BRwordElement"),Xe.textContent=At.textContent.trim(),It>0){var ut=document.createElement("span");ut.classList.add("BRspace"),ut.textContent=" ",ti.append(ut),ti.appendChild(document.createTextNode(" "))}ti.appendChild(Xe)}}catch(Pr){ui.e(Pr)}finally{ui.f()}var re=ct.lastWord.textContent.trim().endsWith("-"),Pe=ti.children[ti.children.length-1];re&&!Rt&&(Pe.textContent=Pe.textContent.trim().slice(0,-1),Pe.classList.add("BRwordElement--hyphen")),Qe.appendChild(ti),Rt||re||Qe.appendChild(document.createTextNode(" "))}}catch(Pr){Je.e(Pr)}finally{Je.f()}$e.sort(function(Pr,Dr){return Pr-Dr});var He=$e[Math.floor(.85*$e.length)]+4;Qe.style.left="".concat(ie,"px"),Qe.style.top="".concat(we,"px"),Qe.style.width="".concat(Ct-ie,"px"),Qe.style.height="".concat(Ke-we,"px"),Qe.style.fontSize="".concat(He,"px");var vt,lt=Z(Qe,".BRwordElement"),Et=a(ht(y(Pt).find("WORD").toArray(),Qe.querySelectorAll(".BRwordElement")));try{for(Et.s();!(vt=Et.n()).done;){var Ut=E(vt.value,2),Jt=Ut[0],Lt=Ut[1],jt=lt.get(Lt),Ye=E(y(Jt).attr("coords").split(",").map(parseFloat),3),Me=Ye[0],De=Ye[2]-Me;Jt.textContent.endsWith(" ")&&(De=De*(Jt.textContent.length-1)/Jt.textContent.length);var et=De-jt.width;Lt.style.letterSpacing="".concat(et/(Jt.textContent.length-1),"px")}}catch(Pr){Et.e(Pr)}finally{Et.f()}lt=Z(Qe,".BRwordElement");var Tt,Ht,Ze=Z(Qe,".BRspace"),wt=y(Pt).find("LINE[coords]").toArray(),_t=Array.from(Qe.querySelectorAll(".BRlineElement")),Xt=we,We=a(ht(wt,_t));try{for(We.s();!(Tt=We.n()).done;){var ri,ei=E(Tt.value,2),ki=ei[0],qt=ei[1],ci=y(ki).find("WORD").toArray(),Ei=this.rtl?Ct:ie,Mi=a(ht(ci,qt.querySelectorAll(".BRwordElement")));try{for(Mi.s();!(ri=Mi.n()).done;){var ir=E(ri.value,2),Yi=ir[0],Gi=ir[1],Sr=lt.get(Gi),tr=E(y(Yi).attr("coords").split(",").map(parseFloat),3),yr=tr[0],xr=tr[2],Tr=this.rtl?-(xr-Ei):yr-Ei;if(Gi.previousElementSibling){var Xr=Gi.previousElementSibling;Xr.style.letterSpacing="".concat(Tr-Ze.get(Xr).width,"px")}else Gi.style[this.rtl?"paddingRight":"paddingLeft"]="".concat(Tr,"px");this.rtl?Ei-=Tr+Sr.width:Ei+=Tr+Sr.width}}catch(Pr){Mi.e(Pr)}finally{Mi.f()}var ln=Math.min.apply(Math,function(Pr){if(Array.isArray(Pr))return v(Pr)}(Ht=ci.map(function(Pr){return parseFloat(y(Pr).attr("coords").split(",")[3])}))||function(Pr){if(typeof Symbol<"u"&&Pr[Symbol.iterator]!=null||Pr["@@iterator"]!=null)return Array.from(Pr)}(Ht)||p(Ht)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())-Xt;qt.previousElementSibling&&(qt.previousElementSibling.style.lineHeight="".concat(ln,"px"),Xt+=ln)}}catch(Pr){We.e(Pr)}finally{We.f()}return _t[_t.length-1].style.lineHeight="".concat(Ke-Xt,"px"),Qe.appendChild(document.createElement("br")),Qe}}]);var ot,pt}(g.S);function Z(Ie,Re){var ot={position:Ie.style.position,visibility:Ie.style.visibility,top:Ie.style.top,left:Ie.style.left,transform:Ie.style.transform};Ie.style.position="absolute",Ie.style.visibility="hidden",Ie.style.top="0",Ie.style.left="0",Ie.style.transform="none",document.body.appendChild(Ie);var pt=new Map(Array.from(Ie.querySelectorAll(Re)).map(function(Pt){var Qe=Pt.getBoundingClientRect();return[Pt,new qe(Qe.left+window.scrollX,Qe.top+window.scrollY,Qe.width,Qe.height)]}));return document.body.removeChild(Ie),Object.assign(Ie.style,ot),pt}function ye(Ie){var Re=y(Ie).find("WORD").toArray();return{ocrElement:Ie,words:Re,firstWord:Re[0],lastWord:Re[Re.length-1]}}function Y(Ie,Re){var ot,pt,Pt;return d().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:ot=a(Ie),Qe.prev=1,ot.s();case 3:if((pt=ot.n()).done){Qe.next=10;break}if(Pt=pt.value,!Re(Pt)){Qe.next=8;break}return Qe.next=8,Pt;case 8:Qe.next=3;break;case 10:Qe.next=15;break;case 12:Qe.prev=12,Qe.t0=Qe.catch(1),ot.e(Qe.t0);case 15:return Qe.prev=15,ot.f(),Qe.finish(15);case 18:case"end":return Qe.stop()}},w,null,[[1,12,15,18]])}function ce(Ie,Re){var ot,pt,Pt;return d().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:ot=a(Ie),Qe.prev=1,ot.s();case 3:if((pt=ot.n()).done){Qe.next=9;break}return Pt=pt.value,Qe.next=7,Re(Pt);case 7:Qe.next=3;break;case 9:Qe.next=14;break;case 11:Qe.prev=11,Qe.t0=Qe.catch(1),ot.e(Qe.t0);case 14:return Qe.prev=14,ot.f(),Qe.finish(14);case 17:case"end":return Qe.stop()}},k,null,[[1,11,14,17]])}function Ge(Ie){var Re,ot,pt,Pt,Qe,ne;return d().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:Re=void 0,ot=void 0,pt=void 0,Pt=a(Ie),ie.prev=4,Pt.s();case 6:if((Qe=Pt.n()).done){ie.next=17;break}if(ne=Qe.value,ot===void 0){ie.next=12;break}return pt=ne,ie.next=12,[Re,ot,pt];case 12:Re=ot,ot=ne,pt=void 0;case 15:ie.next=6;break;case 17:ie.next=22;break;case 19:ie.prev=19,ie.t0=ie.catch(4),Pt.e(ie.t0);case 22:return ie.prev=22,Pt.f(),ie.finish(22);case 25:if(ot===void 0){ie.next=28;break}return ie.next=28,[Re,ot,pt];case 28:case"end":return ie.stop()}},A,null,[[4,19,22,25]])}function ht(Ie,Re){var ot,pt,Pt,Qe;return d().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:ot=Ie[Symbol.iterator](),pt=Re[Symbol.iterator]();case 2:if(Pt=ot.next(),Qe=pt.next(),!Pt.done||!Qe.done){ne.next=7;break}return ne.abrupt("return");case 7:if(!Pt.done&&!Qe.done){ne.next=9;break}throw new Error("zip: one of the iterators is done");case 9:return ne.next=11,[Pt.value,Qe.value];case 11:ne.next=2;break;case 13:case"end":return ne.stop()}},L)}function st(Ie){if(!y(Ie).attr("coords")&&Ie.children){var Re=y(Ie).children().toArray();if(Re.length!==0){var ot,pt=a(Re);try{for(pt.s();!(ot=pt.n()).done;)st(ot.value)}catch(Ct){pt.e(Ct)}finally{pt.f()}var Pt,Qe=[],ne=a(Re);try{for(ne.s();!(Pt=ne.n()).done;){var ie=Pt.value;y(ie).attr("coords")&&Qe.push(y(ie).attr("coords").split(",").map(parseFloat))}}catch(Ct){ne.e(Ct)}finally{ne.f()}var Ke=function(Ct){var we,$e=1/0,at=-1/0,Ce=-1/0,Je=1/0,tt=a(Ct);try{for(tt.s();!(we=tt.n()).done;){var Vt=E(we.value,4),ct=Vt[0],gt=Vt[1],Rt=Vt[2],ti=Vt[3];$e=Math.min($e,ct),at=Math.max(at,gt),Ce=Math.max(Ce,Rt),Je=Math.min(Je,ti)}}catch(oi){tt.e(oi)}finally{tt.f()}return[$e,at,Ce,Je]}(Qe);Math.abs(Ke[0])!=1/0&&y(Ie).attr("coords",Ke.join(","))}}}W==null||W.registerPlugin("textSelection",de);var qe=function(){return Oe(function Ie(Re,ot,pt,Pt){J(this,Ie),this.x=Re,this.y=ot,this.width=pt,this.height=Pt},[{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"top",get:function(){return this.y}},{key:"left",get:function(){return this.x}}])}();function Se(Ie,Re){var ot,pt;return d().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return pt=function(Qe){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=ne.children,Ke=ie===void 0||ie,Ct=ne.parents,we=Ct===void 0||Ct,$e=ne.siblings,at=$e===void 0||$e;return d().mark(function Ce(){var Je;return d().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(Qe!==Re){tt.next=5;break}return ot=!0,tt.next=4,Qe;case 4:return tt.abrupt("return");case 5:return tt.next=7,Qe;case 7:if(!Ke||!Qe.firstChild){tt.next=11;break}return tt.delegateYield(pt(Qe.firstChild,{children:!0,parents:!1,siblings:!0}),"t0",9);case 9:if(!ot){tt.next=11;break}return tt.abrupt("return");case 11:if(!at){tt.next=20;break}Je=Qe.nextSibling;case 13:if(!Je){tt.next=20;break}return tt.delegateYield(pt(Je,{children:!0,parents:!1,siblings:!1}),"t1",15);case 15:if(!ot){tt.next=17;break}return tt.abrupt("return");case 17:Je=Je.nextSibling,tt.next=13;break;case 20:if(!we||!Qe.parentNode){tt.next=24;break}return tt.delegateYield(pt(Qe.parentNode,{children:!1,parents:!0,siblings:!0}),"t2",22);case 22:if(!ot){tt.next=24;break}return tt.abrupt("return");case 24:case"end":return tt.stop()}},Ce)})()},ot=!1,Pt.delegateYield(pt(Ie),"t0",3);case 3:case"end":return Pt.stop()}},T)}},9073:function(e,t,r){function s(c,n){(n==null||n>c.length)&&(n=c.length);for(var u=0,h=Array(n);u<n;u++)h[u]=c[u];return h}function l(c,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:o;return c==null?void 0:c.replace(/\{\{([^}]*?)\}\}/g,function(g,m){if(!m)return g;var y,_=function(L){if(Array.isArray(L))return L}(y=m.split("|").map(function(L){return L.trim()}))||function(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}(y)||function(L,T){if(L){if(typeof L=="string")return s(L,T);var E={}.toString.call(L).slice(8,-1);return E==="Object"&&L.constructor&&(E=L.constructor.name),E==="Map"||E==="Set"?Array.from(L):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(L,T):void 0}}(y)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}(),w=_[0],k=_.slice(1);if(!(w in u)&&!(w in n))return g;var A=w in u?u[w]:w in n?n[w]:null;return k.map(function(L){return h[L]}).reduce(function(L,T){return T(L)},A&&A.toString())})}r.d(t,{g:function(){return l}}),r(2675),r(9463),r(2259),r(3418),r(3792),r(2062),r(2712),r(4782),r(2010),r(6099),r(7495),r(8781),r(7764),r(5440),r(2762),r(2953);var o={urlencode:encodeURIComponent}}},function(e){e(e.s=2763)}]);Nw=o7,{default:Bw}=Nw,a7=nn(Nw,["default"]),Hw=Bw!==void 0?Bw:a7;});var Fw={};Fn(Fw,{default:()=>Hw});var zw=si(()=>{zm();zm()});var s7,Uw,Vw,l7,Ww,Um=si(()=>{s7={};(self.webpackChunk_internetarchive_bookreader=self.webpackChunk_internetarchive_bookreader||[]).push([[830],{3921:function(e,t,r){var s=r(6518),l=r(2652),o=r(4659);s({target:"Object",stat:!0},{fromEntries:function(c){var n={};return l(c,function(u,h){o(n,u,h)},{AS_ENTRIES:!0}),n}})},1041:function(e,t,r){function s(n){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(n)}function l(n,u){for(var h=0;h<u.length;h++){var g=u[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,o(g.key),g)}}function o(n){var u=function(h,g){if(s(h)!="object"||!h)return h;var m=h[Symbol.toPrimitive];if(m!==void 0){var y=m.call(h,"string");if(s(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}(n);return s(u)=="symbol"?u:u+""}r.d(t,{S:function(){return c}}),r(2675),r(9463),r(2259),r(5700),r(3792),r(9572),r(8130),r(9085),r(6099),r(7764),r(2953);var c=function(){return n=function h(g){(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h),this.br=g,this.options},(u=[{key:"setup",value:function(h){this.options=Object.assign({},this.options,h)}},{key:"init",value:function(){}},{key:"_configurePageContainer",value:function(h){}},{key:"_configureToolbar",value:function(h){}},{key:"_bindNavigationHandlers",value:function(){}},{key:"extendNavBar",value:function(h){}}])&&l(n.prototype,u),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,u}()},6732:function(e,t,r){r(2675),r(9463),r(5700),r(6412),r(2259),r(8125),r(8706),r(4490),r(4782),r(4731),r(479),r(875),r(825),r(8781),r(7764),r(2953),r(113),r(3792),r(2062),r(3418),r(4554),r(739),r(9572),r(2010),r(8130),r(9085),r(2811),r(3921),r(3851),r(9432),r(6099),r(3362),r(888),r(7495),r(5440),r(3500);var s,l,o,c,n,u,h=r(420),g=r(1041),m=r(9696),y=r(8004);function _(qe){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},_(qe)}function w(qe,Se,Ie,Re){var ot=k();if(Re)for(var pt=0;pt<Re.length;pt++)ot=Re[pt](ot);var Pt=Se(function(ne){ot.initializeInstanceElements(ne,Qe.elements)},Ie),Qe=ot.decorateClass(function(ne){for(var ie=[],Ke=function(at){return at.kind==="method"&&at.key===$e.key&&at.placement===$e.placement},Ct=0;Ct<ne.length;Ct++){var we,$e=ne[Ct];if($e.kind==="method"&&(we=ie.find(Ke)))if(E($e.descriptor)||E(we.descriptor)){if(T($e)||T(we))throw new ReferenceError("Duplicated methods ("+$e.key+") can't be decorated.");we.descriptor=$e.descriptor}else{if(T($e)){if(T(we))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+$e.key+").");we.decorators=$e.decorators}L($e,we)}else ie.push($e)}return ie}(Pt.d.map(A)),qe);return ot.initializeClassElements(Pt.F,Qe.elements),ot.runClassFinishers(Pt.F,Qe.finishers)}function k(){k=function(){return qe};var qe={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(Se,Ie){["method","field"].forEach(function(Re){Ie.forEach(function(ot){ot.kind===Re&&ot.placement==="own"&&this.defineClassElement(Se,ot)},this)},this)},initializeClassElements:function(Se,Ie){var Re=Se.prototype;["method","field"].forEach(function(ot){Ie.forEach(function(pt){var Pt=pt.placement;if(pt.kind===ot&&(Pt==="static"||Pt==="prototype")){var Qe=Pt==="static"?Se:Re;this.defineClassElement(Qe,pt)}},this)},this)},defineClassElement:function(Se,Ie){var Re=Ie.descriptor;if(Ie.kind==="field"){var ot=Ie.initializer;Re={enumerable:Re.enumerable,writable:Re.writable,configurable:Re.configurable,value:ot===void 0?void 0:ot.call(Se)}}Object.defineProperty(Se,Ie.key,Re)},decorateClass:function(Se,Ie){var Re=[],ot=[],pt={static:[],prototype:[],own:[]};if(Se.forEach(function(Qe){this.addElementPlacement(Qe,pt)},this),Se.forEach(function(Qe){if(!T(Qe))return Re.push(Qe);var ne=this.decorateElement(Qe,pt);Re.push(ne.element),Re.push.apply(Re,ne.extras),ot.push.apply(ot,ne.finishers)},this),!Ie)return{elements:Re,finishers:ot};var Pt=this.decorateConstructor(Re,Ie);return ot.push.apply(ot,Pt.finishers),Pt.finishers=ot,Pt},addElementPlacement:function(Se,Ie,Re){var ot=Ie[Se.placement];if(!Re&&ot.indexOf(Se.key)!==-1)throw new TypeError("Duplicated element ("+Se.key+")");ot.push(Se.key)},decorateElement:function(Se,Ie){for(var Re=[],ot=[],pt=Se.decorators,Pt=pt.length-1;Pt>=0;Pt--){var Qe=Ie[Se.placement];Qe.splice(Qe.indexOf(Se.key),1);var ne=this.fromElementDescriptor(Se),ie=this.toElementFinisherExtras((0,pt[Pt])(ne)||ne);Se=ie.element,this.addElementPlacement(Se,Ie),ie.finisher&&ot.push(ie.finisher);var Ke=ie.extras;if(Ke){for(var Ct=0;Ct<Ke.length;Ct++)this.addElementPlacement(Ke[Ct],Ie);Re.push.apply(Re,Ke)}}return{element:Se,finishers:ot,extras:Re}},decorateConstructor:function(Se,Ie){for(var Re=[],ot=Ie.length-1;ot>=0;ot--){var pt=this.fromClassDescriptor(Se),Pt=this.toClassDescriptor((0,Ie[ot])(pt)||pt);if(Pt.finisher!==void 0&&Re.push(Pt.finisher),Pt.elements!==void 0){Se=Pt.elements;for(var Qe=0;Qe<Se.length-1;Qe++)for(var ne=Qe+1;ne<Se.length;ne++)if(Se[Qe].key===Se[ne].key&&Se[Qe].placement===Se[ne].placement)throw new TypeError("Duplicated element ("+Se[Qe].key+")")}}return{elements:Se,finishers:Re}},fromElementDescriptor:function(Se){var Ie={kind:Se.kind,key:Se.key,placement:Se.placement,descriptor:Se.descriptor};return Object.defineProperty(Ie,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Se.kind==="field"&&(Ie.initializer=Se.initializer),Ie},toElementDescriptors:function(Se){if(Se!==void 0)return(Ie=Se,function(Re){if(Array.isArray(Re))return Re}(Ie)||function(Re){if(typeof Symbol<"u"&&Re[Symbol.iterator]!=null||Re["@@iterator"]!=null)return Array.from(Re)}(Ie)||C(Ie)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()).map(function(Re){var ot=this.toElementDescriptor(Re);return this.disallowProperty(Re,"finisher","An element descriptor"),this.disallowProperty(Re,"extras","An element descriptor"),ot},this);var Ie},toElementDescriptor:function(Se){var Ie=Se.kind+"";if(Ie!=="method"&&Ie!=="field")throw new TypeError(`An element descriptor's .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "`+Ie+'"');var Re=ye(Se.key),ot=Se.placement+"";if(ot!=="static"&&ot!=="prototype"&&ot!=="own")throw new TypeError(`An element descriptor's .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "`+ot+'"');var pt=Se.descriptor;this.disallowProperty(Se,"elements","An element descriptor");var Pt={kind:Ie,key:Re,placement:ot,descriptor:Object.assign({},pt)};return Ie!=="field"?this.disallowProperty(Se,"initializer","A method descriptor"):(this.disallowProperty(pt,"get","The property descriptor of a field descriptor"),this.disallowProperty(pt,"set","The property descriptor of a field descriptor"),this.disallowProperty(pt,"value","The property descriptor of a field descriptor"),Pt.initializer=Se.initializer),Pt},toElementFinisherExtras:function(Se){return{element:this.toElementDescriptor(Se),finisher:a(Se,"finisher"),extras:this.toElementDescriptors(Se.extras)}},fromClassDescriptor:function(Se){var Ie={kind:"class",elements:Se.map(this.fromElementDescriptor,this)};return Object.defineProperty(Ie,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),Ie},toClassDescriptor:function(Se){var Ie=Se.kind+"";if(Ie!=="class")throw new TypeError(`A class descriptor's .kind property must be "class", but a decorator created a class descriptor with .kind "`+Ie+'"');this.disallowProperty(Se,"key","A class descriptor"),this.disallowProperty(Se,"placement","A class descriptor"),this.disallowProperty(Se,"descriptor","A class descriptor"),this.disallowProperty(Se,"initializer","A class descriptor"),this.disallowProperty(Se,"extras","A class descriptor");var Re=a(Se,"finisher");return{elements:this.toElementDescriptors(Se.elements),finisher:Re}},runClassFinishers:function(Se,Ie){for(var Re=0;Re<Ie.length;Re++){var ot=(0,Ie[Re])(Se);if(ot!==void 0){if(typeof ot!="function")throw new TypeError("Finishers must return a constructor.");Se=ot}}return Se},disallowProperty:function(Se,Ie,Re){if(Se[Ie]!==void 0)throw new TypeError(Re+" can't have a ."+Ie+" property.")}};return qe}function A(qe){var Se,Ie=ye(qe.key);qe.kind==="method"?Se={value:qe.value,writable:!0,configurable:!0,enumerable:!1}:qe.kind==="get"?Se={get:qe.value,configurable:!0,enumerable:!1}:qe.kind==="set"?Se={set:qe.value,configurable:!0,enumerable:!1}:qe.kind==="field"&&(Se={configurable:!0,writable:!0,enumerable:!0});var Re={kind:qe.kind==="field"?"field":"method",key:Ie,placement:qe.static?"static":qe.kind==="field"?"own":"prototype",descriptor:Se};return qe.decorators&&(Re.decorators=qe.decorators),qe.kind==="field"&&(Re.initializer=qe.value),Re}function L(qe,Se){qe.descriptor.get!==void 0?Se.descriptor.get=qe.descriptor.get:Se.descriptor.set=qe.descriptor.set}function T(qe){return qe.decorators&&qe.decorators.length}function E(qe){return qe!==void 0&&!(qe.value===void 0&&qe.writable===void 0)}function a(qe,Se){var Ie=qe[Se];if(Ie!==void 0&&typeof Ie!="function")throw new TypeError("Expected '"+Se+"' to be a function");return Ie}function p(qe,Se,Ie,Re){var ot=v(K(1&Re?qe.prototype:qe),Se,Ie);return 2&Re&&typeof ot=="function"?function(pt){return ot.apply(Ie,pt)}:ot}function v(){return v=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(qe,Se,Ie){var Re=function(pt,Pt){for(;!{}.hasOwnProperty.call(pt,Pt)&&(pt=K(pt))!==null;);return pt}(qe,Se);if(Re){var ot=Object.getOwnPropertyDescriptor(Re,Se);return ot.get?ot.get.call(arguments.length<3?qe:Ie):ot.value}},v.apply(null,arguments)}function d(qe,Se){return Se||(Se=qe.slice(0)),Object.freeze(Object.defineProperties(qe,{raw:{value:Object.freeze(Se)}}))}function x(qe,Se){var Ie=typeof Symbol<"u"&&qe[Symbol.iterator]||qe["@@iterator"];if(!Ie){if(Array.isArray(qe)||(Ie=C(qe))||Se&&qe&&typeof qe.length=="number"){Ie&&(qe=Ie);var Re=0,ot=function(){};return{s:ot,n:function(){return Re>=qe.length?{done:!0}:{done:!1,value:qe[Re++]}},e:function(ne){throw ne},f:ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pt,Pt=!0,Qe=!1;return{s:function(){Ie=Ie.call(qe)},n:function(){var ne=Ie.next();return Pt=ne.done,ne},e:function(ne){Qe=!0,pt=ne},f:function(){try{Pt||Ie.return==null||Ie.return()}finally{if(Qe)throw pt}}}}function C(qe,Se){if(qe){if(typeof qe=="string")return N(qe,Se);var Ie={}.toString.call(qe).slice(8,-1);return Ie==="Object"&&qe.constructor&&(Ie=qe.constructor.name),Ie==="Map"||Ie==="Set"?Array.from(qe):Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie)?N(qe,Se):void 0}}function N(qe,Se){(Se==null||Se>qe.length)&&(Se=qe.length);for(var Ie=0,Re=Array(Se);Ie<Se;Ie++)Re[Ie]=qe[Ie];return Re}function G(qe,Se,Ie){return Se=K(Se),function(Re,ot){if(ot&&(_(ot)=="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}(Re)}(qe,q()?Reflect.construct(Se,Ie||[],K(qe).constructor):Se.apply(qe,Ie))}function q(){try{var qe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(Se){}return(q=function(){return!!qe})()}function K(qe){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Se){return Se.__proto__||Object.getPrototypeOf(Se)},K(qe)}function oe(qe,Se){if(typeof Se!="function"&&Se!==null)throw new TypeError("Super expression must either be null or a function");qe.prototype=Object.create(Se&&Se.prototype,{constructor:{value:qe,writable:!0,configurable:!0}}),Object.defineProperty(qe,"prototype",{writable:!1}),Se&&J(qe,Se)}function J(qe,Se){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ie,Re){return Ie.__proto__=Re,Ie},J(qe,Se)}function Q(){Q=function(){return Se};var qe,Se={},Ie=Object.prototype,Re=Ie.hasOwnProperty,ot=Object.defineProperty||function(_e,Ve,Xe){_e[Ve]=Xe.value},pt=typeof Symbol=="function"?Symbol:{},Pt=pt.iterator||"@@iterator",Qe=pt.asyncIterator||"@@asyncIterator",ne=pt.toStringTag||"@@toStringTag";function ie(_e,Ve,Xe){return Object.defineProperty(_e,Ve,{value:Xe,enumerable:!0,configurable:!0,writable:!0}),_e[Ve]}try{ie({},"")}catch(_e){ie=function(Ve,Xe,ut){return Ve[Xe]=ut}}function Ke(_e,Ve,Xe,ut){var re=Ve&&Ve.prototype instanceof tt?Ve:tt,Pe=Object.create(re.prototype),He=new I(ut||[]);return ot(Pe,"_invoke",{value:It(_e,Xe,He)}),Pe}function Ct(_e,Ve,Xe){try{return{type:"normal",arg:_e.call(Ve,Xe)}}catch(ut){return{type:"throw",arg:ut}}}Se.wrap=Ke;var we="suspendedStart",$e="suspendedYield",at="executing",Ce="completed",Je={};function tt(){}function Vt(){}function ct(){}var gt={};ie(gt,Pt,function(){return this});var Rt=Object.getPrototypeOf,ti=Rt&&Rt(Rt(Ue([])));ti&&ti!==Ie&&Re.call(ti,Pt)&&(gt=ti);var oi=ct.prototype=tt.prototype=Object.create(gt);function ui(_e){["next","throw","return"].forEach(function(Ve){ie(_e,Ve,function(Xe){return this._invoke(Ve,Xe)})})}function Ot(_e,Ve){function Xe(re,Pe,He,vt){var lt=Ct(_e[re],_e,Pe);if(lt.type!=="throw"){var Et=lt.arg,Ut=Et.value;return Ut&&_(Ut)=="object"&&Re.call(Ut,"__await")?Ve.resolve(Ut.__await).then(function(Jt){Xe("next",Jt,He,vt)},function(Jt){Xe("throw",Jt,He,vt)}):Ve.resolve(Ut).then(function(Jt){Et.value=Jt,He(Et)},function(Jt){return Xe("throw",Jt,He,vt)})}vt(lt.arg)}var ut;ot(this,"_invoke",{value:function(re,Pe){function He(){return new Ve(function(vt,lt){Xe(re,Pe,vt,lt)})}return ut=ut?ut.then(He,He):He()}})}function It(_e,Ve,Xe){var ut=we;return function(re,Pe){if(ut===at)throw Error("Generator is already running");if(ut===Ce){if(re==="throw")throw Pe;return{value:qe,done:!0}}for(Xe.method=re,Xe.arg=Pe;;){var He=Xe.delegate;if(He){var vt=At(He,Xe);if(vt){if(vt===Je)continue;return vt}}if(Xe.method==="next")Xe.sent=Xe._sent=Xe.arg;else if(Xe.method==="throw"){if(ut===we)throw ut=Ce,Xe.arg;Xe.dispatchException(Xe.arg)}else Xe.method==="return"&&Xe.abrupt("return",Xe.arg);ut=at;var lt=Ct(_e,Ve,Xe);if(lt.type==="normal"){if(ut=Xe.done?Ce:$e,lt.arg===Je)continue;return{value:lt.arg,done:Xe.done}}lt.type==="throw"&&(ut=Ce,Xe.method="throw",Xe.arg=lt.arg)}}}function At(_e,Ve){var Xe=Ve.method,ut=_e.iterator[Xe];if(ut===qe)return Ve.delegate=null,Xe==="throw"&&_e.iterator.return&&(Ve.method="return",Ve.arg=qe,At(_e,Ve),Ve.method==="throw")||Xe!=="return"&&(Ve.method="throw",Ve.arg=new TypeError("The iterator does not provide a '"+Xe+"' method")),Je;var re=Ct(ut,_e.iterator,Ve.arg);if(re.type==="throw")return Ve.method="throw",Ve.arg=re.arg,Ve.delegate=null,Je;var Pe=re.arg;return Pe?Pe.done?(Ve[_e.resultName]=Pe.value,Ve.next=_e.nextLoc,Ve.method!=="return"&&(Ve.method="next",Ve.arg=qe),Ve.delegate=null,Je):Pe:(Ve.method="throw",Ve.arg=new TypeError("iterator result is not an object"),Ve.delegate=null,Je)}function St(_e){var Ve={tryLoc:_e[0]};1 in _e&&(Ve.catchLoc=_e[1]),2 in _e&&(Ve.finallyLoc=_e[2],Ve.afterLoc=_e[3]),this.tryEntries.push(Ve)}function kt(_e){var Ve=_e.completion||{};Ve.type="normal",delete Ve.arg,_e.completion=Ve}function I(_e){this.tryEntries=[{tryLoc:"root"}],_e.forEach(St,this),this.reset(!0)}function Ue(_e){if(_e||_e===""){var Ve=_e[Pt];if(Ve)return Ve.call(_e);if(typeof _e.next=="function")return _e;if(!isNaN(_e.length)){var Xe=-1,ut=function re(){for(;++Xe<_e.length;)if(Re.call(_e,Xe))return re.value=_e[Xe],re.done=!1,re;return re.value=qe,re.done=!0,re};return ut.next=ut}}throw new TypeError(_(_e)+" is not iterable")}return Vt.prototype=ct,ot(oi,"constructor",{value:ct,configurable:!0}),ot(ct,"constructor",{value:Vt,configurable:!0}),Vt.displayName=ie(ct,ne,"GeneratorFunction"),Se.isGeneratorFunction=function(_e){var Ve=typeof _e=="function"&&_e.constructor;return!!Ve&&(Ve===Vt||(Ve.displayName||Ve.name)==="GeneratorFunction")},Se.mark=function(_e){return Object.setPrototypeOf?Object.setPrototypeOf(_e,ct):(_e.__proto__=ct,ie(_e,ne,"GeneratorFunction")),_e.prototype=Object.create(oi),_e},Se.awrap=function(_e){return{__await:_e}},ui(Ot.prototype),ie(Ot.prototype,Qe,function(){return this}),Se.AsyncIterator=Ot,Se.async=function(_e,Ve,Xe,ut,re){re===void 0&&(re=Promise);var Pe=new Ot(Ke(_e,Ve,Xe,ut),re);return Se.isGeneratorFunction(Ve)?Pe:Pe.next().then(function(He){return He.done?He.value:Pe.next()})},ui(oi),ie(oi,ne,"Generator"),ie(oi,Pt,function(){return this}),ie(oi,"toString",function(){return"[object Generator]"}),Se.keys=function(_e){var Ve=Object(_e),Xe=[];for(var ut in Ve)Xe.push(ut);return Xe.reverse(),function re(){for(;Xe.length;){var Pe=Xe.pop();if(Pe in Ve)return re.value=Pe,re.done=!1,re}return re.done=!0,re}},Se.values=Ue,I.prototype={constructor:I,reset:function(_e){if(this.prev=0,this.next=0,this.sent=this._sent=qe,this.done=!1,this.delegate=null,this.method="next",this.arg=qe,this.tryEntries.forEach(kt),!_e)for(var Ve in this)Ve.charAt(0)==="t"&&Re.call(this,Ve)&&!isNaN(+Ve.slice(1))&&(this[Ve]=qe)},stop:function(){this.done=!0;var _e=this.tryEntries[0].completion;if(_e.type==="throw")throw _e.arg;return this.rval},dispatchException:function(_e){if(this.done)throw _e;var Ve=this;function Xe(lt,Et){return Pe.type="throw",Pe.arg=_e,Ve.next=lt,Et&&(Ve.method="next",Ve.arg=qe),!!Et}for(var ut=this.tryEntries.length-1;ut>=0;--ut){var re=this.tryEntries[ut],Pe=re.completion;if(re.tryLoc==="root")return Xe("end");if(re.tryLoc<=this.prev){var He=Re.call(re,"catchLoc"),vt=Re.call(re,"finallyLoc");if(He&&vt){if(this.prev<re.catchLoc)return Xe(re.catchLoc,!0);if(this.prev<re.finallyLoc)return Xe(re.finallyLoc)}else if(He){if(this.prev<re.catchLoc)return Xe(re.catchLoc,!0)}else{if(!vt)throw Error("try statement without catch or finally");if(this.prev<re.finallyLoc)return Xe(re.finallyLoc)}}}},abrupt:function(_e,Ve){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var ut=this.tryEntries[Xe];if(ut.tryLoc<=this.prev&&Re.call(ut,"finallyLoc")&&this.prev<ut.finallyLoc){var re=ut;break}}re&&(_e==="break"||_e==="continue")&&re.tryLoc<=Ve&&Ve<=re.finallyLoc&&(re=null);var Pe=re?re.completion:{};return Pe.type=_e,Pe.arg=Ve,re?(this.method="next",this.next=re.finallyLoc,Je):this.complete(Pe)},complete:function(_e,Ve){if(_e.type==="throw")throw _e.arg;return _e.type==="break"||_e.type==="continue"?this.next=_e.arg:_e.type==="return"?(this.rval=this.arg=_e.arg,this.method="return",this.next="end"):_e.type==="normal"&&Ve&&(this.next=Ve),Je},finish:function(_e){for(var Ve=this.tryEntries.length-1;Ve>=0;--Ve){var Xe=this.tryEntries[Ve];if(Xe.finallyLoc===_e)return this.complete(Xe.completion,Xe.afterLoc),kt(Xe),Je}},catch:function(_e){for(var Ve=this.tryEntries.length-1;Ve>=0;--Ve){var Xe=this.tryEntries[Ve];if(Xe.tryLoc===_e){var ut=Xe.completion;if(ut.type==="throw"){var re=ut.arg;kt(Xe)}return re}}throw Error("illegal catch attempt")},delegateYield:function(_e,Ve,Xe){return this.delegate={iterator:Ue(_e),resultName:Ve,nextLoc:Xe},this.method==="next"&&(this.arg=qe),Je}},Se}function Oe(qe,Se,Ie,Re,ot,pt,Pt){try{var Qe=qe[pt](Pt),ne=Qe.value}catch(ie){return void Ie(ie)}Qe.done?Se(ne):Promise.resolve(ne).then(Re,ot)}function ge(qe){return function(){var Se=this,Ie=arguments;return new Promise(function(Re,ot){var pt=qe.apply(Se,Ie);function Pt(ne){Oe(pt,Re,ot,Pt,Qe,"next",ne)}function Qe(ne){Oe(pt,Re,ot,Pt,Qe,"throw",ne)}Pt(void 0)})}}function W(qe,Se){if(!(qe instanceof Se))throw new TypeError("Cannot call a class as a function")}function se(qe,Se){for(var Ie=0;Ie<Se.length;Ie++){var Re=Se[Ie];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(qe,ye(Re.key),Re)}}function de(qe,Se,Ie){return Se&&se(qe.prototype,Se),Ie&&se(qe,Ie),Object.defineProperty(qe,"prototype",{writable:!1}),qe}function Z(qe,Se,Ie){return(Se=ye(Se))in qe?Object.defineProperty(qe,Se,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):qe[Se]=Ie,qe}function ye(qe){var Se=function(Ie,Re){if(_(Ie)!="object"||!Ie)return Ie;var ot=Ie[Symbol.toPrimitive];if(ot!==void 0){var pt=ot.call(Ie,"string");if(_(pt)!="object")return pt;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ie)}(qe);return _(Se)=="symbol"?Se:Se+""}var Y=window.BookReader,ce=function(){return de(function Ie(){W(this,Ie),Z(this,"name",void 0),Z(this,"title",void 0),Z(this,"description",void 0),Z(this,"icon",void 0),Z(this,"enabled",void 0),Z(this,"learnMore",void 0),Z(this,"assetRoot","/BookReader/"),Z(this,"enabledLoading",!1)},[{key:"buildAssetPath",value:function(Ie){return"".concat(this.assetRoot).concat(Ie)}},{key:"enable",value:(Se=ge(Q().mark(function Ie(Re){return Q().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:Re.manual;case 1:case"end":return ot.stop()}},Ie)})),function(Ie){return Se.apply(this,arguments)})},{key:"disable",value:(qe=ge(Q().mark(function Ie(){return Q().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:case"end":return Re.stop()}},Ie)})),function(){return qe.apply(this,arguments)})}]);var qe,Se}(),Ge=function(qe){function Se(){var ot;W(this,Se);for(var pt=arguments.length,Pt=new Array(pt),Qe=0;Qe<pt;Qe++)Pt[Qe]=arguments[Qe];return Z(ot=G(this,Se,[].concat(Pt)),"options",{enabled:!0,localStorageKey:"BrExperiments"}),Z(ot,"experiments",[new(function(ne){function ie(){var we;W(this,ie);for(var $e=arguments.length,at=new Array($e),Ce=0;Ce<$e;Ce++)at[Ce]=arguments[Ce];return Z(we=G(this,ie,[].concat(at)),"name","hypothesis"),Z(we,"title","Hypothes.is"),Z(we,"description","Create public, collaborative, or fully private annotations on books and the web."),Z(we,"learnMore","https://web.hypothes.is/about/"),Z(we,"icon","images/hypothesis.ico"),Z(we,"enabled",!1),we}return oe(ie,ne),de(ie,[{key:"enable",value:(Ct=ge(Q().mark(function we($e){var at,Ce,Je;return Q().wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:return at=$e.manual,Ce=at!==void 0&&at,(Je=document.createElement("script")).type="application/json",Je.className="js-hypothesis-config",Je.textContent=JSON.stringify({openSidebar:Ce,assetRoot:this.buildAssetPath("hypothesis/")}),document.head.appendChild(Je),tt.abrupt("return",ht(this.buildAssetPath("hypothesis/build/boot.js")));case 7:case"end":return tt.stop()}},we,this)})),function(we){return Ct.apply(this,arguments)})},{key:"disable",value:(Ke=ge(Q().mark(function we(){return Q().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:(0,y.sleep)(0).then(function(){window.location.reload()});case 1:case"end":return $e.stop()}},we)})),function(){return Ke.apply(this,arguments)})}]);var Ke,Ct}(ce))]),Z(ot,"_panel",void 0),ot}return oe(Se,qe),de(Se,[{key:"init",value:(Re=ge(Q().mark(function ot(){var pt,Pt,Qe;return Q().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(this.options.enabled){ne.next=2;break}return ne.abrupt("return");case 2:pt=x(this.experiments);try{for(pt.s();!(Pt=pt.n()).done;)(Qe=Pt.value).assetRoot=this.br.options.imagesBaseURL.replace(/images\/$/,""),Qe.icon=Qe.buildAssetPath(Qe.icon)}catch(ie){pt.e(ie)}finally{pt.f()}return this._loadExperimentStates(),ne.next=7,Promise.resolve();case 7:this._render();case 8:case"end":return ne.stop()}},ot,this)})),function(){return Re.apply(this,arguments)})},{key:"_loadExperimentStates",value:function(){var ot=JSON.parse(localStorage.getItem(this.options.localStorageKey)||"{}");this.experiments.forEach(function(pt){ot[pt.name]!==void 0&&(pt.enabled=ot[pt.name],pt.enabled&&pt.enable({manual:!1}))})}},{key:"_saveExperimentStates",value:function(){var ot=Object.fromEntries(this.experiments.map(function(pt){return[pt.name,pt.enabled]}));localStorage.setItem(this.options.localStorageKey,JSON.stringify(ot))}},{key:"_toggleExperiment",value:(Ie=ge(Q().mark(function ot(pt,Pt){var Qe;return Q().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(pt.enabledLoading=!0,(Qe=this.br.plugins.archiveAnalytics)===null||Qe===void 0||Qe.sendEvent("BRExperiment-".concat(pt.name),Pt?"Enable":"Disable"),this._panel.requestUpdate(),!Pt){ne.next=8;break}return ne.next=6,pt.enable({manual:!0});case 6:ne.next=10;break;case 8:return ne.next=10,pt.disable();case 10:pt.enabledLoading=!1,pt.enabled=Pt,this._panel.requestUpdate();case 13:case"end":return ne.stop()}},ot,this)})),function(ot,pt){return Ie.apply(this,arguments)})},{key:"_render",value:function(){var ot=this;this.br.shell.menuProviders.experiments={id:"experiments",icon:(0,h.qy)(s||(s=d([`
        <svg xmlns="http://www.w3.org/2000/svg" width="34" viewBox="0 0 24 24"><path fill="currentColor" d="M10 5.75h1.25v2.5H9.5c-.41 0-.75.34-.75.75s.34.75.75.75h.25v1.96A5.72 5.72 0 0 0 6.25 17c0 3.17 2.58 5.75 5.75 5.75s5.75-2.58 5.75-5.75c0-2.33-1.39-4.4-3.5-5.29V9.75h.25c.41 0 .75-.34.75-.75s-.34-.75-.75-.75h-1.75v-1.5H14c1.52 0 2.75-1.23 2.75-2.75V3c0-.41-.34-.75-.75-.75h-2c-.579 0-1.115.178-1.558.483A2.75 2.75 0 0 0 10 1.25H8c-.41 0-.75.34-.75.75v1c0 1.52 1.23 2.75 2.75 2.75m2.75-.5V5c0-.69.56-1.25 1.25-1.25h1.25V4c0 .69-.56 1.25-1.25 1.25zm-1.5 6.98V9.75h1.5v2.48c0 .33.22.62.53.72c1.77.56 2.97 2.19 2.97 4.06A4.26 4.26 0 0 1 12 21.26a4.26 4.26 0 0 1-4.25-4.25c0-1.87 1.19-3.5 2.97-4.06c.32-.1.53-.39.53-.72m-2.5-9.48H10c.69 0 1.25.56 1.25 1.25v.25H10c-.69 0-1.25-.56-1.25-1.25z" color="currentColor"/></svg>
      `]))),label:"Experiments",component:(0,h.qy)(l||(l=d([`<br-experiments-panel
        .experiments="`,`"
        @connected="`,`"
        @toggle="`,`"
      />`])),this.experiments,function(pt){return ot._panel=pt.target},function(){var pt=ge(Q().mark(function Pt(Qe){return Q().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,ot._toggleExperiment(Qe.detail.experiment,Qe.detail.enabled);case 2:ot._saveExperimentStates();case 3:case"end":return ne.stop()}},Pt)}));return function(Pt){return pt.apply(this,arguments)}}())},this.br.shell.updateMenuContents()}}]);var Ie,Re}(g.S);function ht(qe){return st.apply(this,arguments)}function st(){return(st=ge(Q().mark(function qe(Se){return Q().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.abrupt("return",new Promise(function(Re,ot){var pt=document.createElement("script");pt.src=Se,pt.onload=function(){return Re()},pt.onerror=function(){return ot(new Error("Failed to load script: ".concat(Se)))},document.head.appendChild(pt)}));case 1:case"end":return Ie.stop()}},qe)}))).apply(this,arguments)}Y==null||Y.registerPlugin("experiments",Ge),w([(0,m.EM)("br-experiments-panel")],function(qe,Se){var Ie,Re=function(ot){function pt(){var Pt;W(this,pt);for(var Qe=arguments.length,ne=new Array(Qe),ie=0;ie<Qe;ie++)ne[ie]=arguments[ie];return Pt=G(this,pt,[].concat(ne)),qe(Pt),Pt}return oe(pt,ot),de(pt)}(Se);return{F:Re,d:[{kind:"field",decorators:[(0,m.MZ)({type:Array})],key:"experiments",value:function(){return[]}},{kind:"method",key:"render",value:function(){var ot=this;return(0,h.qy)(o||(o=d([`
      <div style="padding: 10px">
        `,`
      </div>
    `])),this.experiments.map(function(pt){return(0,h.qy)(c||(c=d([`
        <br-experiment-toggle
          .icon="`,`"
          .title="`,`"
          .description="`,`"
          .enabled="`,`"
          .loading="`,`"
          .learnMore="`,`"
          @toggle="`,`"
        ></br-experiment-toggle>
      `])),pt.icon,pt.title,pt.description,pt.enabled,pt.enabledLoading,pt.learnMore,function(Pt){return ot._dispatchToggle(pt,Pt.detail.enabled)})}))}},{kind:"method",key:"_dispatchToggle",value:(Ie=ge(Q().mark(function ot(pt,Pt){return Q().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:this.dispatchEvent(new CustomEvent("toggle",{detail:{experiment:pt,enabled:Pt}}));case 1:case"end":return Qe.stop()}},ot,this)})),function(ot,pt){return Ie.apply(this,arguments)})},{kind:"method",key:"connectedCallback",value:function(){p(Re,"connectedCallback",this,3)([]),this.dispatchEvent(new CustomEvent("connected"))}}]}},h.WF),w([(0,m.EM)("br-experiment-toggle")],function(qe,Se){var Ie=function(Re){function ot(){var pt;W(this,ot);for(var Pt=arguments.length,Qe=new Array(Pt),ne=0;ne<Pt;ne++)Qe[ne]=arguments[ne];return pt=G(this,ot,[].concat(Qe)),qe(pt),pt}return oe(ot,Re),de(ot)}(Se);return{F:Ie,d:[{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"icon",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"description",value:function(){return""}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"enabled",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:Boolean})],key:"loading",value:function(){return!1}},{kind:"field",decorators:[(0,m.MZ)({type:String})],key:"learnMore",value:function(){return""}},{kind:"field",decorators:[(0,m.wk)()],key:"_longLoading",value:function(){return!1}},{kind:"method",key:"update",value:function(Re){var ot=this;p(Ie,"update",this,3)([Re]),Re.has("loading")&&(this.loading?(0,y.sleep)(500).then(function(){ot.loading&&(ot._longLoading=!0,ot.requestUpdate())}):this._longLoading=!1)}},{kind:"method",key:"render",value:function(){return(0,h.qy)(n||(n=d([`
      <div class="experiment-card">
        <div style="display: flex; align-items: center; gap: 10px;">
          <img src="`,`" style="width: 20px; height: 20px;" alt="" />
          <div style="flex-grow: 1; font-weight: bold;">`,`</div>
        </div>
        <p style="opacity: 0.9">
          `,`
          <a href="`,`" target="_blank">Learn more</a>.
        </p>
        <div style="display: flex">
          <div style="flex-grow: 1;"></div>
          <button @click="`,'" .disabled="',`">
            `,`
          </button>
        </div>
      </div>
    `])),this.icon,this.title,this.description,this.learnMore,this._dispatchToggle,this.loading,this._longLoading?"Loading\u2026":this.enabled?"Disable":"Enable")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.AH)(u||(u=d([`
      .experiment-card {
        border-radius: 8px;
        background-color: #fff2;
        padding: 10px;
        display: flex;
        flex-direction: column;
      }

      .experiment-card p {
        margin: 6px 0;
      }
    `])))}},{kind:"method",key:"_dispatchToggle",value:function(){this.dispatchEvent(new CustomEvent("toggle",{detail:{enabled:!this.enabled}}))}}]}},h.WF)}},function(e){e(e.s=6732)}]);Uw=s7,{default:Vw}=Uw,l7=nn(Uw,["default"]),Ww=Vw!==void 0?Vw:l7;});var qw={};Fn(qw,{default:()=>Ww});var Gw=si(()=>{Um();Um()});var u7={};function c7(e,t,r){if(typeof window.archive_analytics!="undefined"){var s={bookreader:"error",description:e,page:t,line:r};document.referrer==""?s.referrer="-":s.referrer=document.referrer,typeof br!="undefined"&&(s.itemid=br.bookId,s.subPrefix=br.subPrefix,s.server=br.server,s.bookPath=br.bookPath),archive_analytics.send_ping(s)}return!1}var Yw=si(()=>{typeof Object.assign!="function"&&function(){Object.assign=function(e){"use strict";if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var s=arguments[r];if(s!=null)for(var l in s)s.hasOwnProperty(l)&&(t[l]=s[l])}return t}}();window.logError=c7});var d7,h7,Kw=si(()=>{xi();xi();d7=ze`
<svg
  viewBox="0 0 40 40"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="ellipsesTitleID ellipsesDescID"
>
  <title id="ellipsesTitleID">Ellipses icon</title>
  <desc id="ellipsesDescID">An illustration of text ellipses.</desc>
  <path class="fill-color" d="m10.5 17.5c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5c-1.38071187 0-2.5-1.1192881-2.5-2.5s1.11928813-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5zm9.5 0c1.3807119 0 2.5 1.1192881 2.5 2.5s-1.1192881 2.5-2.5 2.5-2.5-1.1192881-2.5-2.5 1.1192881-2.5 2.5-2.5z" fill-rule="evenodd"/>
</svg>
`,h7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return d7}};customElements.define("ia-icon-ellipses",h7)});var p7,f7,Xw=si(()=>{xi();xi();p7=ze`
<svg
  viewBox="0 0 18 18"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="collapseSidebarTitleID collapseSidebarDescID"
>
  <title id="collapseSidebarTitleID">Collapse sidebar</title>
  <desc id="collapseSidebarDescID">A circle with a left pointing chevron</desc>
  <path d="m9 0c4.9705627 0 9 4.02943725 9 9 0 4.9705627-4.0294373 9-9 9-4.97056275 0-9-4.0294373-9-9 0-4.97056275 4.02943725-9 9-9zm1.6976167 5.28352881c-.365258-.3556459-.9328083-.37581056-1.32099801-.06558269l-.09308988.0844372-3 3.08108108-.08194436.09533317c-.27484337.36339327-.26799482.87009349.01656959 1.22592581l.084491.09308363 3 2.91891889.09533796.0818904c.3633964.2746544.8699472.2677153 1.2256839-.0167901l.093059-.0844712.0818904-.095338c.2746544-.3633964.2677153-.8699472-.0167901-1.2256839l-.0844712-.093059-2.283355-2.2222741 2.3024712-2.36338332.0819252-.09530804c.2997677-.39632298.2644782-.96313393-.1007797-1.31877983z" fill-rule="evenodd" class="fill-color" />
</svg>
`,f7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return p7}};customElements.define("ia-icon-collapse-sidebar",f7)});var m7,g7,Vm=si(()=>{xi();xi();m7=ze`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="shareTitleID shareDescID"
>
  <title id="shareTitleID">Share icon</title>
  <desc id="shareDescID">A square with an arrow arcing out from the center of the square</desc>
  <g class="fill-color">
    <path d="M70.6784759,10 L70.6784759,21.3240186 C64.5020053,21.66334 58.9104278,22.5826126 53.9037433,24.0818363 C48.8970588,25.5810601 44.8495989,27.4085163 41.7613636,29.5642049 C38.6731283,31.7198935 35.9982175,34.0552229 33.736631,36.5701929 C31.4750446,39.085163 29.8217469,41.5657574 28.776738,44.011976 C27.7317291,46.4581947 26.9173351,48.6848525 26.3335561,50.6919494 C25.7497772,52.6990464 25.4088681,54.3324462 25.3108289,55.592149 L25.2372995,57.4085163 C29.0296346,54.1661122 33.1751337,51.5524507 37.6737968,49.5675316 C42.1724599,47.5826126 46.2934492,46.3118208 50.0367647,45.7551564 C53.7800802,45.1984919 57.2571301,44.8713684 60.4679144,44.7737858 C63.6786988,44.6762031 66.1831551,44.7726769 67.9812834,45.0632069 L70.6784759,45.499002 L70.6784759,57.4051896 L100,33.3765802 L70.6784759,10 Z M76.4438503,62.4883566 L82.8609626,57.1157685 C82.9099822,57.0669772 82.9946524,57.0303837 83.1149733,57.005988 C83.2352941,56.9815924 83.4536542,56.9571967 83.7700535,56.9328011 C84.0864528,56.9084054 84.3905971,56.9449989 84.6824866,57.0425815 C84.9743761,57.1401641 85.217246,57.2854291 85.4110963,57.4783766 C85.6049465,57.671324 85.7263815,57.8409847 85.7754011,57.9873586 L85.8489305,58.2035928 L85.8489305,90 L0,90 L0,17.910845 L43.1784759,17.910845 C43.2765152,17.9596363 43.410205,18.0317143 43.5795455,18.1270792 C43.7488859,18.222444 43.9438503,18.4519849 44.1644385,18.8157019 C44.3850267,19.1794189 44.469697,19.5542249 44.4184492,19.9401198 C44.4184492,20.2794411 44.3092692,20.582169 44.0909091,20.8483034 C43.872549,21.1144378 43.6664439,21.3206919 43.4725936,21.4670659 L43.1818182,21.6134398 C40.557041,23.06609 38.2954545,24.396762 36.3970588,25.6054558 L30.7820856,29.8170326 L11.5274064,29.8170326 L11.5274064,78.1669993 L74.1811497,78.1669993 L74.1811497,65.5355955 C74.1811497,65.1009093 74.3995098,64.6407186 74.8362299,64.1550233 L76.4438503,62.4883566 Z" id="Shape"></path>
  </g>
</svg>
`,g7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return m7}};customElements.define("ia-icon-share",g7)});var v7,y7,Wm=si(()=>{xi();xi();v7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="twitterTitleID twitterDescID">
  <title id="twitterTitleID">Twitter icon</title>
  <desc id="twitterDescID">The Twitter logo, a cartoon bird</desc>
  <path d="m31.5297453 8.76273313c-.3135031.40766104-.7447036.83083673-1.2936015 1.26952707-.5488979.4386904-.9169698.7837578-1.1042157 1.0352022.1562166 2.319709-.1417719 4.5297454-.8939653 6.6301092-.7521935 2.1003638-1.8023754 3.9182538-3.1505457 5.45367-1.3481704 1.5354162-2.9627648 2.8284828-4.8437835 3.8791996-1.8810186 1.0507169-3.8321207 1.7483416-5.8533062 2.092874s-4.1215493.2894286-6.30109136-.1653114c-2.17954205-.45474-4.2092874-1.3401455-6.08923604-2.6562165 2.72737.4697196 5.67408517-.2514445 8.8401455-2.1634924-3.0719024-.7521935-4.88979241-2.2881447-5.45367-4.6078537 1.12882516.0631287 1.86550396.0631287 2.21003638 0-2.91568586-1.2850417-4.38904344-3.3693558-4.42007276-6.2529424.21934517.0310293.53284828.1487267.94050931.3530922s.78375775.3060133 1.12829017.3049433c-.81532206-.7211641-1.41076396-1.9045581-1.7863257-3.5501819-.37556173-1.64562376-.17173122-3.17355015.61149155-4.58377912 1.81789001 1.88101862 3.6908838 3.36989086 5.61898138 4.46661672 1.92809757 1.0967259 4.22426707 1.7547614 6.88850847 1.9741066-.2503745-1.1908838-.1722662-2.32719882.2343248-3.40894502.4065911-1.0817462 1.0416221-1.93612241 1.9050931-2.56312861.863471-.62700621 1.8114702-1.0817462 2.8439975-1.36421999 1.0325272-.28247378 2.0827091-.27444896 3.1505456.02407447s1.9767815.87042585 2.726835 1.71570726c1.3791997-.37663172 2.6802911-.87845068 3.9032742-1.50545688-.0310293.37663171-.1407019.74470361-.3290178 1.1042157-.1883158.35951209-.3530922.62593623-.4943291.79927242s-.3841216.4317355-.728654.77519795c-.3445324.34346244-.5638776.57832227-.6580355.70457949.2193452-.09415792.6895998-.23539482 1.410764-.42371067.7211641-.18831586 1.2069334-.39214638 1.4573079-.61149155 0 .44350524-.1567516.86668093-.4702547 1.27434196z" class="fill-color" />
</svg>
`,y7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return v7}};customElements.define("ia-icon-twitter",y7)});var b7,w7,qm=si(()=>{xi();xi();b7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="facebookTitleID facebookDescID">
  <title id="facebookTitleID">Facebook icon</title>
  <desc id="facebookDescID">A lowercase f</desc>
  <path d="m30.91057 19.2442068.2670004-5.3339402h-5.7329237c-.0890001-3.4962895.25183-5.42243459 1.0224903-5.77843514.3560005-.17800028.8004955-.28925046 1.333485-.33375053s1.0442346-.0520853 1.5337353-.02275571c.4895008.02932959 1.045246.01466479 1.6672356-.04399439.0890001-1.59997977.1335002-3.24445961.1335002-4.93343953-2.1633102-.20732987-3.6742898-.28115953-4.5329389-.22148898-2.8146294.17800028-4.7847688 1.25965538-5.9104183 3.2449653-.1780003.3256596-.3261653.68873971-.444495 1.08924034-.1183298.40050062-.2144095.76358074-.2882391 1.08924034-.0738297.32565959-.125915.7848194-.1562559 1.37747942-.030341.59266002-.052591 1.04474028-.0667501 1.35624078-.0141592.3115005-.0217444.8449956-.0227558 1.6004854v1.5777298h-3.8229605v5.3339401h3.8669549v14.622824h5.8224296c0-.3560006-.0146648-1.6819003-.0439944-3.9776994-.0293296-2.295799-.0515796-4.2957737-.0667501-5.9999241s-.0075853-3.2525506.0227557-4.6452005h5.4219289z" class="fill-color" />
</svg>
`,w7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return b7}};customElements.define("ia-icon-facebook",w7)});var x7,_7,Gm=si(()=>{xi();xi();x7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="tumblrTitleID tumblrDescID">
  <title id="tumblrTitleID">Tumblr icon</title>
  <desc id="tumblrDescID">A lowercase letter t</desc>
  <path d="m8.50321407 8.54544475v5.32088575c.15641786.0310693.6819176.0310693 1.57649923 0 .8945816-.0310693 1.3574071.0160703 1.3884764.1414189.0942792 1.5695354.1333837 3.2253149.1173133 4.9673385-.0160703 1.7420236-.0316049 3.3426283-.0466039 4.8018141s.2046288 2.824628.6588835 4.0963267c.4542546 1.2716986 1.1999178 2.2209194 2.2369897 2.8476622 1.2556283.784232 2.9896167 1.207953 5.2019653 1.271163 2.2123485.0632099 4.1659648-.2506972 5.8608487-.9417213-.0310693-.3449764-.0230341-1.4045467.0241055-3.1787109.0471397-1.7741643-.0080351-2.75499-.1655244-2.9424772-3.5472571 1.0360005-5.697467.6904885-6.4506298-1.0365361-.7220934-1.6638147-.8635123-4.9909084-.4242566-9.981281v-.046604h6.7318605v-5.32088568h-6.7318605v-6.54383772h-4.0497228c-.2828378 1.28669763-.6122795 2.35376743-.9883252 3.20120941-.3760457.84744199-.98029 1.60060471-1.812733 2.25948817-.832443.65888347-1.87594303 1.01993018-3.1305 1.08314014z" class="fill-color" />
</svg>
`,_7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return x7}};customElements.define("ia-icon-tumblr",_7)});var k7,S7,Ym=si(()=>{xi();xi();k7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="pinterestTitleID pinterestDescID">
  <title id="pinterestTitleID">Pinterest icon</title>
  <desc id="pinterestDescID">A stylized letter p</desc>
  <path d="m11.9051049 30.5873434.653491-1.0742755.4207845-.839975c.2805229-.591861.5371377-1.2533214.7698443-1.9843813.2327065-.7310599.4659444-1.6029125.6997135-2.6155579.2337692-1.0126455.4128151-1.752206.5371377-2.2186817.0308151.030815.0775689.0855382.1402615.1641697.0626927.0786314.1094465.1333547.1402615.1641697.1243227.1870153.2178304.311338.280523.372968 1.1210293.964829 2.3817888 1.4631823 3.7822785 1.4950599 1.4939973 0 2.8790795-.3426843 4.1552465-1.0280529 2.1166733-1.1826593 3.6733633-3.1128487 4.6700699-5.7905679.4048457-1.1518444.6848374-2.5996192.8399751-4.3433245.1243226-1.587505-.0781002-3.0974411-.6072685-4.5298084-.903199-2.36638128-2.5528653-4.20306294-4.948999-5.51004497-1.276167-.65349101-2.5990879-1.05833667-3.9687625-1.21453696-1.525875-.21783034-3.1293188-.17107651-4.8103315.14026149-2.7701643.52916833-5.02709913 1.743174-6.77080442 3.64201699-1.99235065 2.14748836-2.98852598 4.62225355-2.98852598 7.42429545 0 2.9571797.9494215 5.0584455 2.84826449 6.3037975l.83997504.4207845c.12432268 0 .22526845.0154075.3028373.0462225s.1551377.0074381.23270656-.0701308c.07756885-.0775688.13229208-.1243226.16416969-.1402614s.07066204-.0860696.11635328-.2103923c.04569124-.1243226.07703756-.2098609.09403895-.2566147.01700139-.0467539.04834771-.1476996.09403895-.3028373s.06906816-.2486454.07013074-.280523l.14026149-.5132295c.06269263-.311338.09403895-.5291684.09403895-.653491-.03081502-.1243227-.12432268-.2799917-.28052297-.467007-.15620029-.1870154-.23376915-.2959305-.23270656-.3267455-.62267599-.8096914-.9494215-1.7904592-.98023652-2.9423035-.03081502-1.55669.28052297-2.9731185.93401399-4.24928547 1.18265932-2.45882635 3.17501002-3.93741618 5.97705192-4.43576949 1.6183201-.311338 3.1356943-.25661476 4.5521228.16416969 1.4164285.42078446 2.5135496 1.09765239 3.2913633 2.03060379.8405063 1.02752164 1.3229208 2.28828114 1.4472435 3.78227848.1243227 1.4004897-.0313463 2.9725872-.467007 4.7162925-.3740306 1.3696746-.9186065 2.5528653-1.6337275 3.5495719-.9967066 1.245352-2.0863896 1.8834355-3.269049 1.9142505-1.7118277.0626926-2.7547568-.6375522-3.1287874-2.1007345-.0935077-.4664757 0-1.2134744.2805229-2.240996.7469987-2.5842117 1.1359055-3.9384788 1.1667206-4.0628015.1870153-1.0275216.2024228-1.7904591.0462225-2.2888124-.1870153-.65349104-.5759222-1.15928246-1.1667205-1.51737429-.5907984-.35809182-1.2756357-.39687625-2.054512-.11635327-1.1826594.43566067-1.9610044 1.40048968-2.335035 2.89448706-.311338 1.306982-.2491767 2.6299028.186484 3.9687625 0 .0626926.0313463.1402615.094039.2327065.0626926.0924451.0940389.1700139.0940389.2327066 0 .0935076-.0313463.2491766-.0940389.467007-.0626927.2178303-.094039.3580918-.094039.4207844-.0935076.4356607-.3038999 1.3308903-.6311767 2.6856887-.3272768 1.3547985-.5838915 2.3897582-.7698443 3.1048793-.7778136 3.2068876-1.12049796 5.5881451-1.02805289 7.1437725l.37296809 2.7558194c.653491-.591861 1.2294131-1.2299445 1.7277664-1.9142505z" class="fill-color" />
</svg>
`,S7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return k7}};customElements.define("ia-icon-pinterest",S7)});var A7,C7,Km=si(()=>{xi();xi();A7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="emailTitleID emailDescID">
  <title id="emailTitleID">Email icon</title>
  <desc id="emailDescID">An illustration of an envelope</desc>
  <path d="m32 7.04156803v19.91686397c0 .5752421-.4763773 1.041568-1.0640184 1.041568h-27.87196316c-.58764116 0-1.06401844-.4663259-1.06401844-1.041568v-19.91686397c0-.57524214.47637728-1.04156803 1.06401844-1.04156803h27.87196316c.5876411 0 1.0640184.46632589 1.0640184 1.04156803zm-26.25039901 1.19676167 10.04327011 10.1323738c.5135662.4194048.8817166.6291071 1.1044511.6291071.1198794 0 .2695514-.0503424.4490158-.1510273.1794644-.100685.3291364-.2013699.4490158-.3020548l.1798191-.1510273 10.1198794-10.15841306zm16.77212271 9.7303286 6.8831353 6.7889404v-13.5778809zm-17.92871075-6.6379131v13.350819l6.78098955-6.6629107zm22.09008685 14.2059464-5.9074304-5.8588202-.9757049.9551179-.3594018.3295984c-.0342324.0304241-.0665646.0587822-.0969964.0850743l-.1597867.1329606c-.0684912.0540844-.1198794.0895749-.1541644.1064714-.6674943.3687151-1.3523675.5530727-2.0546196.5530727-.65047 0-1.3782586-.218035-2.1833659-.6541048l-.6682036-.4520405-1.0278418-1.0311524-5.95850326 5.832781z" class="fill-color" />
</svg>
`,C7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return A7}};customElements.define("ia-icon-email",C7)});var E7,T7,Xm=si(()=>{xi();xi();E7=ze`
<svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg" aria-labelledby="linkTitleID linkDescID">
  <title id="linkTitleID">Link icon</title>
  <desc id="linkDescID">Two chain links linked together</desc>
  <path d="m7.80511706 12.3659763c1.2669254-2.2579539 4.09819784-2.9949938 6.41200864-1.7733458l.2295791.12871 1.6067188.9559859 3.5467013-6.31849361c1.2682451-2.26030597 4.104098-2.99652769 6.4192376-1.76952182l.2223501.12488594 3.2168204 1.91103915c2.2770002 1.3527136 3.1866331 4.21502324 2.0564431 6.51290984l-.1198433.2278304-5.2002499 9.2680474c-1.2669254 2.2579539-4.0981978 2.9949938-6.4120086 1.7733458l-.2295791-.12871-1.6096554-.9558482-3.5437647 6.3183559c-1.2682451 2.260306-4.104098 2.9965277-6.41923761 1.7695218l-.22235013-.1248859-3.21682032-1.9110392c-2.27700024-1.3527136-3.18663314-4.2150232-2.05644312-6.5129098l.11984332-.2278304zm13.93955474-5.73311741-3.563271 6.35055051c1.889633 1.4530595 2.5776248 4.0429866 1.5410255 6.156875l-.1223014.2328355-.4183304.7430134 1.6096554.9558483c1.1431442.6791157 2.5155496.3977368 3.1667361-.5628389l.0921501-.1491451 5.2002498-9.2680474c.5752467-1.0252226.2110342-2.4011579-.8559335-3.14755806l-.1742742-.11247814-3.2168203-1.91103915c-1.1402863-.67741793-2.5086889-.39913772-3.1618387.55564729zm-11.79500786 7.00714351-5.20024982 9.2680474c-.57524673 1.0252226-.21103426 2.4011579.85593348 3.1475581l.17427416.1124781 3.21682032 1.9110392c1.14028632.6774179 2.50868892.3991377 3.16183872-.5556473l.0970474-.1563368 3.5622708-6.3513198c-1.8888875-1.4532134-2.5764504-4.042623-1.5400057-6.1561456l.1222818-.2327956.4153938-.7428758-1.6067188-.9559859c-1.1431442-.6791157-2.5155496-.3977368-3.1667361.5628389zm6.97653866 1.5796652-.3817806.6812386c-.5117123.9119895-.2800268 2.1014993.528439 2.8785267l.382717-.6803391c.5119098-.9123415.2798478-2.1024176-.5293754-2.8794262z" class="fill-color" />
</svg>
`,T7=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return E7}};customElements.define("ia-icon-link",T7)});function l2(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Zw!==void 0?Zw.createHTML(t):t}function il(e,t,r=e,s){var l,o,c,n;if(t===$u)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=Pu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=il(e,u._$AS(e,t.values),u,s)),t}var Zm,ph,fc,Zw,fh,qa,tg,P7,tl,mh,Pu,n2,o2,Jm,Tu,Jw,Qw,Qs,e2,t2,a2,s2,JH,QH,$u,eo,i2,el,c2,eg,d2,ig,Lu,p2,$7,f2,m2,g2,L7,Qm,M7,rg,v2,r2,Ga,fs,O7,Mu,Ou,gh,y2,ng=si(()=>{ph=window,fc=ph.trustedTypes,Zw=fc?fc.createPolicy("lit-html",{createHTML:e=>e}):void 0,fh="$lit$",qa=`lit$${(Math.random()+"").slice(9)}$`,tg="?"+qa,P7=`<${tg}>`,tl=document,mh=()=>tl.createComment(""),Pu=e=>e===null||typeof e!="object"&&typeof e!="function",n2=Array.isArray,o2=e=>n2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Jm=`[ 	
\f\r]`,Tu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Jw=/-->/g,Qw=/>/g,Qs=RegExp(`>|${Jm}(?:([^\\s"'>=/]+)(${Jm}*=${Jm}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),e2=/'/g,t2=/"/g,a2=/^(?:script|style|textarea|title)$/i,s2=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),JH=s2(1),QH=s2(2),$u=Symbol.for("lit-noChange"),eo=Symbol.for("lit-nothing"),i2=new WeakMap,el=tl.createTreeWalker(tl,129,null,!1);c2=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Tu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Tu?g[1]==="!--"?c=Jw:g[1]!==void 0?c=Qw:g[2]!==void 0?(a2.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Qs):g[3]!==void 0&&(c=Qs):c===Qs?g[0]===">"?(c=l!=null?l:Tu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?Qs:g[3]==='"'?t2:e2):c===t2||c===e2?c=Qs:c===Jw||c===Qw?c=Tu:(c=Qs,l=void 0);let _=c===Qs&&e[n+1].startsWith("/>")?" ":"";o+=c===Tu?u+P7:m>=0?(s.push(h),u.slice(0,m)+fh+u.slice(m)+qa+_):u+qa+(m===-2?(s.push(void 0),n):_)}return[l2(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},eg=class u2{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=c2(t,r);if(this.el=u2.createElement(h,s),el.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=el.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(fh)||y.startsWith(qa)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+fh).split(qa),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?p2:k[1]==="?"?f2:k[1]==="@"?m2:Lu})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(a2.test(l.tagName)){let m=l.textContent.split(qa),y=m.length-1;if(y>0){l.textContent=fc?fc.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],mh()),el.nextNode(),u.push({type:2,index:++o});l.append(m[y],mh())}}}else if(l.nodeType===8)if(l.data===tg)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(qa,m+1))!==-1;)u.push({type:7,index:o}),m+=qa.length-1}o++}}static createElement(t,r){let s=tl.createElement("template");return s.innerHTML=t,s}};d2=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:tl).importNode(r,!0);el.currentNode=l;let o=el.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new ig(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new g2(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=el.nextNode(),c++)}return el.currentNode=tl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},ig=class h2{constructor(t,r,s,l){var o;this.type=2,this._$AH=eo,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=il(this,t,r),Pu(t)?t===eo||t==null||t===""?(this._$AH!==eo&&this._$AR(),this._$AH=eo):t!==this._$AH&&t!==$u&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):o2(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==eo&&Pu(this._$AH)?this._$AA.nextSibling.data=t:this.$(tl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=eg.createElement(l2(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new d2(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=i2.get(t.strings);return r===void 0&&i2.set(t.strings,r=new eg(t)),r}T(t){n2(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new h2(this.k(mh()),this.k(mh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Lu=class{constructor(e,t,r,s,l){this.type=1,this._$AH=eo,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=eo}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=il(this,e,t,0),o=!Pu(e)||e!==this._$AH&&e!==$u,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=il(this,c[r+n],t,n),u===$u&&(u=this._$AH[n]),o||(o=!Pu(u)||u!==this._$AH[n]),u===eo?e=eo:e!==eo&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===eo?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},p2=class extends Lu{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===eo?void 0:e}},$7=fc?fc.emptyScript:"",f2=class extends Lu{constructor(){super(...arguments),this.type=4}j(e){e&&e!==eo?this.element.setAttribute(this.name,$7):this.element.removeAttribute(this.name)}},m2=class extends Lu{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=il(this,e,t,0))!==null&&r!==void 0?r:eo)===$u)return;let s=this._$AH,l=e===eo&&s!==eo||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==eo&&(s===eo||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},g2=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){il(this,e)}},L7={O:fh,P:qa,A:tg,C:1,M:c2,L:d2,R:o2,D:il,I:ig,V:Lu,H:f2,N:m2,U:p2,F:g2},Qm=ph.litHtmlPolyfillSupport;Qm==null||Qm(eg,ig),((Zm=ph.litHtmlVersions)!==null&&Zm!==void 0?Zm:ph.litHtmlVersions=[]).push("2.8.0");({I:M7}=L7),rg=(e,t)=>t===void 0?(e==null?void 0:e._$litType$)!==void 0:(e==null?void 0:e._$litType$)===t,v2=e=>{var t;return((t=e==null?void 0:e._$litType$)===null||t===void 0?void 0:t.h)!=null},r2=()=>document.createComment(""),Ga=(e,t,r)=>{var s;let l=e._$AA.parentNode,o=t===void 0?e._$AB:t._$AA;if(r===void 0){let c=l.insertBefore(r2(),o),n=l.insertBefore(r2(),o);r=new M7(c,n,e,e.options)}else{let c=r._$AB.nextSibling,n=r._$AM,u=n!==e;if(u){let h;(s=r._$AQ)===null||s===void 0||s.call(r,e),r._$AM=e,r._$AP!==void 0&&(h=e._$AU)!==n._$AU&&r._$AP(h)}if(c!==o||u){let h=r._$AA;for(;h!==c;){let g=h.nextSibling;l.insertBefore(h,o),h=g}}}return r},fs=(e,t,r=e)=>(e._$AI(t,r),e),O7={},Mu=(e,t=O7)=>e._$AH=t,Ou=e=>e._$AH,gh=e=>{var t;(t=e._$AP)===null||t===void 0||t.call(e,!1,!0);let r=e._$AA,s=e._$AB.nextSibling;for(;r!==s;){let l=r.nextSibling;r.remove(),r=l}},y2=e=>{e._$AR()};});function $2(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return b2!==void 0?b2.createHTML(t):t}function vc(e,t,r=e,s){var l,o,c,n;if(t===gc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=Ru(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=vc(e,u._$AS(e,t.values),u,s)),t}var og,vh,mc,b2,lg,ms,C2,I7,ol,yh,Ru,E2,R7,ag,Iu,w2,x2,rl,_2,k2,T2,P2,sF,lF,gc,to,S2,nl,D7,cg,j7,M2,bh,N7,B7,H7,F7,z7,sg,A2,La,I2=si(()=>{Kl();ng();vh=window,mc=vh.trustedTypes,b2=mc?mc.createPolicy("lit-html",{createHTML:e=>e}):void 0,lg="$lit$",ms=`lit$${(Math.random()+"").slice(9)}$`,C2="?"+ms,I7=`<${C2}>`,ol=document,yh=()=>ol.createComment(""),Ru=e=>e===null||typeof e!="object"&&typeof e!="function",E2=Array.isArray,R7=e=>E2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",ag=`[ 	
\f\r]`,Iu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,w2=/-->/g,x2=/>/g,rl=RegExp(`>|${ag}(?:([^\\s"'>=/]+)(${ag}*=${ag}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_2=/'/g,k2=/"/g,T2=/^(?:script|style|textarea|title)$/i,P2=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),sF=P2(1),lF=P2(2),gc=Symbol.for("lit-noChange"),to=Symbol.for("lit-nothing"),S2=new WeakMap,nl=ol.createTreeWalker(ol,129,null,!1);D7=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Iu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Iu?g[1]==="!--"?c=w2:g[1]!==void 0?c=x2:g[2]!==void 0?(T2.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=rl):g[3]!==void 0&&(c=rl):c===rl?g[0]===">"?(c=l!=null?l:Iu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?rl:g[3]==='"'?k2:_2):c===k2||c===_2?c=rl:c===w2||c===x2?c=Iu:(c=rl,l=void 0);let _=c===rl&&e[n+1].startsWith("/>")?" ":"";o+=c===Iu?u+I7:m>=0?(s.push(h),u.slice(0,m)+lg+u.slice(m)+ms+_):u+ms+(m===-2?(s.push(void 0),n):_)}return[$2(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},cg=class L2{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=D7(t,r);if(this.el=L2.createElement(h,s),nl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=nl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(lg)||y.startsWith(ms)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+lg).split(ms),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?N7:k[1]==="?"?H7:k[1]==="@"?F7:bh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(T2.test(l.tagName)){let m=l.textContent.split(ms),y=m.length-1;if(y>0){l.textContent=mc?mc.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],yh()),nl.nextNode(),u.push({type:2,index:++o});l.append(m[y],yh())}}}else if(l.nodeType===8)if(l.data===C2)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ms,m+1))!==-1;)u.push({type:7,index:o}),m+=ms.length-1}o++}}static createElement(t,r){let s=ol.createElement("template");return s.innerHTML=t,s}};j7=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:ol).importNode(r,!0);nl.currentNode=l;let o=nl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new M2(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new z7(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=nl.nextNode(),c++)}return nl.currentNode=ol,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},M2=class O2{constructor(t,r,s,l){var o;this.type=2,this._$AH=to,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=vc(this,t,r),Ru(t)?t===to||t==null||t===""?(this._$AH!==to&&this._$AR(),this._$AH=to):t!==this._$AH&&t!==gc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):R7(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==to&&Ru(this._$AH)?this._$AA.nextSibling.data=t:this.$(ol.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=cg.createElement($2(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new j7(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=S2.get(t.strings);return r===void 0&&S2.set(t.strings,r=new cg(t)),r}T(t){E2(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new O2(this.k(yh()),this.k(yh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},bh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=to,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=to}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=vc(this,e,t,0),o=!Ru(e)||e!==this._$AH&&e!==gc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=vc(this,c[r+n],t,n),u===gc&&(u=this._$AH[n]),o||(o=!Ru(u)||u!==this._$AH[n]),u===to?e=to:e!==to&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===to?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},N7=class extends bh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===to?void 0:e}},B7=mc?mc.emptyScript:"",H7=class extends bh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==to?this.element.setAttribute(this.name,B7):this.element.removeAttribute(this.name)}},F7=class extends bh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=vc(this,e,t,0))!==null&&r!==void 0?r:to)===gc)return;let s=this._$AH,l=e===to&&s!==to||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==to&&(s===to||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},z7=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){vc(this,e)}},sg=vh.litHtmlPolyfillSupport;sg==null||sg(cg,M2),((og=vh.litHtmlVersions)!==null&&og!==void 0?og:vh.litHtmlVersions=[]).push("2.8.0");A2=(e,t,r)=>{let s=new Map;for(let l=t;l<=r;l++)s.set(e[l],l);return s},La=ka(class extends Sa{constructor(e){if(super(e),e.type!==ls.CHILD)throw Error("repeat() can only be used in text expressions")}ct(e,t,r){let s;r===void 0?r=t:t!==void 0&&(s=t);let l=[],o=[],c=0;for(let n of e)l[c]=s?s(n,c):c,o[c]=r(n,c),c++;return{values:o,keys:l}}render(e,t,r){return this.ct(e,t,r).values}update(e,[t,r,s]){var l;let o=Ou(e),{values:c,keys:n}=this.ct(t,r,s);if(!Array.isArray(o))return this.ut=n,c;let u=(l=this.ut)!==null&&l!==void 0?l:this.ut=[],h=[],g,m,y=0,_=o.length-1,w=0,k=c.length-1;for(;y<=_&&w<=k;)if(o[y]===null)y++;else if(o[_]===null)_--;else if(u[y]===n[w])h[w]=fs(o[y],c[w]),y++,w++;else if(u[_]===n[k])h[k]=fs(o[_],c[k]),_--,k--;else if(u[y]===n[k])h[k]=fs(o[y],c[k]),Ga(e,h[k+1],o[y]),y++,k--;else if(u[_]===n[w])h[w]=fs(o[_],c[w]),Ga(e,o[y],o[_]),_--,w++;else if(g===void 0&&(g=A2(n,w,k),m=A2(u,y,_)),g.has(u[y]))if(g.has(u[_])){let A=m.get(n[w]),L=A!==void 0?o[A]:null;if(L===null){let T=Ga(e,o[y]);fs(T,c[w]),h[w]=T}else h[w]=fs(L,c[w]),Ga(e,o[y],L),o[A]=null;w++}else gh(o[_]),_--;else gh(o[y]),y++;for(;w<=k;){let A=Ga(e,h[k+1]);fs(A,c[w]),h[w++]=A}for(;y<=_;){let A=o[y++];A!==null&&gh(A)}return this.ut=n,Mu(e,h),gc}});});var al=si(()=>{I2()});var U7,ug,R2,V7,W7,Ya,q7,gs,dg,hg,io,D2,ZF,da,G7,Y7,K7,iz,Du,sl,pg=si(()=>{vr();xi();Nr();Jd();Kw();vr();xi();Nr();xi();Xw();vr();xi();Nr();xi();vr();xi();Nr();vr();xi();Nr();vr();xi();Nr();Vm();Wm();qm();Gm();Ym();Km();Xm();vr();xi();Nr();al();U7=dt`42px`,ug=dt`var(--menuWidth, 320px)`,R2=dt`var(--animationTiming, 200ms)`,V7=dt`
  .main {
    overflow: hidden;
    width: 100%;
    height: 100%;
  }

  .animate {
    transition: transform ${R2} ease-out;
  }

  .menu {
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: ${ug};
    padding: 0.5rem 0.5rem 0 0;
    box-sizing: border-box;
    font-size: 1.4rem;
    color: var(--primaryTextColor);
    background: var(--menuSliderBg);
    transform: translateX(calc(${ug} * -1));
  }

  .menu > button.close {
    right: 0.7rem;
  }

  button {
    cursor: pointer;
  }

  header {
    margin: 0 0 0.5rem 0;
  }

  header * {
    margin: 0;
    display: inline-block;
  }
  header button {
    cursor: pointer;
  }

  header.with-secondary-action .details {
    width: 80%;
  }

  header .details {
    font-weight: bold;
    width: 88%;
  }

  header .custom-action > *,
  button.close {
    padding: 0;
    background-color: transparent;
    border: 0;
    --iconWidth: var(--menuSliderHeaderIconWidth);
    --iconHeight: var(--menuSliderHeaderIconHeight);
  }

  header .custom-action,
  button.close {
    position: absolute;
  }
  button.close {
    right: 0.5rem;
  }

  button.close * {
    float: right;
  }

  .content {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: ${U7};
    z-index: 1;
    transform: translateX(calc(${ug} * -1));
    transition: transform ${R2} ease-out;
    background: var(--activeButtonBg);
    border-right: 0.2rem solid;
    border-color: var(--subpanelRightBorderColor);
    padding: 0.5rem 0 0 0.5rem;
    display: flex;
    flex-direction: column;
  }

  .open {
    transform: translateX(0);
  }

  .menu-list {
    padding: 0;
    margin: 0;
    list-style: none;
    background: var(--menuSliderBg);
  }
  .menu-list li {
    margin-bottom: 0.2rem;
  }

  .content > section {
    overflow: auto;
    overscroll-behavior: contain;
  }
`,W7=dt`
  a {
    display: inline-block;
    text-decoration: none;
  }

  .menu-item {
    display: inline-flex;
    width: 100%;
    padding: 0;
    font-size: 1.6rem;
    text-align: left;
    background: transparent;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    border: none;
    cursor: pointer;
  }

  button.menu-item {
    -webkit-appearance: none;
    appearance: none;
    border-radius: 0;
  }

  .label {
    display: var(--menuButtonLabelDisplay, none);
    padding: 0;
    font-weight: 400;
    color: var(--primaryTextColor);
    text-align: left;
    vertical-align: middle;
    margin-left: 1rem;
  }

  .menu-details {
    color: var(--primaryTextColor);
    display: inline-block;
    margin-left: 0.5rem;
    font-style: italic;
    font-size: 1.5rem;
  }

  .menu-item > .icon {
    position: relative;
    display: inline-flex;
    z-index: 2;
    min-width: 4.2rem;
    max-width: 4.2rem;
    height: 4.2rem;
    vertical-align: middle;
    -webkit-box-align: center;
    -ms-flex-align: center;
    align-items: center;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
  }

  .menu-item.selected .icon {
    background-color: var(--activeButtonBg);
    border-radius: 1rem 0 0 1rem;
  }

  .icon .fill-color {
    fill: #999;
  }

  .icon.active .fill-color {
    fill: #fff;
  }
`,Ya=class extends fi{constructor(){super(...arguments),this.icon="",this.href="",this.label="",this.menuDetails="",this.buttonId="",this.selected=!1,this.followable=!1}static get styles(){return W7}onClick(e){e.preventDefault(),this.dispatchMenuTypeSelectedEvent()}dispatchMenuTypeSelectedEvent(){this.dispatchEvent(new CustomEvent("menuTypeSelected",{bubbles:!0,composed:!0,detail:{id:this.buttonId}}))}get buttonClass(){return this.selected?"selected":""}get iconClass(){return this.selected?"active":""}get menuItem(){return ze`
      <span class="icon ${this.iconClass}"> ${this.icon} </span>
      <span class="label">${this.label}</span>
      <span class="menu-details">${this.menuDetails}</span>
    `}get linkButton(){return ze`
      <a
        href="${this.href}"
        class="menu-item ${this.buttonClass}"
        @click=${this.followable?void 0:this.onClick}
        >${this.menuItem}</a
      >
    `}get clickButton(){return ze`
      <button class="menu-item ${this.buttonClass}" @click=${this.onClick}>
        ${this.menuItem}
      </button>
    `}render(){return this.href?this.linkButton:this.clickButton}};ae([Kt({type:String})],Ya.prototype,"icon",void 0);ae([Kt({type:String})],Ya.prototype,"href",void 0);ae([Kt({type:String})],Ya.prototype,"label",void 0);ae([Kt({type:String})],Ya.prototype,"menuDetails",void 0);ae([Kt({type:String})],Ya.prototype,"buttonId",void 0);ae([Kt({type:Boolean})],Ya.prototype,"selected",void 0);ae([Kt({type:Boolean})],Ya.prototype,"followable",void 0);Ya=ae([lr("menu-button")],Ya);q7={closeDrawer:"menuSliderClosed"},gs=class extends fi{constructor(){super(...arguments),this.menus=[],this.open=!1,this.manuallyHandleClose=!1,this.selectedMenu="",this.selectedMenuAction=Ai,this.animateMenuOpen=!1}static get styles(){return V7}updated(){let{actionButton:e}=this.selectedMenuDetails||{};e!==this.selectedMenuAction&&(this.selectedMenuAction=e||Ai)}setSelectedMenu({detail:e}){let{id:t}=e;this.selectedMenu=this.selectedMenu===t?"":t;let{actionButton:r}=this.selectedMenuDetails||{};this.selectedMenuAction=r||Ai}closeMenu(){this.manuallyHandleClose||(this.open=!1);let{closeDrawer:e}=q7,t=new CustomEvent(e,{detail:this.selectedMenuDetails});this.dispatchEvent(t)}get selectedMenuDetails(){return this.menus.find(e=>e.id===this.selectedMenu)}get selectedMenuComponent(){let e=this.selectedMenuDetails;return e&&(e!=null&&e.component)?e.component:ze``}get sliderDetailsClass(){let e=this.animateMenuOpen?"animate":"",t=this.open?"open":"";return`${e} ${t}`}get selectedMenuClass(){return this.selectedMenu?"open":""}get menuItems(){return this.menus.map(e=>ze`
        <li>
          <menu-button
            @menuTypeSelected=${this.setSelectedMenu}
            .icon=${e.icon}
            .label=${e.label}
            .menuDetails=${e.menuDetails}
            .buttonId=${e.id}
            .selected=${e.id===this.selectedMenu}
            .followable=${e.followable}
            .href=${e.href}
          ></menu-button>
        </li>
      `)}get renderMenuHeader(){let{label:e="",menuDetails:t=""}=this.selectedMenuDetails||{},r=this.selectedMenuAction?"with-secondary-action":"",s=this.selectedMenuAction?ze`<span class="custom-action">${this.selectedMenuAction}</span>`:Ai;return ze`
      <header class="${r}">
        <div class="details">
          <h3>${e}</h3>
          <span class="extra-details">${t}</span>
        </div>
        ${s} ${this.closeButton}
      </header>
    `}get closeButton(){return ze`
      <button
        class="close"
        aria-label="Close this menu"
        @click=${this.closeMenu}
      >
        <ia-icon-collapse-sidebar></ia-icon-collapse-sidebar>
      </button>
    `}render(){return ze`
      <div class="main">
        <div class="menu ${this.sliderDetailsClass}">
          ${this.closeButton}
          <ul class="menu-list">
            ${this.menuItems}
          </ul>
          <div
            class="content ${this.selectedMenuClass}"
            @menuTypeSelected=${this.setSelectedMenu}
          >
            ${this.renderMenuHeader}
            <section>
              <div class="selected-menu">${this.selectedMenuComponent}</div>
            </section>
          </div>
        </div>
      </div>
    `}};ae([Kt({type:Array})],gs.prototype,"menus",void 0);ae([Kt({type:Boolean})],gs.prototype,"open",void 0);ae([Kt({type:Boolean})],gs.prototype,"manuallyHandleClose",void 0);ae([Kt({type:String})],gs.prototype,"selectedMenu",void 0);ae([Kt({type:Object})],gs.prototype,"selectedMenuAction",void 0);ae([Kt({type:Boolean})],gs.prototype,"animateMenuOpen",void 0);gs=ae([lr("ia-menu-slider")],gs);dg=class extends fi{constructor(){super(...arguments),this.loaderMessage=""}get bookIconSvg(){return An`
      <g class="bookIcon" transform="matrix(1 0 0 -1 28 67.362264)">
        <path d="m44.71698 31.6981124v-29.99320678s-18.0956599.30735848-18.6322637-.7171698c-.0633962-.12226414-1.890566-.59207545-2.9745282-.59207545-1.3228302 0-3.5122641 0-4.1286791.74547168-.9707547 1.17452827-18.82811278.71660375-18.82811278.71660375v30.040754l1.83849052.7867924.29094339-28.48188608s15.94981097.15339622 17.09094297-1.10716978c.8145283-.90056602 4.997547-.91641507 5.3450942-.3526415.9611321 1.55716977 14.7101883 1.31716978 17.6077354 1.45981128l.3266038 28.22830118z"/>
        <path d="m40.1129424 33.5957539h-12.8337733c-1.8690565 0-3.1098112-.7545283-3.9299999-1.6279245v-26.70452764l1.2362264-.00792453c.4584906.72962262 3.0922641 1.39415091 3.0922641 1.39415091h10.1298111s1.0381131.01754717 1.5141509.47377357c.5643396.54056602.7913207 1.36981129.7913207 1.36981129z"/>
        <path d="m17.3354713 33.5957539h-12.8337733v-25.37660316s0-.75283017.49358489-1.14113205c.52867924-.41433961 1.3415094-.42849055 1.3415094-.42849055h10.59905631s2.2075471-.52698112 3.0928301-1.39415091l1.2.00792453v26.74245214c-.8201886.8581132-2.0530188 1.59-3.8932074 1.59"/>
      </g>
    `}get icon(){return this.bookIconSvg}get loader(){return An`
    <svg
      height="100"
      viewBox="0 0 100 100"
      width="100"
      xmlns="http://www.w3.org/2000/svg"
      aria-labelledby="item-loading"
    >
      <title id="item-loading">Currently loading viewer.</title>
      <desc>Please wait while we load theater.</desc>
      <g fill="#333" fill-rule="evenodd" class="book-icon">
        ${this.icon}
        <path
          class="ring"
          d="m17.8618849 11.6970233c18.5864635-15.59603144 45.6875867-15.59603102 64.2740497.000001 1.9271446 1.6170806 2.1785128 4.4902567.5614466 6.4174186-1.6170661 1.9271618-4.4902166 2.1785323-6.4173612.5614517-15.1996922-12.75416882-37.3625282-12.75416916-52.5622206-.000001-15.19969387 12.7541707-19.04823077 34.5805019-9.1273354 51.7641499 9.9208955 17.183646 30.7471499 24.7638499 49.3923323 17.9774983 18.6451823-6.7863521 29.7266014-25.9801026 26.2811129-45.5206248-.436848-2.4775114 1.2174186-4.8400696 3.6949079-5.2769215 2.4774893-.4368518 4.8400264 1.2174296 5.2768744 3.694941 4.2132065 23.8945096-9.3373563 47.3649806-32.137028 55.6634567-22.799672 8.2984758-48.2663986-.9707372-60.39785211-21.9832155-12.1314534-21.012481-7.42539173-47.7021198 11.16107351-63.2981544z"
          fill-rule="nonzero"
        />
      </g>
    </svg>
    `}render(){let e=this.loaderMessage?ze`<h2>${this.loaderMessage}</h2>`:Ai;return ze`
      <div class="place-holder">
        ${e} ${this.loader}
        <h3>Loading viewer</h3>
      </div>
    `}static get styles(){return dt`
      .place-holder {
        width: 30%;
        margin: auto;
        text-align: center;
        color: var(--primaryTextColor);
      }

      .place-holder {
        position: relative;
      }

      .place-holder svg {
        display: block;
        width: 60%;
        max-width: 100px;
        height: auto;
        margin: auto;
      }

      svg * {
        fill: var(--primaryTextColor);
      }

      svg .ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
        display: block; // transform won't work on inline style
      }

      @keyframes rotate {
        0% {
          -moz-transform: rotate(-360deg);
          -webkit-transform: rotate(-360deg);
          transform: rotate(-360deg);
        }
      }
    `}};ae([Kt({type:String})],dg.prototype,"loaderMessage",void 0);dg=ae([lr("ia-itemnav-loader")],dg);hg=class extends fi{constructor(){super(...arguments),this.identifier=""}emitLoaded(){this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:!0}}))}updated(e){e.has("identifier")&&this.emitLoaded()}get downloadUrl(){return`/download/${this.identifier}`}render(){return ze`
      <section>
        <h2>THERE IS NO PREVIEW AVAILABLE FOR THIS ITEM</h2>
        <p>
          This item does not appear to have any files that can be experienced on
          Archive.org. <br />
          Please download files in this item to interact with them on your
          computer.
        </p>
        <a href=${this.downloadUrl}>Show all files</a>
      </section>
    `}static get styles(){return dt`
      :host {
        color: var(--primaryTextColor, #fff);
        text-align: center;
      }
      section {
        width: 100%;
        margin: 5%;
        padding: 0 5%;
      }
      p {
        font-size: 1.4rem;
      }
      a {
        color: var(--primaryTextColor, #fff);
        background-color: rgb(25, 72, 128);
        min-height: 35px;
        cursor: pointer;
        line-height: normal;
        border-radius: 0.4rem;
        text-align: center;
        vertical-align: middle;
        font-size: 1.4rem;
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        display: inline-block;
        padding: 0.85rem 1.2rem;
        border: 1px solid rgb(197, 209, 223);
        white-space: nowrap;
        appearance: auto;
        box-sizing: border-box;
        user-select: none;
        text-decoration: none;
      }
    `}};ae([Kt({type:String})],hg.prototype,"identifier",void 0);hg=ae([lr("ia-no-theater-available")],hg);io=class extends fi{constructor(){super(...arguments),this.viewAvailable=!0,this.baseHost="archive.org",this.signedIn=!1,this.menuContents=[],this.menuShortcuts=[],this.viewportInFullscreen=null,this.menuOpened=!1,this.loaded=!1,this.openMenuState="shift"}disconnectedCallback(){super.disconnectedCallback(),this.removeResizeObserver()}updated(e){if(e.has("sharedObserver")){let t=e.get("sharedObserver");t==null||t.removeObserver(this.resizeObserverConfig),this.setResizeObserver()}}handleResize(e){let{width:t}=e.contentRect;if(t<=600){this.openMenuState="overlay";return}this.openMenuState="shift"}setResizeObserver(){var e,t;(e=this.sharedObserver)===null||e===void 0||e.addObserver(this.resizeObserverConfig),(t=this.sharedObserver)===null||t===void 0||t.addObserver({target:this.headerSlot,handler:{handleResize:({contentRect:r})=>{r.height&&this.requestUpdate()}}})}removeResizeObserver(){var e;(e=this.sharedObserver)===null||e===void 0||e.removeObserver(this.resizeObserverConfig)}get resizeObserverConfig(){return{handler:this,target:this.frame}}get loaderTitle(){return this.viewportInFullscreen?"Internet Archive":""}get loadingArea(){return ze`
      <div class="loading-area">
        <div class="loading-view">
          <ia-itemnav-loader
            .loaderMessage=${this.loaderTitle}
          ></ia-itemnav-loader>
        </div>
      </div>
    `}slotChange(e,t){var r;let s=(r=e.target.assignedNodes())===null||r===void 0?void 0:r[0];this.dispatchEvent(new CustomEvent("slotChange",{detail:{slot:s,type:t}})),this.requestUpdate()}render(){var e,t;let r=this.loaded?"":"hidden",s=((t=(e=this.headerSlot)===null||e===void 0?void 0:e.assignedNodes()[0])===null||t===void 0?void 0:t.offsetHeight)||0;return ze`
      <div id="frame" class=${this.menuClass}>
        <slot
          name="header"
          style=${`height: ${s}px`}
          @slotchange=${l=>this.slotChange(l,"header")}
        ></slot>
        <div class="menu-and-reader">
          ${this.shouldRenderMenu?this.renderSideMenu:Ai}
          <div id="reader" class=${r}>
            ${this.renderViewport}
          </div>
          ${this.loaded?Ai:this.loadingArea}
        </div>
      </div>
    `}get noTheaterView(){var e,t;return ze`<ia-no-theater-available
      .identifier=${(t=(e=this.item)===null||e===void 0?void 0:e.metadata)===null||t===void 0?void 0:t.identifier}
      @loadingStateUpdated=${this.loadingStateUpdated}
    ></ia-no-theater-available>`}get renderViewport(){if(!this.viewAvailable)return this.noTheaterView;let e=this.loaded?"opacity: 1;":"opacity: 0;";return ze`
      <div slot="main" style=${e}>
        <slot
          name="main"
          @slotchange=${t=>this.slotChange(t,"main")}
        ></slot>
      </div>
    `}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t!=null?t:!1}manageViewportFullscreen(e){let t=!!e.detail.isFullScreen;this.viewportInFullscreen=t||null;let r=new CustomEvent("fullscreenToggled",{detail:e.detail});this.dispatchEvent(r)}get shouldRenderMenu(){var e;return!!(!((e=this.menuContents)===null||e===void 0)&&e.length)}toggleMenu(){this.menuOpened=!this.menuOpened}closeMenu(){this.menuOpened=!1}setOpenMenu(e){let{id:t}=e.detail;this.openMenu=t!==this.openMenu?t:void 0}setMenuContents(e){let t=[...e.detail];this.menuContents=t}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}manageSideMenuEvents(e){let{menuId:t,action:r}=e.detail;t&&(r==="open"?this.openShortcut(t):r==="toggle"&&(this.openMenu=t,this.toggleMenu()))}get menuToggleButton(){return ze`
      <button
        class="toggle-menu"
        @click=${this.toggleMenu}
        title="Toggle theater side panels"
      >
        <div>
          <ia-icon-ellipses
            style="width: var(--iconWidth); height: var(--iconHeight);"
          ></ia-icon-ellipses>
        </div>
      </button>
    `}get selectedMenuId(){return this.openMenu||""}get renderSideMenu(){let e=this.menuOpened?"":"hidden";return ze`
      <nav>
        <div class="minimized">${this.shortcuts} ${this.menuToggleButton}</div>
        <div id="menu" class=${e}>
          <ia-menu-slider
            .menus=${this.menuContents}
            .selectedMenu=${this.selectedMenuId}
            @menuTypeSelected=${this.setOpenMenu}
            @menuSliderClosed=${this.closeMenu}
            manuallyHandleClose
            open
          ></ia-menu-slider>
        </div>
      </nav>
    `}openShortcut(e=""){this.openMenu=e,this.menuOpened=!0}get shortcuts(){let e=this.menuShortcuts.map(({icon:t,id:r})=>r==="fullscreen"?ze`${t}`:ze`
        <button class="shortcut ${r}" @click="${()=>this.openShortcut(r)}">
          ${t}
        </button>
      `);return ze`<div class="shortcuts">${e}</div>`}get menuClass(){var e,t;let r=((e=this.menuContents)===null||e===void 0?void 0:e.length)||((t=this.menuShortcuts)===null||t===void 0?void 0:t.length),s=this.menuOpened&&r?"open":"",l=this.viewportInFullscreen?"fullscreen":"";return`${s} ${l} ${this.openMenuState}`}static get styles(){let e=dt`var(--menuWidth, 320px)`,t=dt`var(--animationTiming, 200ms)`,r=dt`transform ${t} ease-out`,s=dt`var(--theaterMenuMargin, 42px)`,l=dt`var(--theaterBgColor, #000)`;return dt`
      :host,
      #frame,
      .menu-and-reader {
        position: relative;
        overflow: hidden;
        display: block;
      }

      :host,
      #frame,
      .loading-area,
      .loading-view {
        min-height: inherit;
        height: inherit;
      }

      slot {
        display: block;
        width: 100%;
      }

      slot * {
        display: block;
        height: inherit;
      }

      #frame {
        background-color: ${l};
        color-scheme: dark;
        display: flex;
        flex-direction: column;
      }

      #frame.fullscreen {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 9;
      }

      .loading-view {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .loading-area {
        width: 100%;
      }

      ia-itemnav-loader {
        display: block;
        width: 100%;
      }

      .hidden {
        display: none !important;
      }

      button {
        cursor: pointer;
        padding: 0;
        border: 0;
      }

      .menu-and-reader {
        position: relative;
        display: flex;
        flex: 1;
      }

      nav button {
        background: none;
      }

      nav .minimized {
        background: rgba(0, 0, 0, 0.7);
        padding-top: 6px;
        position: absolute;
        width: ${s};
        z-index: 2;
        left: 0;
        border-bottom-right-radius: 5%;
      }

      nav .minimized button {
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin-bottom: 0.2rem;
        margin: auto;
        display: inline-flex;
        vertical-align: middle;
        -webkit-box-align: center;
        align-items: center;
        -webkit-box-pack: center;
        justify-content: center;
        width: ${s};
        height: ${s};
      }

      nav .minimized button.toggle-menu > * {
        border: 2px solid var(--iconStrokeColor);
        border-radius: var(--iconWidth);
        width: var(--iconWidth);
        height: var(--iconHeight);
        margin: auto;
      }

      ia-icon-ellipses {
        width: var(--iconWidth);
        height: var(--iconHeight);
      }

      #menu {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        z-index: 3;
        overflow: hidden;
        transform: translateX(-${e});
        width: ${e};
        transform: translateX(calc(${e} * -1));
        transition: ${r};
      }

      #reader {
        position: relative;
        z-index: 1;
        transform: translateX(0);
        width: 100%;
        display: flex;
      }

      #reader > * {
        width: 100%;
        display: flex;
        flex: 1;
      }

      .open.overlay #reader {
        transition: none;
      }

      .open #menu {
        width: ${e};
        transform: translateX(0);
        transition: ${r};
      }

      .open.shift #reader {
        width: calc(100% - ${e});
        margin-left: ${e};
        transition: ${r};
      }
    `}};ae([Kt({type:Object,converter:e=>e&&typeof e=="string"?new Vf(JSON.parse(atob(e))):e})],io.prototype,"item",void 0);ae([Kt({type:Boolean,reflect:!0})],io.prototype,"viewAvailable",void 0);ae([Kt({type:String})],io.prototype,"baseHost",void 0);ae([Kt({type:Boolean})],io.prototype,"signedIn",void 0);ae([Kt({type:Array})],io.prototype,"menuContents",void 0);ae([Kt({type:Array})],io.prototype,"menuShortcuts",void 0);ae([Kt({type:Boolean,reflect:!0,attribute:!0})],io.prototype,"viewportInFullscreen",void 0);ae([Kt({type:Boolean,reflect:!0})],io.prototype,"menuOpened",void 0);ae([Kt({type:String,reflect:!0})],io.prototype,"openMenu",void 0);ae([Kt({attribute:!1})],io.prototype,"modal",void 0);ae([Kt({attribute:!1})],io.prototype,"sharedObserver",void 0);ae([Kt({type:Boolean,reflect:!0,attribute:!0})],io.prototype,"loaded",void 0);ae([dn()],io.prototype,"openMenuState",void 0);ae([on("#frame")],io.prototype,"frame",void 0);ae([on('slot[name="header"]')],io.prototype,"headerSlot",void 0);ae([on('slot[name="main"]')],io.prototype,"mainSlot",void 0);io=ae([lr("iaux-item-navigator")],io);D2=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),s=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),s.classList.add("visible"),clearTimeout(s.timeout),s.timeout=setTimeout(()=>s.classList.remove("visible"),4e3)},ZF=ze`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,da=class extends fi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:ze`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:ze`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:ze`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:ze`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:ze`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=ze`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:Ai}render(){return ze`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>ze` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${D2}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${D2}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return ze`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return dt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};ae([Kt({type:String})],da.prototype,"baseHost",void 0);ae([Kt({type:String})],da.prototype,"creator",void 0);ae([Kt({type:String})],da.prototype,"description",void 0);ae([Kt({type:Boolean})],da.prototype,"embedOptionsVisible",void 0);ae([Kt({type:String})],da.prototype,"identifier",void 0);ae([Kt({type:Array})],da.prototype,"sharingOptions",void 0);ae([Kt({type:String})],da.prototype,"type",void 0);ae([Kt({type:Boolean})],da.prototype,"renderHeader",void 0);ae([Kt({type:String})],da.prototype,"fileSubPrefix",void 0);da=ae([lr("iaux-in-share-panel")],da);G7=ze`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,Y7=ze`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,K7=ze`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,iz=ze`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,Du=class extends fi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return ze`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:ze`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${K7}
        </button>
      `,title_asc:ze`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${G7}
        </button>
      `,title_desc:ze`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${Y7}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,s)=>e==="title_asc"?r.title.localeCompare(s.title):e==="title_desc"?s.title.localeCompare(r.title):r.orig_sort-s.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return dt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};ae([Kt({type:Array})],Du.prototype,"fileListRaw",void 0);ae([Kt({type:Array})],Du.prototype,"fileListSorted",void 0);ae([Kt({type:String,reflect:!0})],Du.prototype,"sortOrderBy",void 0);Du=ae([lr("iaux-in-sort-files-button")],Du);sl=class extends fi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return ze`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return ze`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",s=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return ze`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${s}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:Ai}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=La(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return ze`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return ze` ${this.fileList.length?this.fileListTemplate:Ai} `}static get styles(){return dt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};ae([Kt({type:String})],sl.prototype,"baseHost",void 0);ae([Kt({type:String})],sl.prototype,"sortOrderBy",void 0);ae([Kt({type:String})],sl.prototype,"subPrefix",void 0);ae([Kt({type:Array})],sl.prototype,"fileList",void 0);ae([Kt({type:Boolean,reflect:!0})],sl.prototype,"addSortToUrl",void 0);sl=ae([lr("iaux-in-viewable-files-panel")],sl)});var X7,Z7,ju=si(()=>{xi();X7=Object.freeze({processing:"processing",complete:"complete"}),Z7=class extends fi{static get properties(){return{mode:{type:String}}}constructor(){super(),this.mode=X7.processing}render(){return ze`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=dt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=dt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=dt`var(--activityIndicatorLoadingRingColor, #333333)`,s=dt`var(--activityIndicatorLoadingDotColor, #333333)`;return dt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${s};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};window.customElements.define("ia-activity-indicator",Z7)});var J7,j2,N2,B2=si(()=>{xi();xi();J7=ze`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="closeTitleID closeDescID"
>
  <title id="closeTitleID">Close icon</title>
  <desc id="closeDescID">A line drawing of an X</desc>
  <path d="m29.1923882 10.8076118c.5857864.5857865.5857864 1.535534 0 2.1213204l-7.0711162 7.0703398 7.0711162 7.0717958c.5857864.5857864.5857864 1.5355339 0 2.1213204-.5857865.5857864-1.535534.5857864-2.1213204 0l-7.0717958-7.0711162-7.0703398 7.0711162c-.5857864.5857864-1.5355339.5857864-2.1213204 0-.5857864-.5857865-.5857864-1.535534 0-2.1213204l7.0706602-7.0717958-7.0706602-7.0703398c-.5857864-.5857864-.5857864-1.5355339 0-2.1213204.5857865-.5857864 1.535534-.5857864 2.1213204 0l7.0703398 7.0706602 7.0717958-7.0706602c.5857864-.5857864 1.5355339-.5857864 2.1213204 0z" class="fill-color" fill-rule="evenodd"/>
</svg>
`,j2=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return J7}};customElements.define("ia-icon-close",j2);N2=j2});var Q7,H2,F2,z2=si(()=>{xi();xi();Q7=ze`
<svg
  class="ia-logo"
  viewBox="0 0 27 30"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="logoTitleID logoDescID"
>
  <title id="logoTitleID">Internet Archive logo</title>
  <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <mask id="mask-2" class="fill-color">
      <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
    </mask>
    <use class="fill-color" xlink:href="#path-1"></use>
    <g mask="url(#mask-2)" class="fill-color">
      <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
    </g>
  </g>
</svg>
`,H2=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return Q7}};customElements.define("ia-icon-ia-logo",H2);F2=H2});var mg,fg,ll,eC,yc,bc=si(()=>{vr();xi();Nr();vr();xi();Nr();ju();B2();z2();zc();mg=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}},fg=class extends fi{constructor(){super(...arguments),this.config=new mg}render(){return ze`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?ze`<div class="logo-icon">${F2}</div>`:Ai}
            ${this.config.title?ze`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?ze`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?ze` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?ze` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(){let e=new Event("closeButtonPressed");this.dispatchEvent(e)}get closeButtonTemplate(){return ze`
      <button
        type="button"
        class="close-button"
        tabindex="0"
        @click=${this.handleCloseButton}
      >
        ${N2}
      </button>
    `}static get styles(){let e=dt`var(--modalLogoSize, 6.5rem)`,t=dt`var(--processingImageSize, 7.5rem)`,r=dt`var(--modalCornerRadius, 1rem)`,s=dt`var(--modalBorder, 2px solid black)`,l=dt`var(--modalBottomMargin, 2.5rem)`,o=dt`var(--modalTopMargin, 5rem)`,c=dt`var(--modalHeaderBottomPadding, 0.5em)`,n=dt`var(--modalBottomPadding, 2rem)`,u=dt`var(--modalScrollOffset, 5px)`,h=dt`var(--modalTitleFontSize, 1.8rem)`,g=dt`var(--modalSubtitleFontSize, 1.4rem)`,m=dt`var(--modalHeadlineFontSize, 1.6rem)`,y=dt`var(--modalMessageFontSize, 1.4rem)`,_=dt`var(--modalTitleLineHeight, normal)`,w=dt`var(--modalSubtitleLineHeight, normal)`,k=dt`var(--modalHeadlineLineHeight, normal)`,A=dt`var(--modalMessageLineHeight, normal)`;return dt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${h};
        font-weight: bold;
        line-height: ${_};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};ae([Kt({type:Object})],fg.prototype,"config",void 0);fg=ae([lr("modal-template")],fg);(function(e){e.Open="open",e.Closed="closed"})(ll||(ll={}));eC=class{constructor(e){this.windowResizeThrottler=Fl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case ll.Open:this.startResizeListener(),this.stopDocumentScroll();break;case ll.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},yc=class extends fi{constructor(){super(...arguments),this.mode=ll.Closed,this.hostBridge=new eC(this),this.closeOnBackdropClick=!0}render(){return ze`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="0"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=ll.Closed}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Mo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=ll.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=dt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=dt`var(--modalBackdropZindex, 1000)`,r=dt`var(--modalWidth, 32rem)`,s=dt`var(--modalMaxWidth, 95%)`,l=dt`var(--modalZindex, 2000)`;return dt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};ae([Kt({type:String,reflect:!0})],yc.prototype,"mode",void 0);ae([Kt({type:Object})],yc.prototype,"customModalContent",void 0);ae([Kt({type:Object})],yc.prototype,"hostBridge",void 0);ae([on("modal-template")],yc.prototype,"modalTemplate",void 0);yc=ae([lr("modal-manager")],yc)});var tC,iC,gg=si(()=>{xi();xi();tC=ze`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="downloadTitleID downloadDescID"
>
  <title id="downloadTitleID">Download icon</title>
  <desc id="downloadDescID">An arrow pointing downward at an empty document tray</desc>
  <g class="fill-color">

    <path d="m50 80 33.3333333-43.3333333h-20v-36.6666667h-26.6666666v36.6666667h-20zm50 20v-13.3333333h-100v13.3333333z"/>
  </g>
</svg>
`,iC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return tC}};customElements.define("ia-icon-dl",iC)});var U2,V2,ha,wh=si(()=>{vr();xi();Nr();Vm();Wm();qm();Gm();Ym();Km();Xm();U2=e=>{let t=e.currentTarget,r=t.querySelector("textarea"),s=t.querySelector("small");r.select(),document.execCommand("copy"),r.blur(),s.classList.add("visible"),clearTimeout(s.timeout),s.timeout=setTimeout(()=>s.classList.remove("visible"),4e3)},V2=ze`<ia-icon-share
  style="width: var(--iconWidth); height: var(--iconHeight);"
></ia-icon-share>`,ha=class extends fi{constructor(){super(...arguments),this.baseHost="archive.org",this.creator="",this.description="",this.embedOptionsVisible=!1,this.identifier="",this.sharingOptions=[],this.type="",this.renderHeader=!1,this.fileSubPrefix=""}updated(e){e.has("sharingOptions")&&!this.sharingOptions.length&&this.loadProviders()}loadProviders(){let e=`https://${this.baseHost}/details/${this.identifier}`;this.fileSubPrefix&&(e+=`/${this.fileSubPrefix}`);let t=[this.description,this.creator,"Free Download, Borrow, and Streaming","Internet Archive"].filter(Boolean).join(" : ");this.sharingOptions=[{name:"Twitter",icon:ze`<ia-icon-twitter></ia-icon-twitter>`,url:`https://twitter.com/intent/tweet?${new URLSearchParams({url:e,text:t,via:"internetarchive"})}`},{name:"Facebook",icon:ze`<ia-icon-facebook></ia-icon-facebook>`,url:`https://www.facebook.com/sharer/sharer.php?${new URLSearchParams({u:e})}`},{name:"Tumblr",icon:ze`<ia-icon-tumblr></ia-icon-tumblr>`,url:`https://www.tumblr.com/widgets/share/tool/preview?${new URLSearchParams({posttype:"link",canonicalUrl:e,title:t})}`},{name:"Pinterest",icon:ze`<ia-icon-pinterest></ia-icon-pinterest>`,url:`http://www.pinterest.com/pin/create/button/?${new URLSearchParams({url:e,description:t})}`},{name:"Email",icon:ze`<ia-icon-email></ia-icon-email>`,url:`mailto:?${new URLSearchParams({subject:t,body:e})}`}]}get iframeEmbed(){return`<iframe
      src="https://${this.baseHost}/embed/${this.identifier}"
      width="560" height="384" frameborder="0"
      webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen
    ></iframe>`}get bbcodeEmbed(){return`[archiveorg ${this.identifier} width=560 height=384 frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`}get helpURL(){return`https://${this.baseHost}/help/audio.php?identifier=${this.identifier}`}get header(){let e=ze`<header><h3>Share this ${this.type}</h3></header>`;return this.renderHeader?e:Ai}render(){return ze`
      ${this.header}
      <main>
        ${this.sharingOptions.map(e=>ze` <a class="share-option" href="${e.url}" target="_blank">
              ${e.icon} ${e.name}
            </a>`)}
        <details>
          <summary class="share-option">
            <ia-icon-link></ia-icon-link>
            Get an embeddable link
          </summary>
          <div class="embed">
            <h4>Embed</h4>
            <div class="code" @click=${U2}>
              <textarea readonly>${this.iframeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <h4>
              Embed for wordpress.com hosted blogs and archive.org item
              &lt;description&gt; tags
            </h4>
            <div class="code" @click=${U2}>
              <textarea readonly>${this.bbcodeEmbed}</textarea>
              <small>Copied to clipboard</small>
            </div>
            <p>
              Want more?
              <a href=${this.helpURL}
                >Advanced embedding details, examples, and help</a
              >!
            </p>
          </div>
        </details>
      </main>
    `}get providerIcon(){return ze`<ia-icon-share
      style="width: var(--iconWidth); height: var(--iconHeight);"
    ></ia-icon-share>`}static get styles(){return dt`
      :host {
        display: block;
        height: 100%;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      header {
        display: flex;
        align-items: baseline;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.6rem;
      }

      h4 {
        font-size: 1.4rem;
      }

      main {
        padding: 1rem 0;
      }

      .share-option {
        display: block;
        padding: 0.5rem 0;
        font-size: 1.6rem;
        text-decoration: none;
        color: var(--shareLinkColor);
        cursor: pointer;
      }

      .share-option > * {
        display: inline-block;
        padding: 0.2rem;
        margin-right: 1rem;
        vertical-align: middle;
        border: 1px solid var(--shareIconBorder);
        border-radius: 7px;
        background: var(--shareIconBg);
      }

      /* Hide the triangle that appears on details tags */
      summary::marker {
        content: '';
      }

      summary::-webkit-details-marker {
        display: none;
      }

      .embed {
        padding-right: 5px;
      }

      .embed a {
        color: var(--shareLinkColor);
      }

      .code {
        position: relative;
      }

      textarea {
        display: block;
        width: 100%;
        height: 120px;
        padding: 0.8rem 1rem;
        box-sizing: border-box;
        resize: none;
        cursor: pointer;
        font:
          normal 1.4rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaColor, #fff);
        background: var(--textareaBg, #151515);
      }

      small {
        position: absolute;
        bottom: 0;
        left: 0;
        height: 3rem;
        padding: 0.5rem 1rem;
        box-sizing: border-box;
        font:
          normal 1.2rem/2rem 'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif;
        color: var(--textareaBg, #151515);
        background: var(--textareaColor, #fff);
        opacity: 0;
        transition: opacity 300ms linear;
      }
      small.visible {
        opacity: 1;
      }
    `}};ae([Kt({type:String})],ha.prototype,"baseHost",void 0);ae([Kt({type:String})],ha.prototype,"creator",void 0);ae([Kt({type:String})],ha.prototype,"description",void 0);ae([Kt({type:Boolean})],ha.prototype,"embedOptionsVisible",void 0);ae([Kt({type:String})],ha.prototype,"identifier",void 0);ae([Kt({type:Array})],ha.prototype,"sharingOptions",void 0);ae([Kt({type:String})],ha.prototype,"type",void 0);ae([Kt({type:Boolean})],ha.prototype,"renderHeader",void 0);ae([Kt({type:String})],ha.prototype,"fileSubPrefix",void 0);ha=ae([lr("iaux-in-share-panel")],ha)});var rC,nC,vg=si(()=>{xi();xi();rC=ze`
<svg
  viewBox="0 0 24 24"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="visualAdjustmentTitleID visualAdjustmentDescID"
>
  <title id="visualAdjustmentTitleID">Visual adjustment</title>
  <desc id="visualAdjustmentDescID">A circle with its left hemisphere filled</desc>
  <path class="fill-color" d="m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2v20l.2664041-.0034797c5.399703-.1412166 9.7335959-4.562751 9.7335959-9.9965203 0-5.5228475-4.4771525-10-10-10z" fill-rule="evenodd" />
</svg>
`,nC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return rC}};customElements.define("ia-icon-visual-adjustment",nC)});var oC,yg=si(()=>{xi();oC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      #hollow,
      #plus,
      #minus {
        display: none;
      }

      .hollow #filled,
      .plus #filled,
      .minus #filled {
        display: none;
      }

      .hollow #hollow,
      .plus #hollow,
      .minus #hollow {
        display: block;
      }

      .plus #plus {
        display: block;
      }

      .minus #minus {
        display: block;
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}static get properties(){return{state:{type:String}}}render(){return ze`
      <div class=${this.state}>
        <svg
          height="24"
          viewBox="0 0 16 24"
          width="16"
          xmlns="http://www.w3.org/2000/svg"
          aria-labelledby="bookmarkTitleID bookmarDescID"
        >
          <title id="bookmarkTitleID">Bookmark icon</title>
          <desc id="bookmarkDescID">An outline of the shape of a bookmark</desc>
          <path
            id="filled"
            d="m1 0h14c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1z"
            class="fill-color"
            fill-rule="evenodd"
          />
          <g class="fill-color" fill-rule="evenodd">
            <path
              id="hollow"
              d="m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z"
            />
            <path
              id="plus"
              d="m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z"
              fill-rule="nonzero"
            />
            <path id="minus" d="m11 8.25v1.5h-6v-1.5z" fill-rule="nonzero" />
          </g>
        </svg>
      </div>
    `}};window.customElements.define("icon-bookmark",oC)});var aC,sC,lC,W2,Nu,cl,xh=si(()=>{vr();xi();Nr();al();aC=ze`
  <svg
    name="sort-asc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
        transform="matrix(1 0 0 -1 0 18.692308)"
      />
    </g>
  </svg>
`,sC=ze`
  <svg
    name="sort-desc"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="none" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill="#fff"
        fill-rule="nonzero"
      />
      <path
        d="m10.3846154 11.0769231 2.7692308 5.5384615 2.7692307-5.5384615m-2.7692307 4.1538461v-13.15384612"
        stroke="#fff"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="1.661538"
      />
    </g>
  </svg>
`,lC=ze`
  <svg
    name="sort-neutral"
    height="18"
    viewBox="0 0 18 18"
    width="18"
    xmlns="http://www.w3.org/2000/svg"
  >
    <g fill="#fff" fill-rule="evenodd">
      <path
        d="m2.32514544 8.30769231.7756949-2.08468003h2.92824822l.75630252 2.08468003h1.01809955l-2.70523594-6.92307693h-1.01809955l-2.69553976 6.92307693zm3.41305753-2.86037492h-2.34647705l1.17323853-3.22883h.01939237z"
        fill-rule="nonzero"
      />
      <path
        d="m7.1689722 16.6153846v-.7756949h-4.4117647l4.29541047-5.3716871v-.77569491h-5.06140918v.77569491h3.97543633l-4.30510666 5.3716871v.7756949z"
        fill-rule="nonzero"
      />
      <circle cx="13" cy="9" r="2" />
    </g>
  </svg>
`,W2=ze`
  <svg
    height="24"
    viewBox="0 0 24 24"
    width="24"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="volumesTitleID volumesDescID"
  >
    <title id="volumesTitleID">Viewable Files</title>
    <g fill="#ffffff">
      <path
        fill="#ffffff"
        d="m9.83536396 0h10.07241114c.1725502.47117517.3378411.76385809.4958725.87804878.1295523.11419069.3199719.1998337.5712586.25692905.2512868.05709534.4704647.08564301.6575337.08564301h.2806036v15.24362526h-4.3355343v3.8106985h-4.44275v3.7250554h-12.01318261c-.27306495 0-.50313194-.085643-.69020098-.256929-.18706903-.1712861-.30936193-.3425721-.36687867-.5138581l-.06449694-.2785477v-14.2159091c0-.32815965.08627512-.5922949.25882537-.79240577.17255024-.20011086.34510049-.32150776.51765073-.36419068l.25882537-.0640244h3.36472977v-2.54767184c0-.31374722.08627513-.57067627.25882537-.77078714.17255025-.20011086.34510049-.32150776.51765074-.36419068l.25882536-.06402439h3.36472978v-2.56929047c0-.32815964.08627512-.5922949.25882537-.79240576.17255024-.20011087.34510049-.31430156.51765073-.34257207zm10.78355264 15.6294346v-13.53076498c-.2730649-.08536585-.4456152-.16380266-.5176507-.23531042-.1725502-.1424612-.2730649-.27078714-.3015441-.38497783v13.36031043h-9.87808272c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144124-.08962561.006929-.13988296.0640244-.05025735.0570953-.07538603.1427383-.07538603.256929s.02149898.210643.06449694.289357c.04299795.078714.08599591.1322062.12899387.1604767l.06449693.0216187h10.71905571zm-10.2449613-2.4412417h7.98003v-11.60421286h-7.98003zm1.6827837-9.41990022h4.6153002c.1725502 0 .3199718.05349224.4422647.16047672s.1834393.23891353.1834393.39578714c0 .15687362-.0611464.28519956-.1834393.38497783s-.2697145.1496674-.4422647.1496674h-4.6153002c-.1725503 0-.3199719-.04988913-.4422647-.1496674-.1222929-.09977827-.1834394-.22810421-.1834394-.38497783 0-.15687361.0611465-.28880266.1834394-.39578714.1222928-.10698448.2697144-.16047672.4422647-.16047672zm-6.08197737 13.50997782h7.72120467v-.8131929h-3.79610541c-.27306495 0-.49950224-.085643-.67931188-.256929-.17980964-.1712861-.29847284-.3425721-.35598958-.5138581l-.06449694-.2785477v-10.02023282h-2.82530086zm6.77217827-11.36890243h3.2139578c.1295522 0 .240956.05709534.3342113.17128603.0932554.11419069.139883.24972284.139883.40659645 0 .15687362-.0466276.28880267-.139883.39578714-.0932553.10698448-.2046591.16047672-.3342113.16047672h-3.2139578c-.1295523 0-.2373264-.05349224-.3233223-.16047672-.0859959-.10698447-.1289938-.23891352-.1289938-.39578714 0-.15687361.0429979-.29240576.1289938-.40659645s.19377-.17128603.3233223-.17128603zm-11.15043132 15.11557653h7.69942646v-.7491685h-3.79610539c-.25854616 0-.48135376-.0892462-.66842279-.2677384-.18706904-.1784922-.30936193-.3605876-.36687868-.546286l-.06449694-.2569291v-10.04101994h-2.80352266zm14.62237682-4.5606985h-.8191949v2.1410754h-9.89986085s-.04299796.0285477-.12899387.085643c-.08599592.0570954-.12201369.1427384-.10805331.2569291 0 .1141907.01786928.210643.05360784.289357.03573856.0787139.07538603.125.1189424.138858l.06449694.0432373h10.71905575v-2.9542683zm-4.3991936 3.8106985h-.8191949v2.077051h-9.8563045c0 .0144124-.02149898.0144124-.06449694 0-.04299795-.0144125-.08962561.0105321-.13988296.0748337-.05025735.0643015-.07538603.1607538-.07538603.289357 0 .1141906.02149898.2070399.06449694.2785476.04299795.0715078.08599591.1141907.12899387.1280488l.06449693.0216186h10.69811519v-2.8686252z"
      />
    </g>
  </svg>
`,Nu=class extends fi{constructor(){super(...arguments),this.fileListRaw=[],this.fileListSorted=[],this.sortOrderBy="default"}render(){return ze`<div class="sort-multi-file-list">${this.sortButton}</div>`}get sortButton(){return{default:ze`
        <button
          class="sort-by neutral-icon"
          aria-label="Sort volumes in initial order"
          @click=${()=>this.sortVolumes("title_asc")}
        >
          ${lC}
        </button>
      `,title_asc:ze`
        <button
          class="sort-by asc-icon"
          aria-label="Sort volumes in ascending order"
          @click=${()=>this.sortVolumes("title_desc")}
        >
          ${aC}
        </button>
      `,title_desc:ze`
        <button
          class="sort-by desc-icon"
          aria-label="Sort volumes in descending order"
          @click=${()=>this.sortVolumes("default")}
        >
          ${sC}
        </button>
      `}[this.sortOrderBy]}sortVolumes(e){this.sortOrderBy=e;let t=[];t=this.fileListRaw.sort((r,s)=>e==="title_asc"?r.title.localeCompare(s.title):e==="title_desc"?s.title.localeCompare(r.title):r.orig_sort-s.orig_sort),this.dispatchEvent(new CustomEvent("fileListSorted",{detail:{sortType:e,sortedFiles:t},bubbles:!0,composed:!0})),this.fileListSorted=t}static get styles(){return dt`
      button.sort-by {
        padding: 0px;
        background-color: transparent;
        border: 0px;
        --iconWidth: var(--menuSliderHeaderIconWidth);
        --iconHeight: var(--menuSliderHeaderIconHeight);
      }
    `}};ae([Kt({type:Array})],Nu.prototype,"fileListRaw",void 0);ae([Kt({type:Array})],Nu.prototype,"fileListSorted",void 0);ae([Kt({type:String,reflect:!0})],Nu.prototype,"sortOrderBy",void 0);Nu=ae([lr("iaux-in-sort-files-button")],Nu);cl=class extends fi{constructor(){super(...arguments),this.baseHost="archive.org",this.sortOrderBy="default",this.subPrefix="",this.fileList=[],this.addSortToUrl=!1}firstUpdated(){let e=this.shadowRoot.querySelector(".content.active");setTimeout(()=>{e!=null&&e.scrollIntoViewIfNeeded?e==null||e.scrollIntoViewIfNeeded(!0):e==null||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},350)}volumeItemWithImageTitle(e){let t=this.fileUrl(e);return ze`
      <li class="content active">
        <div class="separator"></div>
        <a class="container" href="${t}">
          <div class="image">
            <img src="${e.image}" alt="preview" />
          </div>
          <div class="text">
            <p class="item-title">${e.title}</p>
            <small>by: ${e.author}</small>
          </div>
        </a>
      </li>
    `}fileUrl(e){let t=`//${this.baseHost}${e.url_path}`,r=t;return this.addSortToUrl&&(r=this.sortOrderBy==="default"?`${t}`:`${t}?sort=${this.sortOrderBy}`),r}get pdfLabel(){return ze`<span class="pdf-label"
      ><span class="sr-only">view this</span> PDF</span
    >`}fileLi(e){var t;let r=this.subPrefix===e.file_subprefix?" active":"",s=this.fileUrl(e),l=((t=e.file_source)!==null&&t!==void 0?t:"").match(/^[^+]+\.pdf$/i);return ze`
      <li>
        <div class="separator"></div>
        <div class="content${r}">
          <a href=${s}>
            <p class="item-title">
              ${e.title}${l?this.pdfLabel:Ai}
            </p>
          </a>
        </div>
      </li>
    `}get fileListTemplate(){let e=La(this.fileList,t=>t==null?void 0:t.file_prefix,this.fileLi.bind(this));return ze`
      <ul>
        ${e}
        <div class="separator"></div>
      </ul>
    `}render(){return ze` ${this.fileList.length?this.fileListTemplate:Ai} `}static get styles(){return dt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-top: 14px;
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      a {
        color: #ffffff;
        text-decoration: none;
      }

      img {
        width: 35px;
        height: 45px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }

      ul > li:first-child .separator {
        display: none;
      }

      li {
        cursor: pointer;
        position: relative;
      }

      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: 0.2rem 0 0.4rem 0.2rem;
      }

      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }

      li.content a {
        display: flex;
      }

      small {
        font-style: italic;
        white-space: initial;
      }

      .container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .item-title {
        margin-block-start: 0em;
        margin-block-end: 0em;
        font-size: 14px;
        font-weight: bold;
        word-wrap: break-word;
        padding-left: 5px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      .text {
        padding-left: 10px;
      }

      .icon {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: 0.7rem;
        border: 1px solid var(--primaryTextColor);
        border-radius: 2px;
        background: var(--activeButtonBg) 50% 50% no-repeat;
      }

      .pdf-label {
        border: 1px solid;
        padding: 2px 5px;
        border-radius: 20px;
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9rem;
      }

      .pdf-label .sr-only {
        position: absolute;
        clip: rect(1px, 1px, 1px, 1px);
        padding: 0;
        border: 0;
        height: 1px;
        width: 1px;
        overflow: hidden;
      }
    `}};ae([Kt({type:String})],cl.prototype,"baseHost",void 0);ae([Kt({type:String})],cl.prototype,"sortOrderBy",void 0);ae([Kt({type:String})],cl.prototype,"subPrefix",void 0);ae([Kt({type:Array})],cl.prototype,"fileList",void 0);ae([Kt({type:Boolean,reflect:!0})],cl.prototype,"addSortToUrl",void 0);cl=ae([lr("iaux-in-viewable-files-panel")],cl)});var cC,uC,bg=si(()=>{xi();xi();cC=ze`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="searchTitleID searchDescID"
>
  <title id="searchTitleID">Search icon</title>
  <desc id="searchDescID">Search for something.</desc>
  <path
    class="fill-color"
    fill="none"
    d="m17.0555551 41.3194459c0-12.7430552 10.3541664-23.1027772 23.0847216-23.1027772 12.7166664 0 23.0777773 10.359722 23.0777773 23.1027772 0 12.7361108-10.3611109 23.0986106-23.0777773 23.0986106-12.7305552 0-23.0847216-10.3624998-23.0847216-23.0986106zm-17.24305512 0c0 22.2916661 18.04583292 40.3472213 40.32777672 40.3472213 8.9208332 0 17.145833-2.9319449 23.8194439-7.8527776l24.1513883 24.0777771c1.2125 1.1402778 2.8430555 1.8430556 4.6374999 1.8430556 3.7444443 0 6.7805554-3.0361111 6.7805554-6.7791665 0-2.0652778-.9222222-3.9069444-2.3736111-5.1499999l-23.718055-23.7458328c4.4152777-6.4791665 7.0152776-14.3055552 7.0152776-22.7402772 0-22.2791661-18.0458328-40.34861006-40.312499-40.34861006-22.2819438 0-40.32777672 18.06944396-40.32777672 40.34861006z" />
</svg>
`,uC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return cC}};customElements.define("ia-icon-search",uC)});var dC,hC,wg=si(()=>{xi();xi();dC=ze`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-minusTitleID magnify-minusDescID"
>
  <title id="magnify-minusTitleID">Zoom out</title>
  <desc id="magnify-minusDescID">Take a look further.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.3239824 87.3815869 25.8938394-23.8143095c-4.5929593-6.6937643-6.889439-14.1059452-6.889439-22.2365428 0-7.1360431 1.7567382-13.7186647 5.2702146-19.7478649 3.5134763-6.0292002 8.2852035-10.8003118 14.3151815-14.31333499 6.029978-3.51302314 12.6134488-5.26953471 19.7504125-5.26953471s13.7204346 1.75651157 19.7504126 5.26953471c6.029978 3.51302319 10.8017051 8.28413479 14.3151815 14.31333499 3.5134763 6.0292002 5.2702145 12.6118218 5.2702145 19.7478649s-1.7567382 13.7324143-5.2702145 19.7891137c-3.5134764 6.0566994-8.2852035 10.8415607-14.3151815 14.3545838-6.029978 3.5130232-12.6134489 5.2695347-19.7504126 5.2695347-8.5762743 0-16.3217363-2.5723212-23.2363861-7.7169637l-26.3063807 24.2302349c-1.27200216 1.1618413-2.76631826 1.742762-4.48294825 1.742762-1.826641 0-3.38971397-.6496687-4.68921892-1.949006s-1.94925743-2.8622087-1.94925743-4.688614c0-1.9364022.7746608-3.5955208 2.3239824-4.9773557zm58.3436469-19.9162976c7.1919692 0 13.3331041-2.5585716 18.4234048-7.6757149s7.635451-11.2712357 7.635451-18.4622772-2.5451503-13.3313843-7.635451-18.4210284-11.2314356-7.6344661-18.4234048-7.6344661-13.3331042 2.544822-18.4234049 7.6344661-7.635451 11.2299869-7.635451 18.4210284 2.5451503 13.3451339 7.635451 18.4622772 11.2314357 7.6757149 18.4234049 7.6757149zm-14.9374313-21.3256316h31.2878163v-9.5422233h-31.2878163z"/>
  </g>
</svg>
`,hC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return dC}};customElements.define("ia-icon-magnify-minus",hC)});var pC,fC,xg=si(()=>{xi();xi();pC=ze`
<svg
  viewBox="0 0 100 100"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="magnify-plusTitleID magnify-plusDescID"
>
  <title id="magnify-plusTitleID">Zoom in</title>
  <desc id="magnify-plusDescID">Take a look closer.</desc>
  <g
    class="fill-color"
    fill="none"
    fill-rule="nonzero"
  >
    <path d="m2.40305276 87.4017263 25.81133064-23.7730295c-4.5356618-6.5723551-6.8034928-14.000283-6.8034928-22.2837838 0-7.1236734 1.7429868-13.6948847 5.2289603-19.7136338 3.4859736-6.0187491 8.2577006-10.7953163 14.3151813-14.32970144 6.0574806-3.53438517 12.6547027-5.30157776 19.7916662-5.30157776 10.8429591 0 20.0964884 3.85236545 27.760588 11.5570964 7.6640996 7.7047309 11.4950036 16.9684802 11.4927136 27.791248 0 10.8799585-3.8309059 20.1574336-11.4927136 27.8324254-7.6618077 7.6749917-16.915337 11.5124876-27.760588 11.5124876-8.6312796 0-16.431747-2.5678624-23.4014021-7.7035871l-26.1413636 24.188234c-1.21699671 1.2147305-2.73881553 1.8220957-4.56545649 1.8220957s-3.3897139-.6485425-4.68921882-1.9456276c-1.29950493-1.297085-1.94925739-2.8572473-1.94925739-4.6804867 0-1.8781426.80216353-3.5343852 2.4064906-4.9687279zm58.34020784-19.878343c7.1369635 0 13.264347-2.5678623 18.3821503-7.7035871 5.1178034-5.1357247 7.676705-11.2928753 7.676705-18.4714518s-2.5589016-13.3082755-7.676705-18.3890972c-5.1178033-5.0808217-11.2451868-7.6212325-18.3821503-7.6212325-7.2469746 0-13.4156121 2.5404108-18.5059127 7.6212325s-7.6354509 11.2105207-7.6354509 18.3890972 2.5589016 13.3357271 7.676705 18.4714518c5.1178033 5.1357248 11.2726895 7.7035871 18.4646586 7.7035871zm-13.3594607-21.8685793h10.206958v10.1879511h7.2194718v-10.1879511h10.206958v-7.206028h-10.206958v-10.187951h-7.2194718v10.187951h-10.206958z"/>
  </g>
</svg>
`,fC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return pC}};customElements.define("ia-icon-magnify-plus",fC)});var mC,gC,_g=si(()=>{xi();xi();mC=ze`
<svg height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg" aria-labelledby="editPencilTitleID editPencilDescID"><title id="editPencilTitleID">Pencil icon</title><desc id="editPencilDescID">An illustration of a pencil, used to represent an edit action</desc><path class="fill-color" d="m15.6111048 9.3708338-9.52237183 9.5222966-5.14363353 1.0897111c-.42296707.0896082-.83849202-.1806298-.92810097-.6035935-.02266463-.1069795-.02266463-.2175207 0-.3245001l1.08971974-5.1435929 9.52237189-9.52229656zm-10.89310224 5.9110366-2.78094924-.5403869-.67567462 3.166657.83033407.8303275 3.16668096-.6756703zm14.82724244-12.05935921c.6114418.61143705.6055516 1.6086709-.0131615 2.22737904l-2.2405581 2.24054036-4.9820147-4.98197536 2.2405581-2.24054036c.618713-.61870814 1.6159506-.62460252 2.2273925-.01316547z" fill-rule="evenodd"/></svg>
`,gC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return mC}};customElements.define("ia-icon-edit-pencil",gC)});function Y2(e,t){return e.sort((r,s)=>{let l=t?t(r):r,o=t?t(s):s;return l<o?-1:l>o?1:0})}var K2,q2,Bu,vC,Zn,yC,bC,G2,wC,xC,kg,Sg,_C,kC,SC,AC,CC,EC,TC,PC,Z2,$C,LC,MC,OC,_h,IC,RC,kh,DC,Q2,ex=si(()=>{xi();pg();Hs();bc();xi();xi();bg();ds();xi();ju();xi();xi();xi();xi();gg();xi();xi();vg();xi();al();xi();wg();xg();xi();xi();xi();xi();bc();xi();al();xi();xi();al();xi();_g();yg();xi();wh();wh();xi();xh();xh();xi();bc();bc();Hs();K2=dt`data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEwIiB2aWV3Qm94PSIwIDAgMTMgMTAiIHdpZHRoPSIxMyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNC4zMzMzMzMzMyAxMC00LjMzMzMzMzMzLTQuMTY2NjY2NjcgMS43MzMzMzMzMy0xLjY2NjY2NjY2IDIuNiAyLjUgNi45MzMzMzMzNy02LjY2NjY2NjY3IDEuNzMzMzMzMyAxLjY2NjY2NjY3eiIgZmlsbD0iI2ZmZiIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+`,q2=dt`data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNDAgNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgYXJpYS1sYWJlbGxlZGJ5PSJjbG9zZVRpdGxlSUQgY2xvc2VEZXNjSUQiPjxwYXRoIGQ9Ik0yOS4xOTIgMTAuODA4YTEuNSAxLjUgMCAwMTAgMi4xMkwyMi4xMjIgMjBsNy4wNyA3LjA3MmExLjUgMS41IDAgMDEtMi4xMiAyLjEyMWwtNy4wNzMtNy4wNy03LjA3IDcuMDdhMS41IDEuNSAwIDAxLTIuMTIxLTIuMTJsNy4wNy03LjA3My03LjA3LTcuMDdhMS41IDEuNSAwIDAxMi4xMi0yLjEyMUwyMCAxNy44NzhsNy4wNzItNy4wN2ExLjUgMS41IDAgMDEyLjEyMSAweiIgY2xhc3M9ImZpbGwtY29sb3IiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==`,Bu=dt`
  .ia-button {
    min-height: 3rem;
    border: none;
    outline: none;
    cursor: pointer;
    color: var(--primaryTextColor);
    line-height: normal;
    border-radius: .4rem;
    text-align: center;
    vertical-align: middle;
    font-size: 1.4rem;
    font-family: inherit;
    display: inline-block;
    padding: .6rem 1.2rem;
    border: 1px solid transparent;

    white-space: nowrap;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
    user-select: none;
  }

  .ia-button.link,
  .ia-button.external {
    min-height: unset;
    text-decoration: none;
  }

  .ia-button:disabled,
  .ia-button.disabled {
    cursor: not-allowed;
    opacity: 0.5;
  }

  .ia-button.transparent {
    background-color: transparent;
  }
  
  .ia-button.slim {
    padding: 0;
  }

  .ia-button.primary {
    background-color: var(--primaryCTAFill);
    border-color: var(--primaryCTABorder);
  }

  .ia-button.cancel {
    background-color: var(--primaryErrorCTAFill);
    border-color: var(--primaryErrorCTABorder);
  }

  .ia-button.external {
    background: var(--secondaryCTAFill);
    border-color: var(--secondaryCTABorder);
  }
`,vC=class extends fi{static get properties(){return{results:{type:Array},query:{type:String},queryInProgress:{type:Boolean},renderHeader:{type:Boolean},renderSearchAllFiles:{type:Boolean},displayResultImages:{type:Boolean},errorMessage:{type:String}}}constructor(){super(),this.results=[],this.query="",this.queryInProgress=!1,this.renderHeader=!1,this.renderSearchAllFiles=!1,this.displayResultImages=!1,this.errorMessage="",this.bindBookReaderListeners()}updated(){this.focusOnInputIfNecessary()}bindBookReaderListeners(){document.addEventListener("BookReader:SearchCallback",this.setResults.bind(this))}focusOnInputIfNecessary(){this.results.length||this.shadowRoot.querySelector("input[type='search']").focus()}setResults({detail:e}){this.results=e.results}setQuery(e){this.query=e.currentTarget.value,this.query||this.cancelSearch()}performSearch(e){e.preventDefault();let t=e.currentTarget.querySelector('input[type="search"]');!t||!t.value||this.dispatchEvent(new CustomEvent("bookSearchInitiated",{bubbles:!0,composed:!0,detail:{query:this.query}}))}selectResult(e){this.dispatchEvent(new CustomEvent("resultSelected",{bubbles:!0,composed:!0,detail:{match:e}})),this.dispatchEvent(new CustomEvent("closeMenu",{bubbles:!0,composed:!0}))}cancelSearch(){this.queryInProgress=!1,this.dispatchSearchCanceled()}dispatchSearchCanceled(){this.dispatchEvent(new Event("bookSearchCanceled"))}get resultsCount(){let e=this.results.length;return e?ze`<p>(${e} result${e>1?"s":""})</p>`:Ai}get headerSection(){let e=ze`<header>
      <h3>Search inside</h3>
      ${this.resultsCount}
    </header>`;return this.renderHeader?e:Ai}get searchMultipleControls(){let e=ze`
      <input name="all_files" id="all_files" type="checkbox" />
      <label class="checkbox" for="all_files">Search all files</label>
    `;return this.renderSearchAllFiles?e:Ai}get loadingIndicator(){return ze`
      <div class="loading">
        <ia-activity-indicator mode="processing"></ia-activity-indicator>
        <p>Searching</p>
        <button class="ia-button external cancel-search" @click=${this.cancelSearch}>Cancel</button>
      </div>
    `}get resultsSet(){let e=this.displayResultImages?"show-image":"";return ze`
      <ul class="results ${e}">
        ${this.results.map(t=>ze`
            <li @click=${this.selectResult.bind(this,t)}>
              ${t.cover?ze`<img src="${t.cover}" />`:Ai}
              <h4>${t.title||Ai}</h4>
              <p class="page-num">Page ${t.displayPageNumber}</p>
              <p>${us(t.html)}</p>
            </li>
          `)}
      </ul>
    `}get searchForm(){return ze`
      <form action="" method="get" @submit=${this.performSearch}>
        <fieldset>
          ${this.searchMultipleControls}
          <input
            type="search"
            name="query"
            alt="Search inside this book."
            @keyup=${this.setQuery}
            @search=${this.setQuery}
            .value=${this.query}
          />
        </fieldset>
      </form>
    `}get setErrorMessage(){return ze`
      <p class="error-message">${this.errorMessage}</p>
    `}get searchCTA(){return ze`<p class="search-cta"><em>Please enter text to search for</em></p>`}render(){let e=!this.queryInProgress&&!this.errorMessage&&!this.queryInProgress&&!this.results.length;return ze`
      ${this.headerSection}
      ${this.searchForm}
      <div class="results-container">
        ${this.queryInProgress?this.loadingIndicator:Ai}
        ${this.errorMessage?this.setErrorMessage:Ai}
        ${this.results.length?this.resultsSet:Ai}
        ${e?this.searchCTA:Ai}
      </div>
    `}static get styles(){let e=dt`var(--searchResultText, #adaedc)`,t=dt`var(--searchResultBg, #272958)`,r=dt`var(--searchResultBorder, #adaedc)`,s=dt`(--tertiaryBGColor, #333)`,l=dt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 1rem 2rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      mark {
        padding: 0 .2rem;
        color: ${e};
        background: ${t};
        border: 1px solid ${r};
        border-radius: 2px;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 2rem;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem 0 0;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }

      fieldset {
        padding: 0 0 1rem 0;
        border: none;
      }

      [type="checkbox"] {
        display: none;
      }

      label {
        display: block;
        text-align: center;
      }

      label.checkbox {
        padding-bottom: .5rem;
        font-size: 1.6rem;
        line-height: 150%;
        vertical-align: middle;
      }

      label.checkbox:after {
        display: inline-block;
        width: 14px;
        height: 14px;
        margin-left: .7rem;
        content: "";
        border-radius: 2px;
      }
      :checked + label.checkbox:after {
        background-image: url('${K2}');
      }

      label.checkbox[for="all_files"]:after {
        background: ${s} 50% 50% no-repeat;
        border: 1px solid var(--primaryTextColor);
      }

      [type="search"] {
        color: var(--primaryTextColor);
        border: 1px solid var(--primaryTextColor);
        -webkit-appearance: textfield;
        width: 100%;
        height: 3rem;
        padding: 0 1.5rem;
        box-sizing: border-box;
        font: normal 1.6rem "Helvetica qNeue", Helvetica, Arial, sans-serif;
        border-radius: 1.5rem;
        background: transparent;
      }
      [type="search"]:focus {
        outline: none;
      }
      [type="search"]::-webkit-search-cancel-button {
        width: 18px;
        height: 18px;
        -webkit-appearance: none;
        appearance: none;
        -webkit-mask: url('${q2}') 0 0 no-repeat;
        mask: url('${q2}') 0 0 no-repeat;
        -webkit-mask-size: 100%;
        mask-size: 100%;
        background: #fff;
      }

      p.page-num {
        font-weight: bold;
        padding-bottom: 0;
      }

      p.search-cta {
        text-align: center;
      }

      .results-container {
        padding-bottom: 2rem;
      }

      ul {
        padding: 0 0 2rem 0;
        margin: 0;
        list-style: none;
      }

      ul.show-image li {
        display: grid;
      }

      li {
        cursor: pointer;
        grid-template-columns: 30px 1fr;
        grid-gap: 0 .5rem;
      }

      li img {
        display: block;
        width: 100%;
      }

      li h4 {
        grid-column: 2 / 3;
        padding: 0 0 2rem 0;
        margin: 0;
        font-weight: normal;
      }

      li p {
        grid-column: 2 / 3;
        padding: 0 0 1.5rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      .loading {
        text-align: center;
      }

      .loading p {
        padding: 0 0 1rem 0;
        margin: 0;
        font-size: 1.2rem;
      }

      ia-activity-indicator {
        display: block;
        width: 40px;
        height: 40px;
        margin: 0 auto;
      }
    `;return[Bu,l]}};customElements.define("ia-book-search-results",vC);Zn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},yC=class{constructor({onProviderChange:e,bookreader:t}){this.onBookSearchInitiated=this.onBookSearchInitiated.bind(this),this.onSearchStarted=this.onSearchStarted.bind(this),this.onSearchRequestError=this.onSearchRequestError.bind(this),this.onSearchResultsClicked=this.onSearchResultsClicked.bind(this),this.onSearchResultsChange=this.onSearchResultsChange.bind(this),this.onSearchResultsCleared=this.onSearchResultsCleared.bind(this),this.searchCanceledInMenu=this.searchCanceledInMenu.bind(this),this.bindEventListeners=this.bindEventListeners.bind(this),this.getMenuDetails=this.getMenuDetails.bind(this),this.getComponent=this.getComponent.bind(this),this.updateMenu=this.updateMenu.bind(this),this.onProviderChange=e,this.bookreader=t,this.icon=ze`<ia-icon-search style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-search>`,this.label="Search inside",this.menuDetails=this.getMenuDetails(),this.id="search",this.component=this.getComponent(),this.bindEventListeners()}getMenuDetails(){let{resultsCount:e,query:t,queryInProgress:r}=Zn;return r||!t?Ai:ze`(${e} ${e===1?"result":"results"})`}bindEventListeners(){window.addEventListener("BookReader:SearchStarted",this.onSearchStarted),window.addEventListener("BookReader:SearchCallback",this.onSearchResultsChange),window.addEventListener("BookReader:SearchCallbackEmpty",e=>{this.onSearchRequestError(e,"noResults")}),window.addEventListener("BookReader:SearchCallbackNotIndexed",e=>{this.onSearchRequestError(e,"notIndexed")}),window.addEventListener("BookReader:SearchCallbackError",e=>{this.onSearchRequestError(e)}),window.addEventListener("BookReader:SearchResultsCleared",()=>{this.onSearchResultsCleared()}),window.addEventListener("BookReader:SearchCanceled",e=>{this.onSearchCanceled(e)})}onSearchCanceled(){Zn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""};let e={searchCanceled:!0};this.updateMenu(e),this.bookreader.urlPlugin&&this.updateSearchInUrl()}onSearchStarted(e){let{term:t="",instance:r}=e.detail.props;r&&(this.bookreader=r),Zn.query=t,Zn.results=[],Zn.resultsCount=0,Zn.queryInProgress=!0,Zn.errorMessage="",this.updateMenu()}onBookSearchInitiated({detail:e}){Zn.query=e.query,this.bookreader.search(Zn.query)}onSearchRequestError(e,t="default"){var n;let{detail:{props:r}}=e,{instance:s,results:l}=r;s&&(this.bookreader=s);let o={noResults:"0 results",notIndexed:`This book hasn't been indexed for searching yet.  We've just started indexing it,
       so search should be available soon.  Please try again later.  Thanks!`,default:"Sorry, there was an error with your search.  Please try again."},c=(n=o[t])!=null?n:o.default;Zn.query=(l==null?void 0:l.q)||"",Zn.results=[],Zn.resultsCount=0,Zn.queryInProgress=!1,Zn.errorMessage=ze`<p class="error">${c}</p>`,this.updateMenu()}onSearchResultsChange({detail:{props:e={}}}){let{instance:t=null,results:r=[]}=e;t&&(this.bookreader=t);let s=r.matches||[],l=s.length,o=r.q;Zn={results:s,resultsCount:l,query:o,queryInProgress:!1,errorMessage:""},this.updateMenu()}searchCanceledInMenu(){this.bookreader.plugins.search.cancelSearchRequest()}onSearchResultsCleared(){Zn={query:"",results:[],resultsCount:0,queryInProgress:!1,errorMessage:""},this.updateMenu({openMenu:!1}),this.bookreader.plugins.search.searchView.clearSearchFieldAndResults(!1),this.bookreader.urlPlugin&&this.updateSearchInUrl()}updateSearchInUrl(){this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),Zn.query?this.bookreader.urlPlugin.setUrlParam("q",Zn.query):this.bookreader.urlPlugin.removeUrlParam("q"))}updateMenu(e={}){this.menuDetails=this.getMenuDetails(),this.component=this.getComponent(),this.onProviderChange(this.bookreader,e)}getComponent(){let{query:e,results:t,queryInProgress:r,errorMessage:s}=Zn;return ze`
    <ia-book-search-results
      .query=${e}
      .results=${t}
      .errorMessage=${s}
      ?queryInProgress=${r}
      ?renderSearchAllFiles=${!1}
      @resultSelected=${this.onSearchResultsClicked}
      @bookSearchInitiated=${this.onBookSearchInitiated}
      @bookSearchResultsCleared=${this.onSearchResultsCleared}
      @bookSearchCanceled=${this.searchCanceledInMenu}
    ></ia-book-search-results>
  `}onSearchResultsClicked({detail:e}){this.bookreader.plugins.search.jumpToMatch(e.match.matchIndex)}},bC=class extends fi{static get properties(){return{downloads:{type:Array},expiration:{type:Number},renderHeader:{type:Boolean},isBookProtected:{type:Boolean}}}constructor(){super(),this.downloads=[],this.expiration=0,this.renderHeader=!1,this.isBookProtected=!1}get formatsCount(){let e=this.downloads.length;return e?ze`<p>${e} format${e>1?"s":""}</p>`:ze``}get loanExpiryMessage(){return this.expiration?ze`<h2>These files will expire in ${this.expiration} days.</h2>`:ze``}renderDownloadOptions(){return this.downloads.map(e=>ze`
        <li>
          <a class="ia-button link primary" href="${e.url}">Get ${e.type}</a>
          ${e.note?ze`<p>${e.note}</p>`:ze``}
        </li>
      `)}get hasLCPOption(){let e=/^(LCP)/g;return this.downloads.some(t=>{var r;return(r=t.type)==null?void 0:r.match(e)})}get header(){return this.renderHeader?ze`
      <header>
        <h3>Downloadable files</h3>
        ${this.formatsCount}
      </header>
    `:Ai}get installLCPSoftwareMsg(){return ze`
    <p>For LCP downloads, make sure you have LCP software such as <a href="https://thorium.edrlab.org/" rel="noopener noreferrer nofollow" target="_blank">Thorium (desktop)</a>, <a href="https://apps.apple.com/us/app/cantook-by-aldiko/id1476410111" rel="noopener noreferrer nofollow" target="_blank">Cantook (iOS)</a> or <a href="https://play.google.com/store/apps/details?id=com.aldiko.android" rel="noopener noreferrer nofollow" target="_blank">Cantook (Android)</a> installed on your device.</p>
  `}render(){return ze`
      ${this.header}
      ${this.loanExpiryMessage}
      <ul>${this.renderDownloadOptions()}</ul>
      ${this.hasLCPOption?this.installLCPSoftwareMsg:Ai}
    `}static get styles(){let e=dt`
      :host {
        display: block;
        height: 100%;
        padding: 1.5rem 0;
        overflow-y: auto;
        font-size: 1.4rem;
        box-sizing: border-box;
      }

      a.close ia-icon {
        --iconWidth: 18px;
        --iconHeight: 18px;
      }
      a.close {
        justify-self: end;
      }

      header {
        display: flex;
        align-items: center;
        padding: 0 2rem;
      }
      header p {
        padding: 0;
        margin: 0;
        font-size: 1.2rem;
        font-weight: bold;
        font-style: italic;
      }
      header div {
        display: flex;
        align-items: baseline;
      }      

      h2 {
        font-size: 1.6rem;
      }

      h3 {
        padding: 0;
        margin: 0 1rem 0 0;
        font-size: 1.4rem;
      }

      ul {
        padding: 0;
        margin: 0;
        list-style: none;
      }

      p {
        margin: .3rem 0 0 0;
      }

      li,
      ul + p {
        padding-bottom: 1.2rem;
        font-size: 1.2rem;
        line-height: 140%;
      }
    `;return[Bu,e]}};customElements.define("ia-book-downloads",bC);G2={pdf:{type:"Encrypted Adobe PDF",url:"#",note:"PDF files contain high quality images of pages."},lcppdf:{type:"Get LCP PDF",url:"#",note:"PDF files contain high quality images of pages."},lcpepub:{type:"Get LCP ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."},epub:{type:"Encrypted Adobe ePub",url:"#",note:"ePub files are smaller in size, but may contain errors."}},wC={pdf:"PDF",epub:"ePub",lcppdf:"LCP PDF",lcpepub:"LCP ePub"},xC=class{constructor({bookreader:e}){var t;this.icon=ze`<ia-icon-dl style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-dl>`,this.label="Downloadable files",this.menuDetails="",this.downloads=[],this.id="downloads",this.component="",this.isBookProtected=((t=e==null?void 0:e.options)==null?void 0:t.isProtected)||!1}update(e){this.computeAvailableTypes(e),this.component=this.menu,this.component.isBookProtected=this.isBookProtected;let t=this.downloads.length===1?"":"s";this.menuDetails=`(${this.downloads.length} format${t})`}computeAvailableTypes(e=[]){let t=e.reduce((r,s=[])=>{let[l="",o=""]=s,c=l.toLowerCase(),n=G2[c]||null;if(n){let u=this.isBookProtected?G2[c].type:wC[c],h=Object.assign({},n,{url:o,type:u});r.push(h)}return r},[]);this.downloads=t}get menu(){return ze`<ia-book-downloads .downloads=${this.downloads}></ia-book-downloads>`}},kg=e=>`visualAdjustment${e}`,Sg={optionChange:kg("OptionChanged"),zoomIn:kg("ZoomIn"),zoomOut:kg("ZoomOut")},_C=class extends fi{static get properties(){return{activeCount:{type:Number},options:{type:Array},renderHeader:{type:Boolean},showZoomControls:{type:Boolean}}}constructor(){super(),this.activeCount=0,this.options=[],this.renderHeader=!1,this.showZoomControls=!0}firstUpdated(){this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent()}get activeOptions(){return this.options.reduce((e,t)=>t.active?[...e,t.id]:e,[])}prepareEventDetails(e=""){return{options:this.options,activeCount:this.activeCount,changedOptionId:e}}emitOptionChangedEvent(e=""){let t=this.prepareEventDetails(e);this.dispatchEvent(new CustomEvent(Sg.optionChange,{bubbles:!0,composed:!0,detail:t}))}emitZoomIn(){this.dispatchEvent(new CustomEvent(Sg.zoomIn))}emitZoomOut(){this.dispatchEvent(new CustomEvent(Sg.zoomOut))}changeActiveStateFor(e){let t=[...this.options],r=t.find(s=>s.id===e);r.active=!r.active,this.options=t,this.activeCount=this.activeOptions.length,this.emitOptionChangedEvent(r.id)}setRangeValue(e,t){let r=[...this.options];r.find(s=>s.id===e).value=t,this.options=[...r]}rangeSlider(e){return ze`
      <div class=${`range${e.active?" visible":""}`}>
        <input
          type="range"
          name="${e.id}_range"
          min=${e.min||0}
          max=${e.max||100}
          step=${e.step||1}
          .value=${e.value}
          @input=${t=>this.setRangeValue(e.id,t.target.value)}
          @change=${()=>this.emitOptionChangedEvent()}
        />
        <p>${e.value}%</p>
      </div>
    `}adjustmentCheckbox(e){let t=`adjustment_${e.id}`;return ze`<li>
      <label for="${t}">
        <span class="name">${e.name}</span>
        <input
          type="checkbox"
          name="${t}"
          id="${t}"
          @change=${()=>this.changeActiveStateFor(e.id)}
          ?checked=${e.active}
        />
        <span class="icon"></span>
      </label>
      ${e.value!==void 0?this.rangeSlider(e):Ai}
    </li>`}get headerSection(){let e=this.activeCount?ze`<p>(${this.activeCount} active)</p>`:Ai,t=ze`<header>
      <h3>Visual adjustments</h3>
      ${e}
    </header>`;return this.renderHeader?t:Ai}get zoomControls(){return ze`
      <h4>Adjust zoom</h4>
      <button class="zoom_out" @click=${this.emitZoomOut} title="zoom out">
        <ia-icon-magnify-minus></ia-icon-magnify-minus>
      </button>
      <button class="zoom_in" @click=${this.emitZoomIn} title="zoom in">
        <ia-icon-magnify-plus></ia-icon-magnify-plus>
      </button>
    `}render(){return ze`
      ${this.headerSection}
      <ul>
        ${La(this.options,e=>e.id,this.adjustmentCheckbox.bind(this))}
      </ul>
      ${this.showZoomControls?this.zoomControls:Ai}
    `}static get styles(){return dt`
    :host {
      display: block;
      height: 100%;
      overflow-y: auto;
      font-size: 1.4rem;
      box-sizing: border-box;
    }

    header {
      display: flex;
      align-items: baseline;
    }

    h3 {
      padding: 0;
      margin: 0 1rem 0 0;
      font-size: 1.6rem;
    }

    header p {
      padding: 0;
      margin: 0;
      font-size: 1.2rem;
      font-weight: bold;
      font-style: italic;
    }

    ul {
      padding: 1rem 2rem 0 0;
      list-style: none;
      margin-top: 0;
    }

    [type="checkbox"] {
      display: none;
    }

    label {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      font-size: 1.4rem;
      font-weight: bold;
      line-height: 150%;
      vertical-align: middle;
    }

    .icon {
      display: inline-block;
      width: 14px;
      height: 14px;
      margin-left: .7rem;
      border: 1px solid var(--primaryTextColor);
      border-radius: 2px;
      background: var(--activeButtonBg) 50% 50% no-repeat;
    }
    :checked + .icon {
      background-image: url('${K2}');
    }

    .range {
      display: none;
      padding-top: .5rem;
    }
    .range.visible {
      display: flex;
    }

    .range p {
      margin-left: 1rem;
    }

    h4 {
      padding: 1rem 0;
      margin: 0;
      font-size: 1.4rem;
    }

    button {
      -webkit-appearance: none;
      appearance: none;
      border: none;
      border-radius: 0;
      background: transparent;
      outline: none;
      cursor: pointer;
      --iconFillColor: var(--primaryTextColor);
      --iconStrokeColor: var(--primaryTextColor);
      height: 4rem;
      width: 4rem;
    }

    button * {
      display: inline-block;
    }`}};customElements.define("ia-book-visual-adjustments",_C);kC=[{id:"brightness",name:"Adjust brightness",active:!1,min:0,max:150,step:1,value:100},{id:"contrast",name:"Adjust contrast",active:!1,min:0,max:150,step:1,value:100},{id:"invert",name:"Invert colors (dark mode)",active:!1},{id:"grayscale",name:"Convert to grayscale",active:!1}],SC=class{constructor(e){let{onProviderChange:t,bookreader:r}=e;this.onProviderChange=t,this.bookContainer=r.refs.$brContainer,this.bookreader=r,this.onAdjustmentChange=this.onAdjustmentChange.bind(this),this.optionUpdateComplete=this.optionUpdateComplete.bind(this),this.updateOptionsCount=this.updateOptionsCount.bind(this),this.onZoomIn=this.onZoomIn.bind(this),this.onZoomOut=this.onZoomOut.bind(this),this.activeCount=0,this.icon=ze`<ia-icon-visual-adjustment style="width: var(--iconWidth); height: var(--iconHeight);"></ia-icon-visual-adjustment>`,this.label="Visual Adjustments",this.menuDetails=this.updateOptionsCount(),this.id="visualAdjustments",this.component=ze`
      <ia-book-visual-adjustments
        .options=${kC}
        @visualAdjustmentOptionChanged=${this.onAdjustmentChange}
        @visualAdjustmentZoomIn=${this.onZoomIn}
        @visualAdjustmentZoomOut=${this.onZoomOut}
      ></ia-book-visual-adjustments>
    `}onZoomIn(){this.bookreader.zoom(1)}onZoomOut(){this.bookreader.zoom(-1)}onAdjustmentChange(e){let{detail:t}=e,r={brightness:l=>`brightness(${l}%)`,contrast:l=>`contrast(${l}%)`,grayscale:()=>"grayscale(100%)",invert:()=>"invert(100%)"},s=t.options.reduce((l,o)=>{let c=`${o.active?r[o.id](o.value):""}`;return c?[...l,c]:l},[]).join(" ");this.bookContainer.css("filter",s),this.optionUpdateComplete(e)}optionUpdateComplete(e){this.activeCount=e.detail.activeCount,this.updateOptionsCount(e),this.onProviderChange()}updateOptionsCount(){this.menuDetails=`(${this.activeCount} active)`}},AC=class extends fi{static get styles(){return dt`
      div {
        display: flex;
        justify-content: center;
        padding-top: 2rem;
      }

      button {
        appearance: none;
        padding: 0.5rem 1rem;
        margin: 0 .5rem;
        box-sizing: border-box;
        font: 1.3rem "Helvetica Neue", Helvetica, Arial, sans-serif;
        color: var(--primaryTextColor);
        border: none;
        border-radius: 4px;
        cursor: pointer;
        background: var(--primaryCTAFill);
      }

      .delete {
        background: var(--primaryErrorCTAFill);
      }
    `}static get properties(){return{cancelAction:{type:Function},deleteAction:{type:Function},pageID:{type:String}}}render(){return ze`
      <div>
        <button class="delete" @click=${()=>this.deleteAction({detail:{id:`${this.pageID}`}})}>Delete</button>
        <button @click=${()=>this.cancelAction()}>Cancel</button>
      </div>
    `}};customElements.define("delete-modal-actions",AC);CC=class extends fi{static get styles(){return dt`
      button {
        -webkit-appearance: none;
        appearance: none;
        outline: 0;
        border: none;
        padding: 0;
        height: 4rem;
        width: 4rem;
        background: transparent;
        cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 16 24' width='16'%3E%3Cg fill='%23333' fill-rule='evenodd'%3E%3Cpath d='m15 0c.5522847 0 1 .44771525 1 1v23l-8-5.4545455-8 5.4545455v-23c0-.55228475.44771525-1 1-1zm-2 2h-10c-.51283584 0-.93550716.38604019-.99327227.88337887l-.00672773.11662113v18l6-4.3181818 6 4.3181818v-18c0-.51283584-.3860402-.93550716-.8833789-.99327227z'/%3E%3Cpath d='m8.75 6v2.25h2.25v1.5h-2.25v2.25h-1.5v-2.25h-2.25v-1.5h2.25v-2.25z' fill-rule='nonzero'/%3E%3C/g%3E%3C/svg%3E"), pointer;
        position: relative;
      }
      button > * {
        display: block;
        position: absolute;
        top: 0.2rem;
      }
      button.left > * {
        left: 0.2rem;
      }

      button.right > * {
        right: 0.2rem;
      }
    `}static get properties(){return{side:{type:String},state:{type:String}}}constructor(){super(),this.state="hollow",this.side=void 0}handleClick(e){e.preventDefault(),this.dispatchEvent(new CustomEvent("bookmarkButtonClicked"))}get title(){return`${this.state==="hollow"?"Add":"Remove"} bookmark`}render(){let e=this.side||"right";return ze`
      <button title=${this.title} @click=${this.handleClick} class=${e}>
        <icon-bookmark state=${this.state}></icon-bookmark>
      </button>
    `}};customElements.define("bookmark-button",CC);EC=class extends fi{static get properties(){return{url:{type:String}}}static get styles(){return Bu}constructor(){super(),this.url="https://archive.org/account/login"}render(){return ze`
      <p>A free account is required to save and access bookmarks.</p>
      <a class="ia-button link primary" href="${this.url}">Log in</a>
    `}};customElements.define("bookmarks-login",EC);TC={endpoint:"/services/bookmarks.php",headers:{"Content-Type":"application/json"},delete(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"DELETE",headers:this.headers})},get(e){return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e}`,{credentials:"same-origin",method:"GET",headers:this.headers})},getAll(){return fetch(`${this.endpoint}?identifier=${this.identifier}`,{credentials:"same-origin",method:"GET",headers:this.headers})},post(e){return this.sendBookmarkData(e,"POST")},put(e){return this.sendBookmarkData(e,"POST")},sendBookmarkData(e,t){let r={note:e.note,color:e.color};return fetch(`${this.endpoint}?identifier=${this.identifier}&page_num=${e.id}`,{credentials:"same-origin",method:t,headers:this.headers,body:JSON.stringify({notes:r})})}},PC=class X2 extends fi{static get properties(){return{activeBookmarkID:{type:String},bookmarks:{type:Array},bookreader:{type:Object},displayMode:{type:String},editedBookmark:{type:Object},deleteModalConfig:{type:Object},modal:{attribute:!1},loginOptions:{type:Object,attribute:!1}}}static get styles(){let t=dt`
      .bookmarks {
        height: 100%;
        overflow: hidden;
        padding-bottom: 20px;
      }

      .list ia-bookmark-edit {
        display: none;
      }

      .edit ia-bookmarks-list {
        display: none;
      }
    `;return[Bu,t]}static formatPage(t){return isNaN(+t)?`(${t.replace(/\D/g,"")})`:t}constructor(){super(),this.bookmarks=[],this.bookreader={},this.editedBookmark={},this.modal=void 0,this.loginOptions={loginClicked:()=>{},loginUrl:""},this.displayMode="bookmarks",this.bookmarkColors=[{id:0,className:"red"},{id:1,className:"blue"},{id:2,className:"green"}],this.defaultColor=this.bookmarkColors[0],this.api=TC,this.deleteModalConfig=new mg({title:"Delete Bookmark",headline:"This bookmark contains a note. Deleting it will permanently delete the note. Are you sure?",headerColor:"#194880"})}updated(t){t.has("displayMode")&&this.updateDisplay(),this.emitBookmarksChanged()}setup(){this.api.identifier=this.getIdentifier(),this.displayMode!=="login"&&(this.fetchUserBookmarks(),this.setBREventListeners())}getIdentifier(){return this.bookreader.bookId!==this.bookreader.subPrefix?`${this.bookreader.bookId}/${this.bookreader.subPrefix}`:this.bookreader.bookId}updateDisplay(){this.displayMode==="bookmarks"&&this.fetchUserBookmarks()}fetchUserBookmarks(){return vi(this,null,function*(){this.api.identifier&&(yield this.fetchBookmarks(),this.initializeBookmarks())})}setBREventListeners(){["3PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons()},100)})}),["pageChanged","1PageViewSelected","2PageViewSelected"].forEach(t=>{window.addEventListener(`BookReader:${t}`,r=>{setTimeout(()=>{this.renderBookmarkButtons(),this.markActiveBookmark()},100)})}),["zoomOut","zoomIn","resize"].forEach(t=>{window.addEventListener(`BookReader:${t}`,()=>{this.renderBookmarkButtons()})})}initializeBookmarks(){this.renderBookmarkButtons(),this.markActiveBookmark(!0),this.emitBookmarksChanged()}formatBookmark({leafNum:t="",notes:r={}}){let{note:s="",color:l}=r,o={note:s,color:this.getBookmarkColor(l)?l:this.defaultColor.id},c=X2.formatPage(this.bookreader.book.getPageNum(t)),n=this.bookreader.book.getPageURI(`${t}`.replace(/\D/g,""),32);return rn(Rr({},o),{id:t,leafNum:t,page:c,thumbnail:n})}fetchBookmarks(){return vi(this,null,function*(){let t=yield this.api.getAll().then(n=>n.text()),r;try{r=JSON.parse(t)}catch(n){r={error:n.message}}let{success:s,error:l="Something happened while fetching bookmarks.",value:o=[]}=r;s||(console==null||console.warn("Error fetching bookmarks",l));let c={};return Object.keys(o).forEach(n=>{let u=o[n],h=parseInt(n,10),g=this.formatBookmark(rn(Rr({},u),{leafNum:h}));c[n]=g}),this.bookmarks=c,c})}emitBookmarksChanged(){this.dispatchEvent(new CustomEvent("bookmarksChanged",{bubbles:!0,composed:!0,detail:{bookmarks:this.bookmarks}}))}emitBookmarkButtonClicked(){this.dispatchEvent(new CustomEvent("bookmarkButtonClicked",{bubbles:!0,composed:!0,detail:{editedBookmark:this.editedBookmark}}))}bookmarkButtonClicked(t){this.getBookmark(t)?this.confirmDeletion(t):this.createBookmark(t)}renderBookmarkButtons(){this.bookreader.$(".BRpagecontainer").not(".BRemptypage").get().forEach(t=>{let r=t.querySelector(".bookmark-button");r&&r.remove();let s=+t.classList.value.match(/pagediv\d+/)[0].replace(/\D/g,""),l=this.getBookmark(s),o=l?"filled":"hollow",c=this.bookreader.book.getPage(s),{isViewable:n}=c;if(!n)return;let u=document.createElement("div");["mousedown","mouseup"].forEach(g=>{u.addEventListener(g,m=>m.stopPropagation())}),u.classList.add("bookmark-button",o),l&&u.classList.add(this.getBookmarkColor(l.color));let h=t.getAttribute("data-side")==="L"&&this.bookreader.mode===this.bookreader.constMode2up?"left":"right";yd(ze`
        <bookmark-button
          @bookmarkButtonClicked=${()=>this.bookmarkButtonClicked(s)}
          state=${o}
          side=${h}
        ></bookmark-button>`,u),t.appendChild(u)})}markActiveBookmark(t=!1){let{mode:r,constMode2up:s,constModeThumb:l}=this.bookreader,o=this.bookreader.currentIndex();if(r===l){let c=this.bookmarks[o];t&&c&&(this.activeBookmarkID=o);return}if(!(r===s&&this.bookreader.displayedIndices.includes(+this.activeBookmarkID))){if(this.bookmarks[o]){this.activeBookmarkID=o;return}this.activeBookmarkID=""}}bookmarkEdited({detail:t}){let r=t.bookmark.id===this.editedBookmark.id;this.editedBookmark=r?{}:t.bookmark}getBookmark(t){return this.bookmarks[t]}getBookmarkColor(t){var r;return(r=this.bookmarkColors.find(s=>s.id===t))==null?void 0:r.className}addBookmark(){let t=this.bookreader.currentIndex();if(this.bookreader.mode===this.bookreader.constMode2up){let r=this.bookreader.displayedIndices;t=r[r.length-1]}this.createBookmark(t)}createBookmark(t){let r=this.getBookmark(t);if(r){this.bookmarkEdited({detail:{bookmark:r}}),this.emitBookmarkButtonClicked();return}this.editedBookmark=this.formatBookmark({leafNum:t}),this.api.post(this.editedBookmark),this.bookmarks[t]=this.editedBookmark,this.activeBookmarkID=t,this.disableAddBookmarkButton=!0,this.renderBookmarkButtons(),this.emitBookmarkButtonClicked()}bookmarkSelected({detail:t}){let{leafNum:r}=t.bookmark;this.bookreader.jumpToPage(`${this.bookreader.book.getPageNum(`${r}`.replace(/\D/g,""))}`),this.activeBookmarkID=r}saveBookmark({detail:t}){let r=this.bookmarks[t.bookmark.id];Object.assign(r,t.bookmark),this.api.put(r),this.editedBookmark={},this.renderBookmarkButtons()}confirmDeletion(t){if(this.getBookmark(t).note){this.displayDeletionModal(t);return}this.deleteBookmark({detail:{id:`${t}`}})}displayDeletionModal(t){let r=ze`
      <delete-modal-actions
        .deleteAction=${()=>this.deleteBookmark({detail:{id:`${t}`}})}
        .cancelAction=${()=>this.modal.closeModal()}
        .pageID=${t}
      ></delete-modal-actions>
    `;this.modal.showModal({config:this.deleteModalConfig,customModalContent:r})}deleteBookmark({detail:t}){let{id:r}=t,s=this.bookmarks;delete s[r],this.bookmarks=Rr({},s),this.api.delete(t.id),this.editedBookmark={},this.modal.closeModal(),this.renderBookmarkButtons()}get shouldEnableAddBookmarkButton(){let t=this.bookreader.mode===this.bookreader.constMode2up?this.bookreader.displayedIndices[this.bookreader.displayedIndices.length-1]:this.bookreader.currentIndex();return!!this.getBookmark(t)}get allowAddingBookmark(){return this.bookreader.mode!==this.bookreader.constModeThumb}get addBookmarkButton(){return ze`
      <button
        class="ia-button primary"
        tabindex="-1"
        ?disabled=${this.shouldEnableAddBookmarkButton}
        @click=${this.addBookmark}>
        Add bookmark
      </button>
    `}get bookmarksList(){return ze`
      <ia-bookmarks-list
        @bookmarkEdited=${this.bookmarkEdited}
        @bookmarkSelected=${this.bookmarkSelected}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        .editedBookmark=${this.editedBookmark}
        .bookmarks=${Rr({},this.bookmarks)}
        .activeBookmarkID=${this.activeBookmarkID}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultColor}>
      </ia-bookmarks-list>
    `}get bookmarkHelperMessage(){return ze`<p>Please use 1up or 2up view modes to add bookmark.</p>`}render(){let t=ze`
      ${this.bookmarksList}
      ${this.allowAddingBookmark?this.addBookmarkButton:this.bookmarkHelperMessage}
    `;return ze`
      <section class="bookmarks">
      ${this.displayMode==="login"?ze`<bookmarks-login
        @click=${()=>this.loginOptions.loginClicked()}
        .url=${this.loginOptions.loginUrl}></bookmarks-login>`:t}
      </section>
    `}};customElements.define("ia-bookmarks",PC);Z2=dt`
  .blue {
    --iconFillColor: var(--blueBookmarkColor, #0023f5);
  }

  .red {
    --iconFillColor: var(--redBookmarkColor, #eb3223);
  }

  .green {
    --iconFillColor: var(--greenBookmarkColor, #75ef4c);
  }
`,$C=class J2 extends fi{static get properties(){return{bookmark:{type:Object},bookmarkColors:{type:Array},renderHeader:{type:Boolean},showBookmark:{type:Boolean}}}constructor(){super(),this.bookmark={},this.bookmarkColors=[],this.renderHeader=!1,this.showBookmark=!0}emitSaveEvent(t){t.preventDefault(),this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:this.bookmark}}))}emitDeleteEvent(){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:this.bookmark.id}}))}emitColorChangedEvent(t){this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:this.bookmark.id,colorId:t}}))}changeColorTo(t){this.bookmark.color=t,this.emitColorChangedEvent(t)}updateNote(t){this.bookmark.note=t.currentTarget.value}static get headerSection(){return ze`<header>
      <h3>Edit Bookmark</h3>
    </header>`}bookmarkColor(t){return ze`
      <li>
        <input type="radio" name="color" id="color_${t.id}" .value=${t.id} @change=${()=>this.changeColorTo(t.id)} ?checked=${this.bookmark.color===t.id}>
        <label for="color_${t.id}">
          <icon-bookmark class=${t.className}></icon-bookmark>
        </label>
      </li>
    `}get bookmarkTemplate(){return ze`
      <div class="bookmark">
        <img src=${this.bookmark.thumbnail} />
        <h4>Page ${this.bookmark.page}</h4>
      </div>
    `}render(){return ze`
      ${this.renderHeader?J2.headerSection:Ai}
      ${this.showBookmark?this.bookmarkTemplate:Ai}
      <form action="" method="put" @submit=${this.emitSaveEvent}>
        <fieldset>
          <label for="note">Note <small>(optional)</small></label>
          <textarea rows="4" cols="80" name="note" id="note" @change=${this.updateNote}>${this.bookmark.note}</textarea>
          <label for="color">Bookmark color</label>
          <ul>
            ${La(this.bookmarkColors,t=>t.id,this.bookmarkColor.bind(this))}
          </ul>
          <div class="actions">
            <button type="button" class="ia-button cancel" @click=${this.emitDeleteEvent}>Delete</button>
            <input class="ia-button" type="submit" value="Save">
          </div>
        </fieldset>
      </form>
    `}static get styles(){let t=dt`
    :host {
      display: block;
      padding: 0 1rem 2rem 1rem;
      color: var(--primaryTextColor);
    }

    small {
      font-style: italic;
    }

    .bookmark {
      display: grid;
      grid-template-columns: 37px 1fr;
      grid-gap: 0 1rem;
      align-items: center;
    }

    h4 {
      margin: 0;
      font-size: 1.4rem;
    }

    fieldset {
      padding: 2rem 0 0 0;
      border: none;
    }

    label {
      display: block;
      font-weight: bold;
    }

    p {
      padding: 0;
      margin: .5rem 0;
      font-size: 1.2rem;
      line-height: 120%;
    }

    textarea {
      width: 100%;
      margin-bottom: 2rem;
      box-sizing: border-box;
      font: normal 1.4rem "Helvetica Neue", Helvetica, Arial, sans-serif;
      resize: vertical;
    }

    ul {
      display: grid;
      grid-template-columns: repeat(3, auto);
      grid-gap: 0 2rem;
      justify-content: start;
      padding: 1rem 0 0 0;
      margin: 0 0 2rem 0;
      list-style: none;
    }

    li input {
      display: none;
    }

    li label {
      display: block;
      min-width: 50px;
      padding-top: .4rem;
      text-align: center;
      border: 1px solid transparent;
      border-radius: 4px;
      cursor: pointer;
    }

    li input:checked + label {
      border-color: var(--primaryTextColor);
    }

    input[type="submit"] {
      background: var(--primaryCTAFill);
      border-color: var(--primaryCTABorder);
    }

    button {
      background: var(--primaryErrorCTAFill);
      border-color: var(--primaryErrorCTABorder);
    }

    .button {
      -webkit-appearance: none;
      appearance: none;
      padding: .5rem 1rem;
      box-sizing: border-box;
      color: var(--primaryTextColor);
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .actions {
      display: grid;
      grid-template-columns: auto auto;
      grid-gap: 0 1rem;
      justify-items: stretch;
    }
    `;return[Bu,Z2,t]}};customElements.define("ia-bookmark-edit",$C);LC=class extends fi{static get properties(){return{activeBookmarkID:{type:Number},bookmarkColors:{type:Array},defaultBookmarkColor:{type:Object},bookmarks:{type:Object},editedBookmark:{type:Object},renderHeader:{type:Boolean}}}constructor(){super(),this.activeBookmarkID=void 0,this.bookmarkColors=[],this.defaultBookmarkColor={},this.bookmarks={},this.editedBookmark={},this.renderHeader=!1}emitEditEvent(e,t){this.dispatchEvent(new CustomEvent("bookmarkEdited",{detail:{bookmark:t}}))}emitSelectedEvent(e){this.activeBookmarkID=e.id,this.dispatchEvent(new CustomEvent("bookmarkSelected",{detail:{bookmark:e}}))}emitSaveBookmark(e){this.dispatchEvent(new CustomEvent("saveBookmark",{detail:{bookmark:e}}))}emitDeleteBookmark(e){this.dispatchEvent(new CustomEvent("deleteBookmark",{detail:{id:e}}))}emitBookmarkColorChanged({detail:e}){let{bookmarkId:t,colorId:r}=e;this.dispatchEvent(new CustomEvent("bookmarkColorChanged",{detail:{bookmarkId:t,colorId:r}}))}emitAddBookmark(){this.dispatchEvent(new CustomEvent("addBookmark"))}editBookmark(e,t){this.emitEditEvent(e,t),this.editedBookmark=this.editedBookmark===t?{}:t}saveBookmark({detail:e}){let{bookmark:t}=e;this.editedBookmark={},this.emitSaveBookmark(t)}deleteBookmark({detail:e}){let{id:t}=e;this.editedBookmark={},this.emitDeleteBookmark(t)}bookmarkColorInfo(e=0){return this.bookmarkColors.find(t=>(t==null?void 0:t.id)===e)}bookmarkItem(e){let t=this.editedBookmark.id===e.id,{className:r}=this.bookmarkColorInfo(e.color),s=e.id===this.activeBookmarkID?"active":"";return ze`
      <li
        @click=${()=>this.emitSelectedEvent(e)}
        tabindex="0"
        data-pageIndex=${e.id}
      >
        <div class="separator"></div>
        <div class="content ${s}">
          <button
            class="edit"
            @click=${l=>this.editBookmark(l,e)}
            title="Edit this bookmark"
          >
            <ia-icon-edit-pencil></ia-icon-edit-pencil>
          </button>
          <h4>
            <icon-bookmark class=${r}></icon-bookmark>
            <span> Page ${e.page}</span>
          </h4>
          ${!t&&e.note?ze`<p>${e.note}</p>`:Ai}
          ${t?this.editBookmarkComponent:Ai}
        </div>
      </li>
    `}get editBookmarkComponent(){return ze`
      <ia-bookmark-edit
        .bookmark=${this.editedBookmark}
        .bookmarkColors=${this.bookmarkColors}
        .defaultBookmarkColor=${this.defaultBookmarkColor}
        .showBookmark=${!1}
        @saveBookmark=${this.saveBookmark}
        @deleteBookmark=${this.deleteBookmark}
        @bookmarkColorChanged=${this.emitBookmarkColorChanged}
      ></ia-bookmark-edit>
    `}sortBookmarks(){return Object.keys(this.bookmarks).sort((e,t)=>+e>+t?1:+e<+t?-1:0).map(e=>this.bookmarks[e])}get bookmarksCount(){let e=this.bookmarks.length;return ze`<small>(${e})</small>`}get headerSection(){return ze`<header>
      <h3>
        Bookmarks
        ${this.bookmarks.length?this.bookmarksCount:Ai}
      </h3>
    </header>`}get bookmarkslist(){let e=this.sortBookmarks(),t=La(e,r=>r==null?void 0:r.id,this.bookmarkItem.bind(this));return ze`
      <ul>
        ${t}
        <div class="separator"></div>
      </ul>
    `}render(){return ze`
      ${this.renderHeader?this.headerSection:Ai}
      ${Object.keys(this.bookmarks).length?this.bookmarkslist:Ai}
    `}static get styles(){return[dt`
      :host {
        display: block;
        overflow-y: auto;
        box-sizing: border-box;
        color: var(--primaryTextColor);
        margin-bottom: 2rem;
        --activeBorderWidth: 2px;
      }

      icon-bookmark {
        width: 16px;
        height: 24px;
      }

      .separator {
        background-color: var(--secondaryBGColor);
        width: 98%;
        margin: 1px auto;
        height: 1px;
      }

      small {
        font-style: italic;
      }

      h4 {
        margin: 0;
        font-size: 1.4rem;
      }
      h4 * {
        display: inline-block;
      }
      h4 icon-bookmark {
        vertical-align: bottom;
      }
      h4 span {
        vertical-align: top;
        padding-top: 1%;
      }

      p {
        padding: 0;
        margin: 5px 0 0 0;
        width: 98%;
        overflow-wrap: break-word;
      }

      ia-bookmark-edit {
        margin: 5px 5px 3px 6px;
      }

      ul {
        padding: 0;
        list-style: none;
        margin: var(--activeBorderWidth) 0.5rem 1rem 0;
      }
      ul > li:first-child .separator {
        display: none;
      }
      li {
        cursor: pointer;
        outline: none;
        position: relative;
      }
      li .content {
        padding: 2px 0 4px 2px;
        border: var(--activeBorderWidth) solid transparent;
        padding: .2rem 0 .4rem .2rem;
      }
      li .content.active {
        border: var(--activeBorderWidth) solid #538bc5;
      }
      li button.edit {
        padding: 5px 2px 0 0;
        background: transparent;
        cursor: pointer;
        height: 40px;
        width: 40px;
        position: absolute;
        right: 2px;
        top: 2px;
        text-align: right;
        -webkit-appearance: none;
        appearance: none;
        outline: none;
        box-sizing: border-box;
        border: none;
      }
      li button.edit > * {
        display: block;
        height: 100%;
        width: 100%;
      }
    `,Z2]}};customElements.define("ia-bookmarks-list",LC);MC=class{constructor(e){let{baseHost:t,signedIn:r,bookreader:s,modal:l,onProviderChange:o}=e,c=`referer=${encodeURIComponent(location.href)}`,n=`https://${t}/account/login?${c}`;this.component=document.createElement("ia-bookmarks"),this.component.bookreader=s,this.component.displayMode=r?"bookmarks":"login",this.component.modal=l,this.component.loginOptions={loginClicked:this.bookmarksLoginClicked,loginUrl:n},this.bindEvents(),this.icon=ze`<icon-bookmark state="hollow" style="--iconWidth: 16px; --iconHeight: 24px;"></icon-bookmark>`,this.label="Bookmarks",this.id="bookmarks",this.onProviderChange=o,this.component.setup(),this.updateMenu(this.component.bookmarks.length)}updateMenu(e){this.menuDetails=`(${e})`}bindEvents(){this.component.addEventListener("bookmarksChanged",this.bookmarksChanged.bind(this))}bookmarksChanged({detail:e}){let t=Object.keys(e.bookmarks).length;this.updateMenu(t),this.onProviderChange(e.bookmarks,e.showSidePanel)}bookmarksLoginClicked(){var e;(e=window.archive_analytics)==null||e.send_event_no_sampling("BookReader","BookmarksLogin",window.location.path)}},OC=class{constructor({item:e,baseHost:t,bookreader:r}){let{identifier:s,creator:l,title:o}=e==null?void 0:e.metadata,c=Array.isArray(l)?l[0]:l,n=r.subPrefix||"",u="Share this book";this.icon=ze`${V2}`,this.label=u,this.id="share",this.component=ze`<iaux-in-share-panel
      .identifier=${s}
      .type=${"book"}
      .creator=${c}
      .description=${o}
      .baseHost=${t}
      .fileSubPrefix=${n}
    ></iaux-in-share-panel>`}},_h={title_asc:"title_asc",title_desc:"title_desc",default:"default"},IC=class{constructor({baseHost:e,bookreader:t,onProviderChange:r}){this.bookreader=t,this.onProviderChange=r,this.baseHost=e;let s=t.options.multipleBooksList.by_subprefix;if(this.viewableFiles=Object.keys(s).map(l=>s[l]),this.volumeCount=Object.keys(s).length,this.id="volumes",this.label=`Viewable files (${this.volumeCount})`,this.icon=ze`${W2}`,this.sortOrderBy=_h.default,this.component=document.createElement("iaux-in-viewable-files-panel"),this.component.addSortToUrl=!0,this.component.subPrefix=t.options.subPrefix||"",this.component.baseHost=e,this.component.fileList=[...this.viewableFiles],this.sortFilesComponent=document.createElement("iaux-in-sort-files-button"),this.sortFilesComponent.fileListRaw=this.viewableFiles,this.sortFilesComponent.addEventListener("fileListSorted",l=>this.handleFileListSorted(l)),this.actionButton=this.sortFilesComponent,this.bookreader.urlPlugin){this.bookreader.urlPlugin.pullFromAddressBar();let l=this.bookreader.urlPlugin.getUrlParam("sort");(l===_h.title_asc||l===_h.title_desc)&&(this.sortOrderBy=l)}this.sortFilesComponent.sortVolumes(this.sortOrderBy),this.onProviderChange(this.bookreader)}handleFileListSorted(e){return vi(this,null,function*(){let{sortType:t,sortedFiles:r}=e.detail;this.viewableFiles=r,this.sortOrderBy=t,this.component.fileList=[...this.viewableFiles],yield this.component.updateComplete,this.bookreader.urlPlugin&&(this.bookreader.urlPlugin.pullFromAddressBar(),this.sortOrderBy!==_h.default?this.bookreader.urlPlugin.setUrlParam("sort",this.sortOrderBy):this.bookreader.urlPlugin.removeUrlParam("sort")),this.onProviderChange(this.bookreader),this.multipleFilesClicked(this.sortOrderBy)})}multipleFilesClicked(e){var t;(t=window.archive_analytics)==null||t.send_event("BookReader",`VolumesSort|${e}`,window.location.path)}},RC=An`
  <svg class="ia-logo" width="27" height="30" viewBox="0 0 27 30" xmlns="http://www.w3.org/2000/svg" aria-labelledby="logoTitleID logoDescID">
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">A line drawing of the Internet Archive headquarters building faade.</desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z" id="path-1"></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z" id="swatch"></path>
      </g>
    </g>
  </svg>
`;kh={menuUpdated:"menuUpdated",updateSideMenu:"updateSideMenu",PostInit:"PostInit",ViewportInFullScreen:"ViewportInFullScreen"},DC=class extends fi{static get properties(){return{itemMD:{type:Object},bookReaderLoaded:{type:Boolean},bookreader:{type:Object},bookIsRestricted:{type:Boolean},downloadableTypes:{type:Array},isAdmin:{type:Boolean},lendingInitialized:{type:Boolean},lendingStatus:{type:Object},menuProviders:{type:Object},menuShortcuts:{type:Array},signedIn:{type:Boolean},loaded:{type:Boolean},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},fullscreenBranding:{type:Object}}}constructor(){super(),this.itemMD=void 0,this.loaded=!1,this.bookReaderCannotLoad=!1,this.bookReaderLoaded=!1,this.bookreader=null,this.bookIsRestricted=!1,this.downloadableTypes=[],this.isAdmin=!1,this.lendingInitialized=!1,this.lendingStatus={},this.menuProviders={bookmarks:null,search:null,downloads:null,visualAdjustments:null,share:null,volumes:null},this.menuShortcuts=[],this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.fullscreenBranding=RC,this.sharedObserverHandler=void 0,this.brWidth=0,this.brHeight=0,this.shortcutOrder=["fullscreen","volumes","chapters","search","bookmarks","downloads","visualAdjustments","share","experiments"]}disconnectedCallback(){this.sharedObserver.removeObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}firstUpdated(){this.bindEventListeners(),this.emitPostInit(),this.loaded=!0}updated(e){!this.bookreader||!this.itemMD||!this.bookReaderLoaded||((e.has("loaded")&&this.loaded||e.has("itemMD")||e.has("bookreader")||e.has("signedIn")||e.has("isAdmin")||e.has("modal"))&&this.initializeBookSubmenus(),e.has("sharedObserver")&&this.bookreader&&(this.loadSharedObserver(),this.initializeBookSubmenus()),e.has("downloadableTypes")&&this.initializeBookSubmenus())}emitPostInit(){var e;this.dispatchEvent(new CustomEvent(`BrBookNav:${kh.PostInit}`,{detail:{brSelector:(e=this.bookreader)==null?void 0:e.el},bubbles:!0,composed:!0}))}get baseProviderConfig(){return{baseHost:this.baseHost,modal:this.modal,sharedObserver:this.sharedObserver,bookreader:this.bookreader,item:this.itemMD,signedIn:this.signedIn,isAdmin:this.isAdmin,onProviderChange:()=>{}}}get isWideEnoughToOpenMenu(){return this.brWidth>=640}initializeBookSubmenus(){var t,r;let e={visualAdjustments:new SC(rn(Rr({},this.baseProviderConfig),{onProviderChange:()=>{this.updateMenuContents()}}))};this.baseProviderConfig.item&&(e.share=new OC(this.baseProviderConfig)),this.shouldShowDownloadsMenu()&&(e.downloads=new xC(this.baseProviderConfig)),(r=(t=this.bookreader.options.plugins)==null?void 0:t.search)!=null&&r.enabled&&(e.search=new yC(rn(Rr({},this.baseProviderConfig),{onProviderChange:(s=null,l={})=>{s&&(this.bookreader=s),this.updateMenuContents(),l.openMenu!==!1&&this.isWideEnoughToOpenMenu&&!(l!=null&&l.searchCanceled)&&setTimeout(()=>{this.updateSideMenu("search","open")},0)}}))),this.bookreader.options.enableBookmarks&&(e.bookmarks=new MC(rn(Rr({},this.baseProviderConfig),{onProviderChange:s=>{let l=Object.keys(s).length?"add":"remove";this[`${l}MenuShortcut`]("bookmarks"),this.updateMenuContents()}}))),this.bookreader.options.enableMultipleBooks&&(e.volumes=new IC(rn(Rr({},this.baseProviderConfig),{onProviderChange:(s=null,l={})=>{s&&(this.bookreader=s),this.updateMenuContents(),this.isWideEnoughToOpenMenu&&setTimeout(()=>{this.updateSideMenu("volumes","open")})}}))),Object.assign(this.menuProviders,e),this.addMenuShortcut("search"),this.addMenuShortcut("volumes"),this.updateMenuContents()}get mainBRContainer(){var e;return document.querySelector((e=this.bookreader)==null?void 0:e.el)}addFullscreenShortcut(){let e={icon:this.fullscreenShortcut,id:"fullscreen"};this.menuShortcuts.push(e),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}deleteFullscreenShortcut(){let e=this.menuShortcuts.filter(({id:t})=>t!=="fullscreen");this.menuShortcuts=e,this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated()}closeFullscreen(){this.bookreader.exitFullScreen()}get fullscreenShortcut(){return ze`
      <button
        @click=${()=>this.closeFullscreen()}
        title="Exit fullscreen view"
      >${this.fullscreenBranding}</button>
    `}updateSideMenu(e="",t="open"){if(!e)return;let r=new CustomEvent(kh.updateSideMenu,{detail:{menuId:e,action:t}});this.dispatchEvent(r)}updateMenuContents(){var r;let e=Y2(Object.entries(this.menuProviders).filter(([s,l])=>!!l).filter(([s,l])=>s==="downloads"?this.shouldShowDownloadsMenu():!0),([s,l])=>{let o=this.shortcutOrder.indexOf(s);return o===-1?this.shortcutOrder.length:o}).map(([s,l])=>l);this.shouldShowDownloadsMenu()&&((r=this.menuProviders.downloads)==null||r.update(this.downloadableTypes));let t=new CustomEvent(kh.menuUpdated,{detail:e});this.dispatchEvent(t)}shouldShowDownloadsMenu(){if(!this.downloadableTypes.length)return!1;if(this.bookIsRestricted===!1||this.isAdmin)return!0;let{user_loan_record:e={}}=this.lendingStatus;return Array.isArray(e)?!1:e.type&&e.type!=="SESSION_LOAN"}addMenuShortcut(e){this.menuShortcuts.find(t=>t.id===e)||this.menuProviders[e]&&(this.menuShortcuts.push(this.menuProviders[e]),this.sortMenuShortcuts(),this.emitMenuShortcutsUpdated())}removeMenuShortcut(e){this.menuShortcuts=this.menuShortcuts.filter(t=>t.id!==e),this.emitMenuShortcutsUpdated()}sortMenuShortcuts(){this.menuShortcuts=Y2(this.menuShortcuts,e=>{let t=this.shortcutOrder.indexOf(e.id);return t===-1?this.shortcutOrder.length:t})}emitMenuShortcutsUpdated(){let e=new CustomEvent("menuShortcutsUpdated",{detail:this.menuShortcuts});this.dispatchEvent(e)}emitLoadingStatusUpdate(e){let t=new CustomEvent("loadingStateUpdated",{detail:{loaded:e}});this.dispatchEvent(t)}bindEventListeners(){window.addEventListener("BookReader:PostInit",e=>{this.bookreader=e.detail.props,this.bookreader.shell=this,this.bookReaderLoaded=!0,this.bookReaderCannotLoad=!1,this.emitLoadingStatusUpdate(!0),this.loadSharedObserver(),setTimeout(()=>{this.bookreader.resize()},0)}),window.addEventListener("BookReader:fullscreenToggled",e=>{let{detail:{props:t=null}}=e;t&&(this.bookreader=t),this.manageFullScreenBehavior()},{passive:!0}),window.addEventListener("BookReader:ToggleSearchMenu",e=>{this.dispatchEvent(new CustomEvent(kh.updateSideMenu,{detail:{menuId:"search",action:"toggle"}}))}),window.addEventListener("LendingFlow:PostInit",({detail:e})=>{let{downloadTypesAvailable:t,lendingStatus:r,isAdmin:s,previewType:l}=e;this.lendingInitialized=!0,this.downloadableTypes=t,this.lendingStatus=r,this.isAdmin=s,this.bookReaderCannotLoad=l==="singlePagePreview",this.emitLoadingStatusUpdate(!0)}),window.addEventListener("BRJSIA:PostInit",({detail:e})=>{let{isRestricted:t,downloadURLs:r}=e;this.bookReaderLoaded=!0,this.downloadableTypes=r,this.bookIsRestricted=t}),window.addEventListener("contextmenu",e=>this.manageContextMenuVisibility(e),{capture:!0})}manageContextMenuVisibility(e){var t,r,s;if((s=window.archive_analytics)==null||s.send_event("BookReader",`contextmenu-${this.bookIsRestricted?"restricted":"unrestricted"}`,(r=(t=e.target)==null?void 0:t.classList)==null?void 0:r.value),!(!this.bookIsRestricted||!e.target.classList.value.match(/BRscreen|BRpageimage/g)))return e.preventDefault(),!1}loadSharedObserver(){var e;this.sharedObserverHandler={handleResize:this.handleResize.bind(this)},(e=this.sharedObserver)==null||e.addObserver({target:this.mainBRContainer,handler:this.sharedObserverHandler})}handleResize({contentRect:e,target:t}){var n;let r=this.brWidth,s=this.brHeight,{animating:l}=this.bookreader;t===this.mainBRContainer&&(this.brWidth=e.width,this.brHeight=e.height),!r&&this.brWidth&&this.initializeBookSubmenus();let o=r!==this.brWidth,c=s!==this.brHeight;!l&&(o||c)&&((n=this.bookreader)==null||n.resize())}manageFullScreenBehavior(){this.emitFullScreenState(),this.bookreader.options.enableFSLogoShortcut&&(this.bookreader.isFullscreen()?this.addFullscreenShortcut():this.deleteFullscreenShortcut())}emitFullScreenState(){let e=this.bookreader.isFullscreen(),t=new CustomEvent("ViewportInFullScreen",{detail:{isFullScreen:e}});this.dispatchEvent(t)}get itemImage(){var r;let e=(r=this.itemMD)==null?void 0:r.metadata.identifier,t=`https://${this.baseHost}/services/img/${e}`;return ze`<img class="cover-img" src=${t} alt="cover image for ${e}">`}get placeholder(){return ze`<div class="placeholder">${this.itemImage}</div>`}render(){return ze`<div id="book-navigator__root">
      ${this.bookReaderCannotLoad?this.placeholder:Ai}
      ${this.bookReaderCannotLoad?Ai:ze`<slot name="main"></slot>`}
    </div>
  `}static get styles(){return dt`
    :host,
    #book-navigator__root,
    slot,
    slot > * {
      display: block;
      height: inherit;
      width: inherit;
    }
    .placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      margin: 5%;
    }
    .cover-img {
      max-height: 300px;
    }
  `}};customElements.define("book-navigator",DC);Q2=class extends fi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{type:Boolean},fullscreen:{type:Boolean,reflect:!0,attribute:!0},sharedObserver:{type:Object,attribute:!1},modal:{type:Object,attribute:!1},loaded:{type:Boolean},menuShortcuts:{type:Array},menuContents:{type:Array}}}constructor(){super(),this.item=void 0,this.bookreader=void 0,this.baseHost="archive.org",this.fullscreen=!1,this.signedIn=!1,this.modal=void 0,this.sharedObserver=void 0,this.loaded=!1,this.menuShortcuts=[],this.menuContents=[],this.openMenuName=""}updated(){this.modal||this.setModalManager(),this.sharedObserver||(this.sharedObserver=new Do)}get itemNav(){return this.shadowRoot.querySelector("iaux-item-navigator")}setModalManager(){let e=document.querySelector("modal-manager");e||(e=document.createElement("modal-manager"),document.body.appendChild(e)),this.modal=e}manageFullscreen(e){let{detail:t}=e,r=!!t.isFullScreen;this.fullscreen=r,this.dispatchEvent(new CustomEvent("fullscreenStateUpdated",{detail:{fullscreen:r}}))}loadingStateUpdated(e){let{loaded:t}=e.detail;this.loaded=t||null,this.dispatchEvent(new CustomEvent("loadingStateUpdated",{detail:{loaded:t}}))}setMenuShortcuts(e){this.menuShortcuts=[...e.detail]}setMenuContents(e){let t=[...e.detail];this.menuContents=t}manageSideMenuEvents(e){var s,l;let{menuId:t,action:r}=e.detail;t&&(this.openMenuName=t,r==="open"?(s=this.itemNav)==null||s.openShortcut(t):r==="toggle"&&((l=this.itemNav)==null||l.toggleMenu()))}render(){return ze`
      <div class="main-component">
        <iaux-item-navigator
          ?viewportInFullscreen=${this.fullscreen}
          .basehost=${this.baseHost}
          .item=${this.item}
          .modal=${this.modal}
          .loaded=${this.loaded}
          .sharedObserver=${this.sharedObserver}
          ?signedIn=${this.signedIn}
          .menuShortcuts=${this.menuShortcuts}
          .menuContents=${this.menuContents}
          .openMenu=${this.openMenuName}
        >
          <div slot="header">
            <slot name="header"></slot>
          </div>
          <div slot="main">
            <book-navigator
              .modal=${this.modal}
              .baseHost=${this.baseHost}
              .itemMD=${this.item}
              ?signedIn=${this.signedIn}
              ?sideMenuOpen=${this.menuOpened}
              .sharedObserver=${this.sharedObserver}
              @ViewportInFullScreen=${this.manageFullscreen}
              @loadingStateUpdated=${this.loadingStateUpdated}
              @updateSideMenu=${this.manageSideMenuEvents}
              @menuUpdated=${this.setMenuContents}
              @menuShortcutsUpdated=${this.setMenuShortcuts}
            >
              <div slot="main">
                <slot name="main"></slot>
              </div>
            </book-navigator>
          </div>
        </iaux-item-navigator>
      </div>
    `}static get styles(){return dt`
      :host {
        display: block;
        --primaryBGColor: var(--black, #000);
        --secondaryBGColor: #222;
        --tertiaryBGColor: #333;
        --primaryTextColor: var(--white, #fff);
        --primaryCTAFill: #194880;
        --primaryCTABorder: #c5d1df;
        --secondaryCTAFill: #333;
        --secondaryCTABorder: #999;
        --primaryErrorCTAFill: #e51c26;
        --primaryErrorCTABorder: #f8c6c8;
        background-color: var(--primaryBGColor);
        position: relative;
      }

      :host([fullscreen]),
      iaux-item-navigator[viewportinfullscreen] {
        position: fixed;
        inset: 0;
        height: 100%;
        min-height: unset;
      }

      .main-component {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        display: flex;
        width: 100%;
      }

      slot {
        display: block;
        flex: 1;
      }

      iaux-item-navigator {
        min-height: var(--br-height, inherit);
        height: var(--br-height, inherit);
        display: block;
        width: 100%;
        color: var(--primaryTextColor);
        --menuButtonLabelDisplay: block;
        --menuWidth: 320px;
        --menuSliderBg: var(--secondaryBGColor);
        --activeButtonBg: var(--tertiaryBGColor);
        --subpanelRightBorderColor: var(--secondaryCTABorder);
        --animationTiming: 100ms;
        --iconFillColor: var(--primaryTextColor);
        --iconStrokeColor: var(--primaryTextColor);
        --menuSliderHeaderIconHeight: 2rem;
        --menuSliderHeaderIconWidth: 2rem;
        --iconWidth: 2.4rem;
        --iconHeight: 2.4rem;
        --shareLinkColor: var(--primaryTextColor);
        --shareIconBorder: var(--primaryTextColor);
        --shareIconBg: var(--secondaryBGColor);
        --activityIndicatorLoadingDotColor: var(--primaryTextColor);
        --activityIndicatorLoadingRingColor: var(--primaryTextColor);
      }
    `}};window.customElements.define("ia-bookreader",Q2)});var tx={};Fn(tx,{IaBookReader:()=>Q2});var ix=si(()=>{xi();pg();bc();Hs();gg();wh();vg();yg();xh();bg();al();ds();ju();wg();xg();_g();ex()});function jC(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function NC(e){return vi(this,null,function*(){return yield new Promise((t,r)=>{let s=new Image;s.onload=()=>t(s),s.onerror=r,s.src=e})})}function BC(e){return vi(this,null,function*(){let t=[];return yield Promise.all(e.map(r=>vi(this,null,function*(){let s;try{s=yield NC(r.uri)}catch(o){s=new Image(300,300)}console.log("^^^^^^^^^^^^^^ FETCH IMAGE ~~~~~~~",s,s.height,s.width);let l=e.indexOf(r);t[l]=rn(Rr({},r),{width:s.width,height:s.height})}))),t})}function rx(l){return vi(this,arguments,function*({images:e=[],itemIdentifier:t="",itemTitle:r="",baseHost:s="archive.org"}){let o=(yield fetch(`https://${s}/metadata/${t}/metadata`).then(m=>m.json())).result||{},c=e.map((m,y)=>{let _=y%2===1?"L":"R";return console.log("imgPath",m),{uri:`https://${s}/download/${t}${m}`,leafNum:y,pageType:"Normal",pageSide:_}}),n=yield BC(c),u=[];n.forEach((m,y)=>{if(y===0){u.push([m]);return}if(y%2===1){u.push([m]);return}y%2===0&&u[u.length-1].push(m)});let h=rn(Rr({bookId:t,bookPath:`/download/${t}`,bookTitle:r,defaults:"mode/1up",dfaultStartLeaf:0,ppi:200,data:u},jC()),{enableSearch:!1,plugins:{textSelection:{enabled:!1}}}),g={data:{streamOnly:!1,isRestricted:!1,id:t,subPrefix:t,bookUrl:`/details/${t}`},brOptions:h,metadata:o};return console.log("**** MANIFEST _---",g,h),g})}var nx=si(()=>{});var ox=si(()=>{nx()});var pa,HC,Ka,Ag,Go,Pn,FC,ax,zC,UC,VC,Cr,Yo,Sh,Ah,WC,qC,ul,Cg,GC,YC,sx,dl=si(()=>{vr();In();Bn();vr();In();Bn();Bn();Bn();Bn();Bn();Bn();Bn();Bn();vr();In();Bn();vr();In();Bn();pa=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};ae([xt()],pa.prototype,"values",null);ae([xt()],pa.prototype,"value",null);HC=class extends pa{constructor(e){super(tc.shared,e)}},Ka=class extends pa{constructor(e){super(qo.shared,e)}},Ag=class extends pa{constructor(e){super(Ca.shared,e)}},Go=class extends pa{constructor(e){super(Wn.shared,e)}},Pn=class extends pa{constructor(e){super(Ea.shared,e)}},FC=class extends pa{constructor(e){super(rc.shared,e)}},ax=class extends pa{constructor(e){super(Wo.shared,e)}},zC=class extends pa{constructor(e){super(ic.shared,e)}},UC=class extends pa{constructor(e,t){super(t,e)}},VC=class extends UC{constructor(e){let t=new Zd(Ea.shared);super(e,t)}},Cr=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new Ka(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new Pn(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new Go(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new Go(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new Pn(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new Pn(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new ax(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new Pn(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new Pn(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new Pn(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new Ka(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new Pn(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new Go(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Ag(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new Pn((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new Go(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new Ka(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new Pn(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new Pn(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new Go(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new ax(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new Pn(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Ag(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new Pn(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new Go(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new zC(this.rawMetadata.mediatype):void 0}get noindex(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.noindex?new HC(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new Pn(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new Go(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new Go(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new Pn(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new Pn(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new FC(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new Pn(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new Go(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new Ka(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new Pn(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new Ka(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Ag(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new Pn(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new Pn(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new Ka(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new Ka(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new Ka(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new VC(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new Pn(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new Pn(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new Pn(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new Go(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new Pn(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new Pn(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new Go(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new Pn(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new Pn(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new Go(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new Ka(this.rawMetadata.year):void 0}};ae([xt()],Cr.prototype,"addeddate",null);ae([xt()],Cr.prototype,"audio_codec",null);ae([xt()],Cr.prototype,"audio_sample_rate",null);ae([xt()],Cr.prototype,"avg_rating",null);ae([xt()],Cr.prototype,"collection",null);ae([xt()],Cr.prototype,"collections_raw",null);ae([xt()],Cr.prototype,"collection_size",null);ae([xt()],Cr.prototype,"contributor",null);ae([xt()],Cr.prototype,"coverage",null);ae([xt()],Cr.prototype,"creator",null);ae([xt()],Cr.prototype,"date",null);ae([xt()],Cr.prototype,"description",null);ae([xt()],Cr.prototype,"downloads",null);ae([xt()],Cr.prototype,"duration",null);ae([xt()],Cr.prototype,"external-identifier",null);ae([xt()],Cr.prototype,"files_count",null);ae([xt()],Cr.prototype,"indexdate",null);ae([xt()],Cr.prototype,"isbn",null);ae([xt()],Cr.prototype,"issue",null);ae([xt()],Cr.prototype,"item_count",null);ae([xt()],Cr.prototype,"item_size",null);ae([xt()],Cr.prototype,"language",null);ae([xt()],Cr.prototype,"length",null);ae([xt()],Cr.prototype,"lineage",null);ae([xt()],Cr.prototype,"month",null);ae([xt()],Cr.prototype,"mediatype",null);ae([xt()],Cr.prototype,"noindex",null);ae([xt()],Cr.prototype,"notes",null);ae([xt()],Cr.prototype,"num_favorites",null);ae([xt()],Cr.prototype,"num_reviews",null);ae([xt()],Cr.prototype,"openlibrary_edition",null);ae([xt()],Cr.prototype,"openlibrary_work",null);ae([xt()],Cr.prototype,"page_progression",null);ae([xt()],Cr.prototype,"partner",null);ae([xt()],Cr.prototype,"ppi",null);ae([xt()],Cr.prototype,"publicdate",null);ae([xt()],Cr.prototype,"publisher",null);ae([xt()],Cr.prototype,"reviewdate",null);ae([xt()],Cr.prototype,"runtime",null);ae([xt()],Cr.prototype,"scanner",null);ae([xt()],Cr.prototype,"source",null);ae([xt()],Cr.prototype,"start_localtime",null);ae([xt()],Cr.prototype,"start_time",null);ae([xt()],Cr.prototype,"stop_time",null);ae([xt()],Cr.prototype,"subject",null);ae([xt()],Cr.prototype,"taper",null);ae([xt()],Cr.prototype,"title",null);ae([xt()],Cr.prototype,"transferer",null);ae([xt()],Cr.prototype,"track",null);ae([xt()],Cr.prototype,"type",null);ae([xt()],Cr.prototype,"uploader",null);ae([xt()],Cr.prototype,"utc_offset",null);ae([xt()],Cr.prototype,"venue",null);ae([xt()],Cr.prototype,"volume",null);ae([xt()],Cr.prototype,"week",null);ae([xt()],Cr.prototype,"year",null);Yo=class{constructor(e){this.rawValue=e}get name(){return this.rawValue.name}get source(){return this.rawValue.source}get btih(){return this.rawValue.btih}get md5(){return this.rawValue.md5}get format(){return this.rawValue.format}get mtime(){return this.rawValue.mtime}get crc32(){return this.rawValue.crc32}get sha1(){return this.rawValue.sha1}get original(){return this.rawValue.original}get size(){return this.rawValue.size?Wo.shared.parseValue(this.rawValue.size):void 0}get title(){return this.rawValue.title}get length(){return this.rawValue.length?Ca.shared.parseValue(this.rawValue.length):void 0}get height(){return this.rawValue.height?Wn.shared.parseValue(this.rawValue.height):void 0}get width(){return this.rawValue.width?Wn.shared.parseValue(this.rawValue.width):void 0}get track(){return this.rawValue.track?Wn.shared.parseValue(this.rawValue.track):void 0}get external_identifier(){return this.rawValue.external_identifier}get creator(){return this.rawValue.creator}get album(){return this.rawValue.album}};ae([xt()],Yo.prototype,"size",null);ae([xt()],Yo.prototype,"length",null);ae([xt()],Yo.prototype,"height",null);ae([xt()],Yo.prototype,"width",null);ae([xt()],Yo.prototype,"track",null);Sh=class{constructor(e){this.rawValue=e}get reviewbody(){return this.rawValue.reviewbody}get reviewtitle(){return this.rawValue.reviewtitle}get reviewer(){return this.rawValue.reviewer}get reviewdate(){return this.rawValue.reviewdate?qo.shared.parseValue(this.rawValue.reviewdate):void 0}get createdate(){return this.rawValue.createdate?qo.shared.parseValue(this.rawValue.createdate):void 0}get stars(){return this.rawValue.stars?Wn.shared.parseValue(this.rawValue.stars):void 0}};ae([xt()],Sh.prototype,"reviewdate",null);ae([xt()],Sh.prototype,"createdate",null);ae([xt()],Sh.prototype,"stars",null);Ah=class{constructor(e){var t,r;this.rawResponse=e,this.created=e.created,this.d1=e.d1,this.d2=e.d2,this.dir=e.dir,this.files=(t=e.files)===null||t===void 0?void 0:t.map(s=>new Yo(s)),this.files_count=e.files_count,this.item_last_updated=e.item_last_updated,this.item_size=e.item_size,this.metadata=new Cr(e.metadata),this.server=e.server,this.uniq=e.uniq,this.workable_servers=e.workable_servers,this.speech_vs_music_asr=e.speech_vs_music_asr,this.reviews=(r=e.reviews)===null||r===void 0?void 0:r.map(s=>new Sh(s))}},WC=class{constructor(e){this.numFound=e.numFound,this.start=e.start,this.docs=e.docs.map(t=>new Cr(t)),this.aggregations=e.aggregations}},qC=class{constructor(e){this.rawResponse=e,this.responseHeader=e.responseHeader,this.response=new WC(e.response)}};(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(ul||(ul={}));Cg=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},GC=class{static aggregateSearchParamsAsString(e){if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field} ${e.direction}`}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("q",e.query),t.append("output","json"),e.rows&&t.append("rows",String(e.rows)),e.page&&t.append("page",String(e.page)),e.fields&&t.append("fl",e.fields.join(",")),e.sort){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("user_aggs",s)}return t}},YC=class{constructor(e){var t;if(this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null,(e==null?void 0:e.scope)!==void 0)this.requestScope=e.scope;else{let r=new URL(window.location.href).searchParams.get("scope");r&&(this.requestScope=r)}}performSearch(e){return vi(this,null,function*(){let t=GC.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}/advancedsearch.php?${t}`;return this.fetchUrl(r)})}fetchMetadata(e,t){return vi(this,null,function*(){let r=t?`/${t}`:"",s=`https://${this.baseUrl}/metadata/${e}${r}`;return this.fetchUrl(s,{requestOptions:{credentials:"omit"}})})}fetchUrl(e,t){return vi(this,null,function*(){var r;let s=new URL(e);this.requestScope&&s.searchParams.set("scope",this.requestScope);let l;try{let o=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};l=yield fetch(s.href,o)}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(ul.networkError,c)}try{let o=yield l.json(),c=o.error;if(c){let n=o.forensics;return this.getErrorResult(ul.searchEngineError,c,n)}else return{success:o}}catch(o){let c=o instanceof Error?o.message:typeof o=="string"?o:"Unknown error";return this.getErrorResult(ul.decodingError,c)}})}getErrorResult(e,t,r){return{error:new Cg(e,t,r)}}},sx=class{constructor(e){this.searchBackend=e}search(e){return vi(this,null,function*(){let t=yield this.searchBackend.performSearch(e);return t.error?t:{success:new qC(t.success)}})}fetchMetadata(e){return vi(this,null,function*(){var t;let r=yield this.searchBackend.fetchMetadata(e);return r.error?r:((t=r.success)===null||t===void 0?void 0:t.metadata)===void 0?{error:new Cg(ul.itemNotFound)}:{success:new Ah(r.success)}})}fetchMetadataValue(e,t){return vi(this,null,function*(){var r;let s=yield this.searchBackend.fetchMetadata(e,t);return s.error?s:((r=s.success)===null||r===void 0?void 0:r.result)===void 0?{error:new Cg(ul.itemNotFound)}:{success:s.success.result}})}};sx.default=new sx(new YC)});var KC,lx,cx=si(()=>{dl();dl();KC=class extends Yo{constructor(e,t="archive.org"){super(e),this.isSegmented=!1,this.private=!1,this.details=null,this.orig="",this.image="",this.duration=0,this.sources=[],this._playlistTrack=null,this.details=e.details,this.baseHost=t}setPlaylistInfo(e){this._playlistTrack=e,this.orig=e.orig,this.image=e.image,this.duration=e.duration,this.sources=e.sources}get url(){return`https://${this.baseHost}/${this.name}`}get title(){var e;return((e=this._playlistTrack)===null||e===void 0?void 0:e.title)||(this===null||this===void 0?void 0:this.title)||this.name}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){return Array.isArray(this.rawValue["external-identifier"])?this.rawValue["external-identifier"]:[this.rawValue["external-identifier"]||""]}},lx=class{constructor(e,t){this.tracks=[],this.images=[],this.linerNotes=[],this.tracksAreSegmented=!1,this.baseHost="archive.org",this.relatedFiles=[],this.rawPlaylistTracks=[],this.item=new Ah(e),this.rawPlaylistTracks=t,this.tracks=t,this.filterFiles(this.item.files)}get title(){var e,t;return((t=(e=this.item.metadata)===null||e===void 0?void 0:e.title)===null||t===void 0?void 0:t.values.join("; "))||""}get creator(){var e,t,r,s,l,o;return!((t=(e=this.item.metadata)===null||e===void 0?void 0:e.creator)===null||t===void 0)&&t.values?(s=(r=this.item.metadata)===null||r===void 0?void 0:r.creator)===null||s===void 0?void 0:s.values.join("; "):!((l=this.item.metadata.rawMetadata)===null||l===void 0)&&l.artist?(o=this.item.metadata.rawMetadata)===null||o===void 0?void 0:o.artist:""}get youtubeId(){return this.externalIds.find(e=>e.match(/youtube/gi))||""}get spotifyId(){return this.externalIds.find(e=>e.match(/spotify/gi))||""}get externalIds(){var e;if(!this.item.metadata.rawMetadata)return[""];let t=this.item.metadata["external-identifier"];return!((e=t==null?void 0:t.values)===null||e===void 0)&&e.length?t.values:[(t==null?void 0:t.value)||""]}get youtubeTracks(){let e=this.tracks.filter(t=>t.youtubeId);return this.albumTrackOption("yt")!==void 0&&e.unshift(this.albumTrackOption("yt")),e}get spotifyTracks(){let e=this.tracks.filter(t=>t.spotifyId);return this.albumTrackOption("sp")!==void 0&&e.unshift(this.albumTrackOption("sp")),e}get albumImage(){let e=this.images.find(s=>s.format==="Item Image"),t=`https://${this.baseHost}/download/${this.item.metadata.identifier}/`;if(e)return`${t}${e.name}`;let r=this.images.find(s=>{let l=["Item Image","JPEG Thumb"];return s.source==="original"&&!l.includes(s.format)});return r?`${t}${r.name}`:`${t}__ia_thumb.jpg`}albumTrackOption(e){let t={title:"Full Album",orig:"",image:"",duration:"-- : --",track:0,iaTrackNum:-1,sources:[]};if(e==="yt"&&this.youtubeId)return rn(Rr({},t),{youtubeId:this.youtubeId});if(e==="sp"&&this.spotifyId)return rn(Rr({},t),{spotifyId:this.spotifyId})}isAlbumRelatedFile(e){var t,r;return!!(!((t=e.name.match(/.(ffp|md5)$/g))===null||t===void 0)&&t.length)&&!!(!((r=e.original)===null||r===void 0)&&r.length)&&e.source==="derivative"}isValidAudioFile(e=""){var t;return!!(!((t=e.match(/(mp3|ogg|flac|m4a|wma|aiff|aac|aa|ra|ram|shn|wav|wave|opus)$/gi))===null||t===void 0)&&t.length)}isValidImageFile(e=""){var t;return!!(!((t=e.match(/.(png|jpg|jpeg)$/gi))===null||t===void 0)&&t.length)}isValidImageFileFormat(e=""){var t;return!!(!((t=e.match(/(png|jpg|jpeg)/gi))===null||t===void 0)&&t.length)}isValidSegmentFile(e=""){var t;return!!(!((t=e.match(/_segments.(json|xml)$/gi))===null||t===void 0)&&t.length)}isSpectrogram(e=""){var t;return!!(!((t=e.match(/spectrogram/gi))===null||t===void 0)&&t.length)}isSampleMP3(e=""){var t;return!!(!((t=e.match(/_sample\.mp3$/gi))===null||t===void 0)&&t.length)}hasScannedLinerNotes(e=""){var t;return!!(!((t=e.match(/_jp2.(zip|tar)/gi))===null||t===void 0)&&t.length)}filterFiles(e){let t=[],r={};e.forEach(l=>{var o,c;let n=l.rawValue,u=this.isValidAudioFile(n.name);if(this.isAlbumRelatedFile(n)){this.relatedFiles.push(n);return}if(this.isValidSegmentFile(n.name)&&(this.tracksAreSegmented=!0,this.relatedFiles.push(n),n.original&&this.isValidAudioFile(n.name)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0})),n.source==="original"&&!r[n.name]&&u&&(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),n.original&&this.isValidAudioFile(n.original)&&!r[n.original]&&(r[n.original]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),this.hasScannedLinerNotes(n.name)&&this.linerNotes.push(n),this.isValidImageFile(n.name)){n.original&&this.isValidAudioFile(n.original)?r[n.original].spectrogram=n:t.push(n);return}if(n.original&&this.isValidAudioFile(n.original)&&!this.isValidAudioFile(n.name)){r[n.original].related.push(n);return}if(!this.isValidAudioFile(n.name)||!this.isValidImageFile(n.name)&&!this.isValidAudioFile(n.name))return;let h=this.isValidSegmentFile(n.original)&&this.isValidAudioFile(n.name);if(n.source==="original"&&this.isValidAudioFile(n.name)||h){r[n.name]||(r[n.name]={primary:void 0,spectrogram:void 0,related:[],sampleMp3:void 0,fullMp3:void 0}),r[n.name].primary=n;return}if(!((o=n.name.match(/_sample\.mp3$/))===null||o===void 0)&&o.length&&n.original){r[n.original].sampleMp3=new Yo(n);return}this.isValidAudioFile(n.name)&&!this.isSampleMP3(n.name)&&this.isValidAudioFile(n.original)&&n.original&&(!((c=n.name.match(/.mp3$/))===null||c===void 0)&&c.length?r[n.original].fullMp3=n:r[n.original].related.push(n))}),this.images=t;let s=[];this.tracks.forEach((l,o)=>{let c=r[l.orig].primary,n=new KC(rn(Rr(Rr({},l),c),{details:r[l.orig]}),"archive.org");n.setPlaylistInfo(l),s[o]=n}),this.tracks=s}}});var ux=si(()=>{dl();cx()});var dx=si(()=>{Uc();Vl();Ip();Rp();xi()});var Eg=si(()=>{dx()});var XC,ZC,Tg=si(()=>{xi();xi();XC=ze`
<svg
  viewBox="0 0 40 40"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg"
  aria-labelledby="audioTitleID audioDescID"
>
  <title id="audioTitleID">Audio icon</title>
  <desc id="audioDescID">An illustration of an audio speaker.</desc>
  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
    <g transform="translate(10, 8)" class="fill-color">
      <path
        d="M19.4264564,11.8585048 L19.4264564,20.7200433 C19.4264564,22.3657576 18.8838179,23.2519114 16.8489237,23.2519114 C12.2364969,23.125318 7.75972977,23.125318 3.14730298,23.2519114 C1.24806842,23.2519114 0.569770368,22.492351 0.569770368,20.7200433 L0.569770368,2.74377955 C0.569770368,1.09806526 1.11240881,0.211911416 3.14730298,0.211911416 C7.75972977,0.338504822 12.2364969,0.338504822 16.8489237,0.211911416 C18.7481583,0.211911416 19.4264564,0.971471855 19.4264564,2.74377955 C19.2907967,5.78202131 19.4264564,8.82026306 19.4264564,11.8585048 L19.4264564,11.8585048 Z M10.0659432,2.74377955 C8.16670861,2.74377955 6.67445288,4.13630702 6.67445288,5.90861471 C6.67445288,7.6809224 8.16670861,9.07344988 10.0659432,9.07344988 C11.9651777,9.07344988 13.4574335,7.6809224 13.4574335,5.90861471 C13.4574335,4.13630702 11.8295181,2.74377955 10.0659432,2.74377955 L10.0659432,2.74377955 Z M10.0659432,11.4787246 C7.21709133,11.4787246 5.04653754,13.6308125 5.04653754,16.1626806 C5.04653754,18.8211422 7.35275094,20.8466367 10.0659432,20.8466367 C12.914795,20.8466367 15.0853488,18.6945488 15.0853488,16.1626806 C15.0853488,13.6308125 12.7791354,11.4787246 10.0659432,11.4787246 L10.0659432,11.4787246 Z"
      ></path>
      <ellipse cx="10.2016028" cy="16.5690777" rx="1.35659611" ry="1.34075134"></ellipse>
    </g>
  </g>
</svg>
`,ZC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return XC}};customElements.define("ia-icon-audio",ZC)});var JC,QC,Pg=si(()=>{xi();xi();JC=ze`
  <svg
    height="12"
    viewBox="0 0 12 12"
    width="12"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="closeCircleTitleID closeCircleDescID"
  >
    <title id="closeCircleTitleID">Close circle icon</title>
    <desc id="closeCircleDescID">A line drawing of an X in a circle</desc>
    <path
      d="m6 0c3.3137085 0 6 2.6862915 6 6s-2.6862915 6-6 6-6-2.6862915-6-6 2.6862915-6 6-6zm-2.3406945 2.96359116c-.19486814-.13499605-.46429254-.1157109-.63785889.05785545-.19526215.19526215-.19526215.51184463 0 .70710678l2.27155339 2.27144661-2.20567981 2.20557302-.05785545.06924789c-.13499605.19486814-.1157109.46429254.05785545.6378589.19526215.19526214.51184464.19526214.70710679 0l2.20557302-2.20567981 2.20557302 2.20567981.06924789.05785545c.19486814.13499605.46429254.1157109.6378589-.05785545.19526214-.19526215.19526214-.51184464 0-.70710679l-2.20567981-2.20557302 2.27155339-2.27144661.05785545-.06924789c.13499605-.19486814.1157109-.46429254-.05785545-.63785889-.19526215-.19526215-.51184463-.19526215-.70710678 0l-2.27144661 2.27155339-2.27144661-2.27155339z"
      class="fill-color"
      fill-rule="evenodd"
    />
  </svg>
`,QC=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor, #999);
      }
    `}render(){return JC}};customElements.define("ia-icon-close-circle",QC)});function kx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return hx!==void 0?hx.createHTML(t):t}function xc(e,t,r=e,s){var l,o,c,n;if(t===Uu)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=zu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=xc(e,u._$AS(e,t.values),u,s)),t}var $g,Ch,wc,hx,Og,vs,bx,e9,fl,Fu,zu,wx,t9,Lg,Hu,px,fx,hl,mx,gx,xx,_x,yq,bq,Uu,Jn,vx,pl,i9,Ig,r9,Rg,Eh,n9,o9,a9,s9,l9,Mg,c9,yx,Cx,Ex=si(()=>{Kl();ng();Ch=window,wc=Ch.trustedTypes,hx=wc?wc.createPolicy("lit-html",{createHTML:e=>e}):void 0,Og="$lit$",vs=`lit$${(Math.random()+"").slice(9)}$`,bx="?"+vs,e9=`<${bx}>`,fl=document,Fu=()=>fl.createComment(""),zu=e=>e===null||typeof e!="object"&&typeof e!="function",wx=Array.isArray,t9=e=>wx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Lg=`[ 	
\f\r]`,Hu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,px=/-->/g,fx=/>/g,hl=RegExp(`>|${Lg}(?:([^\\s"'>=/]+)(${Lg}*=${Lg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),mx=/'/g,gx=/"/g,xx=/^(?:script|style|textarea|title)$/i,_x=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),yq=_x(1),bq=_x(2),Uu=Symbol.for("lit-noChange"),Jn=Symbol.for("lit-nothing"),vx=new WeakMap,pl=fl.createTreeWalker(fl,129,null,!1);i9=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Hu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Hu?g[1]==="!--"?c=px:g[1]!==void 0?c=fx:g[2]!==void 0?(xx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=hl):g[3]!==void 0&&(c=hl):c===hl?g[0]===">"?(c=l!=null?l:Hu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?hl:g[3]==='"'?gx:mx):c===gx||c===mx?c=hl:c===px||c===fx?c=Hu:(c=hl,l=void 0);let _=c===hl&&e[n+1].startsWith("/>")?" ":"";o+=c===Hu?u+e9:m>=0?(s.push(h),u.slice(0,m)+Og+u.slice(m)+vs+_):u+vs+(m===-2?(s.push(void 0),n):_)}return[kx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Ig=class Sx{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=i9(t,r);if(this.el=Sx.createElement(h,s),pl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=pl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Og)||y.startsWith(vs)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+Og).split(vs),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?n9:k[1]==="?"?a9:k[1]==="@"?s9:Eh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(xx.test(l.tagName)){let m=l.textContent.split(vs),y=m.length-1;if(y>0){l.textContent=wc?wc.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],Fu()),pl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Fu())}}}else if(l.nodeType===8)if(l.data===bx)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(vs,m+1))!==-1;)u.push({type:7,index:o}),m+=vs.length-1}o++}}static createElement(t,r){let s=fl.createElement("template");return s.innerHTML=t,s}};r9=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:fl).importNode(r,!0);pl.currentNode=l;let o=pl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new Rg(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new l9(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=pl.nextNode(),c++)}return pl.currentNode=fl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Rg=class Ax{constructor(t,r,s,l){var o;this.type=2,this._$AH=Jn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=xc(this,t,r),zu(t)?t===Jn||t==null||t===""?(this._$AH!==Jn&&this._$AR(),this._$AH=Jn):t!==this._$AH&&t!==Uu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):t9(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Jn&&zu(this._$AH)?this._$AA.nextSibling.data=t:this.$(fl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Ig.createElement(kx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new r9(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=vx.get(t.strings);return r===void 0&&vx.set(t.strings,r=new Ig(t)),r}T(t){wx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new Ax(this.k(Fu()),this.k(Fu()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Eh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Jn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Jn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=xc(this,e,t,0),o=!zu(e)||e!==this._$AH&&e!==Uu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=xc(this,c[r+n],t,n),u===Uu&&(u=this._$AH[n]),o||(o=!zu(u)||u!==this._$AH[n]),u===Jn?e=Jn:e!==Jn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Jn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},n9=class extends Eh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Jn?void 0:e}},o9=wc?wc.emptyScript:"",a9=class extends Eh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Jn?this.element.setAttribute(this.name,o9):this.element.removeAttribute(this.name)}},s9=class extends Eh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=xc(this,e,t,0))!==null&&r!==void 0?r:Jn)===Uu)return;let s=this._$AH,l=e===Jn&&s!==Jn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Jn&&(s===Jn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},l9=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){xc(this,e)}},Mg=Ch.litHtmlPolyfillSupport;Mg==null||Mg(Ig,Rg),(($g=Ch.litHtmlVersions)!==null&&$g!==void 0?$g:Ch.litHtmlVersions=[]).push("2.8.0");c9=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new Rg(t.insertBefore(Fu(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c},yx=e=>v2(e)?e._$litType$.h:e.strings,Cx=ka(class extends Sa{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[t]){let r=rg(this.et)?yx(this.et):null,s=rg(t)?yx(t):null;if(r!==null&&(s===null||r!==s)){let l=Ou(e).pop(),o=this.tt.get(r);if(o===void 0){let c=document.createDocumentFragment();o=c9(Jn,c),o.setConnected(!1),this.tt.set(r,o)}Mu(o,[l]),Ga(o,void 0,l)}if(s!==null){if(r===null||r!==s){let l=this.tt.get(s);if(l!==void 0){let o=Ou(l).pop();y2(e),Ga(e,void 0,o),Mu(e,[o])}}this.et=t}else this.et=void 0;return this.render(t)}});});var Dg=si(()=>{Ex()});var Xa,jg=si(()=>{vr();xi();Nr();Xa=class extends fi{constructor(){super(...arguments),this.open=!1,this.displayCaret=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{}}renderOption(e){let{label:t,url:r=void 0,id:s}=e,l,o=this.selectedOption===s?"selected":"";return r?l=ze`<a
        href=${r}
        @click=${()=>this.optionClicked(e)}
        >${t}</a
      >`:l=ze`<button
        @click=${()=>this.optionClicked(e)}
      >
        ${t}
      </button>`,ze`<li class=${o}>${l}</li>`}optionClicked(e){this.selectedOption=e.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:e}})),e.selectedHandler&&(e==null||e.selectedHandler(e))}toggleOptions(){this.open=!this.open}get caret(){return this.open?this.caretUp:this.caretDown}get dropdownState(){return this.open?"open":"closed"}get caretUp(){return An`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
      fill=""></path>
  </svg>`}get caretDown(){return An`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill=""></path>
  </svg>`}get availableOptions(){return this.options.filter(e=>this.selectedOption!==e.id)}render(){return ze`
      <div class="ia-dropdown-group">
        <button @click=${this.toggleOptions} class="click-main">
          <span class="cta sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.displayCaret?ze`<span class="caret">${this.caret}</span>`:Ai}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.availableOptions.map(e=>this.renderOption(e))}
        </ul>
      </div>
    `}};Xa.styles=dt`
    :host {
      display: inline;
      color: var(--dropdownTextColor, #fff);
    }

    svg.caret-up-svg,
    svg.caret-down-svg {
      fill: var(--dropdownCaretColor, #fff);
      vertical-align: middle;
    }

    button.click-main {
      background: transparent;
      color: inherit;
      border: none;
      cursor: pointer;
      outline: inherit;
      display: flex;
      align-items: center;
      justify-content: center;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: row;
      padding-left: 0;
    }

    button slot {
      padding-right: 5px;
      display: inline-block;
    }

    .ia-dropdown-group {
      width: inherit;
      height: inherit;
      position: relative;
    }

    .sr-only {
      border: 0 !important;
      clip: rect(1px, 1px, 1px, 1px) !important;
      -webkit-clip-path: inset(50%) !important;
      clip-path: inset(50%) !important;
      height: 1px !important;
      margin: -1px !important;
      overflow: hidden !important;
      padding: 0 !important;
      position: absolute !important;
      width: 1px !important;
      white-space: nowrap !important;
    }

    .caret svg {
      height: var(--caretHeight, 10px);
      width: var(--caretWidth, 20px);
    }

    ul {
      z-index: var(--dropdownListZIndex, 1);
    }

    ul.dropdown-main.closed {
      visibility: hidden;
      height: 1px;
      width: 1px;
    }

    ul.dropdown-main {
      position: absolute;
      list-style: none;
      margin: 5px 0 0 0;
      padding: 0;
      color: var(--dropdownTextColor, #fff);
      border-radius: 4px;
      border: 1px solid var(--dropdownBorderColor, #fff);
    }

    ul.dropdown-main {
      background: var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li:hover:first-child {
      border-top-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
    }

    ul.dropdown-main li:hover:last-child {
      border-bottom-color: var(
        --dropdownHoverBgColor,
        rgba(255, 255, 255, 0.3)
      );
    }

    ul.dropdown-main li:hover:not(:first-child) {
      border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }
    ul.dropdown-main li:hover:not(:last-child) {
      border-bottom: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
    }

    ul.dropdown-main li.selected:last-child {
      border-bottom-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected:first-child {
      border-top-color: var(--dropdownSelectedBgColor, #fff);
    }

    ul.dropdown-main li.selected > * {
      background-color: var(--dropdownSelectedBgColor, #fff);
      color: var(--dropdownSelectedTextColor, #2c2c2c);
    }

    ul.dropdown-main li:hover {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
      list-style: none;
      cursor: pointer;
    }

    ul.dropdown-main li:hover > * {
      background-color: var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3));
      color: var(--dropdownHoverTextColor, #fff);
    }

    ul.dropdown-main li {
      background: var(--dropdownBgColor, #333);
      list-style: none;
      height: 30px;
      cursor: pointer;
      border-bottom: 0.5px solid var(--dropdownBgColor, #333);
      border-top: 0.5px solid var(--dropdownBgColor, #333);
    }

    ul.dropdown-main li button {
      background: none;
      color: inherit;
      border: none;
      font: inherit;
      cursor: pointer;
      outline: inherit;
    }

    ul.dropdown-main li a {
      text-decoration: none;
      display: block;
      box-sizing: border-box;
    }

    ul.dropdown-main li:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    ul.dropdown-main li:last-child {
      border-bottom-right-radius: 4px;
      border-bottom-left-radius: 4px;
    }

    /* cover the list with the label */
    ul.dropdown-main li > * > :first-child {
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
      padding: 5px 10px;
      box-sizing: border-box;
    }

    ul.dropdown-main li > * {
      width: 100%;
      height: inherit;
      color: var(--dropdownTextColor, #fff);
      background: transparent;
      padding: 0;
    }
  `;ae([Kt({type:Boolean,attribute:!0})],Xa.prototype,"open",void 0);ae([Kt({type:Boolean,attribute:!0})],Xa.prototype,"displayCaret",void 0);ae([Kt({type:String,attribute:!0})],Xa.prototype,"selectedOption",void 0);ae([Kt({type:Array})],Xa.prototype,"options",void 0);ae([Kt({type:String})],Xa.prototype,"optionGroup",void 0);ae([Kt({type:Function})],Xa.prototype,"optionSelected",void 0);Xa=ae([lr("ia-dropdown")],Xa)});var Ng,Bg=si(()=>{vr();xi();Nr();Ng=class extends fi{render(){return ze`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};Ng.styles=dt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      height: 100%;
    }
  `;Ng=ae([lr("ia-icon-label")],Ng)});function Nx(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Tx!==void 0?Tx.createHTML(t):t}function Sc(e,t,r=e,s){var l,o,c,n;if(t===kc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=Wu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Sc(e,u._$AS(e,t.values),u,s)),t}var Hg,Th,_c,Tx,Ug,ys,Ix,u9,vl,Ph,Wu,Rx,d9,Fg,Vu,Px,$x,ml,Lx,Mx,Dx,jx,zq,Uq,kc,ro,Ox,gl,h9,Vg,p9,Hx,$h,f9,m9,g9,v9,y9,zg,zx,b9,Lh,Ux=si(()=>{Kl();Th=window,_c=Th.trustedTypes,Tx=_c?_c.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ug="$lit$",ys=`lit$${(Math.random()+"").slice(9)}$`,Ix="?"+ys,u9=`<${Ix}>`,vl=document,Ph=()=>vl.createComment(""),Wu=e=>e===null||typeof e!="object"&&typeof e!="function",Rx=Array.isArray,d9=e=>Rx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Fg=`[ 	
\f\r]`,Vu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Px=/-->/g,$x=/>/g,ml=RegExp(`>|${Fg}(?:([^\\s"'>=/]+)(${Fg}*=${Fg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Lx=/'/g,Mx=/"/g,Dx=/^(?:script|style|textarea|title)$/i,jx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),zq=jx(1),Uq=jx(2),kc=Symbol.for("lit-noChange"),ro=Symbol.for("lit-nothing"),Ox=new WeakMap,gl=vl.createTreeWalker(vl,129,null,!1);h9=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=Vu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===Vu?g[1]==="!--"?c=Px:g[1]!==void 0?c=$x:g[2]!==void 0?(Dx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=ml):g[3]!==void 0&&(c=ml):c===ml?g[0]===">"?(c=l!=null?l:Vu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?ml:g[3]==='"'?Mx:Lx):c===Mx||c===Lx?c=ml:c===Px||c===$x?c=Vu:(c=ml,l=void 0);let _=c===ml&&e[n+1].startsWith("/>")?" ":"";o+=c===Vu?u+u9:m>=0?(s.push(h),u.slice(0,m)+Ug+u.slice(m)+ys+_):u+ys+(m===-2?(s.push(void 0),n):_)}return[Nx(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Vg=class Bx{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=h9(t,r);if(this.el=Bx.createElement(h,s),gl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=gl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Ug)||y.startsWith(ys)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+Ug).split(ys),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?f9:k[1]==="?"?g9:k[1]==="@"?v9:$h})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Dx.test(l.tagName)){let m=l.textContent.split(ys),y=m.length-1;if(y>0){l.textContent=_c?_c.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],Ph()),gl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Ph())}}}else if(l.nodeType===8)if(l.data===Ix)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ys,m+1))!==-1;)u.push({type:7,index:o}),m+=ys.length-1}o++}}static createElement(t,r){let s=vl.createElement("template");return s.innerHTML=t,s}};p9=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:vl).importNode(r,!0);gl.currentNode=l;let o=gl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new Hx(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new y9(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=gl.nextNode(),c++)}return gl.currentNode=vl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},Hx=class Fx{constructor(t,r,s,l){var o;this.type=2,this._$AH=ro,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Sc(this,t,r),Wu(t)?t===ro||t==null||t===""?(this._$AH!==ro&&this._$AR(),this._$AH=ro):t!==this._$AH&&t!==kc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):d9(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==ro&&Wu(this._$AH)?this._$AA.nextSibling.data=t:this.$(vl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Vg.createElement(Nx(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new p9(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Ox.get(t.strings);return r===void 0&&Ox.set(t.strings,r=new Vg(t)),r}T(t){Rx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new Fx(this.k(Ph()),this.k(Ph()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},$h=class{constructor(e,t,r,s,l){this.type=1,this._$AH=ro,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ro}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Sc(this,e,t,0),o=!Wu(e)||e!==this._$AH&&e!==kc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Sc(this,c[r+n],t,n),u===kc&&(u=this._$AH[n]),o||(o=!Wu(u)||u!==this._$AH[n]),u===ro?e=ro:e!==ro&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===ro?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},f9=class extends $h{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ro?void 0:e}},m9=_c?_c.emptyScript:"",g9=class extends $h{constructor(){super(...arguments),this.type=4}j(e){e&&e!==ro?this.element.setAttribute(this.name,m9):this.element.removeAttribute(this.name)}},v9=class extends $h{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Sc(this,e,t,0))!==null&&r!==void 0?r:ro)===kc)return;let s=this._$AH,l=e===ro&&s!==ro||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==ro&&(s===ro||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},y9=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Sc(this,e)}},zg=Th.litHtmlPolyfillSupport;zg==null||zg(Vg,Hx),((Hg=Th.litHtmlVersions)!==null&&Hg!==void 0?Hg:Th.litHtmlVersions=[]).push("2.8.0");zx="important",b9=" !"+zx,Lh=ka(class extends Sa{constructor(e){var t;if(super(e),e.type!==ls.ATTRIBUTE||e.name!=="style"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce((t,r)=>{let s=e[r];return s==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${s};`},"")}update(e,[t]){let{style:r}=e.element;if(this.ht===void 0){this.ht=new Set;for(let s in t)this.ht.add(s);return this.render(t)}this.ht.forEach(s=>{t[s]==null&&(this.ht.delete(s),s.includes("-")?r.removeProperty(s):r[s]="")});for(let s in t){let l=t[s];if(l!=null){this.ht.add(s);let o=typeof l=="string"&&l.endsWith(b9);s.includes("-")||o?r.setProperty(s,o?l.slice(0,-11):l,o?zx:""):r[s]=l}}return kc}});});var Wg=si(()=>{Ux()});function e_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Vx!==void 0?Vx.createHTML(t):t}function Ec(e,t,r=e,s){var l,o,c,n;if(t===Cc)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=Gu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Ec(e,u._$AS(e,t.values),u,s)),t}var qg,Mh,Ac,Vx,Kg,bs,Xx,w9,wl,Oh,Gu,Zx,x9,Gg,qu,Wx,qx,yl,Gx,Yx,Jx,Qx,tG,iG,Cc,no,Kx,bl,_9,Xg,k9,i_,Ih,S9,A9,C9,E9,T9,Yg,xl,n_=si(()=>{Kl();Mh=window,Ac=Mh.trustedTypes,Vx=Ac?Ac.createPolicy("lit-html",{createHTML:e=>e}):void 0,Kg="$lit$",bs=`lit$${(Math.random()+"").slice(9)}$`,Xx="?"+bs,w9=`<${Xx}>`,wl=document,Oh=()=>wl.createComment(""),Gu=e=>e===null||typeof e!="object"&&typeof e!="function",Zx=Array.isArray,x9=e=>Zx(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Gg=`[ 	
\f\r]`,qu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Wx=/-->/g,qx=/>/g,yl=RegExp(`>|${Gg}(?:([^\\s"'>=/]+)(${Gg}*=${Gg}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Gx=/'/g,Yx=/"/g,Jx=/^(?:script|style|textarea|title)$/i,Qx=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),tG=Qx(1),iG=Qx(2),Cc=Symbol.for("lit-noChange"),no=Symbol.for("lit-nothing"),Kx=new WeakMap,bl=wl.createTreeWalker(wl,129,null,!1);_9=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=qu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===qu?g[1]==="!--"?c=Wx:g[1]!==void 0?c=qx:g[2]!==void 0?(Jx.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=yl):g[3]!==void 0&&(c=yl):c===yl?g[0]===">"?(c=l!=null?l:qu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?yl:g[3]==='"'?Yx:Gx):c===Yx||c===Gx?c=yl:c===Wx||c===qx?c=qu:(c=yl,l=void 0);let _=c===yl&&e[n+1].startsWith("/>")?" ":"";o+=c===qu?u+w9:m>=0?(s.push(h),u.slice(0,m)+Kg+u.slice(m)+bs+_):u+bs+(m===-2?(s.push(void 0),n):_)}return[e_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},Xg=class t_{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=_9(t,r);if(this.el=t_.createElement(h,s),bl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=bl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(Kg)||y.startsWith(bs)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+Kg).split(bs),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?S9:k[1]==="?"?C9:k[1]==="@"?E9:Ih})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(Jx.test(l.tagName)){let m=l.textContent.split(bs),y=m.length-1;if(y>0){l.textContent=Ac?Ac.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],Oh()),bl.nextNode(),u.push({type:2,index:++o});l.append(m[y],Oh())}}}else if(l.nodeType===8)if(l.data===Xx)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(bs,m+1))!==-1;)u.push({type:7,index:o}),m+=bs.length-1}o++}}static createElement(t,r){let s=wl.createElement("template");return s.innerHTML=t,s}};k9=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:wl).importNode(r,!0);bl.currentNode=l;let o=bl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new i_(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new T9(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=bl.nextNode(),c++)}return bl.currentNode=wl,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},i_=class r_{constructor(t,r,s,l){var o;this.type=2,this._$AH=no,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Ec(this,t,r),Gu(t)?t===no||t==null||t===""?(this._$AH!==no&&this._$AR(),this._$AH=no):t!==this._$AH&&t!==Cc&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):x9(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==no&&Gu(this._$AH)?this._$AA.nextSibling.data=t:this.$(wl.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=Xg.createElement(e_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new k9(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=Kx.get(t.strings);return r===void 0&&Kx.set(t.strings,r=new Xg(t)),r}T(t){Zx(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new r_(this.k(Oh()),this.k(Oh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Ih=class{constructor(e,t,r,s,l){this.type=1,this._$AH=no,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=no}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Ec(this,e,t,0),o=!Gu(e)||e!==this._$AH&&e!==Cc,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Ec(this,c[r+n],t,n),u===Cc&&(u=this._$AH[n]),o||(o=!Gu(u)||u!==this._$AH[n]),u===no?e=no:e!==no&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===no?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},S9=class extends Ih{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===no?void 0:e}},A9=Ac?Ac.emptyScript:"",C9=class extends Ih{constructor(){super(...arguments),this.type=4}j(e){e&&e!==no?this.element.setAttribute(this.name,A9):this.element.removeAttribute(this.name)}},E9=class extends Ih{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Ec(this,e,t,0))!==null&&r!==void 0?r:no)===Cc)return;let s=this._$AH,l=e===no&&s!==no||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==no&&(s===no||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},T9=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ec(this,e)}},Yg=Mh.litHtmlPolyfillSupport;Yg==null||Yg(Xg,i_),((qg=Mh.litHtmlVersions)!==null&&qg!==void 0?qg:Mh.litHtmlVersions=[]).push("2.8.0");xl=ka(class extends Sa{constructor(e){var t;if(super(e),e.type!==ls.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,s;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!(!((r=this.nt)===null||r===void 0)&&r.has(o))&&this.it.add(o);return this.render(t)}let l=e.element.classList;this.it.forEach(o=>{o in t||(l.remove(o),this.it.delete(o))});for(let o in t){let c=!!t[o];c===this.it.has(o)||!((s=this.nt)===null||s===void 0)&&s.has(o)||(c?(l.add(o),this.it.add(o)):(l.remove(o),this.it.delete(o)))}return Cc}});});var Yu=si(()=>{n_()});function U9(){return{el:"#BookReader",showToolbar:!1,onePage:{autofit:"height"},enableFSLogoShortcut:!0,enableBookmarks:!1,enablePageResume:!1,enableTtsPlugin:!1,enableUrlPlugin:!1,defaults:"mode/1up",enableSearch:!0,searchInsideUrl:"/fulltext/inside.php",initialSearchTerm:null,imagesBaseURL:"/bookreader/BookReader/images/",defaultStartLeaf:0,titleLeaf:0,controls:{twoPage:{visible:!1},viewmode:{visible:!1}},bookType:"linerNotes"}}function V9(e){var t;let r=e.brOptions,s=Rr(Rr({},U9()),r),l=new window.BookReader(s),o=window.BookReader.prototype.getPageURI;l.getPageURI=(n,u=1,h=0)=>{let g=Math.pow(2,Math.floor(Math.log2(Math.max(1,u)))),m=o.call(l,n,g,h);return m+=m.indexOf("?")>-1?"&":"?",m=`${m}scale=${g}&rotate=${h}`,m},window.br=l;let c=(t=e==null?void 0:e.data)===null||t===void 0?void 0:t.isRestricted;return window.dispatchEvent(new CustomEvent("contextmenu",{detail:{isRestricted:c}})),l}var P9,zr,Co,Ma,jh,o_,a_,s_,l_,$9,L9,M9,O9,I9,R9,D9,j9,N9,B9,H9,F9,z9,Rh,No,Ku,W9,ho,Tc,Dh,Za,c_=si(()=>{vr();xi();Nr();Dg();jg();xi();xi();Bg();Wg();Yu();vr();xi();Nr();Pg();vr();xi();Nr();Tg();xi();vr();xi();Nr();vr();xi();Nr();vr();xi();Nr();dl();dl();P9=dt`
  section#radio {
    display: flex;
    flex-direction: row;
    align-items: center;
  }

  #radio #selector-title {
    margin-right: 5px;
  }

  #radio ul {
    display: inline-block;
  }

  #radio ul {
    border-radius: 50px;
    display: inline-flex;
    align-content: flex-start;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
  }

  #radio li {
    border: 1px solid #fff;
  }

  #radio li:first-child {
    border-top-left-radius: 50px;
    border-bottom-left-radius: 50px;
    padding-left: 5px;
  }
  #radio li:first-child ia-icon-label {
    margin-left: 5px;
  }

  #radio li:last-child {
    border-top-right-radius: 50px;
    border-bottom-right-radius: 50px;
    padding-right: 10px;
    padding-left: 5px;
  }

  #radio li:last-child ia-icon-label {
    margin-right: 5px;
  }

  #radio li:not(:last-child) {
    border-right: none;
    padding-right: 5px;
    padding-left: 5px;
  }

  /* Demarcate when hovering next to selected channel */
  #radio li > ia-icon-label {
    height: 30px;
    padding: 5px;
    box-sizing: border-box;
  }
  /* End demarcation */
`;(function(e){e.ia="ia",e.beta="beta",e.youtube="youtube",e.spotify="spotify",e.webamp="webamp"})(zr||(zr={}));(function(e){e.iaSamples="Samples",e.iaPlayer="Player",e.beta="Beta",e.spotify="Spotify",e.webamp="Webamp",e.youtube="YouTube"})(Co||(Co={}));Ma={ia:ze`<img
    class="ia"
    src="https://archive.org/images/music-theater/internet-archive.svg"
    alt="Internet Archive logo"
    style="height: 20px; width: 20px;"
  />`,beta:ze`<img
    class="ia-beta"
    src="https://archive.org/images/music-theater/streaming.svg"
    alt="Internet Archive beta player logo"
    style="height: 20px; width: 20px;"
  />`,spotify:ze`<img
    class="spotify"
    src="https://archive.org/images/music-theater/spotify.svg"
    alt="Spotify logo"
    style="display: block;"
  />`,webamp:ze`<img
    class="webamp"
    src="https://archive.org/images/music-theater/webamp.svg"
    alt="webamp logo"
    style="height: 20px;"
  />`,youtube:ze`<img
    class="youtube"
    src="https://archive.org/images/music-theater/youtube.svg"
    alt="youtube logo"
    style="height: 20px; width: 20px; display: block;"
  />`},jh=({label:e=Co.iaPlayer,selected:t})=>{let r=Lh({filter:t?"invert(1)":"invert(0)",height:"20px",width:"20px"}),s=xl({selected:t,"invert-icon-at-hover-selected":t});return ze`
    <ia-icon-label class=${s}>
      <span slot="icon" style=${r}>${Ma.ia}</span>
      <span>${e}</span>
    </ia-icon-label>
  `},o_=e=>{let t=Lh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=xl({selected:e,"invert-icon-at-hover-selected":e});return ze`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Ma.beta}</span>
      <span>${Co.beta}</span>
    </ia-icon-label>
  `},a_=e=>ze`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Ma.spotify}</span>
    <span>${Co.spotify}</span>
  </ia-icon-label>
`,s_=e=>{let t=Lh({filter:e?"invert(1)":"invert(0)",height:"20px",width:"20px"}),r=xl({selected:e,"invert-icon-at-hover-selected":e});return ze`
    <ia-icon-label class=${r}>
      <span slot="icon" style=${t}>${Ma.webamp}</span>
      <span>Webamp</span>
    </ia-icon-label>
  `},l_=e=>ze`
  <ia-icon-label class="${e?"selected":""}">
    <span slot="icon">${Ma.youtube}</span>
    <span>${Co.youtube}</span>
  </ia-icon-label>
`,$9=({samples:e,onClick:t,href:r,selected:s})=>{let l=e?Co.iaSamples:Co.iaPlayer;return ze`
    <a href=${r} @click=${()=>t()}>${jh({label:l,selected:s})}</button>
  `},L9=({samples:e,onClick:t,selected:r})=>{let s=e?Co.iaSamples:Co.iaPlayer;return ze`
    <button @click=${l=>t(l)} class="ia">
      ${jh({label:s,selected:r})}
    </button>
  `},M9=({onClick:e,selected:t})=>ze`<button
  @click=${r=>e(r)}
  class="ia-beta"
>
  ${o_(t)}
</button>`,O9=({onClick:e,selected:t})=>ze`<button
  @click=${r=>e(r)}
  class="sp"
>
  ${a_(t)}
</button>`,I9=({onClick:e,href:t,selected:r})=>{let s=`${t}?webamp=default`;return ze`
    <a href=${s} @click=${l=>e(l)} class="wa">${s_(r)}</button>
  `},R9=({onClick:e,selected:t})=>ze`<button
  @click=${r=>e(r)}
  class="yt"
>
  ${l_(t)}
</button>`,D9=({samples:e,onClick:t,href:r,selectedOption:s})=>({url:r,selectedHandler:l=>{t(l)},label:jh({label:e?Co.iaSamples:Co.iaPlayer,selected:s===zr.ia}),id:zr.ia}),j9=({samples:e,onClick:t,selectedOption:r})=>({selectedHandler:s=>{t(s)},label:jh({label:e?Co.iaSamples:Co.iaPlayer,selected:r===zr.ia}),id:zr.ia}),N9=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:o_(t===zr.beta),id:zr.beta}),B9=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:a_(t===zr.spotify),id:zr.spotify}),H9=({href:e,onClick:t,selectedOption:r})=>{let s=l=>{t(l)};return{url:`${e}?webamp=default`,selectedHandler:s,label:s_(r===zr.webamp),id:zr.webamp}},F9=({onClick:e,selectedOption:t})=>({selectedHandler:r=>{e(r)},label:l_(t===zr.youtube),id:zr.youtube}),z9=e=>{let{spotify:t,beta:r,youtube:s,selectedOption:l}=e;return[l===zr.webamp?D9(e):j9(e),r?N9(e):null,t?B9(e):null,s?F9(e):null,H9(e)].filter(Boolean)};(function(e){e.postInit="postInit",e.channelChange="channelChange"})(Rh||(Rh={}));No=class extends fi{constructor(){super(...arguments),this.youtube=!1,this.spotify=!1,this.beta=!1,this.webamp=!0,this.samples=!1,this.backgroundTheme="dark",this.selected=zr.ia,this.displayStyle="radio",this.url=""}firstUpdated(){this.dispatchEvent(new CustomEvent(Rh.postInit,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}emitChannelChanged(){this.dispatchEvent(new CustomEvent(Rh.channelChange,{detail:{channel:this.selected},composed:!0,bubbles:!0}))}iaClicked(){this.selected!==zr.ia&&(this.selected=zr.ia,this.emitChannelChanged())}betaClicked(){this.selected!==zr.beta&&(this.selected=zr.beta,this.emitChannelChanged())}spotifyClicked(){this.selected!==zr.spotify&&(this.selected=zr.spotify,this.emitChannelChanged())}webampClicked(){this.selected!==zr.webamp&&(this.selected=zr.webamp,this.emitChannelChanged())}youtubeClicked(){this.selected!==zr.youtube&&(this.selected=zr.youtube,this.emitChannelChanged())}dropdownOptionSelected(e){this.selected=e.id,this.emitChannelChanged(),this.iaDropdown.open=!1}get iaLinkSelector(){let e=this.selected===zr.ia?"selected":"";return ze`
      <li class=${e}>
        ${$9({samples:this.samples,selected:this.selected===zr.ia,onClick:()=>this.iaClicked(),href:this.url})}
      </li>
    `}get iaButtonSelector(){let e=this.selected===zr.ia?"selected":"";return ze`
      <li class=${e}>
        ${L9({samples:this.samples,selected:this.selected===zr.ia,onClick:()=>this.iaClicked()})}
      </li>
    `}get iaBetaSelector(){let e=this.selected===zr.beta?"selected":"";return ze`
      <li class=${e}>
        ${M9({selected:this.selected===zr.beta,onClick:()=>this.betaClicked()})}
      </li>
    `}get spotifySelector(){let e=this.selected===zr.spotify?"selected":"";return ze`
      <li class=${e}>
        ${O9({selected:this.selected===zr.spotify,onClick:()=>this.spotifyClicked()})}
      </li>
    `}get webampSelector(){let e=this.selected===zr.webamp?"selected":"";return ze`
      <li class=${e}>
        ${I9({href:this.url||window.location.href,selected:this.selected===zr.webamp,onClick:()=>this.webampClicked()})}
      </li>
    `}get youtubeSelector(){let e=this.selected===zr.youtube?"selected":"";return ze`
      <li class=${e}>
        ${R9({selected:this.selected===zr.youtube,onClick:()=>this.youtubeClicked()})}
      </li>
    `}get properIaSelector(){return this.selected===zr.webamp?this.iaLinkSelector:this.iaButtonSelector}toggleDisplayStyle(){let e=this.displayStyle==="dropdown"?"radio":"dropdown";this.displayStyle=e}shouldShowChannelType(e){let t=this.selected===e;return this.displayStyle==="radio"?!0:!(this.displayStyle==="dropdown"&&t)}get dropdownOptions(){let{samples:e,beta:t,spotify:r,webamp:s,youtube:l,url:o,selected:c}=this;return z9({selectedOption:c,samples:!!e,beta:t,spotify:r,webamp:s,youtube:l,href:o,onClick:this.dropdownOptionSelected.bind(this)})}get currentlySelectedIcon(){switch(this.selected){case zr.beta:return Ma.beta;case zr.spotify:return Ma.spotify;case zr.youtube:return Ma.youtube;case zr.webamp:return Ma.webamp;default:return Ma.ia}}get dropdown(){return ze`
      <ia-dropdown
        displayCaret
        .options=${this.dropdownOptions}
        .selectedOption=${this.selected}
        class=${this.backgroundTheme}
      >
        <span slot="dropdown-label">${this.currentlySelectedIcon}</span>
      </ia-dropdown>
    `}get radioView(){return ze`
      <div id="selector-title"><h4>Play from:</h4></div>
      <div>
        <ul>
          ${this.properIaSelector} ${this.beta?this.iaBetaSelector:Ai}
          ${this.youtube?this.youtubeSelector:Ai}
          ${this.spotify?this.spotifySelector:Ai}
          ${this.webamp?this.webampSelector:Ai}
        </ul>
      </div>
    `}render(){return ze`
      <section
        id=${this.displayStyle}
        class="${this.displayStyle} ${this.backgroundTheme}"
      >
        ${Cx(this.displayStyle==="radio"?this.radioView:this.dropdown)}
      </section>
    `}};No.styles=[dt`
      :host {
        display: block;
      }

      :host(:focus) {
        outline: none;
      }

      section.radio ul,
      section.radio h4 {
        color: #fff;
      }

      section.radio.light h4 {
        color: #222;
      }

      ia-dropdown.light {
        --channel-selector-dropdown-text-color: #222;
        color: var(--channel-selector-dropdown-text-color, #222);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #222);
      }

      ia-dropdown {
        --dropdownBgColor: #333;
        --dropdownHoverBgColor: #474747;
        color: var(--channel-selector-dropdown-text-color, #fff);
        --dropdownCaretColor: var(--channel-selector-dropdown-text-color, #fff);
      }

      ia-dropdown.light img.ia,
      ia-dropdown.light img.ia-beta,
      ia-dropdown.light img.webamp {
        filter: invert(1);
      }

      h4 {
        margin: 0;
      }

      a:link,
      a:visited,
      a:active,
      a {
        color: inherit;
        text-decoration: none;
      }

      button {
        color: inherit;
        background: none;
        border: none;
        padding: 0;
        font: inherit;
        cursor: pointer;
        outline: inherit;
        margin: 0;
      }

      li > *,
      #dropdown .selected-option {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        justify-content: center;
        align-items: center;
        width: 100%;
      }

      li:hover {
        background-color: var(--channel-selector-hover-bg-color, #474747);
      }

      li.selected {
        background-color: #fff;
        color: #2c2c2c;
      }

      ul,
      li {
        list-style-type: none;
        padding: 0;
        margin: 0;
      }

      li {
        display: flex;
        height: 30px;
        background-color: #333;
      }

      #dropdown .close,
      .sr-only {
        width: 1px;
        height: 1px;
        padding: 0px;
        margin: -1px;
        overflow: hidden;
        clip: rect(0px, 0px, 0px, 0px);
        border: 0px;
        display: block;
      }

      #radio .selected-option {
        display: none;
      }

      li a.ia {
        display: flex;
      }

      *[slot='dropdown-label'] img {
        height: 30px !important;
        width: 30px !important;
        display: block;
      }
    `,P9];ae([Kt({attribute:!0,type:Boolean,reflect:!0})],No.prototype,"youtube",void 0);ae([Kt({attribute:!0,type:Boolean,reflect:!0})],No.prototype,"spotify",void 0);ae([Kt({attribute:!0,type:Boolean,reflect:!0})],No.prototype,"beta",void 0);ae([Kt({attribute:!0,type:Boolean,reflect:!0})],No.prototype,"webamp",void 0);ae([Kt({attribute:!0,type:Boolean,reflect:!0})],No.prototype,"samples",void 0);ae([Kt({attribute:!0,type:String,reflect:!0})],No.prototype,"backgroundTheme",void 0);ae([Kt({type:String,reflect:!0})],No.prototype,"selected",void 0);ae([Kt({type:String,reflect:!0})],No.prototype,"displayStyle",void 0);ae([Kt({type:String})],No.prototype,"url",void 0);ae([on("ia-dropdown")],No.prototype,"iaDropdown",void 0);No=ae([lr("channel-selector")],No);Ku=class extends fi{constructor(){super(...arguments),this.iaIdentifier="",this.gradType=""}updated(e){e.has("iaIdentifier")&&this.setGradType()}hashStrToInt(e){return e.split("").reduce((t,r)=>t+r.charCodeAt(0),0)}setGradType(){let e=0;this.iaIdentifier?(e=this.hashStrToInt(this.iaIdentifier)%6,this.gradType=`grad${e}`):this.gradType="grad0",this.dispatchEvent(new CustomEvent("iaMusicNoImageAvailable",{detail:{gradient:e,gradType:this.gradType,identifier:this.iaIdentifier},bubbles:!0,composed:!0}))}render(){return ze`
      <div class="no-image">
        <ia-icon-audio class=${this.gradType}></ia-icon-audio>
      </div>
    `}};Ku.styles=dt`
    ia-icon-audio {
      margin: auto;
      display: block;
      height: var(--imageHeight, 100%);
      width: var(--imageWidth, 100%);
      opacity: 0.8;
    }
    :host {
      height: 100%;
      width: 100%;
    }

    ia-icon-audio {
      border: 1px solid #fff8;
    }

    ia-icon-audio.grad0 {
      background: linear-gradient(
        hsl(300, 80%, 55%),
        hsl(330, 80%, 33%) 35%,
        hsl(330, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad1 {
      background: linear-gradient(
        hsl(200, 80%, 55%),
        hsl(230, 80%, 33%) 35%,
        hsl(230, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad2 {
      background: linear-gradient(
        hsl(160, 80%, 55%),
        hsl(190, 80%, 33%) 35%,
        hsl(190, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad3 {
      background: linear-gradient(
        hsl(250, 80%, 55%),
        hsl(280, 80%, 33%) 35%,
        hsl(280, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad4 {
      background: linear-gradient(
        hsl(280, 80%, 55%),
        hsl(310, 80%, 33%) 35%,
        hsl(310, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }

    ia-icon-audio.grad5 {
      background: linear-gradient(
        hsl(340, 80%, 55%),
        hsl(0, 80%, 33%) 35%,
        hsl(0, 80%, 22%) 70%,
        hsl(0, 0%, 0%)
      );
    }
  `;ae([Kt({type:String,reflect:!0,attribute:!0})],Ku.prototype,"iaIdentifier",void 0);ae([Kt({type:String,reflect:!0})],Ku.prototype,"gradType",void 0);Ku=ae([lr("iamusic-noimage")],Ku);W9=ze`
  <svg
    id="more-inside-icon"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 100 100"
  >
    <path
      d="m96.8125698 30.0518396-12.4391845 11.1531924c-6.4532715-6.3905169-12.9677985-11.5730208-19.5435809-15.5475116s-12.5677954-6.5813314-17.976039-7.8205218c-5.4082436-1.2391903-10.6069142-1.851437-15.5960116-1.8369986-4.9890974.0149552-9.3415934.6580779-13.0574879 1.9296264-3.7158945 1.2715486-6.9635733 2.5779337-9.74303641 3.9191553-2.77946307 1.3412217-4.90933068 2.5788117-6.38960283 3.7127699l-2.06762666 1.7089107c7.29513996.9354669 14.2472986 2.8747038 20.856476 5.8177108 6.6091773 2.9430069 12.0620941 6.1781707 16.3587501 9.7054913 4.2966561 3.5273205 8.0790367 6.9908189 11.3471418 10.3904951 3.2681052 3.3996761 5.6276868 6.2214567 7.0787448 8.4653416l2.1765871 3.3658274-13.0786842 11.7265792 55.2609844 8.2580923z"
      fill-rule="evenodd"
      class="fill-color"
    />
  </svg>
`,ho=class extends fi{constructor(){super(...arguments),this.showAllPhotos=!1,this.baseHost="archive.org",this.signedIn=!1,this.itemIdentifier="",this.fullscreenActive=!1,this.reInitBrAtFullscreen=!1,this.noImageAvailable=!1,this.backgroundTheme="dark",this.bindBrEvents=()=>{window.addEventListener("BookReader:PostInit",this.handleBrPostInit),window.addEventListener("BookReader:fullscreenToggled",()=>{var e;this.fullscreenActive=((e=this.bookreader)===null||e===void 0?void 0:e.isFullscreen())||!1;let t=this.fullscreenActive?"fullscreenOpened":"fullscreenClosed";this.dispatchEvent(new Event(t))})}}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("BookReader:PostInit",this.handleBrPostInit)}firstUpdated(){this.bindBrEvents()}updated(e){e.has("linerNotesManifest")&&this.linerNotesManifest&&this.loadFreshBookReaderFromManifest(),e.has("showAllPhotos")&&this.showAllPhotos&&this.initBr(500)}render(){if(this.noImageAvailable)return ze`
        <div class="no-images">
          <iamusic-noimage .iaIdentifier=${this.itemIdentifier}
            >no image available</iamusic-noimage
          >
        </div>
      `;let e=this.backgroundTheme==="light"?"light":"",t=this.showAllPhotos?"show-back":"",r=this.fullscreenActive?"fullscreenActive":"";return ze`
      <div
        class=${`flip-card ${t} ${r} ${e}`}
      >
        <div class="flip-card-inner">
          <div class="flip-card-front">${this.photoAlbumCover}</div>
          <div class="flip-card-back">${this.linerNotesView}</div>
        </div>
      </div>
    `}togglePhotoViewer(){this.showAllPhotos=!this.showAllPhotos,this.showAllPhotos||(this.fullscreenActive=!1,this.dispatchEvent(new Event("fullscreenClosed")))}get imageBaseUrl(){return`https://${this.baseHost}/download/${this.itemIdentifier}`}get primaryImage(){var e;if(this.linerNotesManifest){let t=(e=this.linerNotesManifest.brOptions.data)===null||e===void 0?void 0:e.flat()[0];return(t==null?void 0:t.uri)||void 0}}get linerNotesView(){return ze`
      <div class=${"photo-viewer-container"}>
        <button
          id="close-photo-viewer"
          @click=${()=>{var e;(e=this.bookreader)===null||e===void 0||e.exitFullScreen(),this.togglePhotoViewer()}}
        >
          <span class="sr-only">Click to close Photo Viewer.</span>
          <ia-icon-close-circle></ia-icon-close-circle>
        </button>
        <ia-bookreader
          .item=${this.linerNotesManifest}
          .baseHost=${this.baseHost}
          .signedIn=${this.signedIn}
          ><div slot="main"><slot name="main"></slot></div
        ></ia-bookreader>
      </div>
    `}get photoAlbumCover(){var e,t;let r=(t=(e=this.itemMD)===null||e===void 0?void 0:e.title)!==null&&t!==void 0?t:this.itemIdentifier,s=this.primaryImage?this.primaryImage:`//${this.baseHost}/services/img/${this.itemIdentifier}`;return ze`
      <div class="cover-art">
        <button
          class="click-for-photos"
          @click=${()=>vi(this,null,function*(){this.togglePhotoViewer()})}
        >
          <img
            src=${s}
            alt=${`primary image for ${r}`}
            @load=${l=>{let o=l.target,{width:c,height:n}=o.getBoundingClientRect();this.dispatchEvent(new CustomEvent("coverImageLoaded",{detail:{width:c,height:n,target:o}}))}}
          />
          <span class="sr-only">See all photos for ${r}</span>
          <div id="see-more-cta">
            <p><span>See more</span> <span>${W9}</span></p>
          </div>
        </button>
      </div>
    `}handleBrPostInit(e){this.bookreader=e==null?void 0:e.detail.props,window.br=this.bookreader,setTimeout(()=>{var t,r;(t=this.bookreader)===null||t===void 0||t.jumpToIndex(0),(r=this.bookreader)===null||r===void 0||r.resize()},1e3)}prepareLightDomHook(){var e,t;let r=(e=this.lightDomHook)===null||e===void 0?void 0:e.querySelector("div.bookreader-slot");r&&((t=this.lightDomHook)===null||t===void 0||t.removeChild(r))}loadFreshBookReaderFromManifest(){return vi(this,null,function*(){yield this.mountBookReaderLightDomHook(),yield this.initBr()})}initBr(e=0){return vi(this,null,function*(){console.log("&&&& INIT BR"),yield new Promise(t=>{setTimeout(()=>{var r,s;this.bookreader=this.linerNotesManifest&&V9(this.linerNotesManifest),console.log("&&&& BR OPTIONS",(r=this.bookreader)===null||r===void 0?void 0:r.options),(s=this.bookreader)===null||s===void 0||s.init(),t()},e)})})}mountBookReaderLightDomHook(){return vi(this,null,function*(){yield new Promise(e=>{var t,r,s;let l=(t=this.lightDomHook)===null||t===void 0?void 0:t.querySelector("div.bookreader-slot");l&&((r=this.lightDomHook)===null||r===void 0||r.removeChild(l));let o=document.createElement("div");o.setAttribute("slot","main"),o.classList.add("bookreader-slot");let c=document.createElement("div");c.classList.add("liner-notes"),o.append(c),(s=this.lightDomHook)===null||s===void 0||s.append(o),c.setAttribute("id","BookReader"),c.classList.add("BookReader"),e(!0)})})}};ho.styles=dt`
    :host {
      display: block;
    }

    :host[fullscreenactive],
    .flip-card.fullscreenActive {
      position: absolute;
      inset: 0;
      height: var(--linerNotesFullscreenHeight, 100vh);
    }

    div.no-images {
      display: flex;
      height: inherit;
    }
    div.no-images * {
      --iconFillColor: white;
      --iconHeight: 250px;
      --iconWidth: 250px;
      margin: auto;
    }

    ia-icon-texts {
      height: 50px;
      width: 50px;
      --iconFillColor: white;
      display: block;
    }

    button {
      cursor: pointer;
      border: 1px solid transparent;
      background-color: transparent;
    }

    .cover-art,
    button.click-for-photos {
      height: inherit;
      position: relative;
      padding: 0;
    }

    button.click-for-photos {
      display: flex;
      margin: auto;
      min-height: 30%;
      min-width: 25%;
    }

    button.click-for-photos img {
      display: block;
      overflow: hidden;
      object-fit: contain;
      object-position: top;
      max-width: 100%;
      margin-top: 18px;
      max-height: calc(var(--linerNotesInTheaterHeight, 100%) - 30px);
    }

    button.click-for-photos ia-icon-texts,
    button#close-photo-viewer {
      position: absolute;
      top: 0;
      right: 0;
    }

    button span.sr-only {
      position: absolute;
      height: 1px;
      width: 1px;
      top: 0;
      left: 0;
      visibility: hidden;
    }

    button#close-photo-viewer {
      border: none;
      z-index: 2;
      padding: 0;
    }

    button#close-photo-viewer ia-icon-close-circle {
      display: block;
      padding: 10px;
      --iconHeight: 20px;
      --iconWidth: 20px;
      --iconFillColor: #fff;
    }

    .flip-card {
      width: 100%;
      height: 100%;
      perspective: 1000px;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .flip-card.show-back .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card.show-back .flip-card-front .cover-art {
      transition: height 0.5s;
      height: 100%;
      visibility: hidden;
    }

    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      background-color: transparent;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
    }

    .flip-card-back {
      transform: rotateY(180deg);
    }

    .photo-viewer-container {
      height: inherit;
    }

    ia-bookreader {
      display: block;
      background-color: transparent;
    }

    /* see more cta */
    .flip-card #see-more-cta {
      font-family: 'Helvetica Neue Bold', Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 14px;
      align-self: end;
      margin: 0;
      position: absolute;
      top: 0;
      right: 0;
    }
    .flip-card #see-more-cta p {
      display: inline-block;
      margin: 0;
      width: 90px;
    }
    .flip-card #see-more-cta svg {
      position: absolute;
      width: 16px;
      margin-left: 0px;
      top: 0;
      right: 0;
      margin-top: -2px;
    }

    .flip-card #see-more-cta {
      color: white;
    }
    .flip-card #see-more-cta .fill-color {
      fill: white;
    }

    .flip-card.light #see-more-cta {
      color: #222;
    }
    .flip-card.light #see-more-cta .fill-color {
      fill: #222;
    }
  `;ae([Kt({type:Boolean,reflect:!0})],ho.prototype,"showAllPhotos",void 0);ae([Kt({type:String,attribute:!0,reflect:!0})],ho.prototype,"baseHost",void 0);ae([Kt({type:Boolean,reflect:!0})],ho.prototype,"signedIn",void 0);ae([Kt({type:String,reflect:!0,attribute:!0})],ho.prototype,"itemIdentifier",void 0);ae([Kt({type:Object})],ho.prototype,"itemMD",void 0);ae([Kt({type:Object})],ho.prototype,"linerNotesManifest",void 0);ae([Kt({type:Object})],ho.prototype,"bookreader",void 0);ae([Kt({type:Boolean,reflect:!0})],ho.prototype,"fullscreenActive",void 0);ae([Kt({type:Boolean})],ho.prototype,"reInitBrAtFullscreen",void 0);ae([Kt({type:Boolean,reflect:!0})],ho.prototype,"noImageAvailable",void 0);ae([Kt({attribute:!0,type:String,reflect:!0})],ho.prototype,"backgroundTheme",void 0);ae([Kt({type:Object})],ho.prototype,"lightDomHook",void 0);ae([on("button.click-for-photos img")],ho.prototype,"coverImage",void 0);ho=ae([lr("iaux-photo-viewer")],ho);Tc=class extends fi{constructor(){super(...arguments),this.iaUrn="",this.display=!1,this.baseHost="https://archive.org"}get youTubeUrl(){if(!this.iaUrn||!this.iaUrn.match(/urn:youtube:/g))return"";let e=this.iaUrn.replace(/urn:youtube:/g,"").replace(/:/g,"/"),t=`origin=${this.baseHost}&widgetid=1&autoplay=1&rel=0`;return`https://www.youtube.com/embed/${e}?${t}`}render(){let e=this.youTubeUrl;return e?ze`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="200"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="YouTube Player"
      ></iframe>
    `:Ai}static get styles(){return[dt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};ae([Kt({type:String,reflect:!0})],Tc.prototype,"iaUrn",void 0);ae([Kt({type:Boolean,reflect:!0})],Tc.prototype,"display",void 0);ae([Kt({type:String})],Tc.prototype,"baseHost",void 0);ae([on("iframe")],Tc.prototype,"iframe",void 0);Tc=ae([lr("youtube-player")],Tc);Dh=class extends fi{constructor(){super(...arguments),this.iaUrn=""}get spotifyUrl(){return!this.iaUrn||!this.iaUrn.match(/urn:spotify:/g)?"":`https://open.spotify.com/embed/${this.iaUrn.replace(/urn:spotify:/g,"").replace(/:/g,"/")}`}render(){let e=this.spotifyUrl;return e?ze`
      <iframe
        id="embed-iframe"
        src="${e}"
        width="100%"
        height="80"
        frameborder="0"
        allowtransparency="true"
        allow="encrypted-media"
        title="Spotify Player"
      ></iframe>
    `:ze`<h3>Invalid Spotify URI: ${this.iaUrn}</h3>`}static get styles(){return[dt`
        :host {
          display: block;
          width: 100%;
          height: 100%;
        }
      `]}};ae([Kt({type:String,attribute:!0,reflect:!0})],Dh.prototype,"iaUrn",void 0);ae([on("iframe")],Dh.prototype,"iframe",void 0);Dh=ae([lr("spotify-player")],Dh);Za=class extends fi{constructor(){super(...arguments),this.selectedChannel="",this.playerApi=void 0}updated(e){e.has("album")&&this.album&&this.dispatchAlbumInfo(),e.has("selectedChannel")&&this.selectedChannel&&this.album&&this.updateToSelectedChannel(),e.has("selectedTrack")&&this.selectedTrack&&this.dispatchSelectedTrack()}dispatchSelectedTrack(){console.log("externalchannels-player: SELECTED TRACK",this.selectedTrack),this.dispatchEvent(new CustomEvent("externalChannelsSelectedTrack",{detail:{track:this.selectedTrack}}))}dispatchAlbumInfo(){var e,t;console.log("externalchannels-player: ALBUM INFO",this.album),this.dispatchEvent(new CustomEvent("externalChannelsPlayerLoaded",{detail:{album:this.album,spotifyTracks:((e=this.album)===null||e===void 0?void 0:e.spotifyTracks)||[],youtubeTracks:((t=this.album)===null||t===void 0?void 0:t.youtubeTracks)||[]}}))}onTracklistClickCallback(e){var t,r,s,l,o;this.currentTrackNum=e+1;let c=(t=this.album)===null||t===void 0?void 0:t.tracks.find(n=>n.track===this.currentTrackNum);if(this.selectedChannel===zr.spotify){let n=(r=this.album)===null||r===void 0?void 0:r.spotifyTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(s=this.album)===null||s===void 0?void 0:s.spotifyTracks[0]}else if(this.selectedChannel===zr.youtube){let n=(l=this.album)===null||l===void 0?void 0:l.youtubeTracks.find(u=>u.track===this.currentTrackNum);c=n!=null?n:(o=this.album)===null||o===void 0?void 0:o.youtubeTracks[0]}this.selectedTrack=c,console.log("*** onTracklistClickCallback ** ",{selectedTrack:c,iaTrackNum:e,currentTrackNum:this.currentTrackNum})}updateToSelectedChannel(){var e,t,r,s,l;if(this.selectedChannel==="youtube"){let o=this.album.youtubeTracks||[],c=[];if(console.log("youtubeTracks",o),o.length){let n=o.reduce((u,h)=>{let g=Number.isInteger(h.track)?`${h.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[]).join(", ");console.log("ytTrackNums",{ytTrackNums:n,iaYtTracklist:c}),(e=this.playerApi)===null||e===void 0||e.headless(c,u=>this.onTracklistClickCallback(u))}}else if(this.selectedChannel==="spotify"){let o=((t=this.album)===null||t===void 0?void 0:t.spotifyTracks)||[],c=[];if(console.log("spotifyTracks",o),o.length){let n=((r=this.album)===null||r===void 0?void 0:r.spotifyTracks.reduce((u,h)=>{let g=Number.isInteger(h.track)?`${h.track}`:"n/a";if(u.push(g),g!=="n/a"){let m=Number(g)-1;c.push(m)}return u},[])).join(", ");console.log("spTrackNums ------",{spTrackNums:n,iaSpTracklist:c}),(s=this.playerApi)===null||s===void 0||s.headless(c,u=>this.onTracklistClickCallback(u))}}else(l=this.playerApi)===null||l===void 0||l.headless()}render(){var e,t;if(!(this.selectedChannel==="youtube"||this.selectedChannel==="spotify"))return Ai;if(this.selectedChannel==="spotify"){let r=(e=this.album)===null||e===void 0?void 0:e.spotifyTracks.find(s=>{var l;return(s==null?void 0:s.track)===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(r)return ze`
          <spotify-player .iaUrn=${r==null?void 0:r.spotifyId}></spotify-player>
        `}else if(this.selectedChannel==="youtube"){let r=(t=this.album)===null||t===void 0?void 0:t.youtubeTracks.find(s=>{var l;return s.track===((l=this.selectedTrack)===null||l===void 0?void 0:l.track)});if(console.log("~~~~ trackFound YT ID",r==null?void 0:r.youtubeId,r),r)return ze`
          <youtube-player .iaUrn=${r.youtubeId}></youtube-player>
        `}return Ai}};ae([Kt({type:String,attribute:!0,reflect:!0})],Za.prototype,"selectedChannel",void 0);ae([Kt({type:Object})],Za.prototype,"playerApi",void 0);ae([Kt({type:Object})],Za.prototype,"album",void 0);ae([Kt({type:Object})],Za.prototype,"selectedTrack",void 0);ae([dn()],Za.prototype,"currentTrackNum",void 0);ae([on("spotify-player")],Za.prototype,"spotifyPlayer",void 0);ae([on("youtube-player")],Za.prototype,"youtubePlayer",void 0);Za=ae([lr("externalchannels-player")],Za)});var u_=si(()=>{dl();vr();xi();Nr();Tg();Pg();Dg();jg();Bg();Wg();Yu();c_()});var qn,Nh=si(()=>{Qp();qn="jQuery"in window&&"$"in window?window.$:Is;window.jQuery=qn;window.$=qn});var Xu,d_=si(()=>{Xu=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}}});function Zu(){qn(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;qn(t).find(".results").each((s,l)=>{qn(l).show().css({visibility:"hidden"}),r||(r=qn(l).offset()),qn(l).offset().top!==r.top?qn(l).hide():qn(l).css({visibility:"visible"})})})}var h_=si(()=>{Nh()});var Bh,p_=si(()=>{Bh=class{constructor(t,r=250,s=void 0){this.callback=t,this.threshhold=r,this.context=s,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}}});var Hh,f_=si(()=>{Nh();p_();Hh=class{constructor(t,r,s){this.identifier=t,this.$targetElement=r,this.callback=s,this.$window=qn(window),this.throttler=new Bh(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}}});var m_,g_=si(()=>{m_=/bot|crawl|spider/i.test(navigator.userAgent)});var Pc,v_=si(()=>{Nh();d_();h_();f_();g_();Pc=class e{static setup(){let t=qn("#js-related");if(t.length&&(Zu(),qn(window).on("resize  orientationchange",s=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(Zu,250)})),!t.length||m_)return;let r=qn("#also-found");this.scrollProximityHandler=new Hh("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(Xu.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=qn("#also-found").data("identifier"),r=qn("#js-related");return e.getRelatedItems(t).then(s=>{r.html(s),Zu()}).catch(s=>{qn("#playplayset").hide(),r.html(Xu.ErrorMessage({errorMessage:s.message})).show()})}static getRelatedItems(t,r){return new Promise((s,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";qn.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),s(n)}).fail(()=>{l(new Error(c))})})}};qn(()=>Pc.setup())});function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}function Zg(e,t){function r(l,o,c){if(!(typeof document>"u")){c=Fh({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),h=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(h,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:s,remove:function(l,o){r(l,"",Fh({},o,{expires:-1}))},withAttributes:function(l){return Zg(this.converter,Fh({},this.attributes,l))},withConverter:function(l){return Zg(Fh({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var q9,Ja,Jg=si(()=>{q9={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};Ja=Zg(q9,{path:"/"});});var Qg=si(()=>{Jg();Jg()});var zh,Uh,ev,y_,tv,Gn,Ju,iv,Vh,Qu=si(()=>{zh=window,Uh=zh.ShadowRoot&&(zh.ShadyCSS===void 0||zh.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ev=Symbol(),y_=new WeakMap,tv=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==ev)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Uh&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=y_.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&y_.set(t,e))}return e}toString(){return this.cssText}},Gn=e=>new tv(typeof e=="string"?e:e+"",void 0,ev),Ju=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((s,l,o)=>s+(c=>{if(c._$cssResult$===!0)return c.cssText;if(typeof c=="number")return c;throw Error("Value passed to 'css' function must be a 'css' function result: "+c+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(l)+e[o+1],e[0]);return new tv(r,e,ev)},iv=(e,t)=>{Uh?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{let s=document.createElement("style"),l=zh.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)})},Vh=Uh?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return Gn(r)})(e):e;});var rv,Wh,b_,G9,nv,av,w_,ov,sv,_l,lv=si(()=>{Qu();Qu();Wh=window,b_=Wh.trustedTypes,G9=b_?b_.emptyScript:"",nv=Wh.reactiveElementPolyfillSupport,av={toAttribute(e,t){switch(t){case Boolean:e=e?G9:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},w_=(e,t)=>t!==e&&(t==t||e==e),ov={attribute:!0,type:String,converter:av,reflect:!1,hasChanged:w_},sv="finalized",_l=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((t,r)=>{let s=this._$Ep(r,t);s!==void 0&&(this._$Ev.set(s,r),e.push(s))}),e}static createProperty(e,t=ov){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,r,t);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){return{get(){return this[t]},set(s){let l=this[e];this[t]=s,this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||ov}static finalize(){if(this.hasOwnProperty(sv))return!1;this[sv]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let t=this.properties,r=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(let s of r)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(Vh(s))}else e!==void 0&&t.push(Vh(e));return t}static _$Ep(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])})}createRenderRoot(){var e;let t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return iv(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostConnected)===null||r===void 0?void 0:r.call(t)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(t=>{var r;return(r=t.hostDisconnected)===null||r===void 0?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$EO(e,t,r=ov){var s;let l=this.constructor._$Ep(e,r);if(l!==void 0&&r.reflect===!0){let o=(((s=r.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?r.converter:av).toAttribute(t,r.type);this._$El=e,o==null?this.removeAttribute(l):this.setAttribute(l,o),this._$El=null}}_$AK(e,t){var r;let s=this.constructor,l=s._$Ev.get(e);if(l!==void 0&&this._$El!==l){let o=s.getPropertyOptions(l),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:av;this._$El=l,this[l]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,r){let s=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||w_)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}_$Ej(){return vi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$E_}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,l)=>this[l]=s),this._$Ei=void 0);let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(s=>{var l;return(l=s.hostUpdate)===null||l===void 0?void 0:l.call(s)}),this.update(r)):this._$Ek()}catch(s){throw t=!1,this._$Ek(),s}t&&this._$AE(r)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var s;return(s=r.hostUpdated)===null||s===void 0?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((t,r)=>this._$EO(r,this[r],t)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};_l[sv]=!0,_l.elementProperties=new Map,_l.elementStyles=[],_l.shadowRootOptions={mode:"open"},nv==null||nv({ReactiveElement:_l}),((rv=Wh.reactiveElementVersions)!==null&&rv!==void 0?rv:Wh.reactiveElementVersions=[]).push("1.6.3");});var cv=si(()=>{Qu();lv()});var qh=si(()=>{Qu();lv()});function L_(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return x_!==void 0?x_.createHTML(t):t}function Lc(e,t,r=e,s){var l,o,c,n;if(t===Cl)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=id(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=Lc(e,u._$AS(e,t.values),u,s)),t}var uv,Gh,$c,x_,pv,ws,E_,Y9,Al,td,id,T_,K9,dv,ed,__,k_,kl,S_,A_,P_,$_,ao,VY,Cl,oo,C_,Sl,X9,fv,Z9,mv,Yh,J9,Q9,e8,t8,i8,hv,I_,R_=si(()=>{Gh=window,$c=Gh.trustedTypes,x_=$c?$c.createPolicy("lit-html",{createHTML:e=>e}):void 0,pv="$lit$",ws=`lit$${(Math.random()+"").slice(9)}$`,E_="?"+ws,Y9=`<${E_}>`,Al=document,td=()=>Al.createComment(""),id=e=>e===null||typeof e!="object"&&typeof e!="function",T_=Array.isArray,K9=e=>T_(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",dv=`[ 	
\f\r]`,ed=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,__=/-->/g,k_=/>/g,kl=RegExp(`>|${dv}(?:([^\\s"'>=/]+)(${dv}*=${dv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),S_=/'/g,A_=/"/g,P_=/^(?:script|style|textarea|title)$/i,$_=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),ao=$_(1),VY=$_(2),Cl=Symbol.for("lit-noChange"),oo=Symbol.for("lit-nothing"),C_=new WeakMap,Sl=Al.createTreeWalker(Al,129,null,!1);X9=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=ed;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===ed?g[1]==="!--"?c=__:g[1]!==void 0?c=k_:g[2]!==void 0?(P_.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=kl):g[3]!==void 0&&(c=kl):c===kl?g[0]===">"?(c=l!=null?l:ed,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?kl:g[3]==='"'?A_:S_):c===A_||c===S_?c=kl:c===__||c===k_?c=ed:(c=kl,l=void 0);let _=c===kl&&e[n+1].startsWith("/>")?" ":"";o+=c===ed?u+Y9:m>=0?(s.push(h),u.slice(0,m)+pv+u.slice(m)+ws+_):u+ws+(m===-2?(s.push(void 0),n):_)}return[L_(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},fv=class M_{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=X9(t,r);if(this.el=M_.createElement(h,s),Sl.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Sl.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(pv)||y.startsWith(ws)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+pv).split(ws),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?J9:k[1]==="?"?e8:k[1]==="@"?t8:Yh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(P_.test(l.tagName)){let m=l.textContent.split(ws),y=m.length-1;if(y>0){l.textContent=$c?$c.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],td()),Sl.nextNode(),u.push({type:2,index:++o});l.append(m[y],td())}}}else if(l.nodeType===8)if(l.data===E_)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ws,m+1))!==-1;)u.push({type:7,index:o}),m+=ws.length-1}o++}}static createElement(t,r){let s=Al.createElement("template");return s.innerHTML=t,s}};Z9=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Al).importNode(r,!0);Sl.currentNode=l;let o=Sl.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new mv(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new i8(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Sl.nextNode(),c++)}return Sl.currentNode=Al,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},mv=class O_{constructor(t,r,s,l){var o;this.type=2,this._$AH=oo,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Lc(this,t,r),id(t)?t===oo||t==null||t===""?(this._$AH!==oo&&this._$AR(),this._$AH=oo):t!==this._$AH&&t!==Cl&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):K9(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==oo&&id(this._$AH)?this._$AA.nextSibling.data=t:this.$(Al.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=fv.createElement(L_(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new Z9(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=C_.get(t.strings);return r===void 0&&C_.set(t.strings,r=new fv(t)),r}T(t){T_(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new O_(this.k(td()),this.k(td()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},Yh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=oo,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=oo}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=Lc(this,e,t,0),o=!id(e)||e!==this._$AH&&e!==Cl,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=Lc(this,c[r+n],t,n),u===Cl&&(u=this._$AH[n]),o||(o=!id(u)||u!==this._$AH[n]),u===oo?e=oo:e!==oo&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===oo?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},J9=class extends Yh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===oo?void 0:e}},Q9=$c?$c.emptyScript:"",e8=class extends Yh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==oo?this.element.setAttribute(this.name,Q9):this.element.removeAttribute(this.name)}},t8=class extends Yh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=Lc(this,e,t,0))!==null&&r!==void 0?r:oo)===Cl)return;let s=this._$AH,l=e===oo&&s!==oo||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==oo&&(s===oo||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},i8=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Lc(this,e)}},hv=Gh.litHtmlPolyfillSupport;hv==null||hv(fv,mv),((uv=Gh.litHtmlVersions)!==null&&uv!==void 0?uv:Gh.litHtmlVersions=[]).push("2.8.0");I_=(e,t,r)=>{var s,l;let o=(s=r==null?void 0:r.renderBefore)!==null&&s!==void 0?s:t,c=o._$litPart$;if(c===void 0){let n=(l=r==null?void 0:r.renderBefore)!==null&&l!==void 0?l:null;o._$litPart$=c=new mv(t.insertBefore(td(),n),n,void 0,r!=null?r:{})}return c._$AI(e),c};});var Mc=si(()=>{R_()});var gv,vv,Oa,yv,D_=si(()=>{qh();qh();Mc();Mc();Oa=class extends _l{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;let r=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=r.firstChild),r}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=I_(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Cl}};Oa.finalized=!0,Oa._$litElement$=!0,(gv=globalThis.litElementHydrateSupport)===null||gv===void 0||gv.call(globalThis,{LitElement:Oa});yv=globalThis.litElementPolyfillSupport;yv==null||yv({LitElement:Oa});((vv=globalThis.litElementVersions)!==null&&vv!==void 0?vv:globalThis.litElementVersions=[]).push("3.3.3");});var bv=si(()=>{qh();Mc();D_()});var j_=si(()=>{});var wv=si(()=>{j_()});var N_=si(()=>{cv();Mc();bv();wv()});var Kh=si(()=>{cv();bv();wv();Mc();N_()});function xv(e,t=300,r=!1){let s=[...e];if(s.length<=t)return e;let l=s.slice(0,t).join(""),o=l.lastIndexOf(" ");return o>=0?r?e:`${l.slice(0,o)}...`:`${s.slice(0,t-2).join("")}..`}function B_(e){let t={};return Object.entries(e).map(r=>{t[r[1]]=r[0]}),t}var rd=si(()=>{});var H_=si(()=>{});var F_=si(()=>{rd()});var z_=si(()=>{});function Xh(){return location.hostname||location.host}var U_=si(()=>{});var V_,WK,n8,qK,GK,o8,YK,_v=si(()=>{Sv();kv();H_();as();Zh();F_();z_();U_();rd();WK=(V_=Xh())!=null&&V_.startsWith("tvnix")?Xh().split(".")[0].substr(5).toUpperCase():!1,n8="/^[^_]+_20[012][0-9][0-9][0-9][0-9][0-9]_[0-9][0-9][0-9][0-9][0-9][0-9]/",qK=`identifier ~ '${n8.slice(1).slice(0,-1)}'`,GK=B_(["UNITED STATES","THE CITY","UNITED","US","U.S.","AMERICA","ABC","NBC","CNN"]),o8=["tracey@archive.org","jesse.hammons@archive.org"],YK=[...o8,"tv@archive.org"]});var kv=si(()=>{_v()});var Sv=si(()=>{kv();as()});function nd(e,t=!1){let r;return t&&(r=e.match(/^(\d+):(\d+):([\d.]+),(\d+)$/))?Number(r[1])*3600+Number(r[2])*60+Number(r[3])+ +`0.${r[4]}`:(r=e.match(/^(\d+):(\d+):([\d+.]+)$/))?(r=r.map(s=>parseFloat(s)),r[1]*3600+r[2]*60+r[3]):(r=e.match(/^(\d+):([\d+.]+)$/))?(r=r.map(s=>parseFloat(s)),r[1]*60+r[2]):(r=e.match(/^([\d+.]+)$/))?parseFloat(r[1]):!1}var G_,dX,Zh=si(()=>{as();rd();Sv();_v();G_={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},dX=Object.keys(G_)});var Cv,El,l8,c8,u8,Av,d8,h8,Ev,Y_,K_=si(()=>{as();wd();Zh();rd();Cv=!1,El=100,l8=(location==null?void 0:location.host)==="av.dev.archive.org",c8="__ia_thumb.jpg",u8=0,Av=Object.fromEntries(["thumbnail2","thumbnail","h.264","webm","h.264 720p","h.264 486p","512kb mpeg4","ogg video",Cv?"h.264 4k":"h.264 hd","h.264 hd","h.264 mpeg4","mpeg4","ogg theora","flash video","vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"].map(e=>[e,u8++])),d8=["vbr mp3","ogg vorbis","mpeg-4 audio","128kbps mp3","64kbps mp3","mp3 sample"],h8=["64kbps m3u","64kbps mp3 zip","checksums","flac fingerprint","item tile","vbr m3u","vbr zip"],Ev=class e{constructor(t,r=!1){this.identifier=t.metadata.identifier,this.groups=[],this.widths={},this.heights={},this.durations={},this.srts={},this.vtts={},this.haxLP=!1;let s={},l={},o={},c={},n={},u={},h={},g={},m=Av.thumbnail2,y={};t.files.forEach(T=>{let[E]=this.filter(T);if(E){if("original"in E){let a=e.val(E.original);E.name!==a&&(s[E.name]=a)}E.name.endsWith(".png")&&!E.name.endsWith("_spectrogram.png")&&(h[E.name]=1)}}),Ki(s),t.files.forEach(T=>{let[E,a,p]=this.filter(T);if(!E)return;let v=E.name,d=Av[a],x="original"in E,C=v;if(x){C=e.val(E.original);for(let N=10;N&&C in s;N--)C=s[C];(p==="mp4"||p==="ogv")&&C in t.files&&t.files[C].format==="ISO Image"&&preg_match("/^(.*?)(d+).[^.]+$/",$filename,$m2)&&preg_match("/^(.*).[^.]+$/",$key,$mat)&&$m2[1]==$mat[1]&&($origSuffix=strrchr($fi.ORIGINAL,"."),C="{$m2[1]}{$m2[2]}$origSuffix"),C=e.val(C)}else"artist"in E?y[C]=E.artist:"creatorxxx"in E&&(y[C]=E.creatorxxx);if(!(r&&C!==r)){if(C in l||(l[C]={}),"title"in E&&(x&&"title"in l[C]||(l[C].title=E.title)),"height"in E&&(this.heights[v]=E.height),"width"in E&&(this.widths[v]=E.width),"autoplay"in E&&(n[v]=E.autoplay),"length"in E){let N=nd(String(e.val(E.length)));this.durations[v]=N,x&&(g[C]=1),(x||!("length"in l[C])||!(C in g))&&(l[C].length=Math.round(N))}if(d){if(x){if(a==="h.264 720p"){l[C].HD=v;return}}else{let N=E.title;if(a==="h.264 hd"||a==="h.264 mpeg4"&&(N.indexOf("[HD]")>0||N.indexOf(" HD ")>0||N.endsWith(" HD"))){l[C].HD=v;return}if(Cv&&a==="h.264 4k"){l[C]["4K"]=v;return}d>1&&(d+=El)}d>1&&(d8.indexOf(a)>=0?(o[C]=1,u[v]=1):c[C]=1),C in l||(l[C]={}),d in l[C]?a==="thumbnail"&&m in l[C]&&(l[C][m]=v):(l[C][d]=v,d<El&&d+El in l[C]?delete l[C][d+El]:d>El&&d-El in l[C]&&delete l[C][d-El])}}}),Ki(l),this.haxLP&&(delete l[`${this.identifier}.flac`],delete l[`${this.identifier}.ogg`],delete l[`${this.identifier}.mp3`],delete l[`${this.identifier}.m4a`]);let _=Object.keys(o).length,w=Object.keys(c).length;w>0&&(w>=_||t.metadata.mediatype==="movies")?this.showing="movies":this.showing=_?"audio":!1;let k=Object.values(y);(k.length<=1||[...new Set(k)].length<=1)&&(y={});let A=this.showing==="movies"?c:o,L=this.showing==="movies"?w:_;for(let[T,E]of Object.entries(l)){if(!(T in A))continue;let a={SRC:[]};if(0 in E)a.POSTER=E[0];else if(1 in E)a.POSTER=E[1];else for(let[p,v]of Object.entries(E))if(parseInt(p,10)){let d=v.replace(/(\.m4a|\.ogg|_sample\.mp3|\.mp3)$/i,".png");d!==v&&d in h&&(a.POSTER=d)}T in n&&(a.AUTOPLAY=!1);for(let[p,v]of Object.entries(E))if(parseInt(p,10)&&p>1){if(this.showing==="movies"&&u[v]||this.showing!=="movies"&&!u[v])continue;a.SRC.push(v)}a.SRC.length&&(a.TITLE="title"in E?e.val(E.title):T.split("/").pop().replace(/\.[^.]+$/,"").replace(/_512kb$/,"").replace(/_/g," "),a.ORIG=T,T in y&&(a.ARTIST=y[T]),"length"in E?a.length=E.length:a.length=this.runtime(t,L,T),"HD"in E&&(a.HD=E.HD),Cv&&"4K"in E&&(a["4K"]=E["4K"]),this.groups.push(a))}if(this.captions(),l8&&Ki("player",this),this.showing==="audio")for(let T of this.groups){let E=!1,a=!1;for(let[p,v]of Object.entries(T.SRC))v.endsWith("_sample.mp3")?E=p:v.endsWith(".mp3")&&(a=!0);a&&E!==!1&&T.SRC.splice(E,1)}}static val(t){return typeof t=="object"?t.length?t[0]:"":t}filter(t){let r=t.name,s=r.substr(1+r.lastIndexOf(".")).toLowerCase(),l=t.format.toLowerCase();if(h8.includes(l)||r===c8)return[];if(s==="mp3"&&(t.original===`${this.identifier}_segments.json`||t.original===`${this.identifier}_segments.xml`)&&(this.haxLP=!0,delete t.original,t.source="original"),typeof t.original=="string"&&t.original.endsWith(".torrent")&&(delete t.original,t.source="original"),s==="vtt")return this.vtts[r]=1,[];if(s==="srt")return this.srts[r]=1,[];let o=Av[l];return s==="mp3"&&!o?[t,"64kbps mp3",s]:[t,l,s]}jwplaylist(t,r=!1,s=[]){let l=[],o=`https://archive.org/download/${this.identifier}/`,c=["audio/mpeg","mp3","audio/ogg","ogg","video/h264","mp4","video/ogg","ogg",""];navigator.userAgent.indexOf("Chrome/")>0?ba("jest")?c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]:c=["audio/ogg","ogg","audio/mpeg","mp3","video/h264","mp4","video/ogg","ogg",""]:navigator.userAgent.indexOf(" Iceweasel/")>0&&(c=["audio/ogg","ogg","audio/mpeg","mp3","video/ogg","ogg","video/h264","mp4",""]),c.push("video/x-flv");let n=0;c=Object.fromEntries(c.map(u=>[u,n++]));for(let u of Object.values(this.groups)){let h={sources:[],title:xv(u.TITLE,100,!0)};"ORIG"in u&&(h.orig=u.ORIG,"ARTIST"in u&&(h.artist=u.ARTIST)),"AUTOPLAY"in u&&(h.autoplay=u.AUTOPLAY);let g=ba("poster");g?h.image=this.url(g.replace(/^(https?):\/([^/])/,"$1://$2")):(this.showing==="movies"&&"POSTER"in u||this.showing==="audio"&&"POSTER"in u)&&(h.image=this.url(o+u.POSTER),s.length||s.push(this.url(o+u.POSTER))),"length"in u&&(h.duration=u.length),"HD"in u&&u.SRC.push(u.HD);let m={};for(let y of u.SRC){let _=((y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))$/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))\?/i)||[]).pop()||(y.match(/(\.(mp3|ogg|m4a|ogv|mp4|mpeg4|m4v|mov|flv|swf))&/i)||[]).pop()||"").toLowerCase();if(r&&(_==="ogg"||_==="ogv"))continue;let w="",k=[640,480];switch(_){case"mp3":w="mp3";break;case"ogg":w="ogg";break;case"m4a":w="aac";break;case"ogv":w="ogg",k=[400,300];break;case"mp4":w="mp4";break;case"mpeg4":w="mp4";break;case"m4v":w="mp4";break;case"mov":w="mp4";break;case"flv":w="video/x-flv";break;case"swf":w="video/x-flv";break;default:w=""}let A=y in this.widths?this.widths[y]:k[0],L=y in this.heights?this.heights[y]:k[1],T={file:this.url(o+y),width:A,height:L};w!==""&&(T.type=w),this.showing==="movies"&&(T.label=`${L}p${L>=720?" HD":""}`),!(w&&parseInt(L,10)===parseInt(m[w],10))&&(m[w]=L,h.sources.push(T),this.showing==="movies"&&"image"in h&&(h.tracks=[{kind:"thumbnails",file:`${h.image.replace("/download/","/stream/").replace("%2F","/")}?vtt=vtt.vtt`}]),y in this.durations&&(h.duration=Math.max(h.duration,this.durations[y])))}Ki(t.tv),l.push(h)}return l}runtime(t,r,s){return this.xxx=`implement runtime() ${r?typeof t:typeof s}`,-1}captions(){this.xxx="implement captions()"}url(t){return this.xxx="sort me out ",t}},Y_=Ev});var p8,X_,Z_=si(()=>{p8=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,X_=p8});var J_=si(()=>{});function f8(e,t=""){return vi(this,null,function*(){let s=typeof window!="undefined"&&window.navigator.onLine===!1?`${location.origin}/json/${e}.json`:`https://archive.org/metadata/${e}${t?`/${t}`:""}`;return(yield fetch(s)).json()})}var Q_,ek=si(()=>{J_();Q_=f8});var tk=si(()=>{Kh();Qg();customElements.define("background-play",class extends Oa{constructor(){super(),this.toggle=!Ja.get("nohls")}static get properties(){return{toggle:Boolean}}click_on(){this.toggle=!0,Ja.remove("nohls",{path:"/details"})}click_off(){this.toggle=!1,Ja.set("nohls",1,{path:"/details",expires:30})}render(){let t="jw-settings-item-active";return ao`
      <div class="jw-reset jw-settings-submenu-items">
        <button type="button"
          aria-checked="${this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?t:""}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play ON"
          @click=${this.click_on}
          >Background Play ON</button>
        <button type="button"
          aria-checked="${!this.toggle}"
          class="jw-reset-text jw-settings-content-item ${this.toggle?"":t}"
          role="menuitemradio" dir="auto"
          aria-label="Background Play OFF"
          @click=${this.click_off}
          >Background Play OFF</button>
        <div class="jw-reset-text jw-settings-content-item">
          It appears your browser supports background audio playback.  You can turn this feature off if you find the network startup times are delaying your audio experience.  After changing this setting, reload this browser tab.
        </div>
      </div>`}createRenderRoot(){return this}})});var ik,Tv,Tl,xs,Ia,fa,rk,nk,ok=si(()=>{xi();Nr();xi();Nr();xi();Nr();ik=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},Tv=class extends fi{constructor(){super(...arguments),this.seconds=0}render(){return ze`
      ${this.durationString}
    `}get durationString(){if(typeof this.seconds!="number")return"";let e=Math.floor(this.seconds/3600),t=Math.floor(this.seconds/60)%60,r=Math.floor(this.seconds%60),s=e>0?`${e}`:void 0,l=e>0&&t<10?`0${t}`:`${t}`,o=r<10?`0${r}`:`${r}`,c=`${l}:${o}`;return c=s?`${s}:${c}`:c,c}};ik([Kt({type:Number})],Tv.prototype,"seconds",void 0);Tv=ik([lr("duration-formatter")],Tv);Tl=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},xs=class extends fi{constructor(){super(...arguments),this.entry=void 0,this.isActive=!1,this.isSelected=!1,this.isClickable=!1,this.isSearchResult=!1,this.isMusicEntry=!1}render(){return ze`
      ${this.entry?this.entry.displayText:""}
    `}};Tl([Kt({type:Object})],xs.prototype,"entry",void 0);Tl([Kt({type:Boolean,reflect:!0})],xs.prototype,"isActive",void 0);Tl([Kt({type:Boolean,reflect:!0})],xs.prototype,"isSelected",void 0);Tl([Kt({type:Boolean,reflect:!0})],xs.prototype,"isClickable",void 0);Tl([Kt({type:Boolean,reflect:!0})],xs.prototype,"isSearchResult",void 0);Tl([Kt({type:Boolean,reflect:!0})],xs.prototype,"isMusicEntry",void 0);xs=Tl([lr("transcript-entry")],xs);Ia=function(e,t,r,s){var l=arguments.length,o=l<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,s);else for(var n=e.length-1;n>=0;n--)(c=e[n])&&(o=(l<3?c(o):l>3?c(t,r,o):c(t,r))||o);return l>3&&o&&Object.defineProperty(t,r,o),o},fa=class extends fi{constructor(){super(...arguments),this.config=void 0,this.currentTime=0,this.topContextHeight=50,this.bottomContextHeight=50,this.autoScroll=!0,this.selectedSearchResultIndex=0,this.showContextZones=!1,this.timeScrollTop=0,this.currentEntries=[],this.scrollTimerDelay=15e3,this.scrollResumeTimerId=-1}render(){return ze`
      <div class="container">
        ${this.showContextZones?this.contextZoneDevTemplates:""}

        <div
          class="scroll-container"
          id="scroll-container"
          @wheel=${this.didScroll}
          @touchmove=${this.didScroll}
        >
          <div class="col time">
            ${this.timeDisplayTemplate}
          </div>

          <div class="col">
            ${this.autoScrollButtonTemplate}
            ${this.transcriptEntries.map(e=>this.transcriptEntryTemplate(e))}
          </div>
        </div>
      </div>
    `}scrollToSelectedSearchResult(){let{selectedSearchResult:e}=this;e&&(this.autoScroll=!1,this.scrollToElement(e))}get autoScrollButtonTemplate(){return ze`
      <button
        @click=${this.enableAutoScroll}
        class="auto-scroll-button ${this.autoScroll?"hidden":""}"
      >
        Scroll text with audio
      </button>
    `}get timeDisplayTemplate(){return ze`
      <div class="time-display" style="top: ${this.timeScrollTop}px">
        <duration-formatter .seconds=${this.currentTime}> </duration-formatter>
      </div>
    `}transcriptEntryTemplate(e){let t=this.currentEntries.find(o=>o.id===e.id)!==void 0,r=e.searchMatchIndex===this.selectedSearchResultIndex,s=e.searchMatchIndex!==void 0,l=e.isMusic;return ze`
      <transcript-entry
        .entry=${e}
        ?isSelected=${r}
        ?isActive=${t}
        ?isSearchResult=${s}
        ?isMusicEntry=${l}
        ?isClickable=${!0}
        .data-search-result-index=${e.searchMatchIndex}
        data-identifier=${e.id}
        @click=${this.transcriptEntrySelected}
      >
      </transcript-entry>
    `}get contextZoneDevTemplates(){return ze`
      ${this.topContextZoneDevTemplate} ${this.bottomContextZoneDevTemplate}
    `}get topContextZoneDevTemplate(){return ze`
      <div class="top context-overlay" style="height: ${this.topContextHeight}px"></div>
    `}get bottomContextZoneDevTemplate(){return ze`
      <div class="bottom context-overlay" style="height: ${this.bottomContextHeight}px"></div>
    `}get transcriptEntries(){return this.config?this.config.entries:[]}static get styles(){let e=dt`var(--transcriptHeight, 200px)`,t=dt`var(--timeFontSize, 1em)`,r=dt`var(--timeLineHeight, 1em)`,s=dt`var(--timeColor, white)`,l=dt`var(--timeColumnWidth, 3rem)`,o=dt`var(--timeDisplay, block)`,c=dt`var(--autoScrollButtonFontColor, black)`,n=dt`var(--autoScrollButtonBackgroundColor, white)`,u=dt`var(--autoScrollButtonWidth, 12rem)`,h=dt`var(--autoScrollButtonFontSize, 1em)`,g=dt`var(--transcriptNormalTextColor, gray)`,m=dt`var(--transcriptActiveTextColor, white)`,y=dt`var(--transcriptHoverTextColor, silver)`,_=dt`var(--transcriptMusicNormalTextColor, gray)`,w=dt`var(--transcriptMusicActiveTextColor, white)`,k=dt`var(--transcriptMusicActiveTextColor, silver)`,A=dt`var(--transcriptSearchResultInactiveBorderColor, gray)`,L=dt`var(--transcriptSearchResultActiveBorderColor, green)`;return dt`
      :host {
        color: ${g};
      }

      .container {
        position: relative;
      }

      .auto-scroll-button.hidden {
        display: none;
      }

      .auto-scroll-button {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 1rem;
        margin: auto;
        width: ${u};
        border-radius: 1em;
        border: 0;
        display: inline-block;
        color: ${c};
        background-color: ${n};
        font-size: ${h};
        z-index: 10;
      }

      .context-overlay {
        position: absolute;
        left: 0;
        width: 100%;
        height: 0;
        z-index: -1;
      }

      .context-overlay.top {
        top: 0;
        border-bottom: 1px solid green;
      }

      .context-overlay.bottom {
        bottom: 0;
        border-top: 1px solid green;
      }

      .time {
        display: ${o};
        flex: 0 0 ${l};
        color: ${s};
        position: relative;
      }

      .time-display {
        position: absolute;
        top: 0;
        font-size: ${t};
        line-height: ${r};
        transition: top 1s;
      }

      .scroll-container {
        display: flex;
        overflow-y: auto;
        -ms-overflow-style: none;
        scrollbar-width: none;
        height: ${e};
      }

      .scroll-container::-webkit-scrollbar {
        display: none;
      }

      transcript-entry {
        cursor: pointer;
      }

      transcript-entry:hover {
        color: ${y};
      }

      transcript-entry[ismusicentry] {
        color: ${_};
        display: block;
        font-style: italic;
      }

      transcript-entry[ismusicentry]:hover {
        color: ${k};
      }

      transcript-entry[ismusicentry][isactive] {
        color: ${w};
      }

      transcript-entry[isactive] {
        color: ${m};
      }

      transcript-entry[issearchresult] {
        display: inline-block; /* without this, the outline adds an extra space to the right of the text */
        padding: 0 5px;
        position: relative;
      }

      transcript-entry[issearchresult]:after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 2px solid ${A};
        border-radius: 5px;
      }

      transcript-entry[issearchresult][isselected]:after {
        border: 2px solid ${L};
      }
    `}transcriptEntrySelected(e){let{entry:t}=e.target;if(!t)return;let r=new CustomEvent("transcriptEntrySelected",{detail:{entry:t}});this.dispatchEvent(r),t.searchMatchIndex!==void 0&&(this.selectedSearchResultIndex=t.searchMatchIndex),this.autoScroll=!1}handleCurrentTimeChange(){let e=this.transcriptEntries;if(e.length===0)return;let t=e.filter(r=>this.currentTime>=r.start&&this.currentTime<=r.end);this.entryArraysMatch(t,this.currentEntries)||(this.dispatchEvent(new Event("currentEntriesUpdated")),this.currentEntries=t)}entryArraysMatch(e,t){if(e.length!==t.length)return!1;let r=e.map(o=>o.id).sort(),s=t.map(o=>o.id).sort(),l=!0;return r.forEach((o,c)=>{s[c]!==o&&(l=!1)}),!!l}entryIdentifierClosestToTime(e){if(this.transcriptEntries.length===0)return null;let t=this.transcriptEntries[0],r=Math.abs(e-t.start),s=t.id;return this.transcriptEntries.forEach(l=>{let o=Math.abs(e-l.start);o<r&&(r=o,s=l.id)}),s}elementClosestToTime(e){let t=this.entryIdentifierClosestToTime(e);return t?this.elementForIdentifier(t):null}elementForIdentifier(e){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-identifier="${e}"]`)}didScroll(){this.autoScroll=!1,window.clearTimeout(this.scrollResumeTimerId),this.scrollResumeTimerId=window.setTimeout(()=>{this.autoScroll=!0},this.scrollTimerDelay)}enableAutoScroll(){this.autoScroll=!0,this.scrollToClosestEntry()}updated(e){e.has("currentTime")&&this.handleCurrentTimeChange(),e.has("selectedSearchResultIndex")&&this.scrollToSelectedSearchResult(),e.has("currentEntries")&&(this.scrollToClosestEntry(),this.updateTimePosition()),e.has("autoScroll")&&this.handleAutoScrollChange(),e.has("config")&&(this.selectedSearchResultIndex=0,this.scrollToSelectedSearchResult())}get scrollView(){return this.shadowRoot&&this.shadowRoot.getElementById("scroll-container")}get activeTranscriptEntry(){return this.shadowRoot&&this.shadowRoot.querySelector("transcript-entry[isActive]")}get selectedSearchResult(){return this.shadowRoot&&this.shadowRoot.querySelector(`transcript-entry[data-search-result-index="${this.selectedSearchResultIndex}"]`)}get closestEntryToCurrentTime(){return this.activeTranscriptEntry||this.elementClosestToTime(this.currentTime)}handleAutoScrollChange(){let e=new CustomEvent("autoScrollChanged",{detail:{autoScroll:this.autoScroll}});this.dispatchEvent(e)}scrollToClosestEntry(){if(!this.autoScroll)return;let e=this.closestEntryToCurrentTime;e&&this.scrollToElement(e)}scrollToElement(e){let{scrollView:t}=this;if(!t)return;let r=t.getBoundingClientRect(),s=e.getBoundingClientRect(),l=r.height,{topContextHeight:o}=this,{bottomContextHeight:c}=this,n=l-c;if(s.bottom>r.top+n||s.top<r.top){let u=s.top-r.top+t.scrollTop-o;this.scrollToOffsetWithDuration(u,1)}}updateTimePosition(){let e=this.closestEntryToCurrentTime;if(!e)return;let t=e.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect().top-t.top;this.timeScrollTop=r}scrollToOffsetWithDuration(e,t,r){let{scrollView:s}=this;if(!s)return;let l=s.scrollTop,o=e-l,c=performance.now(),n,u,h;function g(y){return y<.5?2*y*y:-1+(4-2*y)*y}function m(){s&&(n=performance.now(),u=(n-c)/1e3,h=u/t,s.scrollTop=l+o*g(h),h<1?window.requestAnimationFrame(m):r&&r())}m()}};Ia([Kt({type:Object})],fa.prototype,"config",void 0);Ia([Kt({type:Number})],fa.prototype,"currentTime",void 0);Ia([Kt({type:Number})],fa.prototype,"topContextHeight",void 0);Ia([Kt({type:Number})],fa.prototype,"bottomContextHeight",void 0);Ia([Kt({type:Boolean})],fa.prototype,"autoScroll",void 0);Ia([Kt({type:Number})],fa.prototype,"selectedSearchResultIndex",void 0);Ia([Kt({type:Boolean})],fa.prototype,"showContextZones",void 0);Ia([dn()],fa.prototype,"timeScrollTop",void 0);Ia([dn()],fa.prototype,"currentEntries",void 0);fa=Ia([lr("transcript-view")],fa);rk=class{constructor(e){this.entries=[],this.entries=e}get searchResults(){return this.entries.filter(e=>e.searchMatchIndex!==void 0)}},nk=class{constructor(e,t,r,s,l,o){this.id=e,this.start=t,this.end=r,this.rawText=s,this.isMusic=l,this.searchMatchIndex=o}get displayText(){return this.isMusic?"[Transcript unavailable]":this.rawText}}});var ak=si(()=>{xi();Nr();ok()});var sk=si(()=>{Kh();ak();Zh();as();customElements.define("transcript-viewer",class extends Oa{static get properties(){return{transcriptConfig:Object,is_open:Boolean,playlist:Object,trackno:Number,bgTheme:String}}render(){return this.tracks_with_captions?ao`
    <div class="${this.transcriptConfig?"":"dimmed"}">
      <div style="display:none; float:right; font-size:200%; margin-top:14px; padding-right:10px"></div>
        <button type="button" @click="${this.transcript_toggled}"
          class="${this.bgTheme==="light"?"light":""}">

        <div>
          <svg class="transcript-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="m100 9.78013601c0-2.14552613-.7593357-3.978597-2.278007-5.4992126-1.5186713-1.52061561-3.3493984-2.28092341-5.4921813-2.28092341h-84.54977287c-2.08268321 0-3.88336049.7603078-5.40203183 2.28092341-1.51867133 1.5206156-2.278007 3.35368647-2.278007 5.4992126v61.92273459c0 2.0853495.75933567 3.8883321 2.278007 5.4089477 1.51867134 1.5206156 3.31934862 2.2809234 5.40203183 2.2809234l21.48662787-.209946 20.8333333 19.8172043 20.8333333-19.8172043 21.3930111.209946c2.1427829 0 3.97351-.7603078 5.4921813-2.2809234s2.278007-3.3235982 2.278007-5.4089477zm-17.2522403 32.16155839c-2.3653389 7.801758-5.8499089 13.6695526-10.4537101 17.6033839-4.4180179 4.1201827-9.3344788 5.6496272-14.7493828 4.5883336-.3103941-.1863514-.1857833-.5295105.3738323-1.0294775l1.4110469-1.2361912c.4032857-.3494315.8663846-.7486779 1.3892967-1.1977391 1.3072802-1.1226532 2.3959251-2.2464427 3.2659348-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4520203-2.1700157.3146711-2.7685731l-.0359961-.1323719c-.188049-.5908701-.188049-1.2306006 0-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2608343-5.4303235-.7918447-8.5187561c.4689896-3.0884325 1.7286911-5.8507502 3.7791045-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.3197467.5295105 9.2869002 2.7918612 11.9014606 6.7870521 1.6176742 2.247579 2.5511221 5.0564845 2.8003436 8.4267167.2492216 3.3702321-.0928916 6.3666253-1.0263395 8.9891795zm-36.2141529 0c-2.3019006 7.6154066-5.8181897 13.4832012-10.5488674 17.6033839-4.3568453 4.1201827-9.2415872 5.6496272-14.6542255 4.5883336-.3738323-.1863514-.2956674-.5295105.2344948-1.0294775l.5067806-.4663935c.5403123-.4884122 1.2889737-1.1442578 2.2459844-1.9675368 1.3050145-1.1226532 2.4253785-2.2464427 3.3610921-3.3713685 1.1192312-1.4976284 1.8657629-2.9179892 2.2395952-4.2610824.34713-1.247158.4656952-2.1700157.3556955-2.7685731l-.0294419-.1323719c-.1563298-.5908701-.1404703-1.2306006.0475787-1.9191915-3.2353485.1863513-6.0662784-.5783709-8.4927898-2.2941668s-4.1382101-3.8690629-5.1350962-6.459801-1.2766939-5.4303235-.8394234-8.5187561c.4372705-3.0884325 1.7128316-5.8507502 3.8266832-8.2869531 3.48457-3.806567 7.8867284-5.4450953 13.206475-4.9155847 5.171976.5148018 9.0654591 2.6675121 11.6804495 6.4581307l.2210111.3289214c1.5565017 2.247579 2.4593633 5.0564845 2.7085848 8.4267167.2345614 3.1719832-.0275955 6.0128149-.7864707 8.5224951z"/></svg>
        </div>
        <div>
          ${this.kind}
        </div>
        <div style="display:none; ${this.is_open?"margin-top:-12px":""}">${this.is_open?"\uFE3F":"\uFE40"}</div>

        <div>
          ${this.is_open?ao`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"></path></svg>`:ao`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
    <path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"></path></svg>`}
        </div>
      </button>

      <div class="transcript-view-wrap  ${this.transcriptConfig&&this.is_open?"":"not-showing"}">
        <transcript-view
          .config=${this.transcriptConfig}
          .currentTime=${this.currentTime}
          @transcriptEntrySelected=${this.transcriptEntrySelected}
        ></transcript-view>
      </div>
    </div>
    `:ao``}transcript_toggled(){this.transcriptConfig&&(this.is_open=!this.is_open,this.is_open&&globalThis.archive_analytics&&globalThis.archive_analytics.send_event("DetailsPage-MusicPlayer","LyricsButton-Clicked",window.location.pathname))}static get styles(){return Ju`
:host {
  --timeColumnWidth: 4.5rem;
  --transcriptHeight: ${Gn(185)}px;
}
:host > div {
  padding: 3px 5px;
  margin: 4px 4px 0 8px;
}
.caret-up-svg, .caret-down-svg {
  width: 25px;
  display: inline-block;
}
.transcript-svg {
  width: 14px;
  display: inline-block;
  margin-top: 6px;
}

transcript-view {
  display: block;
  padding: ${Gn(5)}px 10px;
  background-color: #000000cc !important;
  border: ${Gn(1)}px solid #ffffff33;
  border-radius: 5px;
  box-sizing: border-box;
}
.transcript-view-wrap {
  height: ${Gn(185+2*1+2*5)}px;
  overflow-y: hidden;
  transition: height 0.5s ease;
}
.not-showing {
  height: 0px;
}
.dimmed {
  opacity: 0.4;
}
button {
  background: none;
  color: inherit;
  border: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}
button div {
  display: inline-block;
  vertical-align: top;
  margin-left: 5px;
  color: white;
}
button svg {
  fill: white;
}
button.light, button.light div {
  color: black;
}
button.light svg {
  fill: black;
}
.dimmed button {
  cursor: default;
}
    `}updated(e){if(Ki("<transcript-viewer> updated()",e),e.has("trackno")&&this.update_transcript_view(),!this.tracking_time){let t=document.querySelector("video");t&&(this.tracking_time=!0,t.addEventListener("timeupdate",()=>{var s;this.currentTime=t.currentTime;let r=(s=this.shadowRoot)==null?void 0:s.querySelector("transcript-view");if(r&&(r.currentTime=this.currentTime,!this.transcript_view_tweaked)){let l=r.shadowRoot.querySelectorAll("transcript-entry");if(l.length){if(this.transcript_view_tweaked=!0,this.kind==="Lyrics (AI)"){let c=()=>l.forEach(n=>n.style.display="block");c(),setTimeout(c,1e3)}let o=r.shadowRoot.querySelector(".col.time");o&&(o.style.top="3px")}}}))}}transcriptEntrySelected(e){let r=(e.detail||{}).entry||{};if(!r.start)return;let s=r.start;this.currentTime=s;let l=document.querySelector("video");Ki({player:l}),l&&(l.currentTime=this.currentTime,l.play())}update_transcript_view(){return vi(this,null,function*(){delete this.transcript_view_tweaked;let e=this.captions[this.trackno];if(!e){this.transcriptConfig=null;return}if(!this.transcriptConfigCache[this.trackno]){let t=e.replace(/^\/download\//,"https://archive.org/cors/");Ki({srtUrl:t});let s=yield(yield fetch(t)).text(),l=[],o=0;for(let n of s.split(`

`)){o+=1;let[,u,h,g]=n.match(/^[0-9]+\n([^ ]+) --> ([^ ]+)\n([\s\S]*)/m)||["",0,0,""];h&&l.push({id:o,start:nd(u,!0),end:nd(h,!0),text:g,is_music:!1})}Ki({json:l});let c=l.map(n=>new nk(n.id,n.start,n.end,n.text,n.is_music,n.search_match_index));this.transcriptConfigCache[this.trackno]=new rk(c)}this.transcriptConfig=this.transcriptConfigCache[this.trackno]})}firstUpdated(){var t,r;Ki("<transcript-viewer> firstUpdated()"),this.currentTime=0;let e="Lyrics";this.kind=e,this.captions=[],this.transcriptConfigCache=[];for(let[s,l]of Object.entries(JSON.parse(this.playlist))){if(!l.tracks)continue;let o={};for(let c of l.tracks)c.kind==="subtitles"&&((t=c.file)!=null&&t.endsWith(".srt"))&&(o[(r=c.label)!=null?r:"none"]=c.file);this.captions[s]=o.align||o.cc5||o.en||o.asr||o.none,(this.captions[s]===o.align||this.captions[s]===o.asr)&&(this.kind=`${e} (AI)`)}Ki(this.captions),this.tracks_with_captions=Object.values(this.captions).length}})});var Jh,lk,m8,g8,ck,Pl,Pv=si(()=>{Jh=function(e,t){return e<t?-1:e>t?1:0},lk=function(e){return e.reduce(function(t,r){return t+r},0)},m8=function(){function e(r){this.colors=r}var t=e.prototype;return t.palette=function(){return this.colors},t.map=function(r){return r},e}(),g8=function(){function e(o,c,n){return(o<<10)+(c<<5)+n}function t(o){var c=[],n=!1;function u(){c.sort(o),n=!0}return{push:function(h){c.push(h),n=!1},peek:function(h){return n||u(),h===void 0&&(h=c.length-1),c[h]},pop:function(){return n||u(),c.pop()},size:function(){return c.length},map:function(h){return c.map(h)},debug:function(){return n||u(),c}}}function r(o,c,n,u,h,g,m){var y=this;y.r1=o,y.r2=c,y.g1=n,y.g2=u,y.b1=h,y.b2=g,y.histo=m}function s(){this.vboxes=new t(function(o,c){return Jh(o.vbox.count()*o.vbox.volume(),c.vbox.count()*c.vbox.volume())})}function l(o,c){if(c.count()){var n=c.r2-c.r1+1,u=c.g2-c.g1+1,h=Math.max.apply(null,[n,u,c.b2-c.b1+1]);if(c.count()==1)return[c.copy()];var g,m,y,_,w=0,k=[],A=[];if(h==n)for(g=c.r1;g<=c.r2;g++){for(_=0,m=c.g1;m<=c.g2;m++)for(y=c.b1;y<=c.b2;y++)_+=o[e(g,m,y)]||0;k[g]=w+=_}else if(h==u)for(g=c.g1;g<=c.g2;g++){for(_=0,m=c.r1;m<=c.r2;m++)for(y=c.b1;y<=c.b2;y++)_+=o[e(m,g,y)]||0;k[g]=w+=_}else for(g=c.b1;g<=c.b2;g++){for(_=0,m=c.r1;m<=c.r2;m++)for(y=c.g1;y<=c.g2;y++)_+=o[e(m,y,g)]||0;k[g]=w+=_}return k.forEach(function(L,T){A[T]=w-L}),function(L){var T,E,a,p,v,d=L+"1",x=L+"2",C=0;for(g=c[d];g<=c[x];g++)if(k[g]>w/2){for(a=c.copy(),p=c.copy(),v=(T=g-c[d])<=(E=c[x]-g)?Math.min(c[x]-1,~~(g+E/2)):Math.max(c[d],~~(g-1-T/2));!k[v];)v++;for(C=A[v];!C&&k[v-1];)C=A[--v];return a[x]=v,p[d]=a[x]+1,[a,p]}}(h==n?"r":h==u?"g":"b")}}return r.prototype={volume:function(o){var c=this;return c._volume&&!o||(c._volume=(c.r2-c.r1+1)*(c.g2-c.g1+1)*(c.b2-c.b1+1)),c._volume},count:function(o){var c=this,n=c.histo;if(!c._count_set||o){var u,h,g,m=0;for(u=c.r1;u<=c.r2;u++)for(h=c.g1;h<=c.g2;h++)for(g=c.b1;g<=c.b2;g++)m+=n[e(u,h,g)]||0;c._count=m,c._count_set=!0}return c._count},copy:function(){var o=this;return new r(o.r1,o.r2,o.g1,o.g2,o.b1,o.b2,o.histo)},avg:function(o){var c=this,n=c.histo;if(!c._avg||o){var u,h,g,m,y=0,_=0,w=0,k=0;if(c.r1===c.r2&&c.g1===c.g2&&c.b1===c.b2)c._avg=[c.r1<<3,c.g1<<3,c.b1<<3];else{for(h=c.r1;h<=c.r2;h++)for(g=c.g1;g<=c.g2;g++)for(m=c.b1;m<=c.b2;m++)y+=u=n[e(h,g,m)]||0,_+=u*(h+.5)*8,w+=u*(g+.5)*8,k+=u*(m+.5)*8;c._avg=y?[~~(_/y),~~(w/y),~~(k/y)]:[~~(8*(c.r1+c.r2+1)/2),~~(8*(c.g1+c.g2+1)/2),~~(8*(c.b1+c.b2+1)/2)]}}return c._avg},contains:function(o){var c=this,n=o[0]>>3;return gval=o[1]>>3,bval=o[2]>>3,n>=c.r1&&n<=c.r2&&gval>=c.g1&&gval<=c.g2&&bval>=c.b1&&bval<=c.b2}},s.prototype={push:function(o){this.vboxes.push({vbox:o,color:o.avg()})},palette:function(){return this.vboxes.map(function(o){return o.color})},size:function(){return this.vboxes.size()},map:function(o){for(var c=this.vboxes,n=0;n<c.size();n++)if(c.peek(n).vbox.contains(o))return c.peek(n).color;return this.nearest(o)},nearest:function(o){for(var c,n,u,h=this.vboxes,g=0;g<h.size();g++)((n=Math.sqrt(Math.pow(o[0]-h.peek(g).color[0],2)+Math.pow(o[1]-h.peek(g).color[1],2)+Math.pow(o[2]-h.peek(g).color[2],2)))<c||c===void 0)&&(c=n,u=h.peek(g).color);return u},forcebw:function(){var o=this.vboxes;o.sort(function(h,g){return Jh(lk(h.color),lk(g.color))});var c=o[0].color;c[0]<5&&c[1]<5&&c[2]<5&&(o[0].color=[0,0,0]);var n=o.length-1,u=o[n].color;u[0]>251&&u[1]>251&&u[2]>251&&(o[n].color=[255,255,255])}},{quantize:function(o,c){if(!Number.isInteger(c)||c<1||c>256)throw new Error("Invalid maximum color count. It must be an integer between 1 and 256.");if(!o.length||c<2||c>256||!o.length||c<2||c>256)return!1;for(var n=[],u=new Set,h=0;h<o.length;h++){var g=o[h],m=g.join(",");u.has(m)||(u.add(m),n.push(g))}if(n.length<=c)return new m8(n);var y=function(T){var E,a=new Array(32768);return T.forEach(function(p){E=e(p[0]>>3,p[1]>>3,p[2]>>3),a[E]=(a[E]||0)+1}),a}(o);y.forEach(function(){});var _=function(T,E){var a,p,v,d=1e6,x=0,C=1e6,N=0,G=1e6,q=0;return T.forEach(function(K){(a=K[0]>>3)<d?d=a:a>x&&(x=a),(p=K[1]>>3)<C?C=p:p>N&&(N=p),(v=K[2]>>3)<G?G=v:v>q&&(q=v)}),new r(d,x,C,N,G,q,E)}(o,y),w=new t(function(T,E){return Jh(T.count(),E.count())});function k(T,E){for(var a,p=T.size(),v=0;v<1e3;){if(p>=E||v++>1e3)return;if((a=T.pop()).count()){var d=l(y,a),x=d[0],C=d[1];if(!x)return;T.push(x),C&&(T.push(C),p++)}else T.push(a),v++}}w.push(_),k(w,.75*c);for(var A=new t(function(T,E){return Jh(T.count()*T.volume(),E.count()*E.volume())});w.size();)A.push(w.pop());k(A,c);for(var L=new s;A.size();)L.push(A.pop());return L}}}().quantize,ck=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=e.naturalWidth,this.height=this.canvas.height=e.naturalHeight,this.context.drawImage(e,0,0,this.width,this.height)};ck.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};Pl=function(){};Pl.prototype.getColor=function(e,t){return t===void 0&&(t=10),this.getPalette(e,5,t)[0]},Pl.prototype.getPalette=function(e,t,r){var s=function(n){var u=n.colorCount,h=n.quality;if(u!==void 0&&Number.isInteger(u)){if(u===1)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");u=Math.max(u,2),u=Math.min(u,20)}else u=10;return(h===void 0||!Number.isInteger(h)||h<1)&&(h=10),{colorCount:u,quality:h}}({colorCount:t,quality:r}),l=new ck(e),o=function(n,u,h){for(var g,m,y,_,w,k=n,A=[],L=0;L<u;L+=h)m=k[0+(g=4*L)],y=k[g+1],_=k[g+2],((w=k[g+3])===void 0||w>=125)&&(m>250&&y>250&&_>250||A.push([m,y,_]));return A}(l.getImageData().data,l.width*l.height,s.quality),c=g8(o,s.colorCount);return c?c.palette():null},Pl.prototype.getColorFromUrl=function(e,t,r){var s=this,l=document.createElement("img");l.addEventListener("load",function(){var o=s.getPalette(l,5,r);t(o[0],e)}),l.src=e},Pl.prototype.getImageData=function(e,t){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(this.status==200){var s=new Uint8Array(this.response);i=s.length;for(var l=new Array(i),o=0;o<s.length;o++)l[o]=String.fromCharCode(s[o]);var c=l.join(""),n=window.btoa(c);t("data:image/png;base64,"+n)}},r.send()},Pl.prototype.getColorAsync=function(e,t,r){var s=this;this.getImageData(e,function(l){var o=document.createElement("img");o.addEventListener("load",function(){var c=s.getPalette(o,5,r);t(c[0],this)}),o.src=l})}});var uk={};Fn(uk,{default:()=>Pl});var dk=si(()=>{Pv();Pv()});var $l,$v=si(()=>{$l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Lv=si(()=>{$v();$v()});function v8(e,t){return On(e[0]-t[0],2)+On(e[1]-t[1],2)+On(e[2]-t[2],2)}function y8(){let e={},t=Object.keys(Ll);for(let{length:r}=t,s=0;s<r;s++)e[t[s]]={distance:-1,parent:null};return e}function b8(e){let t=y8(),r=[e];for(t[e].distance=0;r.length>0;){let s=r.pop(),l=Object.keys(Ll[s]);for(let{length:o}=l,c=0;c<o;c++){let n=l[c],u=t[n];u.distance===-1&&(u.distance=t[s].distance+1,u.parent=s,r.unshift(n))}}return t}function w8(e,t){return function(r){return t(e(r))}}function x8(e,t){let r=[t[e].parent,e],s=Ll[t[e].parent][e],l=t[e].parent;for(;t[l].parent;)r.unshift(t[l].parent),s=w8(Ll[t[l].parent][l],s),l=t[l].parent;return s.conversion=r,s}function _8(e){let t=b8(e),r={},s=Object.keys(t);for(let{length:l}=s,o=0;o<l;o++){let c=s[o];t[c].parent!==null&&(r[c]=x8(c,t))}return r}function A8(e){let t=function(...r){let s=r[0];return s==null?s:(s.length>1&&(r=s),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function C8(e){let t=function(...r){let s=r[0];if(s==null)return s;s.length>1&&(r=s);let l=e(r);if(typeof l=="object")for(let{length:o}=l,c=0;c<o;c++)l[c]=Math.round(l[c]);return l};return"conversion"in e&&(t.conversion=e.conversion),t}var hk,kr,Ll,Qa,k8,Oc,S8,pk,Mv=si(()=>{Lv();hk={};for(let e of Object.keys($l))hk[$l[e]]=e;kr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Ll=kr,Qa=On(6/29,3);for(let e of Object.keys(kr)){if(!("channels"in kr[e]))throw new Error("missing channels property: "+e);if(!("labels"in kr[e]))throw new Error("missing channel labels property: "+e);if(kr[e].labels.length!==kr[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=kr[e];delete kr[e].channels,delete kr[e].labels,Object.defineProperty(kr[e],"channels",{value:t}),Object.defineProperty(kr[e],"labels",{value:r})}kr.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.min(t,r,s),o=Math.max(t,r,s),c=o-l,n,u;switch(o){case l:{n=0;break}case t:{n=(r-s)/c;break}case r:{n=2+(s-t)/c;break}case s:{n=4+(t-r)/c;break}}n=Math.min(n*60,360),n<0&&(n+=360);let h=(l+o)/2;return o===l?u=0:h<=.5?u=c/(o+l):u=c/(2-o-l),[n,u*100,h*100]};kr.rgb.hsv=function(e){let t,r,s,l,o,c=e[0]/255,n=e[1]/255,u=e[2]/255,h=Math.max(c,n,u),g=h-Math.min(c,n,u),m=function(y){return(h-y)/6/g+1/2};if(g===0)l=0,o=0;else{switch(o=g/h,t=m(c),r=m(n),s=m(u),h){case c:{l=s-r;break}case n:{l=1/3+t-s;break}case u:{l=2/3+r-t;break}}l<0?l+=1:l>1&&(l-=1)}return[l*360,o*100,h*100]};kr.rgb.hwb=function(e){let t=e[0],r=e[1],s=e[2],l=kr.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,s));return s=1-1/255*Math.max(t,Math.max(r,s)),[l,o*100,s*100]};kr.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.min(1-t,1-r,1-s),o=(1-t-l)/(1-l)||0,c=(1-r-l)/(1-l)||0,n=(1-s-l)/(1-l)||0;return[o*100,c*100,n*100,l*100]};kr.rgb.keyword=function(e){let t=hk[e];if(t)return t;let r=Number.POSITIVE_INFINITY,s;for(let l of Object.keys($l)){let o=$l[l],c=v8(e,o);c<r&&(r=c,s=l)}return s};kr.keyword.rgb=function(e){return $l[e]};kr.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255;t=t>.04045?On((t+.055)/1.055,2.4):t/12.92,r=r>.04045?On((r+.055)/1.055,2.4):r/12.92,s=s>.04045?On((s+.055)/1.055,2.4):s/12.92;let l=t*.4124564+r*.3575761+s*.1804375,o=t*.2126729+r*.7151522+s*.072175,c=t*.0193339+r*.119192+s*.9503041;return[l*100,o*100,c*100]};kr.rgb.lab=function(e){let t=kr.rgb.xyz(e),r=t[0],s=t[1],l=t[2];r/=95.047,s/=100,l/=108.883,r=r>Qa?On(r,1/3):7.787*r+16/116,s=s>Qa?On(s,1/3):7.787*s+16/116,l=l>Qa?On(l,1/3):7.787*l+16/116;let o=116*s-16,c=500*(r-s),n=200*(s-l);return[o,c,n]};kr.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,l,o;if(r===0)return o=s*255,[o,o,o];let c=s<.5?s*(1+r):s+r-s*r,n=2*s-c,u=[0,0,0];for(let h=0;h<3;h++)l=t+1/3*-(h-1),l<0&&l++,l>1&&l--,6*l<1?o=n+(c-n)*6*l:2*l<1?o=c:3*l<2?o=n+(c-n)*(2/3-l)*6:o=n,u[h]=o*255;return u};kr.hsl.hsv=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,l=r,o=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,l*=o<=1?o:2-o;let c=(s+r)/2,n=s===0?2*l/(o+l):2*r/(s+r);return[t,n*100,c*100]};kr.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,s=e[2]/100,l=Math.floor(t)%6,o=t-Math.floor(t),c=255*s*(1-r),n=255*s*(1-r*o),u=255*s*(1-r*(1-o));switch(s*=255,l){case 0:return[s,u,c];case 1:return[n,s,c];case 2:return[c,s,u];case 3:return[c,n,s];case 4:return[u,c,s];case 5:return[s,c,n]}};kr.hsv.hsl=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,l=Math.max(s,.01),o,c;c=(2-r)*s;let n=(2-r)*l;return o=r*l,o/=n<=1?n:2-n,o=o||0,c/=2,[t,o*100,c*100]};kr.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,l=r+s,o;l>1&&(r/=l,s/=l);let c=Math.floor(6*t),n=1-s;o=6*t-c,c&1&&(o=1-o);let u=r+o*(n-r),h,g,m;switch(c){default:case 6:case 0:{h=n,g=u,m=r;break}case 1:{h=u,g=n,m=r;break}case 2:{h=r,g=n,m=u;break}case 3:{h=r,g=u,m=n;break}case 4:{h=u,g=r,m=n;break}case 5:{h=n,g=r,m=u;break}}return[h*255,g*255,m*255]};kr.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,l=e[3]/100,o=1-Math.min(1,t*(1-l)+l),c=1-Math.min(1,r*(1-l)+l),n=1-Math.min(1,s*(1-l)+l);return[o*255,c*255,n*255]};kr.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,l,o,c;return l=t*3.2404542+r*-1.5371385+s*-.4985314,o=t*-.969266+r*1.8760108+s*.041556,c=t*.0556434+r*-.2040259+s*1.0572252,l=l>.0031308?1.055*On(l,1/2.4)-.055:l*12.92,o=o>.0031308?1.055*On(o,1/2.4)-.055:o*12.92,c=c>.0031308?1.055*On(c,1/2.4)-.055:c*12.92,l=Math.min(Math.max(0,l),1),o=Math.min(Math.max(0,o),1),c=Math.min(Math.max(0,c),1),[l*255,o*255,c*255]};kr.xyz.lab=function(e){let t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>Qa?On(t,1/3):7.787*t+16/116,r=r>Qa?On(r,1/3):7.787*r+16/116,s=s>Qa?On(s,1/3):7.787*s+16/116;let l=116*r-16,o=500*(t-r),c=200*(r-s);return[l,o,c]};kr.lab.xyz=function(e){let t=e[0],r=e[1],s=e[2],l,o,c;o=(t+16)/116,l=r/500+o,c=o-s/200;let n=On(o,3),u=On(l,3),h=On(c,3);return o=n>Qa?n:(o-16/116)/7.787,l=u>Qa?u:(l-16/116)/7.787,c=h>Qa?h:(c-16/116)/7.787,l*=95.047,o*=100,c*=108.883,[l,o,c]};kr.lab.lch=function(e){let t=e[0],r=e[1],s=e[2],l;l=Math.atan2(s,r)*360/2/Math.PI,l<0&&(l+=360);let o=Math.sqrt(r*r+s*s);return[t,o,l]};kr.lch.lab=function(e){let t=e[0],r=e[1],s=e[2]/360*2*Math.PI,l=r*Math.cos(s),o=r*Math.sin(s);return[t,l,o]};kr.rgb.ansi16=function(e,t=null){let[r,s,l]=e,o=t===null?kr.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let c=30+(Math.round(l/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return o===2&&(c+=60),c};kr.hsv.ansi16=function(e){return kr.rgb.ansi16(kr.hsv.rgb(e),e[2])};kr.rgb.ansi256=function(e){let t=e[0],r=e[1],s=e[2];return t>>4===r>>4&&r>>4===s>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)};kr.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(Math.trunc(e>50)+1)*.5,s=(t&1)*r*255,l=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[s,l,o]};kr.ansi256.rgb=function(e){if(e=e[0],e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,s=Math.floor((t=e%36)/6)/5*255,l=t%6/5*255;return[r,s,l]};kr.rgb.hex=function(e){let t=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(t.length)+t};kr.hex.rgb=function(e){let t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=[...r].map(n=>n+n).join(""));let s=Number.parseInt(r,16),l=s>>16&255,o=s>>8&255,c=s&255;return[l,o,c]};kr.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,l=Math.max(Math.max(t,r),s),o=Math.min(Math.min(t,r),s),c=l-o,n,u=c<1?o/(1-c):0;return c<=0?n=0:l===t?n=(r-s)/c%6:l===r?n=2+(s-t)/c:n=4+(t-r)/c,n/=6,n%=1,[n*360,c*100,u*100]};kr.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=r<.5?2*t*r:2*t*(1-r),l=0;return s<1&&(l=(r-.5*s)/(1-s)),[e[0],s*100,l*100]};kr.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=t*r,l=0;return s<1&&(l=(r-s)/(1-s)),[e[0],s*100,l*100]};kr.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100;if(r===0)return[s*255,s*255,s*255];let l=[0,0,0],o=t%1*6,c=o%1,n=1-c,u=0;switch(Math.floor(o)){case 0:{l[0]=1,l[1]=c,l[2]=0;break}case 1:{l[0]=n,l[1]=1,l[2]=0;break}case 2:{l[0]=0,l[1]=1,l[2]=c;break}case 3:{l[0]=0,l[1]=n,l[2]=1;break}case 4:{l[0]=c,l[1]=0,l[2]=1;break}default:l[0]=1,l[1]=0,l[2]=n}return u=(1-r)*s,[(r*l[0]+u)*255,(r*l[1]+u)*255,(r*l[2]+u)*255]};kr.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t),l=0;return s>0&&(l=t/s),[e[0],l*100,s*100]};kr.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100*(1-t)+.5*t,s=0;return r>0&&r<.5?s=t/(2*r):r>=.5&&r<1&&(s=t/(2*(1-r))),[e[0],s*100,r*100]};kr.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t);return[e[0],(s-t)*100,(1-s)*100]};kr.hwb.hcg=function(e){let t=e[1]/100,r=1-e[2]/100,s=r-t,l=0;return s<1&&(l=(r-s)/(1-s)),[e[0],s*100,l*100]};kr.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};kr.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};kr.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};kr.gray.hsl=function(e){return[0,0,e[0]]};kr.gray.hsv=kr.gray.hsl;kr.gray.hwb=function(e){return[0,100,e[0]]};kr.gray.cmyk=function(e){return[0,0,0,e[0]]};kr.gray.lab=function(e){return[e[0],0,0]};kr.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(r.length)+r};kr.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};k8=_8,Oc={},S8=Object.keys(Ll);for(let e of S8){Oc[e]={},Object.defineProperty(Oc[e],"channels",{value:Ll[e].channels}),Object.defineProperty(Oc[e],"labels",{value:Ll[e].labels});let t=k8(e),r=Object.keys(t);for(let s of r){let l=t[s];Oc[e][s]=C8(l),Oc[e][s].raw=A8(l)}}pk=Oc});var fk={};Fn(fk,{default:()=>pk});var mk=si(()=>{Lv();Mv();Mv()});var Ov,gk,E8,T8,Bo,Ra,P8,$8,bk,L8,Iv,vk,M8,O8,yk,I8,Rv,Qh,sn,Ml,Dv,jv,wk=si(()=>{v_();Qg();Kh();Vp();wd();as();Wp();Gp();K_();Yp();Z_();ek();tk();sk();Ov=480,gk=640,E8=10,T8=350,Bo=60,Ra=30,P8=140,$8=200,bk=490,L8=bk+55,Iv=152,vk=800,M8=20,O8=370,yk=100,I8=100,Rv=725,Qh={jid:"jw6",start:0,embed:!1,hide_list:!1,autoplay:!1,audio:!1,width:0,height:0,responsive:!1,aspectratio:!1,noshare:!1,nolinks:!1,logo:!1,so:!1,tv:!1,tvStart:0,tvEnd:0,tvContributor:!1,tvSource:!1,play_just1:!1,list_height:0,identifier:!1,collection:!1,collections:[],waveformer:!1,speed:1,details:location.href,triggers:[],headless:null},sn=class sn extends Oa{constructor(){super(),this.jid="jw6"}setup_component(){var l,o,c;if(Ki("Play.setup_component()"),this.getAttribute("playlist")&&!this.playlist&&(this.playlist=JSON.parse(this.getAttribute("playlist"))),!this.playlist){Ki("no playlist yet");return}if(this.setup_component_ran){Ki("already ran");return}this.setup_component_ran=!0;let t=this.getAttribute("args")?JSON.parse(this.getAttribute("args")):{};Ki("PLAY CONFIG:",t,this.playlist),t.headless?this.jid="headless":t.jid&&t.jid!==this.jid&&(this.jid=t.jid),this.slotted||(this.innerHTML=`<div id="${this.jid}"></div><div id="ia-scrubber" slot="ia-scrubber"></div>`,this.slotted=!0),sn.STASH[this.jid]=this;for(let[n,u]of Object.entries(Qh))n==="identifier"&&typeof this.identifier!="undefined"&&this.identifier!==!1||(this[n]=n in t?t[n]==="false"?!1:t[n]:u);if(this.tvTitle=this.tv&&this.playlist.length===1?this.playlist[0].title:"",this.list_2cols=this.responsive&&this.audio,this.jidsel=`#${this.jid}`,this.readyIA=!1,this.DAR=4/3,this.first_seeked_playlist=!1,this.waveformed=!1,this.pause_first_seek=this.embed&&!this.tv&&!this.audio&&!this.autoplay&&this.start,this.update_url_onload=this.headless,this.onCompleteStop=!1,this.jwaudioPercentDone=0,this.reloading_playlist_playlist_idx=0,this.panels_count=1,this.panelno=0,this.waveformer_played_color="#aaa",this.waveformer_progress_color="#000",this.canHLS=document.createElement("video").canPlayType("application/vnd.apple.mpegURL"),this.HLS=this.canHLS&&this.audio&&((l=this.triggers)!=null&&l.length)&&this.playlist.length?new Dv(this):null,this.nolinks&&(this.identifier=!1,this.collection=!1,this.collections=[],this.noshare=!0),this.speed=parseFloat(this.speed),this.responsiveResize(!0),ia(".js-play8-speed",sn.get(this.jid).speed),ia(".js-play8-gofullscreen",Cn(this.jid).setFullscreen),ia(".js-play8-mute-click",sn.mute_click),ia(".js-play8-seek",n=>sn.seek(n.currentTarget)),globalThis.AJS&&ia(".js-play8-thumbzilla",n=>globalThis.AJS.thumbzilla(Ci(n.currentTarget).data().identifier)),this.identifier!==!1&&(this.details=`https://archive.org/details/${this.identifier}`),this.tv&&this.tvEnd&&(this.details+=`/start/${this.tvStart}/end/${this.tvEnd}`),this.hide_list||(this.list_height||(this.list_height=this.audio?O8:yk),this.embed&&!this.audio||(this.list_height=Math.min(this.list_height,this.playlist.length*M8))),!this.responsive&&!(this.width>0&&this.height>0))if(this.embed){let n=Ci(window).width(),u=Ci(window).height();this.width=this.audio?Math.min(n,vk):n,this.height=this.audio?Ra+this.list_height:u-this.list_height}else this.aspectratio||(this.width=this.audio?T8:gk,this.height=this.audio?Bo+this.list_height:Ov);for(let[n,u]of Object.entries(this.playlist))if(typeof u.autoplay!="undefined"&&(this.onCompleteStop||(this.onCompleteStop=[]),this.onCompleteStop[Number(n)-1]=!u.autoplay),typeof u.sources=="undefined"&&typeof u.file!="undefined"&&(u.sources=[{file:u.file,height:480}]),typeof u.sources=="undefined")alert(`${n}: sources undefined!`);else for(let h of u.sources)typeof h.file!="undefined"&&(!Number(n)&&h.file.indexOf("/download")>=0&&(h.file=h.file.replace(/\/download\//,"/serve/")),h.file=sn.filename_char_encoder(h.file));this.tvTitle&&(this.playlist[0].title=this.playlist[0].title.replace(/( \d+:\d+[amp]+)-\d+:\d+[amp]+ /,"$1 "));let r=JSON.parse(JSON.stringify(this.playlist));if(r.forEach(n=>(this.audio&&delete n.tracks,n)),this.jwcfg={playlist:r,abouttext:"this item, formats, and more at Internet Archive",aboutlink:this.details,startparam:"start",logo:{},cast:{},preload:"metadata",playbackRateControls:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2,3],autostart:this.autoplay,hlsplayer:"/jw/x/provider.hlsjs.js",fallback:this.so,width:isNaN(this.width)?"100%":this.width,height:this.audio?Ra:this.height,base:qp},this.responsive&&!this.embed?this.jwcfg.displaytitle=!1:this.aspectratio&&(this.jwcfg.width="100%",this.jwcfg.aspectratio=this.aspectratio,document.getElementById("TVX")||delete this.jwcfg.height),this.identifier!==!1){let n=this.tv&&this.tvEnd?`?start=${this.tvStart}&end=${this.tvEnd}`:"",u=`<iframe src="https://archive.org/embed/MEDIAID"
                            width="${this.audio?500:gk}"
                            height="${this.audio?Ra:Ov}"
                            frameborder="0"
                            webkitallowfullscreen="true"
                            mozallowfullscreen="true"
                            allowfullscreen></iframe>`.replace(/embed\/MEDIAID/,`embed/${this.identifier}${n}`).replace(/\s+/g," "),h=`[archiveorg ${this.identifier}${n} width=640 height=${this.audio?Ra:Ov} frameborder=0 webkitallowfullscreen=true mozallowfullscreen=true]`;this.jwcfg.mediaid=this.identifier,Ci("#embedcodehere").text(u),Ci("#embedcodehereWP").text(h)}if((this.embed&&!this.audio&&!this.nolinks||this.logo)&&(this.jwcfg.logo={file:"https://av.archive.org/jw/glogo-ghost.png",link:this.details,position:"top-right",margin:2,hide:!1}),this.play_just1||this.onCompleteStop){let n=this.onComplete;this.onComplete=u=>{let h={done:this.play_just1||this.onCompleteStop[u.getPlaylistIndex()]};h.done&&u.stop(),n&&n(u,h)}}if((o=this.HLS)==null||o.update_playlist(),Ki(this.jwcfg),this.headless){"playN"in this.headless&&this.playN((c=this.headless.playN)!=null?c:0);return}let s=Cn(this.jid);try{s.setup(this.jwcfg)}catch(n){xd(`player setup() ${this.jid} failed`,{error:n});return}s.on("ready",()=>{var n;Ki("IA ",this.jid," is ready"),this.player=s,Ki("NOTE: JW version: ",Cn.version);{let u=this.playlist.length,h=s.getConfig().playlist.length;u!==h&&!(this.HLS&&h===1&&u>1)&&console.error("BIG PROBLEM: passed in playlist length !== jwplayer config playlist length",this.playlist.length,"-vs-",s.getConfig().playlist.length)}(n=this.HLS)==null||n.setup(this),ba("playset")&&s.on("complete",()=>N0.onComplete(s)),this.audio?s.on("firstFrame",()=>sn.track_event("Details-Audio-Beta|AudioStarted")):this.tv||(s.on("firstFrame",()=>sn.track_event("Details-Video|VideoStarted")),s.on("complete",()=>sn.track_event("Details-Video|VideoEnded"))),this.readyIA=!0,this.requestUpdate(),s.once("meta",u=>{Ki("onMeta() fired"),this.embed&&!this.audio&&this.adjust_video_width(u),this.HLS||this.unpreload()}),s.on("playlistItem",u=>{let h=u.index;if(Ki("onPlaylistItem: ",h),this.reloading_playlist_playlist_idx&&!h){Ki(`onPlaylistItem: ignoring since desired index ${this.reloading_playlist_playlist_idx} !== ${h} -- and this is likely an event from reloading the playlist`);let g=this.reloading_playlist_playlist_idx;this.reloading_playlist_playlist_idx=0,Cn(this.jid).playlistItem(g);return}this.track_change(s,h),this.seeker_playlist(),this.speed!==1&&setTimeout(()=>this.set_speed,1e3),this.waveformer_setup(s)}),s.on("playlistComplete",()=>{!this.audio&&this.collection&&!this.tv&&this.related_items_click()}),s.on("error",u=>{Ki("err"),Ki(u),Ci(this.jidsel).css({"background-color":"black"})})})}url_updater(t,r){if(Ki(`url_updater(${r})`),this.tv||this.embed||!this.identifier||typeof history.replaceState=="undefined"||this.playlist.length<=1||!this.playlist[r]||!this.playlist[r].orig&&!this.headless)return;let{orig:s}=this.playlist[r];if(this.update_url_onload){let l=`/details/${this.identifier}`.concat(s===""?"":`/${encodeURIComponent(s).replace(/%2F/g,"/").replace(/%20/g,"+")}`),o=ba("playset",!0)?"?playset=1&autoplay=1":"";Ki("updating url to",l+o),history.replaceState({},null,l+o)}else Ki(`looks like /details/ page loaded cold-state at #${r}-- leave url AS IS`),t==null||t.once("play",()=>{Ki("time to start updating urls"),this.update_url_onload=!0,this.url_updater(t,r)})}waveformer_setup(t){var s;if(!this.audio||this.waveformed)return;this.embed||Ci(`#${this.jid}`).css("border-radius",`${Bo/2}px 0 0 ${Bo/2}px`),this.recolor(),Ci(".jw-slider-time").remove(),setTimeout(()=>{Ci("#ia-scrubber").html(`
        <div class="jw-slider-time jw-background-color jw-reset jw-slider-horizontal jw-reset"
          style="padding:0" tabindex="0" role="slider" aria-label="Seek">
          <div class="jw-slider-container jw-reset">
            <div class="jw-rail     jw-reset" style="background-color: #ccc"></div>
            <div class="jw-buffer   jw-reset" style="background-color: #999"></div>
            <div class="jw-progress jw-reset" style="background-color: #000"></div>
            <div class="jw-knob jw-reset"
              style="transform: translate(-50%,-50%) scale(.75); border: 1px solid black"></div>
          </div>
        </div>`)},750),Ci(".jw-icon-settings svg").html('<svg viewBox="0 0 4 16" xmlns="http://www.w3.org/2000/svg"><path d="m2 4c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2zm0 6c1.1045695 0 2-.8954305 2-2s-.8954305-2-2-2-2 .8954305-2 2 .8954305 2 2 2z" fill-rule="evenodd"/></svg>'),Ci(".jw-text-countdown").remove(),this.HLS?(Ci(".jw-text-elapsed, .jw-text-duration").remove(),Ci(".jw-button-container").append(`
<div id="play-hls-elapsed" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-elapsed"
role="timer">00:00</div>
<div id="play-hls-duration" class="jw-icon jw-icon-inline jw-text jw-reset jw-text-duration"
role="timer">${sn.sec2hms(Math.round((s=this.playlist[0])==null?void 0:s.duration)||0)}</div>`)):(Ci(".jw-icon-settings").after(Ci(".jw-text-elapsed")),Ci(".jw-text-elapsed").after(Ci(".jw-text-duration"))),this.canHLS&&(Ci("#jw-settings-menu .jw-settings-topbar-buttons > div:last-child()").before(`
          <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-settings-backgroundPlay jw-submenu-backgroundPlay"
          role="menuitemradio" tabindex="0"
          aria-label="Background Play"
          name="backgroundPlay"
          type="button"
          aria-haspopup="true"
          aria-controls="jw-settings-submenu-backgroundPlay">
            <img src="//av.archive.org/img/infinity.png"/>
            <div class="jw-reset-text jw-tooltip jw-tooltip-backgroundPlay" dir="auto">
              <div class="jw-text">Background Play</div>
            </div>
          </div>`),Ci("#jw-settings-menu").append(`<background-play id="jw-settings-submenu-backgroundPlay"
        class="jw-reset jw-settings-submenu jw-settings-submenu-backgroundPlay"
        role="menu"></background-play>`),Ci(".jw-settings-backgroundPlay").on("click",()=>{Ci(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Ci("#jw-settings-submenu-backgroundPlay").addClass("jw-settings-submenu-active"),Ci(".jw-settings-backgroundPlay").attr("aria-expanded","true"),Ci(".jw-settings-playbackRates").attr("aria-expanded","")}),Ci(".jw-settings-playbackRates").on("click",()=>{Ci(".jw-settings-submenu-active").removeClass("jw-settings-submenu-active"),Ci("#jw-settings-submenu-playbackRates").addClass("jw-settings-submenu-active")}),Ci(".jw-settings-playbackRates, .jw-settings-submenu-button, .jw-settings-close").on("click",()=>{Ci("#jw-settings-submenu-backgroundPlay").removeClass("jw-settings-submenu-active"),Ci(".jw-settings-playbackRates").attr("aria-expanded","true"),Ci(".jw-settings-backgroundPlay").attr("aria-expanded","")})),Ci("#ia-scrubber").on("click",l=>this.waveform_clicked(l)),t.on("time",l=>{var n;if(!l.duration)return;this.HLS?this.HLS.on_time():this.jwaudioPercentDone=Math.min(1,l.position/l.duration);let o=`${Number(100*this.jwaudioPercentDone).toFixed(3)}%`,c=this.shadowRoot.getElementById("waveformer");c.style.width=o,this.waveformer_played_color&&(c.style.backgroundColor=this.waveformer_played_color),Ci("#ia-scrubber").find(".jw-knob").css("left",o),Ci("#ia-scrubber").find(".jw-progress").css({width:o,backgroundColor:(n=this.waveformer_progress_color)!=null?n:"#000"})}),t.on("bufferChange",l=>{this.HLS?Ki("xxx HLS buffering"):Ci("#ia-scrubber").find(".jw-buffer").css("width",`${l.bufferPercent}%`)}),this.waveformed=!0}waveform_clicked(t){let r=Ci(this.shadowRoot.getElementById("waveformer-wrap")).width(),s=Number(t.offsetX/r).toFixed(2);if(Ki("waveform_clicked",{percent:s}),this.HLS)return this.HLS.waveform_clicked2(s);let l=this.player.getPlaylistItem().duration||0;this.player.seek(l*s)}recolor(){return vi(this,null,function*(){var c,n,u;if((c=document.querySelector("ia-music-theater"))!=null&&c.hasAttribute("noimageavailable")){this.recolor_generic();return}let t=(n=Ci("ia-music-theater img"))==null?void 0:n.get(0);if(!t)return;let[r,s]=(yield Promise.all([Promise.resolve().then(()=>(dk(),uk)),Promise.resolve().then(()=>(mk(),fk))])).map(h=>h.default),l=()=>{var A;let g=new r().getPalette(t,5);if(Ki({palette:g}),!g)return;let m=g[0];if(Ki({dominantColorRGB:m}),!m)return;let y=s.rgb.hsl(...m);Ki({HSL:y});let _=Math.round(m.reduce((L,T)=>L+T)/m.length),w=_>=128?"black":"white";Ki({avgVal:_});let k=(A=document.getElementById("theatre-ia-wrap"))!=null?A:document.getElementsByTagName("body")[0];k.style.color=w,k.style.backgroundImage=`linear-gradient(rgb(${m.join(",")}), black)`,k.style.backgroundRepeat="no-repeat",w==="black"&&(this.bgTheme="light",document.querySelector("ia-music-theater").setAttribute("bgTheme","light")),this.waveformer_played_color=`hsl(${y[0]},${y[1]}%,${Math.min(100,1.5*y[2])}%)`},o=(u=document.getElementById("theatre-ia-wrap"))!=null?u:document.getElementsByTagName("body")[0];o.style.backgroundImage="linear-gradient(#aaa, black)",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor="black",t.crossOrigin="Anonymous",t.complete?l():t.addEventListener("load",l)})}recolor_generic(){var c;let t=[`linear-gradient(
        hsl(330, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(230, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(190, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(280, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(310, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`,`linear-gradient(
        hsl(360, 80%, 22%),
        hsl(0, 0%, 0%) 50%,
        hsl(0, 0%, 0%)
      )`],r=["hsl(300, 80%, 55%)","hsl(200, 80%, 55%)","hsl(160, 80%, 55%)","hsl(250, 80%, 55%)","hsl(280, 80%, 55%)","hsl(340, 80%, 55%)"],s=["hsl(300, 80%, 22%)","hsl(200, 80%, 22%)","hsl(160, 80%, 22%)","hsl(250, 80%, 22%)","hsl(280, 80%, 22%)","hsl(340, 80%, 22%)"],l=sn.hash_string(this.identifier)%6,o=(c=document.getElementById("theatre-ia-wrap"))!=null?c:document.getElementsByTagName("body")[0];o.style.backgroundImage=t[l],this.waveformer_played_color=r[l],this.waveformer_progress_color=s[l]}static hash_string(t){return t.split("").reduce((r,s)=>r+s.charCodeAt(0),0)}adjust_video_width(t){!t.width||!t.height||(t.height&&t.width&&t.height>0&&t.width>0&&parseInt(t.height,10)>0&&(this.DAR=parseInt(t.width,10)/parseInt(t.height,10),Ki("DAR: ",this.DAR,t.width,"x",t.height)),this.embedResize())}embedResize(){if(!Cn||!Cn(this.jid))return;if(this.audio){Cn(this.jid).resize(Math.min(vk,Ci(window).width()),Ra);return}let t=Ci(window).width(),r=Ci(window).height()-this.list_height;Cn(this.jid).resize(t,r)}playN(t,r){if(this.headless)return Ki("playN",{idx:t,load_paused:r}),sn.headless_callback(t-(this.headless.has_full_album?1:0)),this.track_change(void 0,t);let s=Cn(this.jid);return Ki("playN",{readyIA:this.readyIA,idx:t,load_paused:r,state:s.getState()}),r&&s.once("play",()=>s.pause()),this.HLS?(s.seek(t?this.triggers[t-1]-this.HLS.WIGGLE:0),this.track_change(s,t),!1):(s.playlistItem(t),!1)}track_change(t,r){Ki("track_change",{idx:r}),this.trackno=r,this.url_updater(t,r)}seeker_playlist(){this.first_seeked_playlist||(this.first_seeked_playlist=!0,this.pause_first_seek&&Cn(this.jid).once("seek",()=>{this.pause(),Ki("... paused first seek!")}),this.start&&(this.pause(),Cn(this.jid).seek(this.start)))}embed_setup(){Ci(window).on("resize  orientationchange",()=>{clearTimeout(sn.throttler2),sn.throttler2=setTimeout(()=>{sn.get(this.jid).embedResize()},250)})}unpreload(){let t=Cn(this.jid),r=t.getPlaylist(),s=t.getPlaylistIndex();if(Ki("unpreload:",{startPlaylistIdx:s}),r.length&&(typeof r[0].file!="undefined"&&(r[0].file=r[0].file.replace(/\/serve\//,"/download/")),typeof r[0].sources!="undefined"))for(let l of r[0].sources)l.file=l.file.replace(/\/serve\//,"/download/");s?(t.on("playlist",()=>{Ki("unpreload: onplaylist:",{startPlaylistIdx:s}),t.playlistIndex=s,t.playlistItem(s)}),this.reloading_playlist_playlist_idx=s):!this.start&&!this.autoplay&&(this.update_url_onload=!1),t.load(r)}details_setup(){Ki("details_setup");let t=0,r=`^/details/${this.identifier}/([^&?]+)`,s=location.pathname.match(r);if(s){let l=decodeURIComponent(s[1].replace(/\+/g,"%20"));Ki("looking for: ",l);for(let o in this.playlist){let c=Number(o);if(this.playlist[c].orig===l){Ki("player should seek to track #",c),t=c;break}}}!t&&!this.start&&!this.autoplay&&(this.update_url_onload=!1),!this.autoplay&&(t||this.start)&&(Ki("seek #",t," to ",this.start),this.HLS?(setTimeout(()=>this.playN(0,!0),500),setTimeout(()=>this.playN(t,!0),1e3)):Cn(this.jid).playlistItem(t))}pause(){let t=Cn(this.jid);this.readyIA&&t&&t.getState&&t.getState()==="playing"&&t.pause()}remove(){this.pause();let t=Cn(this.jid);this.readyIA&&t&&t.getConfig()&&t.remove(),delete sn.STASH[this.jid]}set_speed(){var r;let t=Ci(`#${this.jid} video`).get(0);t.playbackRate=(r=this.speed)!=null?r:1,Ki(`speed to ${t.playbackRate}`)}add_buttons(t){var c;let r='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',s='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>',l='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>',o='<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-airplay-on" viewBox="0 0 240 240"><path d="M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z"/></svg>';if(this.embed&&!this.nolinks){let n=this.tvTitle?`${this.tvTitle.replace(/ : /g,`
`)}

Click above for more information and clips
at the Internet Archive`:"More Formats from Internet Archive";t.addButton("https://archive.org/images/glogo-jw.png",n,()=>{let u=document.createElement("a");u.setAttribute("href",this.details),u.setAttribute("target","_blank"),document.body.appendChild(u),u.click()},"btn-ia")}this.embed&&!this.audio&&!this.noshare&&!this.tv&&(this.identifier!==!1&&t.addButton("https://av.archive.org/jw/embed.png","Embedding Examples and Help",()=>{globalThis.top.location.href=`/help/video.php?identifier=${this.identifier}`},"btn-mbd"),globalThis.AJS&&(t.addButton(l,"share",()=>{let n=Ci(".jw-icon[button=btn-shr]").get(0);globalThis.AJS.modal_go(n,{ignore_lnk:1,shown:globalThis.AJS.embed_codes_adjust})},"btn-shr"),Ci(".jw-icon[button=btn-shr]").attr("href","ignored").attr("data-target","#cher-modal"))),this.tv&&this.embed&&this.tvSource!==!1&&t.addButton(`/images/tv/${this.identifier.split("_")[0]}.png`,`Look for this show on ${this.tvContributor} website`,()=>{globalThis.top.location.href=this.tvSource},"btn-tv"),!this.audio&&this.collection&&!this.tv&&t.addButton("https://av.archive.org/jw/related.png","Related Videos",()=>{this.related_items_click()},"btn-rel"),sn.castable()&&(sn.cast_sender_setup(),t.addButton(o,"Cast media with AirPlay / Chromecast",()=>{this.cast()},"btn-cast")),Ci(".jw-icon-settings").css("display","flex"),this.audio&&(Ci(".jw-slider-time").remove(),Ci(".jw-icon-settings").on("click",()=>this.settings_opened()),Ci(".jw-settings-close").on("click",()=>this.settings_closed()),t.on("playbackRateChanged",()=>this.settings_closed())),Ci(".jw-icon-volume").on("mouseover",()=>{Ci('div[button="btn-prv"]').hide(),Ci('div[button="btn-nxt"]').hide(),Ci(".jw-icon-settings").hide()}),Ci(`${this.jidsel} .jw-button-container`).on("mouseleave",()=>{Ci('div[button="btn-prv"]').show(),Ci('div[button="btn-nxt"]').show(),Ci(".jw-icon-settings").show()}),!this.tv&&((c=this.playlist)==null?void 0:c.length)>1&&(t.addButton(s,"next",()=>(this.HLS||t).playlistNext(),"btn-nxt"),t.addButton(r,"previous",()=>(this.HLS||t).playlistPrev(),"btn-prv"))}settings_opened(){Ci(this.jidsel).css("overflow","visible"),Ci(".jw-controls").css("overflow","visible").show(),Ci("#jw-settings-menu").css({overflow:"visible",height:$8,top:this.embed?Ra/5:Bo/2,bottom:"initial"}),Ci(".jw-controlbar").show(),Ci(".jw-icon-settings").removeClass("jw-icon-settings");let t=document.querySelector(".jw-settings-submenu-button:not(.jw-off)").getBoundingClientRect().x-document.getElementById("jw6").getBoundingClientRect().x,r=t-Iv+7;Ki({kebab_left:t,settings_new_left:r}),document.querySelector("body.jwaudio #jw-settings-menu").style.left=`${r}px`}settings_closed(){Ci(this.jidsel).css("overflow","")}static castable(){return globalThis.WebKitPlaybackTargetAvailabilityEvent||globalThis.chrome}cast(){if(globalThis.WebKitPlaybackTargetAvailabilityEvent){Ci(`#${this.jid} video`).get(0).webkitShowPlaybackTargetPicker();return}if(!globalThis.chrome)return;let t=(s,l)=>{l.play(null,o=>{Ki("media play success",s,l,o)},o=>{Ki("media play fail",o)})};this.cast_retries=0;let r=()=>{if(Ki("cast_setup #",this.cast_retries),this.cast_retries+=1,this.cast_retries>3)return!1;if(!globalThis.chrome.cast)return setTimeout(r,this.cast_retries*1e3);let{cast:s}=globalThis.chrome,l=new s.SessionRequest(s.media.DEFAULT_MEDIA_RECEIVER_APP_ID),o=new s.ApiConfig(l,c=>{c.media.length&&t("onRequestSessionSuccess",c.media[0])},c=>{Ki("receiver listener fail",c)});return s.initialize(o,()=>{Ki("cast init success"),s.requestSession(c=>{Ki("request session success",c);let n=Ci(`${this.jidsel} video`).attr("src"),u=`${location.protocol}//${location.host}${n}`,h=new s.media.MediaInfo(u),g=new s.media.LoadRequest(h);c.loadMedia(g,t.bind(this,"loadMedia"),m=>{Ki("onMediaError",m)})},c=>{Ki("request session fail",c),setTimeout(r,500)})},()=>Ki("cast init failure")),!0};r()}related_items_click(){let t=()=>{Ci(`${this.jidsel} .jw-controlbar`).one("click",r=>{Ci("#related-items-bg").hide(),r.preventDefault()})};typeof Pc!="undefined"&&!Ci("#related-items").length?(Ci(`${this.jidsel}`).prepend(`
<div id="related-items-bg" style="display:none">
  <div id="related-items">
  </div>
</div>
`),Pc.getRelatedItems(this.identifier,!0).then(r=>{let s=Math.floor(r.length/2),l="";for(let[o,c]of Object.entries(r))Number(o)===s&&this.collection==="prelinger"?(sn.track_event("Details-Video|DonationEndrollDisplayed"),l+=`
<a class="related-donate"
   href="https://archive.org/donate/?origin=iawww-VidEndrollDonateButton"
   data-event-click-tracking="Details-Video|DonationEndrollClicked"
   data-event-tracking-options='{ "service": "ao_no_sampling" }'>
  <div>
    <div class="related-ctr related-donate-logo">
      <img src="/images/logo-circle-grey.svg" alt="archive logo"/>
    </div>
    <div class="related-ctr related-donate-msg">
      <div>
        Your donation helps us keep these videos free for everyone
      </div>
    </div>
    <div class="related-ctr related-donate-btn">
      <div>
        CHIP IN
      </div>
    </div>
  </div>
</a>
`):l+=`
<div>
  <a href="/details/${c.identifier}"
    data-event-click-tracking="Details-Video|LastFrameLinkChosen"
    data-event-tracking-options='{ "service": "ao_2" }'>
    <div class="related-ttl">
      ${c.title!==null?c.title:""}
      ${c.creator!==null?`<br/>&nbsp;&nbsp;<small>by:</small>&nbsp;${c.creator}`:""}
      ${c.downloads!==null?`<div>${c.downloads} views</div>`:""}
    </div>
    <img src="/services/img/${c.identifier}"/>
  </a>
</div>
`;Ci("#related-items").html(l),Ci("#related-items-bg").show(),t()})):Ci("#related-items-bg:visible").length?Ci("#related-items-bg").hide():(Ci("#related-items-bg").show(),setTimeout(t,500)),ia("#related-items-bg",()=>Ci("#related-items-bg").hide())}add_playlist_panel(){return this.hide_list?"":ao`
<div class="playlist ${this.embed?"embedded":""} ${this.audio?"":"video"}">
  <button type="button" class="page-left page-arrow iconochive iconochive-left"
    @click="${this.prior_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Left" tabindex="-1">
    <span class="sr-only">prior page</span>
  </button>

  <div class="track-list">
    <div class="flexbox-pages column">
      ${this.playlist.map((t,r)=>{var s;return ao`
      <button
        @click="${this.playlist_track_click}"
        type="button"
        class="track ${this.trackno===r?"selected":""}"
        data-track-number="${r}"
        data-event-click-tracking="TrackList|Item">
        ${this.headless?"":ao`<span class="track-number">${r+1}</span>`}
        <span class="track-title">${(s=t.title)!=null?s:""}
          ${t.artist?ao`<i class="track-artist">- ${t.artist}</i>`:""}
        </span>
        <span class="track-length">
          ${""}
          ${t.duration?sn.sec2hms(t.duration):this.headless?"- \u2013:\u2013 -":""}
        </span>
      </button>`})}
    </div>

    <div class="page-buttons">
      ${[...Array(this.panels_count)].map((t,r)=>ao`
        <button type="button"
          @click="${this.goto_panel}"
          data-page-number="${r}"
          class="page-button ${Number(r)===this.panelno?"selected":""}"
          data-event-click-tracking="Play-AV|Paginator-Button"
          tabindex="-1">
          <span class="sr-only">${r}</span>
        </button>`)}
    </div>
  </div>

  <button type="button" class="page-right page-arrow iconochive iconochive-right"
    @click="${this.next_panel}"
    data-event-click-tracking="Play-AV|Paginator-Arrow-Right" tabindex="-1">
    <span class="sr-only">next page</span>
  </button>

</div>
`}playlist_track_click(t){this.playN(Number(t.currentTarget.dataset.trackNumber))}prior_panel(){this.panelno-=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:-1*t.clientWidth,behavior:"smooth"}),this.requestUpdate()}next_panel(){this.panelno+=1;let t=this.shadowRoot.querySelector(".flexbox-pages");t.scrollBy({top:0,left:t.clientWidth,behavior:"smooth"}),this.requestUpdate()}goto_panel(t){let r=this.shadowRoot.querySelector(".flexbox-pages");this.panelno=Number(t.currentTarget.dataset.pageNumber),r.scrollTo({top:0,left:this.panelno*r.clientWidth,behavior:"smooth"}),this.requestUpdate()}paging_visibility(){setTimeout(()=>{var h;let r=(h=this.shadowRoot)==null?void 0:h.querySelector(".flexbox-pages");if(!r)return;r.getAttribute("scroll_listening")||(r.addEventListener("scroll",this.paging_visibility),r.setAttribute("scroll_listening","yes"));let s=r.parentElement.parentElement.querySelector(".page-left"),l=r.parentElement.parentElement.querySelector(".page-right"),{scrollLeft:o}=r,c=this.panels_count;this.panels_count=Math.ceil(r.scrollWidth/r.clientWidth),console.warn("PANELS COUNT",this.panels_count);let n=r.scrollWidth-r.clientWidth,u=this.panels_count<=1;s.style.visibility=u||o<=0?"hidden":"visible",l.style.visibility=u||o>=n?"hidden":"visible",r.parentElement.querySelector(".page-buttons").style.display=u?"none":"block",c!==this.panels_count&&this.requestUpdate()},1500)}static get styles(){return Ju`
:host {
  /* @container queries for our shadow *and* light DOM elements will use the overall web component's
     width  ( https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Container_Queries )
  */
  container-type: inline-size;
  display: block;

  outline: 0 !important;
  outline-offset: unset !important;
}

.av-pill {
  display: flex;
  flex-shrink: 0;
}

#waveformer-wrap {
  flex-grow: 1;
  position: relative;
  display: inline-block;
  height: ${Gn(Bo)}px;
  border-radius: 0 ${Gn(Bo/2)}px ${Gn(Bo)/2}px 0;
  border-right: ${Gn(Bo/2)}px solid black;
  cursor: pointer;

  background-color: white; /* would be supercool transparent otherwise... */
}
#waveformer {
  position: absolute;
  height: ${Gn(Bo)}px;
  width: 0;
  background-color: #ddd; /* fallback in case no imagery or colorthief fails */
}
#waveformer-wrap img {
  position: absolute;
  height: ${Gn(Bo)}px;
  width: 100%;
  background-color: transparent;
}

::slotted(#ia-scrubber) {
  z-index: 1;
  position: absolute;
  left: 0;
  right: 0;
  height: 17px;
  top: ${Gn(Bo/2-9)}px;
}

.av-pill.audio {
  margin-top: 5px;
}
.av-pill.audio.embedded {
  margin-top: 0;
}


/* for audio embeds, controlbar is shorter in height */
.av-pill.embedded.audio,
.av-pill.embedded.audio #waveformer-wrap,
.av-pill.embedded.audio #waveformer,
.av-pill.embedded.audio #waveformer-wrap img {
  height: ${Gn(Ra)}px;
}
.av-pill.embedded.audio ::slotted(#ia-scrubber) {
  top: ${Gn(Ra/2-9)}px;
}
.av-pill.embedded.audio #waveformer-wrap {
  border-radius: initial;
  border-right-width: 5px;
}

.playlist.embedded {
  margin-top: 0;
  background-color: black;
}

@container (max-width: ${Gn(Rv-1)}px) {
  .media-section {
    margin-bottom: 1rem;
  }
  .playlist {
    max-height: 340px;
    margin: 0;
  }
  .page-buttons,
  .page-arrow {
    display: none;
  }
}


.playlist {
  color: #fff;
  margin-top: 1rem;
  padding-bottom: 4rem;
  overflow-y: auto;
  overflow-x: hidden;
  position: relative;

  /* max-height: 90%;  overflow: auto; */ /* for desktop at least xxx */
}

.track-list {
  /* split overflow declaration needed for Safari */
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  margin: 0 2.5rem; /* space for left & right [<] paging buttons */
}

.track {
  vertical-align: top;
  cursor: pointer;
  border-width: 0.3rem;
  border-style: solid;
  border-color: transparent;
  text-align: left;
  background: transparent;
  color: inherit;
  padding-right: 0;
  padding-left: 0;
  min-height: 4rem;
  margin-left: 0.5%;
  margin-right: 0.5%;
  box-sizing: border-box;
  font-weight: 400;  /* being explicit keeps safari consistent w/ chrome, etc. */
  font-size: 13.3px; /* safari consistent w/ chrome */
}

.track.selected {
  border-color: #00A1DD;
  border-radius: .5rem;
}
.track.selected:focus {
  outline: none;
}

.track-number,
.track-title,
.track-length {
  display: inline-block;
  box-sizing: border-box;
  border-right: 10px solid transparent;
  vertical-align: top;
}

.track-number {
  text-align: right;
  font-weight: 100;
  width: 9%;
}

.track-title {
  width: 60%;
}

.track-artist {
  font-weight: 200;
}

.track-length {
  text-align: right;
  font-weight: 100;
  float: right;
}



.flexbox-pages {
  display: flex;
  align-items: stretch;
  flex-direction: column;
  flex-wrap: wrap;
  height: inherit; /* must set with parent to wrap columns */
  overflow: hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}

.flexbox-pages.column > * {
  width: inherit; /* set at parent, for better display control */
}

@container (max-width: 500px) { /* xxx number */
  .flexbox-pages {
    flex-wrap: nowrap;
  }
}

.playlist.embedded.video .flexbox-pages.column {
  height: ${Gn(yk)}px;
}
@container (max-width: ${Gn(Rv-1)}px) {
  .playlist.embedded.video .flexbox-pages.column {
    overflow-y: visible;
    flex-wrap: initial;
  }
}

@container (min-width: ${Gn(Rv)}px) {
  .flexbox-pages {
    height: 350px; /*calc(400px - 50px);*/
    float: unset;
  }

  .flexbox-pages.column > * {
    width: 49%;
  }
}

.page-buttons {
  width: 100%;
  text-align: center;
}
.page-button {
  border-radius: 50%;
  border-color: inherit;
  border-style: solid;
  border-width: 0.1rem;
  color: white;
  background-color: transparent;
  height: 1.5rem;
  width: 1.5rem;
  margin: 0 .5rem;
}
.page-button.selected {
  background-color: white;
}
.page-button.selected:focus {
  outline: none;
}

.page-arrow {
  background: transparent;
  border: none;
  position: absolute;
  top: 35%;
  font-size: 2.5rem;
  color: white;
  opacity: 0.6;
}
.page-arrow:hover {
  cursor: pointer;
  opacity: 1.0;
}

.page-left {
  left: -1rem;
}
.page-right {
  right: -1rem;
}

.sr-only {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
`}static _css(){let t=document.getElementsByTagName("head")[0];if(!t)return;let r=document.createElement("style");r.setAttribute("type","text/css"),r.appendChild(document.createTextNode(`

/* switch back to more expected/std. way of measuring things width/height. */
/* make it so borders *add to*, not included *in* a pegged/css width, etc. */
.content-box-sizing,
.content-box-sizing *,
.content-box-sizing *:before,
.content-box-sizing *:after {
  -webkit-box-sizing: content-box !important;
  -moz-box-sizing:    content-box !important;
  box-sizing:         content-box !important;
}


body.jwaudio .jwplayer {
  width: initial !important;
  display: inline-block;
  margin-left: ${E8}px;

  outline: 0 !important;
  outline-offset: unset !important;
}


body.jwaudio.embedded .jwplayer {
  margin-left: 0;
}

body.jwaudio.embedded .maudioEmbed {
  max-width: 800px;
  margin: auto;
  position: relative;
}

body.jwaudio.embedded .jw-tooltip-btn-ia {
  /* for audio embeds' IA logo -- we _want_ the tooltip to show up -- but to the left */
  display: block;
  bottom: -60%;
  left: -200%;
}

/* JW8 changed min height (effectively) to 50px */
body.jwaudio.embedded .jw-flag-audio-player {
  max-height: ${Ra}px;
}
body.jwaudio.embedded .jw-icon {
  height: ${Ra}px;
}


/* even short height controlbar -- we want to see our custom buttons */
.jw-flag-audio-player .jw-icon[button=btn-prv],
.jw-flag-audio-player .jw-icon[button=btn-nxt],
.jw-flag-audio-player .jw-icon[button=btn-ia],
.jw-flag-audio-player .jw-icon[button=btn-cast] {
  display: flex !important;
}

body.jwaudio .jw-preview {
  display: none !important;
}

/* avoid bleed-thru when kebab opened */
body.jwaudio .jw-wrapper, body.jwaudio .jw-controls-backdrop {
  background-color: transparent;
  background: none;
}

/* make control bar use up width naturally, based on controlbar buttons (waveform soaks up rest) */
body.jwaudio .jw-wrapper,
body.jwaudio .jw-controls {
  position: initial;
}

body.jwaudio .jw-controlbar .jw-icon-inline:first-child {
  margin-left: 15px;
}

body.jwaudio .jw-controlbar .jw-icon-inline {
  width: 35px;
}
body.jwaudio .jw-controlbar .jw-icon-inline.jw-text-duration {
  width: 55px;
}

@container (min-width: ${bk}px) {
  body.jwaudio .jw-text-elapsed {
    display: flex !important;
  }
}
@container (min-width: ${L8}px) {
  body.jwaudio .jw-text-duration {
    display: flex !important;
  }
}

body.jwaudio .jw-settings-submenu-button {
  margin-left: -5px;
}

body.jwaudio #jw-settings-menu {
  z-index: 1;
  margin-top: 25px;
  border-top: 1px solid #aaa;
  left: 50px;
}

body.jwaudio #jw-settings-menu:before {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -11px;
  left: ${Iv}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent #aaa transparent;
}
body.jwaudio #jw-settings-menu:after {
  /* caret up - altered from https://blog.logrocket.com/creating-beautiful-tooltips-with-only-css/ */
  content: "";
  position:absolute;

  /* position tooltip correctly */
  top: -8px;
  left: ${Iv}px;
  transform:translateY(-50%);

  /* the arrow */
  border: 10px solid #000;
  border-color: transparent transparent black transparent;
}

#waveformer-loader {
  overflow: hidden;
  width: 1px;
  height: 1px;
  max-width: 1px;
  max-height: 1px;
  position: fixed;
  bottom: 0;
  right: 0;
  opacity: 0.01;
}
    `)),t.appendChild(r)}responsiveResize(t){if(!this.responsive)return;let r=Ci(this).offset(),s=Ci(window).height()-r.top-I8;if(this.audio)s-=Bo,s=Math.max(P8,s),this.embed||(Ki("responsiveResize() maxH:",s),this.list_height=s);else{let l=this.DAR;this.playlist&&this.playlist.length>0&&this.playlist[0].sources&&this.playlist[0].sources.length>0&&this.playlist[0].sources[0].width&&this.playlist[0].sources[0].height&&(l=this.playlist[0].sources[0].width/this.playlist[0].sources[0].height,Ki("aspect ratio appears to be: ",l));let o=Ci(".container-ia:last").width();Ki("video max rect avail: ",o,"x",s);let c,n;for(n of[960,840,720,600,480,360,240,180])if(c=Math.round(n*l),Ki("video size try fit: ",c,"x",n),c<=o&&n<=s||c<=320)break;this.width=c,this.height=n,globalThis.AJS&&globalThis.AJS.theatre_controls_position(!1,0,this.width,this.height)}t?Ci(window).on("resize  orientationchange",()=>{clearTimeout(sn.throttler),sn.throttler=setTimeout(()=>{this.responsiveResize()},250)}):this.audio||Cn(this.jid).resize(this.width,this.height),t||this.paging_visibility()}static sec2hms(t,r=!1,s=!1){let l=Math.round(t),o=Math.floor(l/3600),c=Math.floor((l-o*3600)/60);l-=o*3600+c*60;let n="",u="";(r||o>0)&&(u=`00${o}`,n+=u.substr(u.length-2,2),n+=":"),u=`00${c}`,n+=u.substr(u.length-2,2),n+=":",u=`00${l}`,n+=u.substr(u.length-2,2);let h=s?`.${(t%1).toFixed(3).slice(2)}`:"";return`${n}${h}`}static seconds(t){let r=t.replace(",","."),s=r.split(":"),l=0;return r.substr(-1)==="s"?l=Number(r.substr(0,r.length-1)):r.substr(-1)==="m"?l=Number(r.substr(0,r.length-1))*60:r.substr(-1)==="h"?l=Number(r.substr(0,r.length-1))*3600:s.length>1?(l=Number(s[s.length-1]),l+=Number(s[s.length-2])*60,s.length===3&&(l+=Number(s[s.length-3])*3600)):l=Number(r),l}static seek(t){let r=`${t.href}/`.match(/[/#]start\/([\d.]+)\//)||t.href.match(/[?&]start=([\d.]+)/);if(!r)return!0;let s=r[1];return Cn().seek(s),typeof history.pushState=="undefined"?location.href=t.href:history.pushState({},null,t.href),!1}static mute_click(){let t=!Ja.get("unmute"),r=Cn("jw6");if(r){let s=r.getVolume();s?(sn.mute_click_prior_volume=s,r.setVolume(0)):r.setVolume(typeof sn.mute_click_prior_volume=="undefined"?100:sn.mute_click_prior_volume)}return Ci("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?Ja.set("unmute",1,{path:"/details",expires:30}):Ja.remove("unmute",{path:"/details"}),!1}static cast_sender_setup(){!globalThis.chrome||globalThis.chrome.cast||function(){var t=function(w){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+w)!=-1||document.currentScript.src.indexOf("&"+w)!=-1)},r=t("loadGamesSDK")?"/cast_game_sender.js":"/cast_sender.js",s=t("loadCastFramework")||t("loadCastApplicationFramework"),l=function(){return typeof globalThis.__onGCastApiAvailable=="function"?globalThis.__onGCastApiAvailable:null},o=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"],c=function(w){w.length?u(w.shift(),function(){c(w)}):g()},n=function(w){return"chrome-extension://"+w+r},u=function(w,k,A){var L=document.createElement("script");L.onerror=k,A&&(L.onload=A),L.src=w,(document.head||document.documentElement).appendChild(L)},h=function(w){return 0<=globalThis.navigator.userAgent.indexOf(w)},g=function(){var w=l();w&&w(!1,"No cast extension found")},m=function(){if(s){var w=2,k=l(),A=function(){w--,w==0&&k&&k(!0)};globalThis.__onGCastApiAvailable=A,u("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",g,A)}};if(h("CriOS")){var y=globalThis.__gCrWeb&&globalThis.__gCrWeb.message&&globalThis.__gCrWeb.message.invokeOnHost;y&&(m(),y({command:"cast.sender.init"}))}else if(h("Android")&&h("Chrome/")&&globalThis.navigator.presentation){m();var _=globalThis.navigator.userAgent.match(/Chrome\/([0-9]+)/);c(["//www.gstatic.com/eureka/clank/"+(_?parseInt(_[1],10):0)+r,"//www.gstatic.com/eureka/clank"+r])}else globalThis.chrome&&globalThis.navigator.presentation&&!h("Edge")?(m(),c(o.map(n))):g()}()}static filename_char_encoder(t){let r=t.split(/\.(mp3|ogg|ogv|mp4|mpeg4|m4v|mov|flv|swf)\?/i);return r.shift().replace(/#/g,"%23").replace(/\?/g,"%3F")+(r.length?`.${r.shift()}?`:"")+r.join("")}static track_event(t){if(!globalThis.archive_analytics)return;let[r,s]=t.split("|");globalThis.archive_analytics.send_event(r,s,globalThis.location.pathname)}updated(t){Ki("Play.updated()",t);for(let r in["playlist","identifier","mdapi"])!this[r]&&this.getAttribute(r)&&(this[r]=this.getAttribute(r));!this.playlist&&!this.mdapi&&this.identifier&&this.from_attr_identifier(),!this.playlist&&this.mdapi&&this.from_attr_mdapi(),this.setup_component()}static get properties(){return{trackno:Number,identifier:String,mdapi:Object,bgTheme:String}}render(){var s;Ki("Play.render()",this.trackno);let t=this.playlist?this.add_playlist_panel():"";this.readyIA&&(this.audio&&this.draggable_scrubber(),this.rendered_once||(this.rendered_once=!0,this.responsive&&!this.embed&&this.responsiveResize(!0),this.responsive&&!this.audio&&Ci(this.jidsel).css("margin","auto"),this.add_buttons(this.player),this.audio&&(Ci(".jw-controls").css({backgroundColor:"transparent",height:"100%"}),this.embed||(Ci(".jw-controlbar").css("padding-top","8px"),Ci(this.jidsel).css("height",Bo))),this.embed?this.embed&&location.host.match(/archive\.org$/)&&location.pathname.match(/^\/embed\//)&&this.embed_setup():this.details_setup())),this.playlist&&this.paging_visibility();let r=this.playlist?(s=this.playlist[this.trackno||0])==null?void 0:s.image:"";return ao`
      <link rel="stylesheet" href="https://av.archive.org/css/iconochive.css">
      <div class="av-pill ${this.embed?"embedded":""} ${this.audio?"audio":""}">
        <slot></slot>

        ${this.audio&&!this.headless?ao`
          <div id="waveformer-wrap">
            <div id="waveformer"></div>
            ${r?ao`<img src="${r}" @click="${this.waveform_clicked}">`:ao`<img src="https://archive.org/images/black.jpg">`}
            <slot name="ia-scrubber"></slot>
          </div>`:""}
      </div>

      ${this.show_transcripts()?ao`
        <transcript-viewer identifier="${this.identifier}" trackno=${this.trackno||0}
          playlist='${JSON.stringify(this.playlist||[])}' bgTheme=${this.bgTheme}>
        </transcript-viewer>
      `:""}

      ${t}
    `}show_transcripts(){var n,u,h,g;if(this.tv||!this.audio)return!1;let t=1600,r=1928,s=["78rpm","edison-recordings","georgeblood"];if(this.headless)return!1;if(!s.filter(m=>{var y;return(y=this.collections)==null?void 0:y.includes(m)}).length)return!0;let l=String((g=(h=(u=JSON.parse((n=Ci(".js-ia-metadata").val())!=null?n:"{}"))==null?void 0:u.metadata)==null?void 0:h.date)!=null?g:"6666");if(typeof l!="string")return!1;let o=l.match(/^(\d\d\d\d)$/)||l.match(/^(\d\d\d\d)-\d\d$/)||l.match(/^(\d\d\d\d)-\d\d-\d\d$/);if(!o)return!1;let c=Number(o[1]);return c<=r&&c>=t}from_attr_identifier(){Ki(`Play.from_attr_identifier(${this.identifier})`),Q_(this.identifier).then(t=>{this.mdapi=t}).catch(t=>Ki("error",t))}from_attr_mdapi(){var r;Ki("Play.from_attr_mdapi()");let t=new Y_(this.mdapi);if(t.showing==="movies"||t.showing==="audio"){let s=[].concat(this.mdapi.metadata.collection),l={audio:t.showing==="audio",responsive:!0,identifier:this.id,collections:s,collection:s.shift()},o=[],c=t.jwplaylist(l,X_,o);if(Ki(c),t.showing==="audio"){let n=document.getElementsByTagName("body")[0];n.setAttribute("class",`${(r=n.getAttribute("class"))!=null?r:""} jwaudio`),l&&!this.embed&&(l.waveformer=!0)}this.setAttribute("playlist",JSON.stringify(c)),this.setAttribute("args",JSON.stringify(l))}}draggable_scrubber(){let t=!1;function r(l){if(!t)return;let o=document.getElementById("ia-scrubber").getBoundingClientRect(),c=Math.min(o.width,Math.max(0,l.clientX-o.left));Ci("#ia-scrubber .jw-knob").css({left:`${c}px`})}document.querySelector("play-av").parentElement.addEventListener("mousemove",r);let s=document.getElementById("ia-scrubber");s.addEventListener("mousedown",()=>{this.player.pause(),t=!0}),s.addEventListener("mouseup",()=>{this.player.play(),t=!1})}static headless(t=[],r=s=>Ki(`track ${s} clicked`)){Ki("Play.headless()",{callback:r}),sn.headless_callback=r,sn.get(Qh.jid).headless_create(t)}headless_create(t=[]){if(!t.length){let n=Ci("play-av[jid=headless]"),u=Ci("play-av[jid!=headless]"),h=sn.get("headless"),g=sn.get(Qh.jid);if(h.remove(),n.remove(),u.show(),Ki("IS AT",h.trackno,h.headless.tracks),h.trackno||h.trackno===0){let m=h.headless.tracks[h.trackno];g.playN(Math.max(0,m),!0)}return}this.pause();let r={jid:"headless",audio:!0,responsive:!0,identifier:this.identifier,headless:{tracks:t,has_full_album:!1}},s=[];for(let n of t)Number(n)===-1&&(r.headless.has_full_album=!0),s.push(Number(n)===-1?{title:"[Full Album]",orig:"",sources:[{file:"https://archive.org/download/family-rolled/family-rolled.mp4"}],image:"https://archive.org/download/family-rolled/format=Thumbnail&ignore=x.jpg"}:this.playlist[n]);let l=Ci("play-av").parent(),o=Qh.jid,c=sn.get(o).trackno;r.headless.playN=Math.max(0,t.indexOf(c)),Ci("play-av[jid!=headless]").hide(),Ci("play-av[jid=headless]").remove(),delete sn.STASH.headless,l.append(`
      <play-av jid="headless"
        playlist='${JSON.stringify(s).replace(/'/g,"&apos;")}'
        args='${JSON.stringify(r).replace(/'/g,"&apos;")}'></play-av>`)}static on(t,r,s="jw6"){let l=.5;if(!["ready","time","displayClick","playlistItem"].includes(t)){console.error(`Play.on(): bad event name: ${event}`);return}let o=()=>{var n,u,h,g;let c=sn.get(s);if(!c||!((n=c.player)!=null&&n.getConfig)||!((u=c.player)!=null&&u.getConfig())||!((h=c.player.getConfig().abouttext)!=null&&h.includes("Internet Archive"))||!(c!=null&&c.readyIA)){Ki("xxxx NOPE",t,c.player,(g=c.player)==null?void 0:g.getConfig(),s),l<20?(l+=1,setTimeout(o,1e3*l)):console.warn(`GAVE UP attaching to player ${s}, event ${t}`);return}t==="ready"?r(c.player):c.player.on(t,()=>r(c.player))};setTimeout(o,l)}static get(t){return sn.STASH[t]}};r0(sn,"STASH",{});Ml=sn,Dv=class{constructor(t){this.WIGGLE=1,this.playlist_index=0,this.last_time=0,this.p=t,Ki(t.triggers)}setup(t){this.play=t,this.p.player.on("time",()=>this.on_time()),this.p.player.on("meta",r=>Ki("HLS meta",r))}on_time(){let t=this.p.player.getCurrentTime();if(Math.abs(this.last_time-t)<.25)return;this.last_time=t;let r=this.playlist_index;if(t>=this.p.triggers[r]+this.WIGGLE)for(Ki("on_time >=",t,">=",this.p.triggers[r]+this.WIGGLE);t>=this.p.triggers[r]-this.WIGGLE;)r+=1;else if(t<this.p.triggers[r-1]+this.WIGGLE)for(Ki("on_time <",t,"<",this.p.triggers[r-1]-this.WIGGLE);r&&t<this.p.triggers[r-1]-this.WIGGLE;)r-=1;if(r!==this.playlist_index){if(Ki("HLS switching tracks:",this.playlist_index,"=>",r),this.playlist_index=r,this.play.track_change(this.p.player,this.playlist_index),Ci("#play-hls-duration").html(Ml.sec2hms(this.p.playlist[this.playlist_index].duration)),this.p.waveformer){Ki(this.p.playlist[this.playlist_index]);let l=this.p.playlist[this.playlist_index].image;if(l){Ci("#waveformer-loader").length||Ci("body").append('<img id="waveformer-loader"></img>');let o=Ci("#waveformer-loader").get(0);o.onload=()=>Ci(".jw-preview").css("background-color","transparent"),o.src=l,Ci(".jw-preview").css("background-color","black"),Ci(".jw-preview").css("background-image",`url("${l}")`)}}}let s=this.p.playlist[this.playlist_index].duration;if(this.p.waveformer&&s){let l=t-(this.playlist_index?this.p.triggers[this.playlist_index-1]:0);Ci("#play-hls-elapsed").html(Ml.sec2hms(Math.round(Math.max(0,l)))),this.p.jwaudioPercentDone=Math.min(1,l/s)}}update_playlist(){Ki("HLS.update_playlist",this.p.jwcfg.playlist),this.p.jwcfg.playlist=this.p.jwcfg.playlist.slice(0,1),this.p.jwcfg.playlist[0].sources[0].file=`/details/${this.p.identifier}&embed=1&HLS=1&hls.m3u8`,delete this.p.jwcfg.playlist[0].sources[0].title,delete this.p.jwcfg.playlist[0].sources[0].duration,Ki("HLS new playlist to jw",this.p.jwcfg.playlist),this.p.jwcfg.hlsjsConfig={p2pConfig:{live:!1}}}playlistPrev(){Ki("HLS.playlistPrev");let t=0;this.playlist_index?this.playlist_index>1&&(t=this.p.triggers[this.playlist_index-2]-this.WIGGLE):t=this.p.triggers[this.p.triggers.length-2]-this.WIGGLE,this.p.player.seek(t)}playlistNext(){Ki("HLS.playlistNext");let t=this.playlist_index>=this.p.triggers.length-1?0:this.p.triggers[this.playlist_index]-this.WIGGLE;this.p.player.seek(t)}waveform_clicked2(t){let r=this.playlist_index,s=r?this.p.triggers[r-1]:0,l=this.p.triggers[r]-s;this.p.player.seek(s+l*t)}};Ml._css();customElements.define("play-av",Ml);jv=Ml});var xk=si(()=>{wk()});var _k={};Fn(_k,{IaMusicTheater:()=>ep});var ep,kk=si(()=>{ox();ux();Eg();Id();u_();Oo();xk();xf();window.SharedResizeObserver||(window.SharedResizeObserver=Do);Vi("** ia-music-player@1.2.0 **");ep=class extends fi{static get properties(){return{itemInfo:{type:Object},baseHost:{type:String},identifier:{type:String,reflect:!0},sharedRO:{type:Object},linerNotesFullscreen:{type:Boolean,attribute:!0,reflect:!0},signedIn:{type:Boolean,attribute:!0,reflect:!0},hasFullAudioAccess:{type:Boolean,attribute:!0,reflect:!0},displayStyle:{type:String,attribute:!0,reflect:!0},bgTheme:{type:String,attribute:!0,reflect:!0},selectedChannel:{type:String,attribute:!0,reflect:!0},linerNotesUrl:{type:String,attribute:!0,reflect:!0},linerNotesManifest:{type:Object},looseImageInfo:{type:Array},noImageAvailable:{type:Boolean,attribute:!0,reflect:!0},photoViewerReady:{type:Boolean,attribute:!0,reflect:!0},iaPlaylist:{type:Object},hasYoutubeTracks:{type:Boolean,attribute:!0,reflect:!0},hasSpotifyTracks:{type:Boolean,attribute:!0,reflect:!0},album:{type:Object}}}constructor(){super(),this.baseHost="",this.signedIn=!1,this.hasFullAudioAccess=!0,this.identifier="",this.sharedRO=void 0,this.displayStyle="one-col",this.bgTheme="dark",this.linerNotesUrl="",this.linerNotesManifest=void 0,this.itemInfo=void 0,this.looseImageInfo=[],this.linerNotesFullscreen=!1,this.noImageAvailable=!1,this.photoViewerReady=!1,this.iaPlaylist=void 0,this.hasSpotifyTracks=!1,this.hasYoutubeTracks=!1,this.album=void 0,this.analyticsHandler=new Fs,this.selectedChannel="ia",this.currComponentWidth=0}firstUpdated(){var c;this.classList.remove("preload"),this.setupResizeObserver(),this.analyticsHandler.send_event("ia-music-theater","channel-onload",`${this.selectedChannel}`);let t=document.querySelector(".js-ia-metadata").value;this.itemInfo={metadata:JSON.parse(t),rawString:t};let r=document.querySelector(".js-iaux-loose-images").value,s=((c=JSON.parse(r))==null?void 0:c.image_filenames)||[];Vi("~~~~ parsedImageInfo: ",s,"~~~~");let l=(s==null?void 0:s.includes("_"))&&(s==null?void 0:s.length)===1;this.looseImageInfo=!l&&(s!=null&&s.length)?s:[];let o=document.querySelector("play-av").getAttribute("playlist");this.iaPlaylist=JSON.parse(o),this.album=new lx(this.itemInfo.metadata,this.iaPlaylist)}updated(t){var r;t.has("linerNotesUrl")&&this.linerNotesUrl&&this.fetchLinerNotes(),this.fullscreenActive||(t.has("displayStyle")&&this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),t.has("displayStyle")&&this.displayStyle!=="one-col"&&this.removeBookReaderMobileViewClasses()),t.has("looseImageInfo")&&((r=this.looseImageInfo)!=null&&r.length)&&!this.linerNotesUrl&&this.createManifestToLoad()}createManifestToLoad(){return vi(this,null,function*(){let t=yield rx({itemIdentifier:this.identifier,images:this.looseImageInfo,baseHost:"archive.org"});Vi("*** manifest ***",t),this.linerNotesManifest=t})}removeBookReaderMobileViewClasses(){let t=this.querySelector("div#BookReader");t==null||t.classList.remove("iaux-music-theater-mobile-view")}setBookReaderClassesForMobileView(){let t=this.querySelector("div#BookReader");t==null||t.classList.add("iaux-music-theater-mobile-view")}fetchLinerNotes(){return vi(this,null,function*(){let t;try{t=yield $.ajax({url:`/embed/${this.identifier}?output=json`,type:"GET",dataType:"json",crossDomain:!0}).then(s=>s).catch(()=>[])}catch(s){t=[]}this.jwplayerPlaylist=t,Vi("*** jwplayerPlaylist ***",t);let r;try{r=yield $.ajax({url:this.linerNotesUrl,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(s=>s).catch(()=>null)}catch(s){r=void 0}this.linerNotesManifest=r==null?void 0:r.data,this.noImageAvailable=!1,Vi("*** linerNotesManifest ***",r)})}get itemUrl(){return`https://${this.baseHost}/details/${this.identifier}`}get iauxPhotoViewer(){return this.shadowRoot.querySelector("iaux-photo-viewer")}get channelSelector(){return this.shadowRoot.querySelector("channel-selector")}setupResizeObserver(){this.sharedRO=new Do,this.sharedRO.addObserver({handler:{handleResize:this.handleResize.bind(this)},target:this.shadowRoot.host})}handleResize(t){var s,l;let{contentRect:r}=t;if(r.width!==this.currComponentWidth){if(this.linerNotesFullscreen&&(this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(r.height)}px`)),document.body.style.removeProperty("--linerNotesInTheaterHeight"),r.width<768)this.displayStyle="one-col",this.channelSelector.displayStyle="dropdown";else{this.displayStyle="two-col",this.channelSelector.displayStyle="radio";let o=(l=(s=this.iauxPhotoViewer)==null?void 0:s.coverImage)==null?void 0:l.getBoundingClientRect();if(!o)return;let c=o.height,n=o.width,u=Math.floor(c);if(r.width<950){this.setBookReaderHeight(u);return}let g=Math.floor(c/n),m=Math.floor(this.offsetHeight-c),y=this.offsetHeight>=c&&m>250,_=g===1&&m>170;(m<0||_||y)&&(u=this.offsetHeight-20),this.setBookReaderHeight(u)}Vi("music-player handleResize",{width:r.width,displayStyle:this.displayStyle})}}channelChange({detail:t}){let r=(t==null?void 0:t.channel)||"unknown";Vi("channel change",r),this.selectedChannel=r,this.analyticsHandler.send_event("ia-music-theater","channel-change",`${this.selectedChannel}`)}setBookReaderHeight(t){let r=Math.floor(t);!t||!r||(document.body.style.removeProperty("--linerNotesInTheaterHeight"),document.body.style.setProperty("--linerNotesInTheaterHeight",`${r}px`))}render(){var r;Vi("~~~ render: linerNotesManifest ",this.linerNotesManifest);let t=this.linerNotesFullscreen?"linerNotesFullscreen":"";return ze`
      <section
        id="music-theater"
        class=${`${this.displayStyle} ${t} ${this.bgTheme} ${this.noImageAvailable?"noimageavailable":"hasimage"}`}
      >
        <channel-selector
          .backgroundTheme=${this.bgTheme}
          webamp
          .youtube=${this.hasYoutubeTracks}
          .spotify=${this.hasSpotifyTracks}
          .url=${this.itemUrl}
          .selected=${this.selectedChannel}
          @channelChange=${s=>this.channelChange(s)}
          .displayStyle=${this.displayStyle==="one-col"?"dropdown":"radio"}
        ></channel-selector>
        ${this.noImageAvailable?ze`<iaux-photo-viewer
            noimageavailable
            .itemIdentifier=${this.identifier}></iaux-photo-viewer>`:ze`<iaux-photo-viewer
            ?noimageavailable=${this.noImageAvailable}
            class=${this.linerNotesManifest?"":"hide"}
            .backgroundTheme=${this.bgTheme}
            .baseHost=${this.baseHost}
            .itemIdentifier=${this.identifier}
            .itemMD=${(r=this.itemInfo)==null?void 0:r.metadata}
            .signedIn=${this.signedIn}
            .linerNotesManifest=${this.linerNotesManifest}
            .lightDomHook=${this}
            .sharedRO=${this.sharedRO}
            @fullscreenOpened=${()=>{if(this.displayStyle==="one-col"){let s=window.innerHeight;this.style.removeProperty("--linerNotesFullscreenHeight"),this.style.setProperty("--linerNotesFullScreenHeight",`${Math.round(s)}px`)}this.linerNotesFullscreen=!0}}
            @fullscreenClosed=${()=>{this.displayStyle==="one-col"&&this.style.removeProperty("--linerNotesFullScreenHeight"),this.linerNotesFullscreen=!1}}
            @showingAllPhotos=${()=>{this.displayStyle==="one-col"&&this.setBookReaderClassesForMobileView(),this.analyticsHandler.send_event("ia-music-theater","liner-notes-viewed",`${this.displayStyle}`)}}
            @coverImageLoaded=${s=>{var u;if(!this.noImageAvailable&&!((u=this.looseImageInfo)!=null&&u.length)&&!this.linerNotesManifest)return;let{height:o,width:c}=s.detail,n=o;this.displayStyle==="one-col"?n=250:(Math.round(o/c)===1||o>=this.offsetHeight)&&(n=this.offsetHeight-20),this.setBookReaderHeight(n),this.photoViewerReady=!0}}
          >
            <div slot="main" class="main">
              <slot name="main"></slot>
            </div>
          </iaux-photo-viewer>`}
        ${this.photoViewerReady?Ai:ze`<div class="image"><slot name="image"></slot></div>`}
        <div class="player">
          <div id="ext-channels-section">
            <externalchannels-player
                .album=${this.album}
                selectedChannel=${this.selectedChannel}
                .playerApi=${jv}
                @externalChannelsPlayerLoaded=${s=>{let{youtubeTracks:l,spotifyTracks:o,album:c}=s.detail;this.hasYoutubeTracks=!!l.length,this.hasSpotifyTracks=!!o.length,this.album=c,Vi("*** external player loaded",s.detail)}}
                @externalChannelsSelectedTrack=${s=>{Vi("*** external player selected track Received",s.detail)}}
              ></external-channels-player>
          </div>
          <slot class="player"></slot>
        </div>
      </section>
    `}static get styles(){return dt`
      :host {
        display: block;
        position: relative;
        overflow: hidden;
        /* petabox styling is very sticky for outlines, let's remove */
        outline: none !important;
        font-size: 16px;
        height: 100%;
        min-height: inherit;
        --imageWidth: 350px;
        --imageHeight: 350px;
      }

      :host[bgtheme="dark"],
      #music-theater.dark {
        color: white;
      }

      .hide {
        display: none;
      }

      .linerNotesFullscreen channel-selector {
        visibility: hidden;
      }

      channel-selector {
        z-index: 1;
        position: relative;
      }

      channel-selector[displaystyle="dropdown"] {
        padding-left: 5px;
        padding-bottom: 10px;
        padding-top: 10px;
        z-index: 3;
        display: inline-block;
        position: absolute;
        top: 0;
      }

      #music-theater.dropdown {
        margin-top: 5px;
      }

      @media(max-width: 768px) {
        #music-theater.one-col.hasimage slot[name="image"],
        #music-theater.one-col.hasimage iaux-photo-viewer {
          overflow: hidden;
          height: 268px;
          margin-top: 20px;
        }

        #music-theater.one-col.noimageavailable channel-selector {
          position: absolute;
        }

        #music-theater.one-col.noimageavailable iaux-photo-viewer {
          overflow: hidden;
          --imageHeight: 190px;
          --imageWidth: 190px;
          --linerNotesHeight: 200px;
          height: 200px !important;
          padding-top: 10px;
        }

        #music-theater.one-col slot.player {
          padding: 0 5px;
        }
      }

      @media(min-width: 1201px) {
        #music-theater.two-col {
          margin: 10px auto;
        }
      }

      #music-theater.two-col {
        display: grid;
        grid-template-columns: 0.7fr 1.3fr;
        grid-template-rows: 0.2fr;
        gap: 0;
        column-gap: 0;
        grid-template-areas: "image channel-selector" "image player";
        column-gap: 20px;
        margin: 10px 30px;
      }

      #music-theater.two-col .image,
      #music-theater.two-col iaux-photo-viewer {
        grid-area: image;
        z-index: 2;
        max-height: var(--linerNotesInTheaterHeight, 100%);
        margin-top: 10px;
        height: auto;
      }
      #music-theater.two-col .player {
        grid-area: player;
      }
      #music-theater.two-col channel-selector[displaystyle="radio"] {
        grid-area: channel-selector;
      }

      @media(min-width: 768px) and (max-width: 1200px) {
        #music-theater.two-col.hasimage {
          grid-template-columns: 1fr 1fr;
        }
      }

      slot {
        display: block;
      }

      slot[name="image"] {
        max-height: 400px;
        display: block;
        max-width: 100%;
        height: inherit;
        object-fit: contain;
        position: relative;
      }

      div#ext-channels-section {
        margin-top: 5px;
      }
    `}};customElements.define("ia-music-theater",ep)});function*Bv(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*dd(Bv(e.shadowRoot.activeElement))))}function R8(){return[...Bv()].pop()}function Ck(e){let t=Sk.get(e);return t||(t=window.getComputedStyle(e,null),Sk.set(e,t)),t}function D8(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=Ck(e);return t.visibility!=="hidden"&&t.display!=="none"}function j8(e){let t=Ck(e),{overflowY:r,overflowX:s}=t;return r==="scroll"||s==="scroll"?!0:r!=="auto"||s!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&s==="auto"}function N8(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!D8(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:j8(e)}function B8(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function Ak(e){let t=new WeakMap,r=[];function s(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&N8(l)&&r.push(l),l instanceof HTMLSlotElement&&B8(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{s(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&s(l.shadowRoot)}for(let o of Array.from(l.children))s(o)}return s(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var Il,Sk,od,H8,F8,Nv,Ol,z8,Ic,Hv=si(()=>{vr();xi();Nr();vr();xi();Nr();ju();bd();xi();zc();Il=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};Sk=new WeakMap;od=[],H8=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let s=R8();if(this.previousFocus=s,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=Ak(this.element),o=l.findIndex(n=>n===s);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...Bv()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){od.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){od=od.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return od[od.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=Ak(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],s=this.tabDirection==="forward"?t:r;typeof(s==null?void 0:s.focus)=="function"&&(this.currentFocus=s,s.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},F8=ze`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,Nv=class extends fi{constructor(){super(...arguments),this.config=new Il}render(){return ze`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?ze`<div class="logo-icon">${F8}</div>`:Ai}
            ${this.config.title?ze`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?ze`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?ze` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?ze` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return ze`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=dt`var(--modalLogoSize, 6.5rem)`,t=dt`var(--processingImageSize, 7.5rem)`,r=dt`var(--modalCornerRadius, 1rem)`,s=dt`var(--modalBorder, 2px solid black)`,l=dt`var(--modalBottomMargin, 2.5rem)`,o=dt`var(--modalTopMargin, 5rem)`,c=dt`var(--modalHeaderBottomPadding, 0.5em)`,n=dt`var(--modalBottomPadding, 2rem)`,u=dt`var(--modalScrollOffset, 5px)`,h=dt`var(--modalTitleFontSize, 1.8rem)`,g=dt`var(--modalSubtitleFontSize, 1.4rem)`,m=dt`var(--modalHeadlineFontSize, 1.6rem)`,y=dt`var(--modalMessageFontSize, 1.4rem)`,_=dt`var(--modalTitleLineHeight, normal)`,w=dt`var(--modalSubtitleLineHeight, normal)`,k=dt`var(--modalHeadlineLineHeight, normal)`,A=dt`var(--modalMessageLineHeight, normal)`;return dt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${h};
        font-weight: bold;
        line-height: ${_};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};ae([Kt({type:Object})],Nv.prototype,"config",void 0);Nv=ae([lr("modal-template")],Nv);(function(e){e.Open="open",e.Closed="closed"})(Ol||(Ol={}));z8=class{constructor(e){this.windowResizeThrottler=Fl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Ol.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Ol.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Ic=class extends fi{constructor(){super(...arguments),this.mode=Ol.Closed,this.hostBridge=new z8(this),this.modal=new H8(this),this.closeOnBackdropClick=!0}firstUpdated(){return Mo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return ze`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Ol.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Il,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Mo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Ol.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=dt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=dt`var(--modalBackdropZindex, 1000)`,r=dt`var(--modalWidth, 32rem)`,s=dt`var(--modalMaxWidth, 95%)`,l=dt`var(--modalZindex, 2000)`;return dt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};ae([Kt({type:String,reflect:!0})],Ic.prototype,"mode",void 0);ae([Kt({type:Object})],Ic.prototype,"customModalContent",void 0);ae([Kt({type:Object})],Ic.prototype,"hostBridge",void 0);ae([on("modal-template")],Ic.prototype,"modalTemplate",void 0);Ic=ae([lr("modal-manager")],Ic)});function Rc(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function U8(e,t){let r,s=()=>{if(r)return r;let l=indexedDB.open(e);return l.onupgradeneeded=()=>l.result.createObjectStore(t),r=Rc(l),r.then(o=>{o.onclose=()=>r=void 0},()=>{}),r};return(l,o)=>s().then(c=>o(c.transaction(t,l).objectStore(t)))}function tp(){return Fv||(Fv=U8("keyval-store","keyval")),Fv}function Ek(e,t=tp()){return t("readonly",r=>Rc(r.get(e)))}function Tk(e,t,r=tp()){return r("readwrite",s=>(s.put(t,e),Rc(s.transaction)))}function Pk(e,t=tp()){return t("readwrite",r=>(r.delete(e),Rc(r.transaction)))}function V8(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Rc(e.transaction)}function $k(e=tp()){return e("readonly",t=>{if(t.getAllKeys)return Rc(t.getAllKeys());let r=[];return V8(t,s=>r.push(s.key)).then(()=>r)})}var Fv,Lk=si(()=>{});function W8(e,t){return e.setMilliseconds(e.getMilliseconds()+t*1e3),e}var Mk,zv=si(()=>{Lk();Mk=class{constructor(e){var t,r,s,l;if(this.namespace=(t=e==null?void 0:e.namespace)!==null&&t!==void 0?t:"LocalCache",this.defaultTTL=(r=e==null?void 0:e.defaultTTL)!==null&&r!==void 0?r:15*60,(!((s=e==null?void 0:e.immediateClean)!==null&&s!==void 0)||s)&&this.cleanExpired(),!(e!=null&&e.disableCleaning)){let o=(l=e==null?void 0:e.cleaningInterval)!==null&&l!==void 0?l:60;setInterval(()=>{this.cleanExpired()},o*1e3)}}set(e){return vi(this,null,function*(){var t;let r={value:e.value},s=(t=e.ttl)!==null&&t!==void 0?t:this.defaultTTL,l=W8(new Date,s);r.expires=l;let o=this.getNamespacedKey(e.key);try{yield Tk(o,r)}catch(c){}})}get(e){return vi(this,null,function*(){let t=this.getNamespacedKey(e),r;try{r=yield Ek(t)}catch(l){}if(!r)return;let s=new Date;if(r.expires&&r.expires<s){yield this.delete(e);return}return r.value})}delete(e){return vi(this,null,function*(){let t=this.getNamespacedKey(e);try{yield Pk(t)}catch(r){}})}cleanExpired(){return vi(this,null,function*(){let e=yield this.getAllKeys();yield Promise.all(e.map(t=>vi(this,null,function*(){return this.get(t)})))})}getAllKeys(){return vi(this,null,function*(){let e=[];try{e=yield $k()}catch(r){}let t=[];for(let r of e)typeof r=="string"&&t.push(r);return t.filter(r=>r.startsWith(this.namespace)).map(r=>this.removeNamespace(r))})}getNamespacedKey(e){return`${this.namespace}-${e}`}removeNamespace(e){return e.replace(`${this.namespace}-`,"")}}});var ip=si(()=>{Vl()});var q8,G8,Uv=si(()=>{xi();xi();q8=ze`
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <title id="linkTitleID">Get more information</title>
  <desc id="linkDescID">Informative icon</desc>
    <path d="m0 0h100v100h-100z" fill="#000"/>
    <path d="m49.8315487 0h.1702245c6.7356878 0 13.1853038 1.31117332 19.3488483 3.93351997 6.1635444 2.62234664 11.4854233 6.15778963 15.9656369 10.60632903 4.4802135 4.4485394 8.0478347 9.7522946 10.7028636 15.9112655 2.655029 6.1589709 3.980878 12.6038012 3.9789971 19.3344909.0567419 6.6716279-1.1702933 13.0585776-3.6811042 19.1608491-2.510811 6.1022715-6.106803 11.5206067-10.7879759 16.2550055-9.7027949 9.7522946-21.4884754 14.6851412-35.3570414 14.79854h-.1702244c-6.7333236 0-13.1829397-1.3111733-19.3488483-3.93352-6.1659087-2.6223466-11.4877876-6.1577896-15.9656369-10.606329s-8.04547055-9.7522946-10.7028637-15.9112655c-2.65739314-6.1589709-3.9844243-12.6038012-3.98254337-19.3344909-.05674149-6.6716279 1.17029325-13.0585776 3.68110421-19.1608491 2.51081095-6.1022715 6.10680292-11.5206067 10.78797586-16.2550055 9.7027949-9.75229456 21.4884754-14.68514123 35.3570414-14.79854zm12.6566146 26.4757998c1.6745578-1.6828001 2.5118367-3.6747334 2.5118367-5.9757998 0-2.4126333-.8095238-4.4324583-2.4285714-6.059475s-3.6289796-2.440525-6.0297959-2.440525c-2.4008164 0-4.4107483.8135083-6.029796 2.440525-1.6745578 1.6270167-2.5118367 3.6468417-2.5118367 6.059475 0 2.1871753.8372789 4.1791086 2.5118367 5.9757998 1.6745579 1.6828001 3.6844898 2.5242002 6.029796 2.5242002 2.3453061 0 4.3274829-.8414001 5.9465306-2.5242002zm-12.1370589 52.7776981-1.2815282-.9486968c0-.4588935.398855-1.8938272 1.196565-4.3048011l12.7338588-39-23.0745876 3.6164609.2548896 3.873251c0-.1141289.4554971-.1997256 1.3664914-.2567901.9109942 0 1.623741.1723823 2.1382404.5171468.5121392.2306356.7965299.6039323.8531721 1.1198902 0 .8607225-.6549247 3.2134431-1.9647739 7.0581619l-8.1175252 24.1061729c-1.0242785 3.2716963-1.5080967 5.5388203-1.4514546 6.8013717.0566421 1.6643804.8826732 2.9839963 2.4780932 3.9588477 1.2532071.803658 2.8769482 1.205487 4.8712231 1.205487h.5982825c1.7653464-.0570645 3.8445846-.3875629 6.2377146-.9914952 2.3931299-.6039323 4.3590839-1.3933242 5.8978617-2.3681756 1.3098493-.803658 2.3919499-1.5359853 3.2463021-2.1969821.8543521-.6609968 1.3959925-1.1341564 1.6249211-1.4194788l.3433929-.3459533-2.8214861-3.3596708-2.9914125 2.0650205c-.79771.4588935-1.5104568.7454047-2.1382404.8595337z" class="fill-color" fill-rule="nonzero"/>
</svg>
`,G8=class extends fi{static get styles(){return dt`
      :host {
        width: var(--iconWidth, 'auto');
        height: var(--iconHeight, 'auto');
      }

      .fill-color {
        fill: var(--iconFillColor);
      }

      .stroke-color {
        stroke: var(--iconStrokeColor);
      }
    `}render(){return q8}};customElements.define("ia-icon-info",G8)});function Rl(e){return vi(this,null,function*(){var m,y;let t=Rr({action:null,identifier:"",success(){},error(){}},e),r="/services/loans/loan",s=window==null?void 0:window.location,l="loan token not found. please try again later.",o="This book is not available to borrow at this time. Please try again later.",c=["browse_book","borrow_book","create_token","renew_loan","return_loan"],n=((m=s==null?void 0:s.href)==null?void 0:m.indexOf("?error=true"))!==-1&&(s==null?void 0:s.hostname)!=="archive.org",u=["localhost","internetarchive.github.io"],h=!1;u.includes(s.hostname)&&(h=!0,r=s.href);let g=new FormData;g.append("action",t.action),g.append("identifier",t.identifier);try{yield fetch(r,{method:"POST",body:g}).then(_=>vi(this,null,function*(){return n&&c.includes(t==null?void 0:t.action)?{success:!1,error:(t==null?void 0:t.action)==="create_token"?l:o}:h?(t==null?void 0:t.action)=="renew_loan"||(t==null?void 0:t.action)=="return_loan"?(yield new Promise(w=>setTimeout(w,5e3)),{success:!0,loan:{renewal:!0}}):{success:!0,message:"operation executed successfully!"}:_.json()})).then(_=>{_!=null&&_.error?t==null||t.error(_):t==null||t.success(_)})}catch(_){(y=window==null?void 0:window.Sentry)==null||y.captureException(`${es.actionsHandlerService} - Error: ${_}`)}})}function Y8(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function np(e,t,r,s,l,o){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+(r?`; expires=${r.toUTCString()}`:"")+(l?`; domain=${l}`:"")+(s?`; path=${s}`:"")+(o?"; secure":""),!0}var Fo,es,bn,Dl,jc,rp,Rk,Dk,Ok,K8,X8,Z8,Vv,J8,Q8,Wv,eE,tE,qv,iE,rE,nE,oE,Dc,Ik,aE,sE,lE,cE,Gv,uE,dE,hE,pE,fE,mE,gE,po,vE,yE,bE,wE,Ho,xE,Kv=si(()=>{xi();Hs();Hv();zv();xi();ip();Yu();xi();ip();xi();xi();xi();xi();xi();xi();xi();xi();ds();Uv();xi();xi();Fo=class Yv{static isInIframe(){var t;try{return window.self!==window.top}catch(r){return(t=window==null?void 0:window.Sentry)==null||t.captureException(r),!0}}static getRedirectUrl(){let t;return Yv.isInIframe()?t=window.top.location.href:t=window.location.href,t}static goToUrl(t,r){let s;Yv.isInIframe()&&r?s=window.top.location:s=window.location,s.href===t?s.reload():s.href=t}static isOnStreamPage(){return window.location.href.indexOf("/stream/")>-1}static getQueryParam(t){let r=window.location.search.substring(1).split("&"),s="";for(let l=0;l<r.length;l+=1)if(s=r[l].split("="),s[0]===t)return s[1];return Ai}static getBackHref(){return window.location.href.replace(/[?&]{1}(?:admin|access)=1/,"")}static formatUrl(t,r){return/^https?:/.test(r)?r:`${t}${r}`}},es={disconnectedCallback:"IABookActions:disconnectedCallback",bookHasRenewed:"IABookActions:handleLoanAutoRenewed - book has renewed for next one hour",bookRenewFailed:"IABookActions:handleLoanRenewNow - failed to renew",browseHasExpired:"IABookActions:browseHasExpired - one-hour loan has been expired",bookWasExpired:"IABookActions:setupLendingToolbarActions - book was expired at intial, no tokenPoller",clearTokenPoller:"IABookActions:startLoanTokenPoller - clearing token poller interval",clearOneHourTimer:"IABookActions:timerCountdown - one-hour timer interval cleared",bookAccessed:"IABookActions:bookAccessed",handleLoanTokenPoller:"IABookActions:handleLoanTokenPoller",setConsecutiveLoanCounts:"IABookActions:setConsecutiveLoanCounts",actionsHandlerService:"IABookActions:actionsHandlerService"},bn=location.hostname==="localhost"||location.host.match(/^(www|cat)-[a-z0-9]+\.archive\.org$/)||location.host.match(/\.code\.archive\.org$/)||location.host.match(/\.dev\.archive\.org$/)||location.host.match(/^ia-petabox-/)||location.host.match(/^internetarchive/)?console.log.bind(console):()=>{};Dl={borrow:"BookReader-ReadingBorrow",browse:"BookReader-ReadingBrowse",preview:"BookReader-Preview",satisfactionMetric:"DetailsPage-Book",bookReaderHeader:"BookReader-Header",adminAccess:"Admin-Access"},jc={browse:"Borrow-1Hour",browseAgain:"Borrow-Again",browseRenew:"BookRenew",browseReturn:"BookReturn",borrow:"Borrow-14Days",waitlistJoin:"JoinWaitlist",waitlistLeave:"LeaveWaitlist",doneBorrowing:"ReturnBook",login:"LogIn",purchase:"BWBPurchase",unavailable:"Book-Unavailable",printDisability:"Print-Disability",titleBar:"Book-Title-Bar"},rp={browseAutoRenew:"BookAutoRenew",browseAutoReturn:"BookAutoReturn",browseManualRenew:"BookManualRenew",browseManualReturn:"BookManualReturn"};Rk=class{constructor(){this.identifier=void 0,this.gaStats={}}storeLoanStatsCount(e,t=""){return vi(this,null,function*(){this.identifier=e;try{yield this.getLoanStatsCount(t),this.sendMatrixStatsEvents(t);let r=new Date;r.setHours(r.getHours()+2),yield np(this.getLoanCountStorageKey,JSON.stringify(this.lendingEventCounts),r,"/")}catch(r){bn(r),this.sendEvent("Cookies-Error-Actions",r,this.identifier)}})}getLoanStatsCount(e){return vi(this,null,function*(){var l,o,c,n,u,h,g;this.lendingEventCounts=JSON.parse(yield Y8(this.getLoanCountStorageKey)),this.gaStats=(l=this.lendingEventCounts)!=null?l:{browse:0,renew:0,expire:0};let t=(c=(o=this.lendingEventCounts)==null?void 0:o.browse)!=null?c:0,r=(u=(n=this.lendingEventCounts)==null?void 0:n.renew)!=null?u:0,s=(g=(h=this.lendingEventCounts)==null?void 0:h.expire)!=null?g:0;switch(e){case"browse":t=t?Number(t)+1:1,this.gaStats.browse=t,r=0,s=0;break;case"autorenew":r=r?Number(r)+1:1,this.gaStats.renew=r;break;case"return":s=s?Number(s)+1:1,this.gaStats.expire=s,r=0,s=0;break;default:break}this.lendingEventCounts={browse:t,renew:r,expire:s}})}sendMatrixStatsEvents(e){var s,l;let t=Dl.browse,r=`browse${this.paddedNumber((s=this.gaStats)==null?void 0:s.browse)}-autorenew${this.paddedNumber((l=this.gaStats)==null?void 0:l.renew)}:${e}`;this.sendEvent(t,r,this.identifier)}paddedNumber(e){return e?e.toString().padStart(3,"0"):"000"}get getLoanCountStorageKey(){return`br-browse-${this.identifier}`}sendEvent(e,t,r,s){var l;bn("eventCategory:-",e,"||	eventAction:-",t,"||	label:-",r,"||	extraParams:-",s),(l=window==null?void 0:window.archive_analytics)==null||l.send_event_no_sampling(e,t,r||this.identifier,s)}},Dk=class extends fi{constructor(){super(),this.waitUntillBorrowComplete=6,this.loanAnanlytics=new Rk,this.bindEvents()}bindEvents(){this.addEventListener("browseBook",()=>vi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browse")})),this.addEventListener("browseBookAgain",()=>vi(this,null,function*(){var e;this.handleBrowseIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"browseagain")})),this.addEventListener("autoRenew",t=>vi(this,[t],function*({detail:e}){var s,l;this.handleLoanRenewNow(),yield(s=this.loanAnanlytics)==null?void 0:s.storeLoanStatsCount(this.identifier,"autorenew");let r=(e==null?void 0:e.renewType)==="auto"?rp.browseAutoRenew:rp.browseManualRenew;(l=this.loanAnanlytics)==null||l.sendEvent(Dl.browse,jc.browseRenew,r,this.identifier)})),this.addEventListener("autoReturn",()=>vi(this,null,function*(){var e,t;this.handleReturnIt(),yield(e=this.loanAnanlytics)==null?void 0:e.storeLoanStatsCount(this.identifier,"autoreturn"),(t=this.loanAnanlytics)==null||t.sendEvent(Dl.browse,jc.browseReturn,rp.browseAutoReturn,this.identifier)})),this.addEventListener("returnNow",({detail:e})=>{var t,r,s;if((e==null?void 0:e.borrowType)==="browse"&&((t=this.loanAnanlytics)==null||t.storeLoanStatsCount(this.identifier,"return"),(r=this.loanAnanlytics)==null||r.sendEvent(Dl.browse,jc.browseReturn,rp.browseManualReturn,this.identifier)),this.handleReturnIt("returnNow"),(e==null?void 0:e.borrowType)==="borrow"){let{category:l,action:o}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(l,o,this.identifier)}}),this.addEventListener("borrowBook",({detail:e})=>{var s;this.handleBorrowIt();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("loginAndBorrow",({detail:e})=>{var s;this.handleLoginOk();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("leaveWaitlist",({detail:e})=>{var s;this.handleRemoveFromWaitingList();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("joinWaitlist",({detail:e})=>{var s;this.handleReserveIt();let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("purchaseBook",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)}),this.addEventListener("adminAccess",({detail:e})=>{var l;let{category:t,action:r}=e.event;(l=this.loanAnanlytics)==null||l.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!0);let s=new URL(window.location.href);s.searchParams.append("admin",1),window.location.search=s.search}),this.addEventListener("exitAdminAccess",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier),this.setStickyAdminAccess(!1)}),this.addEventListener("bookTitleBar",({detail:e})=>{var s;let{category:t,action:r}=e.event;(s=this.loanAnanlytics)==null||s.sendEvent(t,r,this.identifier)})}handleBrowseIt(){let e="browse_book";this.dispatchToggleActionGroup(),Rl({action:e,identifier:this.identifier,success:()=>{this.setBrowseTimeSession(),this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleLoanRenewNow(){let e="renew_loan";Rl({action:e,identifier:this.identifier,success:t=>{var l;bn("RENEW_LOAN --- ",t,e,t.loan,this.identifier);let r=t.loan?t.loan:void 0,s=r.renewal;r&&s?this.setBrowseTimeSession():(bn("RENEW_LOAN ERROR --- ",{action:e,isRenewal:s,activeLoan:r,data:t,id:this.identifier}),(l=window==null?void 0:window.Sentry)==null||l.captureMessage(`${es.bookRenewFailed} - Error: ${JSON.stringify(t)}`),this.dispatchActionError(e,{data:t,error:!0,message:"Loan renewal failed: no loan active."})),this.dispatchEvent(new CustomEvent("loanAutoRenewed",{detail:{action:e,data:rn(Rr({},t),{loan:r})}}))},error:t=>{this.dispatchActionError(e,t)}})}handleReturnIt(e=""){let t="return_loan";e==="returnNow"&&this.dispatchToggleActionGroup(),Rl({action:t,identifier:this.identifier,success:()=>{this.deleteLoanCookies(),e==="returnNow"&&Fo.goToUrl(this.returnUrl,!0)},error:r=>{this.dispatchActionError(t,r)}})}handleBorrowIt(){let e="borrow_book";this.dispatchToggleActionGroup(),Rl({action:e,identifier:this.identifier,success:()=>{this.handleReadItNow()},error:t=>{this.dispatchActionError(e,t)}})}handleReserveIt(){let e="join_waitlist";this.dispatchToggleActionGroup(),Rl({action:e,identifier:this.identifier,success:()=>{Fo.goToUrl(Fo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}handleRemoveFromWaitingList(){let e="leave_waitlist";this.dispatchToggleActionGroup(),Rl({action:e,identifier:this.identifier,success:()=>{Fo.goToUrl(Fo.getRedirectUrl(),!0)},error:t=>{this.dispatchActionError(e,t)}})}dispatchActionError(e,t={}){var r;(r=this.loanAnanlytics)==null||r.sendEvent("LendingServiceError",e),this.dispatchEvent(new CustomEvent("lendingActionError",{detail:{action:e,data:t}}))}dispatchToggleActionGroup(){this.dispatchEvent(new CustomEvent("toggleActionGroup"))}handleLoginOk(){let e=`/account/login?referer=${encodeURIComponent(Fo.getRedirectUrl())}`;Fo.goToUrl(e,!0)}handleReadItNow(e){let t=new URLSearchParams(window.location.search);if(e){let o=new URLSearchParams(e);for(let[c,n]of o.entries())t.append(c,n)}let r=t.toString(),s=r?`?${r}`:"",l=window.location.origin+window.location.pathname+s;setTimeout(()=>{Fo.goToUrl(l,!0)},this.waitUntillBorrowComplete*1e3)}setBrowseTimeSession(){return vi(this,null,function*(){try{let e=new Date(new Date().getTime()+this.loanTotalTime*1e3);yield this.localCache.set({key:`${this.identifier}-loanTime`,value:e,ttl:Number(this.loanTotalTime)}),yield this.localCache.delete(`${this.identifier}-pageChangedTime`)}catch(e){bn(e)}})}deleteLoanCookies(){let e=new Date;e.setTime(e.getTime()-24*60*60*1e3),np(`loan-${this.identifier}=""`,"",e,"/",".archive.org"),np(`br-loan-${this.identifier}=""`,"",e,"/",".archive.org")}setStickyAdminAccess(e){let t=window.location.hostname==="localhost"?"localhost":".archive.org";np("sticky-admin-access",e,"","/",t)}},Ok=dt`var(--white, #fff)`,K8=dt`var(--primaryDisableCTAFill, #767676)`,X8=dt`var(--secondaryCTABorder, #999)`,Z8=dt`var(--primaryCTAFill, #194880)`,Vv=dt`var(--primaryCTAFillRGB, 25, 72, 128)`,J8=dt`var(--primaryCTABorder, #c5d1df)`,Q8=dt`var(--primaryErrorCTAFill, #d9534f)`,Wv=dt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,eE=dt`var(--primaryErrorCTABorder, #d43f3a)`,tE=dt`var(--secondaryCTAFill, #333)`,qv=dt`var(--secondaryCTAFillRGB, 51, 51, 51)`,iE=dt`var(--primaryCTABorder, #979797)`,rE=dt`#ee8950`,nE=dt`#ec7939`,oE=dt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${Ok};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 1rem;
    outline-color: ${Ok};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${K8};
    border: 1px solid ${X8};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${rE}
    border-color: ${nE};
  }

  .ia-button.primary {
    background-color: ${Z8};
    border-color: ${J8};
  }
  .ia-button.primary:hover {
    background-color: rgba(${Vv}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${Vv}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${Vv}, 0.7);
  }

  .ia-button.danger {
    background-color: ${Q8};
    border-color: ${eE};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Wv}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Wv}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Wv}, 0.7);
  }

  .ia-button.dark {
    background-color: ${tE};
    border-color: ${iE};
  }
  .ia-button.dark:hover {
    background-color: rgba(${qv}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${qv}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${qv}, 0.7);
  }
`,Dc=dt`var(--white, #fff)`,Ik=dt`var(--primaryBGColor, #000)`,aE=dt`var(--iaBookActionsDropdownBGColor, #2d2d2d)`,sE=dt`
  :host {
    display: inline-flex;
    height: 3.5rem;
    padding: 1rem 0;
  }
  .actiongroup {
    display: flex;
    margin-right: 10px;
  }
  .action-buttons {
    display: inline-flex;
    align-items: center;
  }
  .action-buttons .ia-button {
    margin: 0;
    height: 3.5rem;
    padding: 0 2rem;
  }
  .action-buttons .desktop {
    background-color: ${Dc};
    border-radius: 10px;
  }
  .action-buttons .desktop.purchase {
    margin-left: 5px;
  }
  .action-buttons .mobile.purchase.dark {
    padding-left: 0;
  }
  .primary {
    background-color: ${Dc};
    margin-right: 4px;
  }
  .primary,
  .secondary {
    position: relative;
    border-radius: 5px;
  }
  .primary .initial {
    border-radius: 4px 0 0 4px;
    margin-right: 0;
  }
  .primary svg {
    vertical-align: middle;
  }

  .secondary .ia-button.purchase {
    padding: 2px 10px 2px 35px;
    position: relative;
    display: inline-block;
    vertical-align: middle;
  }
  .secondary .ia-button.exit-admin {
    background-color: ${Ik};
    border: 1px solid ${Dc};
  }

  .dropdown-content {
    position: absolute;
    min-width: 14rem;
    margin: 0;
    padding: 0;
    background: ${aE};
    border-radius: 4px;
    border: 1px solid var(--primaryCTABorder);
    top: 3.4rem;
    left: 50%;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
  }
  .dropdown-content li {
    color: ${Ik};
    list-style: none;
    height: 3rem;
  }
  .dropdown-content .ia-button {
    background: none;
    color: ${Dc};
    border: none;
    box-sizing: border-box;
    width: 100%;
    text-align: left;
    height: 3rem;
    position: relative;
    padding: 0.6rem 1.2rem;
    margin: 0;
  }
  .dropdown-content .ia-button:is(:focus-visible, :hover) {
    background: unset;
  }
  .dropdown-content li .ia-button {
    border-radius: 0;
  }
  .dropdown-content li .ia-button:hover {
    background: ${Dc};
    color: rgb(45, 45, 45);
  }
  .dropdown-content li:first-child .ia-button {
    border-radius: 0.3rem 0.3rem 0 0;
  }
  .dropdown-content li:last-child .ia-button {
    border-radius: 0;
    border-radius: 0 0 0.3rem 0.3rem;
  }
  .dropdown-content .purchase:hover svg g {
    fill: black;
  }
  .dropdown-content .purchase {
    padding-left: 35px;
    margin: 0;
  }
  .dropdown-content .purchase small {
    display: initial;
    font-size: 1.4rem;
  }

  .ia-button.down-arrow {
    border-radius: 0 0.4rem 0.4rem 0;
    padding: 0 0.6rem;
    margin-left: 0;
  }
  .actionloader {
    vertical-align: middle;
    visibility: hidden;
    padding: 0.9rem 0.2rem;
  }
  .close {
    display: none;
  }
  .open {
    display: block;
    z-index: 2;
  }
  .visible {
    display: inline-block;
  }
  .btn:hover,
  .dropdown:hover .btn {
    background-color: ${Dc};
  }
  a {
    text-decoration: none;
  }
  .purchase small {
    display: block;
    font-size: 1rem;
  }
  .purchase svg {
    position: absolute;
    left: 10px;
    top: 20%;
  }
  .unavailable {
    opacity: 0.7;
    pointer-events: none;
  }
  .disabled {
    opacity: 0.8;
    pointer-events: none;
    visibility: visible;
  }
`,lE=ze`<svg
  height="20"
  viewBox="0 0 75 75"
  width="20"
  xmlns="http://www.w3.org/2000/svg"
>
  <g fill="#fff" fill-rule="evenodd" transform="translate(0 13.736264)">
    <path
      d="m22.8463837 18.2119173c6.5756797.1478113 10.585751 1.8020104 13.0298545 3.5887422l3.9291669 17.6234408c-4.8169735 1.3742664-9.2153954 4.1561307-12.6728799 7.9003587-5.9346575-9.1046945-13.627732-14.2752618-26.92576083-19.445829l.0576431-.0724863.08436419-.1026121c1.1105031-1.331793 8.72437099-9.8023542 22.49761204-9.4916143z"
    />
    <path
      d="m74.9439846 1.1046788c-8.1318682 11.7830147-14.8351649 24.4553135-17.2527473 38.4615385-2.8571429-1.0004447-5.9340659-1.5562473-9.1208791-1.5562473-1.3812656 0-2.7625312.1317192-4.0892393.3399693l-2.9788221-18.0144913c6.444022-11.67552841 19.228784-18.40456144 32.9707606-19.20539059z"
    />
    <path
      d="m36.8571258 21.719357 3.6273911-.8052884 2.5793903 17.8073684c-.7020757.1150413-1.4041514.2300825-2.1062271.4601649z"
    />
    <path
      d="m70.1594803.55538282c-13.7069528 2.06173881-23.764449 8.35192747-29.6753948 19.07620888l-.2624906.5200262-3.7425669.8013234c-2.8059684-1.7413364-5.5070193-3.8778459-12.5979079-4.0336896-7.5995702-.1676376-12.2045639 1.9616824-16.46353768 3.7996974l.57415955-.5673312c4.03313533-3.936109 8.45564043-7.3737923 14.98104763-8.4391649 4.9512458-.776666 10.8981852.1535901 14.8163388 6.4911269.6044492-19.13367701 23.3058132-18.5735241 32.3703519-17.64819708z"
    />
  </g>
</svg>`,cE=ze`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
    fill="#fff"
  />
</svg>`,Gv=ze`<svg
  height="4"
  viewBox="0 0 8 4"
  width="8"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
    fill="#fff"
  />
</svg>`,uE=class extends Dk{static get properties(){return{userid:{type:String},identifier:{type:String},primaryActions:{type:Array},secondaryActions:{type:Array},primaryColor:{type:String},dropdownState:{type:String},width:{type:Number},hasAdminAccess:{type:Boolean},dropdownArrow:{type:String},disabled:{type:Boolean},returnUrl:{type:String},autoRenew:{type:Boolean},loanRenewType:{type:String},autoReturn:{type:Boolean},returnNow:{type:Boolean}}}constructor(){super(),this.userid="",this.identifier="",this.primaryActions=[],this.secondaryActions=[],this.primaryColor="",this.dropdownState="close",this.width=0,this.hasAdminAccess=!1,this.dropdownArrow=Gv,this.initialButton=!1,this.title="",this.loaderIcon="https://archive.org/upload/images/tree/loading.gif",this.disabled=!1,this.returnUrl="",this.autoRenew=!1,this.loanRenewType="",this.autoReturn=!1,this.returnNow=!1}updated(e){(e.has("width")||e.has("disabled"))&&this.isBelowTabletContainer&&this.resetActions(),e.has("autoRenew")&&this.autoRenew&&this.dispatchLoanEvent("autoRenew",{renewType:this.loanRenewType});let t=e.has("autoReturn")&&this.autoReturn;t&&this.dispatchLoanEvent("autoReturn"),e.has("returnNow")&&this.returnNow&&!t&&this.dispatchLoanEvent("returnNow",{borrowType:"browse"})}dispatchLoanEvent(e,t){this.dispatchEvent(new CustomEvent(e,{detail:t}))}resetActions(){this.primaryActions.length&&(this.primaryActions=this.primaryActions.concat(this.secondaryActions),this.primaryColor=this.primaryActions[0].className,this.hasAdminAccess&&this.sortActionButtonOrder(),this.secondaryActions=[])}sortActionButtonOrder(){let e=1,t=0;this.secondaryActions.length===2&&(e=2),e=this.primaryActions.length-e;let r=this.primaryActions[e],s=this.primaryActions;s.splice(e,1),s.splice(t,0,r),this.primaryActions=s}render(){return ze`
      <div
        class="${xl({actiongroup:!0,disabled:this.disabled})}"
      >
        ${this.getLoaderIcon}
        <section class="action-buttons primary">
          ${this.renderPrimaryActions}
        </section>
        <section class="action-buttons secondary">
          ${this.renderSecondaryActions}
        </section>
      </div>
    `}get renderPrimaryActions(){return this.primaryActions.length===0?Ai:(this.dropdownState==="close"&&(this.primaryColor=this.primaryActions[0].className),this.primaryActions.length===1?this.initialActionTemplate:ze`
      ${this.initialActionTemplate}
      <button
        class="ia-button ${this.primaryColor} down-arrow"
        @click=${this.toggleDropdown}
      >
        ${this.dropdownArrow}
      </button>

      <ul class="dropdown-content ${this.dropdownState}">
        ${this.getPrimaryItems}
      </ul>
    `)}get renderSecondaryActions(){return this.secondaryActions.length?this.secondaryActions.map(e=>this.renderActionButton(e)):Ai}renderActionLink(e,t=!1){return ze`<span class="${this.getDeviceType} ${e.className}">
      <a
        class="ia-button ${e.className} ${t?"initial":""}"
        href="${e.url}"
        target=${e.target}
        @click=${()=>{this.clickHandler(e.id,e.analyticsEvent,e==null?void 0:e.borrowType)}}
      >
        ${e.id==="purchaseBook"?lE:""} ${e.text}
        <small>${e.subText}</small>
      </a>
    </span>`}renderActionButton(e,t=!1){if(e.url)return this.renderActionLink(e,t);let{analyticsEvent:r}=e;return ze`<button
      class="ia-button ${e.className} ${t?"initial":""}"
      @click=${()=>{this.clickHandler(e.id,r,e==null?void 0:e.borrowType)}}
    >
      ${e.text}
    </button>`}clickHandler(e,t,r=""){if(this.dropdownState="close",this.dropdownArrow=Gv,!t||!e)return;let{category:s,action:l}=t;this.dispatchEvent(new CustomEvent(e,{detail:{event:{category:s,action:l},borrowType:r}}))}get initialActionTemplate(){return this.initialButton=!1,this.primaryActions.length>1&&(this.initialButton=!0),this.renderActionButton(this.primaryActions[0],this.initialButton)}get getPrimaryItems(){return this.primaryActions.slice(1).map(e=>ze`<li>${this.renderActionButton(e,this.initialButton)}</li>`)}get getLoaderIcon(){return ze`<img
      class="${xl({actionloader:!0,disabled:this.disabled})}"
      alt=""
      src="${this.loaderIcon}"
    />`}get isBelowTabletContainer(){return this.width<=800}get getDeviceType(){return this.isBelowTabletContainer?"mobile":"desktop"}toggleDropdown(){this.dropdownState==="open"?(this.dropdownState="close",this.dropdownArrow=Gv,this.primaryColor=this.primaryActions[0].className):(this.dropdownState="open",this.dropdownArrow=cE,this.primaryColor="dark")}static get styles(){return[oE,sE]}};window.customElements.define("collapsible-action-group",uE);dE=ze`
  <svg
    class="ia-logo"
    width="26"
    height="26"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" fill="white">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use fill="#FFFFFF" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" fill="#FFFFFF">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,hE=class extends Dk{static get properties(){return{identifier:{type:String},bookTitle:{type:String}}}constructor(){super(),this.identifier="",this.bookTitle="",this.analyticsCategories=Dl,this.analyticsActions=jc}clickHandler(){let{category:e,action:t}={category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.titleBar};this.dispatchEvent(new CustomEvent("bookTitleBar",{detail:{event:{category:e,action:t}}}))}render(){return ze`
      <a
        class="embed-link"
        @click=${()=>{this.clickHandler()}}
        href="/details/${this.identifier}"
      >
        <span>${dE}</span>
        <span class="title">${this.bookTitle}</span>
      </a>
    `}static get styles(){return dt`
      :host {
        padding: 0 10px;
        height: 3.4rem;
        display: flex;
      }
      .embed-link {
        display: inline-flex;
        align-items: center;
        text-decoration: none;
        color: var(--primaryTextColor, #fff);
        font-size: 1.4rem;
      }
      .embed-link .title {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-align: left;
        line-height: initial;
      }
      .embed-link svg {
        margin-right: 0.5rem;
        display: block;
      }
      .embed-link:hover {
        text-decoration: underline;
      }
    `}};window.customElements.define("book-title-bar",hE);pE=class extends fi{static get properties(){return{texts:{type:String},textClass:{type:String}}}constructor(){super(),this.texts="",this.textClass=""}render(){return ze`
      <span class="variable-texts ${this.textClass}">${this.texts}</span>
    `}static get styles(){return dt`
      :host {
        display: inline-block;
      }
      .variable-texts {
        margin-right: 10px;
        vertical-align: middle;
        font-size: 1.7rem;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("text-group",pE);fE=class extends fi{static get properties(){return{iconClass:{type:String}}}constructor(){super(),this.iconClass="",this.helpURL="https://help.archive.org/help/borrowing-from-the-lending-library"}render(){return ze`
      <a
        class="more-info-icon ${this.iconClass}"
        href=${this.helpURL}
        target="_blank"
        title="Get more info on borrowing from The Lending Library"
        data-event-click-tracking="BookReader|BrowsableMoreInfo"
      >
        <ia-icon-info></ia-icon-info>
      </a>
    `}get getInfoIcon(){return An`${us(this.icon)}`}static get styles(){return dt`
      ia-icon-info {
        display: inline-block;
        width: 18px;
        height: 20px;
        vertical-align: middle;
        --iconFillColor: white;
      }
      .more-info-icon img {
        width: 24px;
        height: 24px;
        vertical-align: middle;
        background: white;
      }
      .hidden {
        display: none;
      }
      .visible {
        display: inline-block;
      }
    `}};window.customElements.define("info-icon",fE);mE=class extends fi{static get properties(){return{secondsLeftOnLoan:{type:Number},displayTime:{type:Boolean}}}constructor(){super(),this.secondsLeftOnLoan=0,this.displayTime=!1}get minutesLeftOnLoan(){let e=Math.round(this.secondsLeftOnLoan);return e=Math.ceil(e/60),e<10?e=`0:0${e}`:e===60?e="1:00":e=`0:${e}`,e}get remainingTime(){let e="minute",t=this.minutesLeftOnLoan;return t!==1?`${t} ${e}s`:`${t} ${e}`}render(){let e=this.displayTime?"view":"hide";return ze`
      <button
        id="timer-counter"
        class=${e}
        @click=${()=>{this.displayTime=!this.displayTime}}
        role="timer"
      >
        <span>${this.minutesLeftOnLoan} - </span>
        <span class="second">${Number(this.secondsLeftOnLoan)}</span>
        <span class="sr-only">${this.remainingTime} left</span>
      </button>
    `}static get styles(){return dt`
      :host {
        right: 0;
        margin-right: 10px;
        position: absolute;
      }

      .sr-only {
        position: absolute;
        left: -9999px;
        width: 1px;
        height: 1px;
        margin: 0;
        padding: 0;
        border: none;
        overflow: hidden;
      }

      button#timer-counter {
        cursor: pointer;
      }

      .hide {
        opacity: 0;
      }

      .show {
        opacity: 1;
      }
    `}};window.customElements.define("timer-countdown",mE);window.IALendingIntervals={tokenPoller:0,timerCountdown:0,browseExpireTimeout:0,clearTokenPoller:()=>{window.clearInterval(window.IALendingIntervals.tokenPoller),window.IALendingIntervals.tokenPoller=0},clearTimerCountdown:()=>{window.clearInterval(window.IALendingIntervals.timerCountdown),window.IALendingIntervals.timerCountdown=0},clearBrowseExpireTimeout:()=>{window.clearTimeout(window.IALendingIntervals.browseExpireTimeout),window.IALendingIntervals.browseExpireTimeout=0},clearAll:()=>{var e,t,r;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller(),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown(),(r=window==null?void 0:window.IALendingIntervals)==null||r.clearBrowseExpireTimeout()}};gE=class{constructor(e,t,r={},s){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=s,this.printDisabilityLink="/details/printdisabled?tab=about",this.analyticsCategories=Dl,this.analyticsActions=jc}firstBrowseConfig(){return{id:"browseBook",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.browse}}}browseAgainConfig(){return{id:"browseBookAgain",text:"Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.browse,action:this.analyticsActions.browseAgain}}}returnBookConfig(){return{id:"returnNow",text:"Return now",className:"danger",analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.borrow,action:this.analyticsActions.doneBorrowing},borrowType:this.lendingStatus.user_has_browsed?"browse":"borrow"}}borrowBookConfig(e=!1){return!this.lendingStatus.available_to_borrow&&!this.lendingStatus.user_is_printdisabled||this.lendingStatus.user_has_borrowed?null:{id:"borrowBook",text:"Borrow for 14 days",className:"primary",disabled:e,analyticsEvent:{category:this.lendingStatus.user_has_browsed?this.analyticsCategories.browse:this.analyticsCategories.preview,action:this.analyticsActions.borrow}}}loginAndBorrowBookConfig(){return{id:"loginAndBorrow",text:"Log In and Borrow",className:"primary",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}leaveWaitlistConfig(){return{id:"leaveWaitlist",text:"Leave Waitlist",className:"dark",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistLeave}}}loginAndWaitlistConfig(){return{id:"loginAndWaitlist",text:"Log In and Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.login}}}waitlistConfig(){let e=!!this.userid,t=this.lendingStatus||{};return!t.available_to_waitlist||t.available_to_borrow?null:e?{id:"joinWaitlist",text:"Join Waitlist",className:"warning",analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.waitlistJoin}}:this.loginAndWaitlistConfig()}purchaseConfig(){return this.bwbPurchaseUrl?{id:"purchaseBook",text:"Purchase at ",subText:"Better World Books",title:"Purchase",url:this.bwbPurchaseUrl,target:"_blank",className:"purchase dark",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.purchase}}:null}printDisabilityConfig(){return this.lendingStatus.user_is_printdisabled?null:{id:"printDisability",text:"Print Disability Access",title:"Print Disability Access",url:this.printDisabilityLink,target:"_self",className:"print-disability",analyticsEvent:{category:this.analyticsCategories.bookReaderHeader,action:this.analyticsActions.printDisability}}}adminAccessConfig(){return this.lendingStatus.user_has_borrowed||!this.lendingStatus.isAdmin?null:{id:"adminAccess",text:"Admin Access",title:"You have administrative privileges to read this book",className:"danger",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.borrow}}}adminOrPrintDisabledExitConfig(){return{id:"exitAdminAccess",text:`\u2190 Exit ${Fo.getQueryParam("admin")==="1"?"admin":"print-disabled"} access mode`,url:Fo.getBackHref(),target:"_self",className:"exit-admin",analyticsEvent:{category:this.analyticsCategories.adminAccess,action:this.analyticsActions.doneBorrowing}}}unavailableBookConfig(){return{id:"borrowUnavailable",text:"Borrow Unavailable",className:"primary unavailable",disabled:!0,analyticsEvent:{category:this.analyticsCategories.preview,action:this.analyticsActions.unavailable}}}isEmbed(e){return{primaryTitle:`<img src=/images/glogo-jw.png> <a href=/details/${this.identifier}>${e}</a>`,primaryActions:[],primaryColor:""}}},po={available_1hr:"Renews automatically with continued use.",available_14d:"This book can be borrowed for 14 days.",available_pd:"Book available to patrons with print disabilities.",available_waitlist:"A waitlist is available.",admin_access:"You have administrative privileges to read this book.",claim_waitlist:"You are at the top of the waitlist for this book.",being_borrowed:"Another patron is using this book. Please check back later.",eligible_pd:"You are eligible for print-disabled access.",on_waitlist:"You are on the waitlist for this book.",session_expired:"Renews automatically with continued use.",unavailable:"This book is not available at this time."},vE=class{constructor(e,t,r,s){this.userid=e,this.identifier=t,this.lendingStatus=r,this.bwbPurchaseUrl=s,this.analyticsCategories=Dl,this.analyticsActions=jc,this.actionsConfig=new gE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl)}onlyAdminAction(){return{primaryTitle:po.admin_access,primaryActions:[],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}adminOrPrintDisabledReadingAction(){return{primaryTitle:"",primaryActions:[],secondaryActions:[this.actionsConfig.adminOrPrintDisabledExitConfig()],borrowType:"adminBorrowed"}}patronIsReadingAction(){let e=this.lendingStatus||{},t=e.loanCount>=e.maxLoans,r="",s=e.user_has_browsed&&!e.browsingExpired;return s?r=po.available_1hr:r=`Your loan of this book has ${e.daysLeftOnLoan} days left.`,{primaryTitle:r,primaryActions:[this.actionsConfig.returnBookConfig(),this.actionsConfig.borrowBookConfig(t),this.actionsConfig.waitlistConfig(),this.actionsConfig.printDisabilityConfig()],primaryColor:"danger",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()],borrowType:s?"browsed":"borrowed"}}claimWaitlistAction(){let e=this.lendingStatus||{},t=this.actionsConfig.leaveWaitlistConfig(),r=this.actionsConfig.borrowBookConfig(),s=e.available_to_browse?this.actionsConfig.firstBrowseConfig():null,l=[r];return s&&l.push(s),l.push(t),{primaryTitle:po.claim_waitlist,primaryActions:l,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowPrintDisabledAction(){return{primaryTitle:po.eligible_pd,primaryActions:[this.actionsConfig.borrowBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}onlyPrintDisabledAction(){let e=this.lendingStatus.isAdmin?[]:this.actionsConfig.unavailableBookConfig();return{primaryTitle:po.available_pd,primaryActions:[e],primaryColor:"primary",secondaryActions:[]}}onWaitlistAction(){return{primaryTitle:po.on_waitlist,primaryActions:[this.actionsConfig.leaveWaitlistConfig(),this.actionsConfig.firstBrowseConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}restrictedAction(){let e=this.lendingStatus||{};return{primaryTitle:e.max_browsable_copies&&!e.available_lendable_copies?po.being_borrowed:po.unavailable,primaryActions:[this.actionsConfig.unavailableBookConfig()],primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}loggedOutOptions(){let e=this.lendingStatus||{},t=!e.available_to_waitlist&&!e.available_to_borrow,r=this.actionsConfig.waitlistConfig(),s=null;e.available_to_borrow||e.available_to_browse?s=this.actionsConfig.loginAndBorrowBookConfig():t&&(s=this.actionsConfig.unavailableBookConfig());let l=this.actionsConfig.printDisabilityConfig(),o=[s,r,l].filter(c=>c!==null);return{primaryTitle:e.available_to_browse?po.available_1hr:e.available_to_borrow?po.available_14d:po.unavailable,primaryActions:o,primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrow1HrAction(){let e=this.lendingStatus||{},t=!e.available_to_browse&&e.browsingExpired,r=e.available_to_browse||t,s=r&&e.available_to_borrow,l=r&&!e.available_to_borrow&&e.available_to_waitlist,o=r&&!e.available_to_borrow&&!e.available_to_waitlist,c=e.available_browsable_copies<1&&e.available_browsable_copies<e.max_browsable_copies,n=t?po.session_expired:!r&&c?po.being_borrowed:!r&&e.available_to_waitlist?po.available_waitlist:po.available_1hr,u=t?this.actionsConfig.browseAgainConfig():this.actionsConfig.firstBrowseConfig(),h=this.actionsConfig.borrowBookConfig(),g=this.actionsConfig.waitlistConfig(),m=this.actionsConfig.printDisabilityConfig();return{primaryTitle:n,primaryActions:o?[u,m]:s?[u,h,m]:l?[u,g,m]:[],primaryColor:"primary",footer:"printDisabilityLine()",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}borrowAction(){let e=this.lendingStatus||{};if(!this.userid)return this.loggedOutOptions();if(e.available_to_browse||e.browsingExpired)return this.borrow1HrAction();let t=null,r=this.actionsConfig.waitlistConfig(),s=this.actionsConfig.printDisabilityConfig(),l=e.loanCount>=e.maxLoans;!e.available_to_borrow&&!r?t=this.actionsConfig.unavailableBookConfig():e.available_to_borrow&&(t=this.actionsConfig.borrowBookConfig(l));let o=[t,r,s].filter(function(c){return c!==null});return{primaryTitle:r?po.being_borrowed:"",primaryActions:o,primaryColor:"primary",secondaryActions:[this.actionsConfig.adminAccessConfig(),this.actionsConfig.purchaseConfig()]}}getBrowseCountdownTitle(){let e=this.lendingStatus.secondsLeftOnLoan;var t=new Date(+new Date+e*1e3),r=t.getHours()%12,s=(""+t.getMinutes()).replace(/^(\d{1})$/,"0$1"),l=t.getHours()>11?" PM":" AM";return r===0&&(r=12),"Borrow ends at "+r+":"+s+l}getCurrentLendingActions(){let e,t=this.lendingStatus||{},r=Fo.getQueryParam("admin")=="1"&&t.isAdmin,s=Fo.getQueryParam("access")=="1"&&t.user_is_printdisabled,l=t.user_has_borrowed||t.user_has_browsed&&!t.browsingExpired,o=!t.user_has_borrowed&&!t.user_has_browsed,c=!t.available_to_borrow&&!t.available_to_browse,n=t.is_printdisabled&&t.user_is_printdisabled,u=(t.available_to_browse||t.available_to_borrow)&&o&&!t.user_on_waitlist;return r||s?e=this.adminOrPrintDisabledReadingAction():t.isAdmin&&o&&c?e=this.onlyAdminAction():l?e=this.patronIsReadingAction():t.user_can_claim_waitlist?e=this.claimWaitlistAction():n?e=this.borrowPrintDisabledAction():u||t.browsingExpired?e=this.borrowAction():t.isPrintDisabledOnly?e=this.onlyPrintDisabledAction():t.user_on_waitlist?e=this.onWaitlistAction():e=this.restrictedAction(),e}},yE=class{constructor(e,t,r,s,l){this.identifier=e,this.borrowType=t,this.successCallback=r,this.errorCallback=s,this.pollerDelay=l,this.loanTokenInterval=void 0,this.loanAnalytics=new Rk,this.bookAccessed()}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearTokenPoller()}bookAccessed(){return vi(this,null,function*(){var e;this.borrowType?(this.handleLoanTokenPoller(!0),this.borrowType!=="adminBorrowed"&&(window.IALendingIntervals.tokenPoller=setInterval(()=>{this.handleLoanTokenPoller()},this.pollerDelay*1e3))):((e=window==null?void 0:window.Sentry)==null||e.captureMessage(`${es.bookAccessed} - not borrowed`),this.disconnectedCallback())})}handleLoanTokenPoller(e=!1){return vi(this,null,function*(){let t="create_token";Rl({identifier:this.identifier,action:t,error:r=>{var s,l;this.errorCallback({detail:{action:t,data:r}}),(s=window==null?void 0:window.Sentry)==null||s.captureMessage(`${es.handleLoanTokenPoller} - Error: ${JSON.stringify(r)}`),(l=this.loanAnalytics)==null||l.sendEvent("LendingServiceLoanError",t,this.identifier)},success:()=>{e&&this.successCallback()}})})}},bE=class{constructor(e,t,r,s){this.hasPageChanged=e,this.identifier=t,this.localCache=r,this.loanRenewTimeConfig=s,this.loanRenewMessage="This book has been renewed for #time #unitsOfTime.",this.loanReturnWarning="With no action, this book will be auto-returned in #time #unitsOfTime.",this.result={texts:null,renewNow:!1,renewType:""}}handleLoanRenew(){try{return this.hasPageChanged?this.pageChanged():this.autoChecker()}catch(e){bn(e)}return Ai}pageChanged(){return vi(this,null,function*(){let{loanRenewAtLast:e}=this.loanRenewTimeConfig,t=new Date,r=yield this.localCache.get(`${this.identifier}-loanTime`),s=this.changeTime(r,e,"sub");return s!==null&&t>=s&&(this.result={texts:this.loanRenewMessage,renewNow:!0,renewType:"auto"}),this.setPageChangedTime(),this.result})}autoChecker(){return vi(this,null,function*(){let{pageChangedInLast:e}=this.loanRenewTimeConfig,t=yield this.localCache.get(`${this.identifier}-pageChangedTime`),r=this.changeTime(new Date,e,"sub");return t===void 0||t<=r?this.result={texts:this.loanReturnWarning,renewNow:!1,renewType:""}:t>=r&&(this.result={texts:"",renewNow:!0,renewType:"auto"}),this.result})}setPageChangedTime(){return vi(this,null,function*(){yield this.localCache.set({key:`${this.identifier}-pageChangedTime`,value:new Date,ttl:Number(this.loanRenewTimeConfig.loanTotalTime)})})}getMessageTexts(e,t){let r="minute",s=e,l=t;return l=Math.ceil(l/60),l>59&&(l=1,r="hour"),s=s==null?void 0:s.replace(/#time/,l),s==null?void 0:s.replace(/#unitsOfTime/,l!==1?`${r}s`:r)}changeTime(e,t,r){return e===void 0?null:r==="sub"?new Date(e.getTime()-t*1e3):new Date(e.getTime()+t*1e3)}},wE={browseExpired:"IABookReader:BrowsingHasExpired"},Ho={iaButton:"min-height:3.5rem;cursor:pointer;color:white;border-radius:0.4rem;border:1px solid #c5d1df;padding:4px 8px;width:auto;user-select:none;",renew:"background:#194880;width:110px;",return:"background:#d9534f;width:120px;",loaderIcon:"display:inline-block;width:20px;height:20px;margin-top:2px;color:white;--activityIndicatorLoadingRingColor:#fff;--activityIndicatorLoadingDotColor:#fff;",refresh:"background:none;font-size:inherit;border:0;padding:0;color:#0000ee;cursor:pointer;text-decoration:underline"},xE=class extends fi{static get properties(){return{userid:{type:String},identifier:{type:String},bookTitle:{type:String},lendingStatus:{type:Object},returnUrl:{type:String},width:{type:Number},bwbPurchaseUrl:{type:String},lendingBarPostInit:{type:Function,attribute:!1},barType:{type:String},sharedObserver:{attribute:!1},disableActionGroup:{type:Boolean},modal:{Object},tokenDelay:{type:Number},timerExecutionSeconds:{type:Number},localCache:{type:Object},loanRenewTimeConfig:{type:Object},loanRenewResult:{type:Object}}}constructor(){super(),this.userid="",this.identifier="",this.bookTitle="",this.returnUrl="",this.lendingStatus={},this.width=0,this.bwbPurchaseUrl="",this.lendingBarPostInit=()=>{},this.barType="action",this.sharedObserver=void 0,this.disableActionGroup=!1,this.tokenDelay=120,this.timerExecutionSeconds=30,this.postInitComplete=!1,this.primaryActions=[],this.primaryTitle="",this.primaryColor="primary",this.secondaryActions=[],this.lendingOptions={},this.borrowType=null,this.browseTimer=void 0,this.timeWhenTimerStart=void 0,this.returnNow=!1,this.loanRenewTimeConfig={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900},this.loanRenewResult={texts:"",renewNow:!1,secondsLeft:0,renewType:""}}disconnectedCallback(){var e;(e=window==null?void 0:window.IALendingIntervals)==null||e.clearAll(),this.sentryCaptureMsg(es.disconnectedCallback),this.disconnectResizeObserver()}sentryCaptureMsg(e){var t;bn(window==null?void 0:window.Sentry),(t=window==null?void 0:window.Sentry)==null||t.captureMessage(e)}firstUpdated(){this.bindLoanRenewEvents(),this.localCache=new Mk({namespace:"loanRenew"}),this.sharedObserver||(this.sharedObserver=new Do,this.setupResizeObserver())}updated(e){(e.has("lendingStatus")||e.has("bwbPurchaseUrl"))&&this.setupLendingToolbarActions(),e.has("sharedObserver")&&(this.disconnectResizeObserver(),this.setupResizeObserver()),e.has("loanRenewResult")&&this.loanRenewResult.renewNow&&window.IALendingIntervals.clearAll()}handleResize(e){let{target:t}=e;if(t!==this.shadowRoot.host)return;let{contentRect:r}=e;this.width=Math.round(r.width)}disconnectResizeObserver(){var e;(e=this.sharedObserver)==null||e.removeObserver({handler:this,target:this.shadowRoot.host})}setupResizeObserver(){var e;this.shadowRoot&&((e=this.sharedObserver)==null||e.addObserver({handler:this,target:this.shadowRoot.host}))}setupLendingToolbarActions(){return vi(this,null,function*(){var r,s,l,o;this.lendingOptions=new vE(this.userid,this.identifier,this.lendingStatus,this.bwbPurchaseUrl);let e=this.lendingOptions.getCurrentLendingActions();if(!e)return;this.primaryTitle=e.primaryTitle,this.primaryActions=(r=e.primaryActions)==null?void 0:r.filter(c=>c!=null),this.primaryColor=e.primaryColor,this.secondaryActions=(s=e.secondaryActions)==null?void 0:s.filter(c=>c!=null),this.borrowType=e.borrowType?e.borrowType:null;let t="browsingExpired"in this.lendingStatus&&((l=this.lendingStatus)==null?void 0:l.browsingExpired);if(t){bn("setupLendingToolbarActions > hasExpired --- "),this.tokenPoller||this.sentryCaptureMsg(es.bookWasExpired),(o=window==null?void 0:window.IALendingIntervals)==null||o.clearAll(),this.dispatchEvent(new Event(wE.browseExpired,{bubbles:!0,cancelable:!1,composed:!0}));return}if(this.borrowType==="browsed"&&(yield this.startTimerCountdown(),yield this.startBrowseTimer()),!this.borrowType||this.barType==="title"){this.lendingBarPostInit();return}setTimeout(()=>{!t&&!window.IALendingIntervals.tokenPoller&&this.startLoanTokenPoller()},100),this.requestUpdate()})}bindLoanRenewEvents(){window.addEventListener("BookReader:userAction",()=>{bn("IABookActions:BookReader:userAction"),this.borrowType==="browsed"&&this.autoLoanRenewChecker(!0)}),document.addEventListener("visibilitychange",()=>vi(this,null,function*(){if(!document.hidden&&(bn("visibilitychange event execute:------------------ ",new Date().getMinutes(),new Date().getSeconds(),this.borrowType),this.borrowType==="browsed"&&this.lendingStatus.browsingExpired===!1)){let e=yield this.localCache.get(`${this.identifier}-loanTime`),t=Math.round((e-new Date)/1e3);t>=this.timerExecutionSeconds?this.loanStatusCheckInterval(Number(t)):(this.browseHasExpired(),this.disconnectedCallback())}}))}autoLoanRenewChecker(e=!1){return vi(this,null,function*(){this.loanRenewHelper=new bE(e,this.identifier,this.localCache,this.loanRenewTimeConfig),yield this.loanRenewHelper.handleLoanRenew(),this.loanRenewResult=this.loanRenewHelper.result})}get modal(){let e=document.body.querySelector("modal-manager");return e==null||e.setAttribute("id","action-bar-modal"),e}showWarningModal(){return vi(this,null,function*(){var s,l,o;bn("****** showWarningModal ******"),this.modal.customModalContent=Ai,(s=this.modal)==null||s.closeModal(),this.loanRenewResult={texts:"",renewNow:!1};let{secondsLeft:e}=this.loanRenewResult;e===void 0?e=this.lendingStatus.secondsLeftOnLoan:e=e>60?e:60;let t=new Il({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,e)}),r=ze`<br />
      <div
        id="book-action-bar-custom-buttons"
        style="display:flex;justify-content:center;"
      >
        <button
          style="${Ho.iaButton} ${Ho.renew}"
          @click=${()=>this.patronWantsToRenewBook()}
        >
          Keep reading
        </button>
        <button
          style="${Ho.iaButton} ${Ho.return}"
          @click=${()=>this.patronWantsToReturnBook()}
        >
          Return the book
        </button>
      </div> `;this.modal.setAttribute("aria-live","assertive"),yield(o=this.modal)==null?void 0:o.showModal({config:t,customModalContent:r})})}showWarningDisabledModal(e="renewBook"){return vi(this,null,function*(){var l,o;let{secondsLeft:t}=this.loanRenewResult;t===void 0?t=this.lendingStatus.secondsLeftOnLoan:t=t>60?t:60;let r=new Il({headline:"Are you still reading?",headerColor:"#194880",showCloseButton:!1,closeOnBackdropClick:!1,message:(l=this.loanRenewHelper)==null?void 0:l.getMessageTexts(this.loanRenewResult.texts,t)}),s=ze`<br />
      <div
        id="disabled-book-action-bar-custom-buttons"
        style="display:flex;justify-content:center; opacity:0.8; pointer-events:none;"
      >
        <button
          disabled
          style="${Ho.iaButton} ${Ho.renew}"
        >
          ${e==="renewBook"?ze`<ia-activity-indicator
                mode="processing"
                style=${Ho.loaderIcon}
              ></ia-activity-indicator>`:"Keep reading"}
        </button>
        <span
          style="position: absolute; visibility: none; height: 1px; width: 1px; overflow: hidden;"
          >Renewing loan, one moment please.</span
        >
        <button
          disabled
          style="${Ho.iaButton} ${Ho.return}"
        >
          ${e==="returnBook"?ze`<ia-activity-indicator
                mode="processing"
                style=${Ho.loaderIcon}
              ></ia-activity-indicator>`:"Return the book"}
        </button>
      </div> `;yield(o=this.modal)==null?void 0:o.showModal({config:r,customModalContent:s})})}patronWantsToRenewBook(){return vi(this,null,function*(){this.showWarningDisabledModal(),this.loanRenewResult={texts:"",renewNow:!0,renewType:"manual"}})}patronWantsToReturnBook(){return vi(this,null,function*(){this.showWarningDisabledModal("returnBook"),document.querySelector("ia-book-actions").disableActionGroup=!0,this.returnNow=!0})}showExpiredModal(){return vi(this,null,function*(){var r;let e=new Il({headline:"",showCloseButton:!1,closeOnBackdropClick:!1,headerColor:"#194880",message:"This book has been returned due to inactivity."}),t=ze`<br />
      <div style="text-align: center">
        <button
          style="${Ho.iaButton} ${Ho.renew}"
          @click=${()=>{Fo.goToUrl(this.returnUrl,!0)}}
        >
          Okay
        </button>
      </div> `;yield(r=this.modal)==null?void 0:r.showModal({config:e,customModalContent:t})})}browseHasExpired(){return vi(this,null,function*(){var t;bn("BrowseHasExpired ---"),(t=window==null?void 0:window.IALendingIntervals)==null||t.clearAll();let e=rn(Rr({},this.lendingStatus),{browsingExpired:!0,secondsLeftOnLoan:0});this.lendingStatus=e,yield this.localCache.delete(`${this.identifier}-loanTime`),yield this.localCache.delete(`${this.identifier}-pageChangedTime`),this.loanRenewResult.renewNow=!1,this.loanRenewResult.texts="This book has been returned due to inactivity.",yield this.showExpiredModal(),this.sentryCaptureMsg(es.browseHasExpired)})}startBrowseTimer(){return vi(this,null,function*(){var s;(s=window==null?void 0:window.IALendingIntervals)==null||s.clearBrowseExpireTimeout();let{browsingExpired:e,user_has_browsed:t,secondsLeftOnLoan:r}=this.lendingStatus;if(!t||e){bn("startBrowseTimer --- !user_has_browsed || browsingExpired",{user_has_browsed:t,browsingExpired:e,secondsLeftOnLoan:r});return}window.IALendingIntervals.browseExpireTimeout=setTimeout(()=>{bn("startBrowseTimer > browseExpireTimeout --- will expire loan",r),this.browseHasExpired()},r*1e3)})}render(){return this.barType==="title"?ze`<section class="lending-wrapper">
        ${this.bookTitleBar}
      </section>`:ze`<section class="lending-wrapper">
      ${this.bookActionBar}
    </section>`}get bookTitleBar(){return ze`<book-title-bar
      .identifier=${this.identifier}
      .bookTitle=${this.bookTitle}
    ></book-title-bar>`}get timerCountdownEl(){return this.shadowRoot.querySelector("timer-countdown")}get bookActionBar(){return ze`
      <collapsible-action-group
        .userid=${this.userid}
        .identifier=${this.identifier}
        .primaryColor=${this.primaryColor}
        .primaryActions=${this.primaryActions}
        .secondaryActions=${this.secondaryActions}
        .width=${this.width}
        .borrowType=${this.borrowType}
        .returnUrl=${this.returnUrl}
        .localCache=${this.localCache}
        .loanTotalTime=${this.loanRenewTimeConfig.loanTotalTime}
        .loanRenewType=${this.loanRenewResult.renewType}
        ?hasAdminAccess=${this.hasAdminAccess}
        ?disabled=${this.disableActionGroup}
        ?autoRenew=${this.loanRenewResult.renewNow}
        ?autoReturn=${this.lendingStatus.browsingExpired}
        ?returnNow=${this.returnNow}
        @loanAutoRenewed=${this.handleLoanAutoRenewed}
        @lendingActionError=${this.handleLendingActionError}
        @toggleActionGroup=${this.handleToggleActionGroup}
      >
      </collapsible-action-group>
      ${this.textGroupTemplate} ${this.infoIconTemplate}
      <timer-countdown
        .secondsLeftOnLoan=${Math.round(Number(this.lendingStatus.secondsLeftOnLoan))}
      ></timer-countdown>
    `}handleLoanAutoRenewed(t){return vi(this,arguments,function*({detail:e}){var l,o,c;let r=(l=e==null?void 0:e.data)==null?void 0:l.loan,s=`Whoops, seems we hit a hiccup with renewing this book. Please refresh & retry. --- (Debug: ${(o=e==null?void 0:e.data)==null?void 0:o.error})`;if(!r){this.showErrorModal(s,"handleLoanAutoRenewed");return}if(this.loanRenewResult.renewNow){let n=yield this.localCache.get(`${this.identifier}-loanTime`),u=Math.round((n-new Date)/1e3);bn(n,u),bn("IABookActions: handleLoanAutoRenewed --- ",{ajaxResponse:e==null?void 0:e.data,loanRenewResult:this.loanRenewResult,secondsLeftOnLoan:u});let h=rn(Rr({},this.lendingStatus),{user_has_browsed:!0,browsingExpired:!1,secondsLeftOnLoan:u});this.lendingStatus=h,(c=this.modal)==null||c.closeModal(),this.modal.removeAttribute("id"),this.modal.customModalContent=Ai,this.sentryCaptureMsg(es.bookHasRenewed)}})}startTimerCountdown(){return vi(this,null,function*(){var t;(t=window==null?void 0:window.IALendingIntervals)==null||t.clearTimerCountdown();let e=Number(this.lendingStatus.secondsLeftOnLoan);this.timeWhenTimerStart=new Date,window.IALendingIntervals.timerCountdown=setInterval(()=>vi(this,null,function*(){yield this.loanStatusCheckInterval(e)}),this.timerExecutionSeconds*1e3)})}loanStatusCheckInterval(e){return vi(this,null,function*(){let t=e;t-=this.timerExecutionSeconds,t=Math.round(t);let r=yield this.reSyncTimerIfGoneOff(t);r.hasSynced&&(t=r.whatShouldLeft,bn("startTimerCountdown --- stale, timer has resyncd",{secondsLeft:t})),bn("startTimerCountdown --- countdown still valid. continue...",{resyncd:r,secondsLeft:t,loanRenewAtLast:this.loanRenewTimeConfig.loanRenewAtLast},"time: ",new Date().getMinutes(),":",new Date().getSeconds(),", timerDelay: ",this.timerExecutionSeconds),t<=this.loanRenewTimeConfig.loanRenewAtLast&&(yield this.loanRenewAttempt(t)),t<=this.timerExecutionSeconds&&(this.disconnectedCallback(),this.sentryCaptureMsg(es.clearOneHourTimer))})}reSyncTimerIfGoneOff(e){return vi(this,null,function*(){let t=new Date,r=t.getTime()/1e3-this.timeWhenTimerStart.getTime()/1e3,s=this.lendingStatus.secondsLeftOnLoan-r;bn("currentTime: ",t),bn("timeWhenTimerStart: ",this.timeWhenTimerStart),bn("diffInSeconds: ",r),bn("secondsShouldLeft: ",s),bn("this.lendingStatus.secondsLeftOnLoan: ",this.lendingStatus.secondsLeftOnLoan);let l=Math.round(e),o=Math.round(s),c=this.timerCountdownEl.secondsLeftOnLoan||0;if(bn("reSyncTimerIfGoneOff?",{whatIsleft:l,whatShouldLeft:o,timerElSeconds:c,timeLeftInMin:Math.ceil(e/60)}),c!==o||l!==o){let n=rn(Rr({},this.lendingStatus),{secondsLeftOnLoan:o});this.lendingStatus=n}return l!==o?(bn("reSyncTimerIfGoneOff --- let's re-sync."),{hasSynced:!0,whatShouldLeft:o}):{hasSynced:!1,whatShouldLeft:o}})}loanRenewAttempt(e){return vi(this,null,function*(){bn("loanRenewAttempt ---",{secondsLeft:e,loanRenewResult:this.loanRenewResult});let t=e;if(t<50){bn("loanRenewAttempt --- loanSecondsLeft < 50, will expire"),yield this.browseHasExpired();return}yield this.autoLoanRenewChecker(!1),this.loanRenewResult.renewNow===!1&&(t-=60,this.loanRenewResult.secondsLeft=t,this.showWarningModal())})}startLoanTokenPoller(){let e=()=>{this.postInitComplete||this.lendingBarPostInit(),this.postInitComplete=!0},t=r=>{this.handleLendingActionError(r)};this.tokenPoller=new yE(this.identifier,this.borrowType,e,t,this.tokenDelay)}handleToggleActionGroup(){this.disableActionGroup=!this.disableActionGroup}handleLendingActionError(e){var s,l,o,c;this.disableActionGroup=!1,(s=window==null?void 0:window.IALendingIntervals)==null||s.clearAll();let t=(l=e==null?void 0:e.detail)==null?void 0:l.action,r=(c=(o=e==null?void 0:e.detail)==null?void 0:o.data)==null?void 0:c.error;if(r&&t!=="create_token"&&this.showErrorModal(r,t),t==="create_token"){let n=rn(Rr({},this.lendingStatus),{user_has_browsed:!1,available_to_browse:!0});this.lendingStatus=n}if(r&&r.match(/not available to borrow/gm)){let n=this.lendingStatus;t==="browse_book"?n=rn(Rr({},this.lendingStatus),{available_to_browse:!1}):t==="borrow_book"&&(n=rn(Rr({},this.lendingStatus),{available_to_borrow:!1})),this.lendingStatus=n}}showErrorModal(e,t){return vi(this,null,function*(){var s;let r=new Il({title:"Lending error",message:e,headerColor:"#d9534f",showCloseButton:!0});if(t==="create_token"){let l=ze`<button
        style="${Ho.refresh}"
        @click=${()=>window.location.reload(!0)}
      >
        refresh
      </button>`;r.message=ze` Uh oh, something went wrong trying to access
        this book.<br />
        Please ${l} to try again or send us an email to
        <a
          href="mailto:info@archive.org?subject=Help: cannot access my borrowed book: ${this.identifier}"
          >info@archive.org</a
        ><br /><br />
        <code>errorLog: ${e}</code>`}yield(s=this.modal)==null?void 0:s.showModal({config:r})})}get iconClass(){return this.width<=700?"mobile":"desktop"}get textClass(){return this.width>=700?"visible":"hidden"}get infoIconTemplate(){return ze`<info-icon iconClass=${this.iconClass}></info-icon>`}get textGroupTemplate(){return this.primaryTitle?ze`<text-group
          textClass=${this.textClass}
          .texts=${this.primaryTitle}
        >
        </text-group>`:Ai}get hasAdminAccess(){return!this.lendingStatus.userHasBorrowed&&this.lendingStatus.isAdmin}static get styles(){return dt`
      :host {
        display: block;
      }

      .hide {
        display: none;
      }

      .lending-wrapper {
        width: 100%;
        margin: 0 auto;
        background: var(--primaryBGColor, #000);
        color: var(--primaryTextColor, #fff);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
      }
    `}};window.customElements.define("ia-book-actions",xE)});var jk=si(()=>{xi();Hs();Hv();zv();ip();ds();Uv();Yu();Kv();Kv()});var Nk={};Fn(Nk,{IaBookTheater:()=>op});var op,Bk=si(()=>{Eg();Id();Oo();jk();Vi("** ia-book-actions loaded 1.4.1 **");op=class extends fi{static get properties(){return{item:{type:Object},baseHost:{type:String},signedIn:{converter:t=>t==="false"?null:t==="true"||t===!0},viewportInFullscreen:{type:Boolean,reflect:!0},sharedObserver:{attribute:!1},manifest:{type:Object}}}constructor(){super(),this.item=void 0,this.baseHost="",this.signedIn=null,this.viewportInFullscreen=!1,this.sharedObserver=void 0,this.manifest=null,this.actionBarHeightPx=0,this.primaryReaderHeightPx=0}firstUpdated(){var r;let t=(r=document.querySelector(".js-ia-metadata"))==null?void 0:r.value;t&&(this.item=JSON.parse(t)),this.loadObserver()}get modal(){return document.querySelector("modal-manager")}get itemNav(){return this.shadowRoot.querySelector("ia-item-navigator")}loadObserver(){this.sharedObserver=new Do}manageFullscreen(t){var s;let r=(s=t.detail)==null?void 0:s.fullscreen;this.viewportInFullscreen=r||null}static get styles(){return dt`
      div[slot="main"] {
        height: inherit;
        width: inherit;
      }
      ia-bookreader {
        height: 100%;
        width: 100%;
        min-height: inherit;
      }

      div[slot="header"],
      div[slot="main"] {
        width: 100%;
      }
    `}setMenuShortcuts(t){this.menuShortcuts=[...t.detail]}setMenuContents(t){let r=[...t.detail];this.menuContents=r}manageSideMenuEvents(t){let{menuId:r,action:s}=t.detail;r&&(s==="open"?(this.itemNav.openShortcut(r),this.openShortcut(r)):s==="toggle"&&(this.itemNav.openMenu(r),this.itemNav.toggleMenu()))}render(){return ze`
      <ia-bookreader
      .item=${this.item}
      .baseHost=${this.baseHost}
      ?signedIn=${this.signedIn}
      class="focus-on-child-only"
      style="min-height: inherit;"
      .sharedObserver=${this.sharedObserver}
      .modal=${this.modal}
      @fullscreenStateUpdated=${this.manageFullscreen}
      >
        <div slot="header">
          <slot name="header"></slot>
        </div>
        <!--
          This width is set via CSS, but is not working on older browsers
          for some reason, resulting in black screen. So set explicitly.
        -->
        <div slot="main" style="width:100%">
          <slot name="main"></slot>
        </div>
      </ia-bookreader>
    `}};customElements.define("ia-book-theater",op);Vi("** ia-book-theater defined **")});var _E={};function ts(e,t,r){this.maxAge=18e4,this.postInitCB=null,this.requestCount=0,this.maxRequests=3,this.br=e,this.bookId=t||"",this.postInitCB=r,this.tokenErrorMessage="no access token"}var Hk=si(()=>{ts.prototype.init=function(){this.initiateRequest()};ts.prototype.grantAccess=function(){this.startTimer();var e=this.requestCount===1&&this.postInitCB;e&&this.postInitCB()};ts.prototype.requestError=function(e){if(typeof archive_analytics!="undefined"){var t=e.responseJSON?e.responseJSON.error.replace(/\s/g,"_"):"unknown",r="BRSearchInsideToken-ReqErr-"+e.status+"-From-"+t;window.Sentry&&e.status>=400&&window.Sentry.captureMessage(r)}this.clearTimer(),this.requestCount<this.maxRequests?this.initiateRequest():this.postInitCB({errorMessage:this.tokenErrorMessage})};ts.prototype.initiateRequest=function(){this.requestCount=this.requestCount+1,this.requestAccess()};ts.prototype.requestAccess=function(){if(this.hasValidLoanToken()){this.grantAccess();return}$.ajax({url:"/services/loans/loan/searchInside.php",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:{action:"grant_access",identifier:this.bookId}}).then(function(e){this.grantAccess()}.bind(this),function(e){this.requestError(e)}.bind(this))};ts.prototype.clearTimer=function(){clearInterval(this.poller),this.poller=null};ts.prototype.startTimer=function(){this.clearTimer(),this.poller=setInterval(this.initiateRequest.bind(this),this.maxAge)};ts.prototype.hasValidLoanToken=function(){var e="loan-"+this.bookId,t;try{t=document.cookie}catch(r){t=""}return t.indexOf(e)>-1};window.SearchInsideAccess=ts});var kE={};var Fk=si(()=>{window.BookReaderJSIAinit=function(){function e(h,g,m){var y=g||{};if(jQuery.extend(!0,y,t(h)),jQuery.extend(!0,y,r(h)),jQuery.extend(!0,y,s(h)),jQuery.extend(!0,y,l(h)),y.bookUrl=h.bookUrl,y.bookUri=h.bookUri,h.lendingInfo.isOpenLibraryLending?(y.bookUrlText=y.bookTitle+"<br>&larr; Back to book details on Open Library",y.bookUrlTitle="Go to this book's page on Open Library",y.bookUrlMoreInfo="More information on Open Library"):(y.bookUrlText=y.bookTitle+"<br>&larr; Back to item details",y.bookUrlTitle="Go to this book's page on Archive.org",y.bookUrlMoreInfo="More information on Archive.org"),y.imagesBaseURL="/includes/build/BookReader/images/",y.protected=h.lendingInfo.shouldProtectImages,y.thumbnail="//archive.org/download/"+h.id+"/page/cover_t.jpg",y.enableExperimentalControls=!0,y.enablePageResume=!0,isNaN(parseInt(y.defaultStartLeaf))||(y.titleLeaf=y.defaultStartLeaf),m){var _=m.plugins;_&&(y.plugins=y.plugins||{},jQuery.extend(!0,y.plugins,m.plugins),delete m.plugins),jQuery.extend(y,m),_&&(m.plugins=_)}return y}function t(h){var g={},m=[],y=Array(h.metadata.title).join(", ");if(y&&m.push({label:"Title",value:y,extraValueClass:"larger"}),h.metadata.creator&&m.push({label:"Author",value:Array(h.metadata.creator).join(", "),extraValueClass:"larger"}),h.metadata.publishDate&&m.push({label:"Publish Data",value:h.metadata.publishDate,extraValueClass:""}),h.metadata.collection&&h.metadata.collection.length>0){var _=$.map(h.metadata.collection,function(k){return'<a href="/details/'+k+'">'+k+"</a>"}).join(", ");m.push({label:"Collections",value:_,extraValueClass:""})}if(h.metadata.sponsor&&h.metadata.contributor&&h.metadata.sponsor==h.metadata.contributor?m.push({label:"Sponsor &amp; Contributor",value:h.metadata.sponsor,extraValueClass:""}):(h.metadata.sponsor&&m.push({label:"Sponsor",value:h.metadata.sponsor,extraValueClass:""}),h.metadata.contributor&&m.push({label:"Contributor",value:h.metadata.contributor,extraValueClass:""})),g.metadata=m,h.metadata.language){var w=typeof h.metadata.language=="string"?h.metadata.language:h.metadata[0]?h.metadata[0]:null;g.bookLanguage=w}return g}function r(h){var g={},m={};return h.lendingInfo.loanId&&(m.loanId=h.lendingInfo.loanId),g.lendingInfo=m,g}function s(h){var g={},m=function(y,_){var w="https://"+window.location.host+"/stream/"+h.id;return h.subPrefix!=h.id&&(w+="/"+urlencodePath(h.subPrefix)),w+="?ui=embed",typeof _!="undefined"&&(w+="#"+y.fragmentFromParams(_)),w};return g.getEmbedCode=function(y,_,w){return"<iframe src='"+m(this,w)+"' width='"+y+"' height='"+_+"' frameborder='0' ></iframe>"},g}function l(h){var g={},m=BookReader.prototype.getPageURI;if(g.getPageURI=function(y,_,w){typeof _=="undefined"&&(_=1),typeof w=="undefined"&&(w=0),_=Math.pow(2,Math.floor(Math.log2(Math.max(1,_))));var k=m.call(this,y,_,w);return k?(k=k+(k.indexOf("?")>-1?"&":"?"),k=k+"scale="+_+"&rotate="+w,k):""},h.lendingInfo.shouldProtectImages){g.renderPageURI=function(w,k){return vi(this,null,function*(){let A=yield fetch(k,{credentials:"include"}),L=A.headers.get("X-Obfuscate");if(!L){w.src=k;return}let T=A.headers.get("content-type"),E=yield A.arrayBuffer(),[a,p]=L.split("|");if(a!=="1")throw new Error("Unsupported obfuscation version");let v=k.replace(/https?:\/\/.*?\//,"/"),d=yield y(E.slice(0,1024),v,p),x=new Uint8Array(E);x.set(new Uint8Array(d),0);let C=new Blob([x],{type:T});w.addEventListener("load",N=>URL.revokeObjectURL(w.src),{once:!0}),w.src=URL.createObjectURL(C)})};function y(_,w,k){return vi(this,null,function*(){let A=yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(w)),L=yield crypto.subtle.importKey("raw",A.slice(0,16),"AES-CTR",!1,["decrypt"]);return yield crypto.subtle.decrypt({name:"AES-CTR",length:64,counter:new Uint8Array(atob(k).split("").map(T=>T.charCodeAt(0)))},L,_)})}}return g}function o(h){var g=BookReader.PLUGINS.resume.prototype.getResumeValue;BookReader.PLUGINS.resume.prototype.getResumeValue=function(){var y=null;return h.lendingInfo.userid&&BookReader.docCookies&&(y=BookReader.docCookies.getItem("br-resume-"+h.lendingInfo.userid)),y===null&&(y=g?g.call(this):0),y!==null&&(y=parseInt(y)),y};var m=BookReader.PLUGINS.resume.prototype.updateResumeValue;BookReader.PLUGINS.resume.prototype.updateResumeValue=function(y){var _=h.lendingInfo.userid?"br-resume-"+h.lendingInfo.userid:null;m.call(this,y,_)}}function c(h){if(CustomEvent){var g=new CustomEvent("BRJSIA:PostInit",{bubbles:!0,captures:!0,detail:h});document.dispatchEvent(g)}}function n(h,g){if(CustomEvent){var m=h.lendingStatus,y=new CustomEvent("LendingFlow:PostInit",{bubbles:!0,captures:!0,detail:{downloadTypesAvailable:g||[],lendingStatus:m||{},isAdmin:h.isAdmin}});document.dispatchEvent(y)}}function u(h,g,m,y){var _=g,w=g.lendingStatus;_=Object.assign({},_,w),_.lendingStatus="";var k=_.isOpenLibraryLending||document.referrer&&document.referrer.includes("openlibrary.org")?"https://openlibrary.org/account/loans":"/details/"+m.bookId,A=document.querySelector("ia-book-actions");A||(A=document.createElement("ia-book-actions")),A.userid=_.userid,A.identifier=m.bookId,A.bookTitle=m.bookTitle,A.lendingStatus=_,A.bwbPurchaseUrl=m.purchaseUrl,A.barType=y||"action",A.lendingBarPostInit=h,A.returnUrl=k,A.classList.add("focus-on-child-only");var L={loanTotalTime:3600,loanRenewAtLast:660,pageChangedInLast:900};A.loanRenewTimeConfig=L;var T=document.querySelector("#IABookReaderMessageWrapper");T?(T.appendChild(A),T.style.display=""):h()}return function(h,g){var m=h.data,y=h.brOptions,_=h.lendingInfo,w=_.lendingStatus||{},k=h.metadata;m.lendingInfo=_,m.metadata=k,window.onerror=logError;var A=e(m,y,g);if(!BookReader.version&&window.Sentry){Sentry.captureMessage("BookReader.version not defined"),alert("You have a really old version of BookReader that we no longer support.");return}o(m);var L=new BookReader(A);window.br=L;var T=_.isPrintDisabledOnly||m.isRestricted&&!w.is_login_required||_.isLendingRequired&&_.isBrowserBorrowable;window.Sentry&&(Sentry.setTag("br_version",BookReader.version),Sentry.setTag("borrowable_book",T));var E=!T,a=A.ui==="embed";T&&$("<link>",{rel:"stylesheet",type:"text/css",href:"/bookreader/print.css",media:"print"}).appendTo("head"),c({brVersion:BookReader.version,downloadURLs:m.downloadUrls.filter(x=>!x[1].includes("media_url")),isRestricted:m.isRestricted});var p=function(){setTimeout(function(){L.init()},100)},v=function(){setTimeout(function(){n(_,m.downloadUrls.filter(C=>!C[1].includes("media_url"))),p()},100)};if(E){p(),a&&u(function(){},_,A,"title");return}var d=function(C){C&&typeof C!="undefined"&&C.errorMessage==="no access token"&&(L.options.enableSearch=!1);var N=a?"title":"action";u(v,_,A,N)};window.SearchInsideAccess?(this.searchInside=new SearchInsideAccess(L,k.identifier,d),this.searchInside.init()):d(),window.Sentry&&Sentry.setContext("Lending info",{available_to_browse:w.available_to_browse||"",available_to_borrow:w.available_to_borrow||"",available_to_waitlist:w.available_to_waitlist||"",user_has_browsed:w.user_has_browsed||"",user_has_borrowed:w.user_has_borrowed||"",user_on_waitlist:w.user_on_waitlist||"",user_can_claim_waitlist:w.user_can_claim_waitlist||""})}}()});vr();zc();xi();Nr();vr();xi();Nr();var T0;(function(e){e.processing="processing",e.complete="complete"})(T0||(T0={}));var Bp=class extends fi{constructor(){super(...arguments),this.mode="processing"}render(){return ze`
      <div class="${this.mode}">
        <svg
          viewBox="0 0 120 120"
          preserveAspectRatio="none"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          aria-labelledby="indicatorTitle indicatorDescription"
        >
          <title id="indicatorTitle">Activity Indicator</title>
          <desc id="indicatorDescription">
            A rotating activity indicator with three dots in the middle.
          </desc>
          <g
            id="icons/check-ring---squared"
            stroke="none"
            stroke-width="1"
            fill="none"
            fill-rule="evenodd"
          >
            <path
              id="completed-ring"
              class="loaded-indicator"
              d="M60,10 C70.5816709,10 80.3955961,13.2871104 88.4763646,18.8959201 L78.3502633,29.0214223 C72.9767592,25.8315427 66.7022695,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 L95.995,59.46 L108.327675,47.128668 C109.350926,50.9806166 109.925886,55.015198 109.993301,59.1731586 L110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <polygon
              id="check"
              class="loaded-indicator"
              transform="translate(75.000000, 41.500000) rotate(44.000000) translate(-75.000000, -41.500000) "
              points="96 85 54 85 54 65 76 64.999 76 -2 96 -2"
            ></polygon>
            <path
              id="activity-ring"
              class="activity-indicator"
              d="M60,10 C69.8019971,10 78.9452178,12.8205573 86.6623125,17.6943223 L76.4086287,27.9484118 C71.4880919,25.4243078 65.9103784,24 60,24 C40.117749,24 24,40.117749 24,60 C24,79.882251 40.117749,96 60,96 C79.882251,96 96,79.882251 96,60 C96,53.3014663 94.1704984,47.0302355 90.9839104,41.6587228 L101.110332,31.5326452 C106.715332,39.6116982 110,49.4222615 110,60 C110,87.6142375 87.6142375,110 60,110 C32.3857625,110 10,87.6142375 10,60 C10,32.3857625 32.3857625,10 60,10 Z"
            ></path>
            <g
              id="activity-dots"
              class="activity-indicator"
              transform="translate(40.000000, 55.000000)"
            >
              <circle id="left-dot" cx="5" cy="5" r="5"></circle>
              <circle id="middle-dot" cx="20" cy="5" r="5"></circle>
              <circle id="right-dot" cx="35" cy="5" r="5"></circle>
            </g>
          </g>
        </svg>
      </div>
    `}static get styles(){let e=dt`var(--activityIndicatorCheckmarkColor, #31A481)`,t=dt`var(--activityIndicatorCompletedRingColor, #31A481)`,r=dt`var(--activityIndicatorLoadingRingColor, #333333)`,s=dt`var(--activityIndicatorLoadingDotColor, #333333)`;return dt`
      #completed-ring {
        fill: ${t};
      }

      #check {
        fill: ${e};
      }

      #activity-ring {
        fill: ${r};
      }

      #activity-dots {
        fill: ${s};
      }

      .activity-indicator {
        opacity: 0;
        transition: opacity 0.25s ease-out;
      }

      .processing .activity-indicator {
        opacity: 1;
      }

      .loaded-indicator {
        opacity: 1;
        transition: opacity 0.25s ease-out;
      }

      .processing .loaded-indicator {
        opacity: 0;
      }

      .image {
        border: 1px solid red;
        display: inline-block;
      }

      .processing #activity-ring {
        animation: rotate 1.3s infinite linear;
        transform-origin: 50px 50px;
        transform-box: fill-box;
      }

      .processing #left-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.2s;
      }

      .processing #middle-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.4s;
      }

      .processing #right-dot {
        opacity: 0;
        animation: dot 1.3s infinite;
        animation-delay: 0.6s;
      }

      @keyframes rotate {
        0% {
          transform: rotate(-360deg);
        }
        100% {
          /* This frame is supposed to be inferred, but Safari doesn't rotate it unless we're explicit */
          transform: rotate(0deg);
        }
      }

      @keyframes dot {
        0% {
          opacity: 0;
        }
        25% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
    `}};ae([Kt({type:String})],Bp.prototype,"mode",void 0);Bp=ae([lr("ia-activity-indicator")],Bp);bd();vr();xi();Nr();vr();xi();Nr();bd();xi();zc();var Yc=class{constructor(e){var t,r,s,l,o,c,n;this.title=e==null?void 0:e.title,this.subtitle=e==null?void 0:e.subtitle,this.headline=e==null?void 0:e.headline,this.message=e==null?void 0:e.message,this.headerColor=(t=e==null?void 0:e.headerColor)!==null&&t!==void 0?t:"#55A183",this.bodyColor=(r=e==null?void 0:e.bodyColor)!==null&&r!==void 0?r:"#f5f5f7",this.showProcessingIndicator=(s=e==null?void 0:e.showProcessingIndicator)!==null&&s!==void 0?s:!1,this.processingImageMode=(l=e==null?void 0:e.processingImageMode)!==null&&l!==void 0?l:"complete",this.showCloseButton=(o=e==null?void 0:e.showCloseButton)!==null&&o!==void 0?o:!0,this.showHeaderLogo=(c=e==null?void 0:e.showHeaderLogo)!==null&&c!==void 0?c:!0,this.closeOnBackdropClick=(n=e==null?void 0:e.closeOnBackdropClick)!==null&&n!==void 0?n:!0}};function*Fp(e=document.activeElement){e!=null&&(yield e,"shadowRoot"in e&&e.shadowRoot&&e.shadowRoot.mode!=="closed"&&(yield*dd(Fp(e.shadowRoot.activeElement))))}function S5(){return[...Fp()].pop()}var P0=new WeakMap;function L0(e){let t=P0.get(e);return t||(t=window.getComputedStyle(e,null),P0.set(e,t)),t}function A5(e){if("checkVisibility"in e&&typeof e.checkVisibility=="function")return e.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let t=L0(e);return t.visibility!=="hidden"&&t.display!=="none"}function C5(e){let t=L0(e),{overflowY:r,overflowX:s}=t;return r==="scroll"||s==="scroll"?!0:r!=="auto"||s!=="auto"?!1:e.scrollHeight>e.clientHeight&&r==="auto"||e.scrollWidth>e.clientWidth&&s==="auto"}function E5(e){let t=e.tagName.toLowerCase(),r=Number(e.getAttribute("tabindex"));return e.hasAttribute("tabindex")&&(isNaN(r)||r<=-1)||e.hasAttribute("disabled")||e.closest("[inert]")||t==="input"&&e.getAttribute("type")==="radio"&&!e.hasAttribute("checked")||!A5(e)?!1:(t==="audio"||t==="video")&&e.hasAttribute("controls")||e.hasAttribute("tabindex")||e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(t)?!0:C5(e)}function T5(e,t){var r;return((r=e.getRootNode({composed:!0}))===null||r===void 0?void 0:r.host)!==t}function $0(e){let t=new WeakMap,r=[];function s(l){if(l instanceof Element){if(l.hasAttribute("inert")||l.closest("[inert]")||t.has(l))return;t.set(l,!0),!r.includes(l)&&E5(l)&&r.push(l),l instanceof HTMLSlotElement&&T5(l,e)&&l.assignedElements({flatten:!0}).forEach(o=>{s(o)}),l.shadowRoot!==null&&l.shadowRoot.mode==="open"&&s(l.shadowRoot)}for(let o of Array.from(l.children))s(o)}return s(e),r.sort((l,o)=>{let c=Number(l.getAttribute("tabindex"))||0;return(Number(o.getAttribute("tabindex"))||0)-c})}var Gc=[],P5=class{constructor(e){this.isExternalActivated=!1,this.tabDirection="forward",this.currentFocus=null,this.previousFocus=null,this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=t=>{var r;if(t.key!=="Tab"||this.isExternalActivated||!this.isActive())return;let s=S5();if(this.previousFocus=s,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;t.shiftKey?this.tabDirection="backward":this.tabDirection="forward";let l=$0(this.element),o=l.findIndex(n=>n===s);this.previousFocus=this.currentFocus;let c=this.tabDirection==="forward"?1:-1;for(;;){o+c>=l.length?o=0:o+c<0?o=l.length-1:o+=c,this.previousFocus=this.currentFocus;let n=l[o];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||n&&this.possiblyHasTabbableChildren(n))return;t.preventDefault(),this.currentFocus=n,(r=this.currentFocus)===null||r===void 0||r.focus({preventScroll:!1});let u=[...Fp()];if(u.includes(this.currentFocus)||!u.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=e,this.elementsWithTabbableControls=["iframe"]}activate(){Gc.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Gc=Gc.filter(e=>e!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Gc[Gc.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){let e=$0(this.element);if(!this.element.matches(":focus-within")){let t=e[0],r=e[e.length-1],s=this.tabDirection==="forward"?t:r;typeof(s==null?void 0:s.focus)=="function"&&(this.currentFocus=s,s.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(e){return this.elementsWithTabbableControls.includes(e.tagName.toLowerCase())||e.hasAttribute("controls")}},$5=ze`
  <svg
    class="ia-logo"
    viewBox="0 0 27 30"
    xmlns="http://www.w3.org/2000/svg"
    aria-labelledby="logoTitleID logoDescID"
  >
    <title id="logoTitleID">Internet Archive logo</title>
    <desc id="logoDescID">
      A line drawing of the Internet Archive headquarters building faade.
    </desc>
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
      <mask id="mask-2" class="fill-color">
        <path
          d="M26.6666667,28.6046512 L26.6666667,30 L0,30 L0.000283687943,28.6046512 L26.6666667,28.6046512 Z M25.6140351,26.5116279 L25.6140351,28.255814 L1.05263158,28.255814 L1.05263158,26.5116279 L25.6140351,26.5116279 Z M3.62469203,7.6744186 L3.91746909,7.82153285 L4.0639977,10.1739544 L4.21052632,13.9963932 L4.21052632,17.6725617 L4.0639977,22.255044 L4.03962296,25.3421929 L3.62469203,25.4651163 L2.16024641,25.4651163 L1.72094074,25.3421929 L1.55031755,22.255044 L1.40350877,17.6970339 L1.40350877,14.0211467 L1.55031755,10.1739544 L1.68423854,7.80887484 L1.98962322,7.6744186 L3.62469203,7.6744186 Z M24.6774869,7.6744186 L24.9706026,7.82153285 L25.1168803,10.1739544 L25.2631579,13.9963932 L25.2631579,17.6725617 L25.1168803,22.255044 L25.0927809,25.3421929 L24.6774869,25.4651163 L23.2130291,25.4651163 L22.7736357,25.3421929 L22.602418,22.255044 L22.4561404,17.6970339 L22.4561404,14.0211467 L22.602418,10.1739544 L22.7369262,7.80887484 L23.0420916,7.6744186 L24.6774869,7.6744186 Z M9.94042303,7.6744186 L10.2332293,7.82153285 L10.3797725,10.1739544 L10.5263158,13.9963932 L10.5263158,17.6725617 L10.3797725,22.255044 L10.3556756,25.3421929 L9.94042303,25.4651163 L8.47583122,25.4651163 L8.0362015,25.3421929 L7.86556129,22.255044 L7.71929825,17.6970339 L7.71929825,14.0211467 L7.86556129,10.1739544 L8.00005604,7.80887484 L8.30491081,7.6744186 L9.94042303,7.6744186 Z M18.0105985,7.6744186 L18.3034047,7.82153285 L18.449948,10.1739544 L18.5964912,13.9963932 L18.5964912,17.6725617 L18.449948,22.255044 L18.425851,25.3421929 L18.0105985,25.4651163 L16.5460067,25.4651163 L16.1066571,25.3421929 L15.9357367,22.255044 L15.7894737,17.6970339 L15.7894737,14.0211467 L15.9357367,10.1739544 L16.0702315,7.80887484 L16.3753664,7.6744186 L18.0105985,7.6744186 Z M25.6140351,4.53488372 L25.6140351,6.97674419 L1.05263158,6.97674419 L1.05263158,4.53488372 L25.6140351,4.53488372 Z M13.0806755,0 L25.9649123,2.93331338 L25.4484139,3.8372093 L0.771925248,3.8372093 L0,3.1041615 L13.0806755,0 Z"
          id="path-1"
        ></path>
      </mask>
      <use class="fill-color" xlink:href="#path-1"></use>
      <g mask="url(#mask-2)" class="fill-color">
        <path
          d="M0,0 L26.6666667,0 L26.6666667,30 L0,30 L0,0 Z"
          id="swatch"
        ></path>
      </g>
    </g>
  </svg>
`,Hp=class extends fi{constructor(){super(...arguments),this.config=new Yc}render(){return ze`
      <div class="modal-wrapper">
        <div class="modal-container">
          <header style="background-color: ${this.config.headerColor}">
            ${this.config.showCloseButton?this.closeButtonTemplate:""}
            ${this.config.showHeaderLogo?ze`<div class="logo-icon">${$5}</div>`:Ai}
            ${this.config.title?ze`<h1 class="title">${this.config.title}</h1>`:""}
            ${this.config.subtitle?ze`<h2 class="subtitle">${this.config.subtitle}</h2>`:""}
          </header>
          <section
            class="modal-body"
            style="background-color: ${this.config.bodyColor}"
          >
            <div class="content">
              <div
                class="processing-logo ${this.config.showProcessingIndicator?"":"hidden"}"
              >
                <ia-activity-indicator
                  .mode=${this.config.processingImageMode}
                ></ia-activity-indicator>
              </div>
              ${this.config.headline?ze` <h1 class="headline">${this.config.headline}</h1> `:""}
              ${this.config.message?ze` <p class="message">${this.config.message}</p> `:""}

              <div class="slot-container">
                <slot> </slot>
              </div>
            </div>
          </section>
        </div>
      </div>
    `}handleCloseButton(e){if(e.preventDefault(),e.type==="keydown"&&e.key!==" "&&e.key!=="Enter")return;let t=new Event("closeButtonPressed");this.dispatchEvent(t)}get closeButtonTemplate(){return ze`
      <button
        type="button"
        class="close-button"
        @click=${this.handleCloseButton}
        @keydown=${this.handleCloseButton}
      >
        <ia-icon-close></ia-icon-close>
      </button>
    `}static get styles(){let e=dt`var(--modalLogoSize, 6.5rem)`,t=dt`var(--processingImageSize, 7.5rem)`,r=dt`var(--modalCornerRadius, 1rem)`,s=dt`var(--modalBorder, 2px solid black)`,l=dt`var(--modalBottomMargin, 2.5rem)`,o=dt`var(--modalTopMargin, 5rem)`,c=dt`var(--modalHeaderBottomPadding, 0.5em)`,n=dt`var(--modalBottomPadding, 2rem)`,u=dt`var(--modalScrollOffset, 5px)`,h=dt`var(--modalTitleFontSize, 1.8rem)`,g=dt`var(--modalSubtitleFontSize, 1.4rem)`,m=dt`var(--modalHeadlineFontSize, 1.6rem)`,y=dt`var(--modalMessageFontSize, 1.4rem)`,_=dt`var(--modalTitleLineHeight, normal)`,w=dt`var(--modalSubtitleLineHeight, normal)`,k=dt`var(--modalHeadlineLineHeight, normal)`,A=dt`var(--modalMessageLineHeight, normal)`;return dt`
      .processing-logo {
        margin: auto;
        width: ${t};
        height: ${t};
      }

      .processing-logo.hidden {
        height: 1rem;
      }

      .processing-logo.hidden ia-activity-indicator {
        display: none;
      }

      .modal-wrapper {
        outline: none;
      }

      .modal-container {
        border-radius: ${r};
        width: 100%;
        margin-top: ${o};
      }

      header {
        position: relative;
        background-color: #36a483;
        color: white;
        border-radius: calc(${r}) calc(${r}) 0 0;
        border: ${s};
        border-bottom: 0;
        text-align: center;
        padding-bottom: ${c};
      }

      .title {
        margin: 0;
        padding: 0;
        font-size: ${h};
        font-weight: bold;
        line-height: ${_};
      }

      .subtitle {
        margin: 0;
        padding: 0;
        font-weight: normal;
        padding-top: 0;
        font-size: ${g};
        line-height: ${w};
      }

      .modal-body {
        background-color: #f5f5f7;
        border-radius: 0 0 calc(${r}) calc(${r});
        border: ${s};
        border-top: 0;
        padding: 0 1rem calc(${n} - ${u}) 1rem;
        color: #333;
        margin-bottom: 2.5rem;
        min-height: 5rem;
      }

      .content {
        overflow-y: auto;
        max-height: calc(100vh - (16.5rem + ${l}));
        min-height: 5rem;
        padding: 0 0 calc(${u}) 0;
      }

      .headline {
        font-size: ${m};
        font-weight: bold;
        text-align: center;
        line-height: ${k};
        margin: 0;
        padding: 0;
      }

      .message {
        margin: 1rem 0 0 0;
        text-align: center;
        font-size: ${y};
        line-height: ${A};
      }

      .logo-icon {
        border-radius: 100%;
        border: 3px solid #fff;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 2px 2px 0 rgba(0, 0, 0, 0.08);
        width: ${e};
        height: ${e};
        margin: -2.9rem auto 0.5rem auto;
        background-color: black;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .logo-icon svg {
        width: calc(${e} * 0.65);
        height: calc(${e} * 0.65);
      }

      .logo-icon svg .fill-color {
        fill: white;
      }

      .logo-icon svg .stroke-color {
        stroke: red;
      }

      .close-button {
        position: absolute;
        right: 1.2rem;
        top: 1.2rem;
        width: 2rem;
        height: 2rem;
        border-radius: 100%;
        border: 0;
        padding: 0;
        cursor: pointer;
        background-color: white;
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.18),
          0 4px 4px 0 rgba(0, 0, 0, 0.08);
      }

      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }

      slot::slotted(.sr-only) {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    `}};ae([Kt({type:Object})],Hp.prototype,"config",void 0);Hp=ae([lr("modal-template")],Hp);var Os;(function(e){e.Open="open",e.Closed="closed"})(Os||(Os={}));var L5=class{constructor(e){this.windowResizeThrottler=Fl(100,this.updateModalContainerHeight,{noLeading:!1,noTrailing:!1}).bind(this),this.modalManager=e}handleModeChange(e){switch(e){case Os.Open:this.startResizeListener(),this.stopDocumentScroll();break;case Os.Closed:this.stopResizeListener(),this.resumeDocumentScroll();break}}updateModalContainerHeight(){this.modalManager.style.setProperty("--containerHeight",`${window.innerHeight}px`)}stopDocumentScroll(){document.body.classList.add("modal-manager-open")}resumeDocumentScroll(){document.body.classList.remove("modal-manager-open")}startResizeListener(){window.addEventListener("resize",this.windowResizeThrottler)}stopResizeListener(){window.removeEventListener("resize",this.windowResizeThrottler)}},Wl=class extends fi{constructor(){super(...arguments),this.mode=Os.Closed,this.hostBridge=new L5(this),this.modal=new P5(this),this.closeOnBackdropClick=!0}firstUpdated(){return Mo(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,0)),this.closeOnBackdropClick&&this.addEventListener("keydown",e=>{e.key==="Escape"&&this.backdropClicked()})})}disconnectedCallback(){super.disconnectedCallback(),this.modal.deactivate()}render(){return ze`
      <div class="container">
        <div class="backdrop" @click=${this.backdropClicked}></div>
        <modal-template
          @closeButtonPressed=${this.closeButtonPressed}
          tabindex="-1"
        >
          ${this.customModalContent}
        </modal-template>
      </div>
    `}getMode(){return this.mode}closeModal(){this.mode=Os.Closed,this.customModalContent=void 0,this.modalTemplate.config=new Yc,this.modal.deactivate()}callUserClosedModalCallback(){let e=this.userClosedModalCallback;this.userClosedModalCallback=void 0,e&&e()}showModal(e){return Mo(this,void 0,void 0,function*(){this.closeOnBackdropClick=e.config.closeOnBackdropClick,this.userClosedModalCallback=e.userClosedModalCallback,this.modalTemplate.config=e.config,this.customModalContent=e.customModalContent,this.mode=Os.Open,yield this.modalTemplate.updateComplete,this.modalTemplate.focus(),this.modal.activate()})}updated(e){e.has("mode")&&this.handleModeChange()}backdropClicked(){this.closeOnBackdropClick&&(this.closeModal(),this.callUserClosedModalCallback())}handleModeChange(){this.hostBridge.handleModeChange(this.mode),this.emitModeChangeEvent()}emitModeChangeEvent(){let e=new CustomEvent("modeChanged",{detail:{mode:this.mode}});this.dispatchEvent(e)}closeButtonPressed(){this.closeModal(),this.callUserClosedModalCallback()}static get styles(){let e=dt`var(--modalBackdropColor, rgba(10, 10, 10, 0.9))`,t=dt`var(--modalBackdropZindex, 1000)`,r=dt`var(--modalWidth, 32rem)`,s=dt`var(--modalMaxWidth, 95%)`,l=dt`var(--modalZindex, 2000)`;return dt`
      .container {
        width: 100%;
        height: 100%;
      }

      .backdrop {
        position: fixed;
        top: 0;
        left: 0;
        background-color: ${e};
        width: 100%;
        height: 100%;
        z-index: ${t};
      }

      modal-template {
        outline: 0;
        position: fixed;
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        z-index: ${l};
        width: ${r};
        max-width: ${s};
      }
    `}};ae([Kt({type:String,reflect:!0})],Wl.prototype,"mode",void 0);ae([Kt({type:Object})],Wl.prototype,"customModalContent",void 0);ae([Kt({type:Object})],Wl.prototype,"hostBridge",void 0);ae([on("modal-template")],Wl.prototype,"modalTemplate",void 0);Wl=ae([lr("modal-manager")],Wl);Yp();function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}var U5={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Kp(e,t){function r(l,o,c){if(!(typeof document>"u")){c=kd({},t,c),typeof c.expires=="number"&&(c.expires=new Date(Date.now()+c.expires*864e5)),c.expires&&(c.expires=c.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var n="";for(var u in c)c[u]&&(n+="; "+u,c[u]!==!0&&(n+="="+c[u].split(";")[0]));return document.cookie=l+"="+e.write(o,l)+n}}function s(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var o=document.cookie?document.cookie.split("; "):[],c={},n=0;n<o.length;n++){var u=o[n].split("="),h=u.slice(1).join("=");try{var g=decodeURIComponent(u[0]);if(c[g]=e.read(h,g),l===g)break}catch(m){}}return l?c[l]:c}}return Object.create({set:r,get:s,remove:function(l,o){r(l,"",kd({},o,{expires:-1}))},withAttributes:function(l){return Kp(this.converter,kd({},this.attributes,l))},withConverter:function(l){return Kp(kd({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var vo=Kp(U5,{path:"/"});Qp();var je="jQuery"in window&&"$"in window?window.$:Is;window.jQuery=je;window.$=je;Oo();var ql=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0;je.fn.center=function(){let t=je(this).innerHeight();Vi("myheight",t),Vi("mywidth",this.width()),Vi("w.height",je(window).height(),"w.width",je(window).width(),"w.scrollTop",je(window).scrollTop(),"w.scrollLeft",je(window).scrollLeft());let r,s;if(ql){let l=window.innerWidth,o=window.innerHeight;Vi("vpH",o),Vi("vpW",l),r=(o-t)/2+je(window).scrollTop(),s=(l-this.width())/2+je(window).scrollLeft()}else r=(je(window).height()-t)/2,s=(je(window).width()-this.width())/2;return r=Math.max(20,r),s=Math.max(20,s),this.css({position:ql?"absolute":"fixed",display:"block",top:r,left:s}),this};Oo();var ef=class e{static params(t,r){let s={height:r,width:t,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"};return Object.keys(s).filter(l=>s[l]).reduce((l,o)=>l.concat(`${o}=${s[o]}`),[]).join(",")}static setupPopupLink(){let t="popup-link",r="popup-link-width",s="popup-link-height";Vi("popup setup"),je(document.body).off("click.PopupLink").on("click.PopupLink",`[data-${t}]`,l=>{l.preventDefault();let o=je(l.currentTarget),c=o.data(r)||500,n=o.data(s)||500;window.open(l.currentTarget.href,"popup",e.params(c,n))})}};je(ef.setupPopupLink);var Rs=class{static LoadingMessage({message:t="Loading"}){return`<small class="loading-message">${t}</small>`}static ErrorMessage({errorMessage:t}){return`<small>${t}</small>`}};function Xc(){je(".row .tilebars").find(".results").parents(".row").each((e,t)=>{let r=!1;je(t).find(".results").each((s,l)=>{je(l).show().css({visibility:"hidden"}),r||(r=je(l).offset()),je(l).offset().top!==r.top?je(l).hide():je(l).css({visibility:"visible"})})})}var Sd=class{constructor(t,r=250,s=void 0){this.callback=t,this.threshhold=r,this.context=s,this.last=void 0,this.deferTimeout=void 0}execute(){let t=+new Date;this.last&&t<this.last+this.threshhold?(clearTimeout(this.deferTimeout),this.deferTimeout=setTimeout(this.executeCallback.bind(this),this.threshhold)):this.executeCallback.call(this)}executeCallback(){this.last=+new Date,this.callback.apply(this.context)}};var Ad=class{constructor(t,r,s){this.identifier=t,this.$targetElement=r,this.callback=s,this.$window=je(window),this.throttler=new Sd(this.scrollListener,100,this)}startListener(){this.$window.on(`scroll.${this.identifier}`,this.throttledListener.bind(this)),this.scrollListener()}throttledListener(){return this.throttler.execute()}getTargetScrollOffset(){let t=this.$targetElement.offset().top,r=this.$window.height();return t-r/2}scrollListener(){let t=this.getTargetScrollOffset();this.$window.scrollTop()+this.$window.height()>=t&&(this.$window.off(`.${this.identifier}`),this.callback())}};var V0=/bot|crawl|spider/i.test(navigator.userAgent);var tf=class e{static setup(){let t=je("#js-related");if(t.length&&(Xc(),je(window).on("resize  orientationchange",s=>{clearTimeout(e.also_found_throttler),e.also_found_throttler=setTimeout(Xc,250)})),!t.length||V0)return;let r=je("#also-found");this.scrollProximityHandler=new Ad("related_items",r,()=>{if(!t.text())return r.find(".tilebars").show(),t.html(Rs.LoadingMessage({message:"Fetching items"})),e.doWhenScrolledToRelatedSection()}),this.scrollProximityHandler.startListener()}static doWhenScrolledToRelatedSection(){let t=je("#also-found").data("identifier"),r=je("#js-related");return e.getRelatedItems(t).then(s=>{r.html(s),Xc()}).catch(s=>{je("#playplayset").hide(),r.html(Rs.ErrorMessage({errorMessage:s.message})).show()})}static getRelatedItems(t,r){return new Promise((s,l)=>{let o=`/details/${encodeURIComponent(t)}?RelatedItemsGet=${r?"json":1}`,c="Related items temporarily unavailable. Please try back later.";je.get(o,n=>{n===""&&l(new Error("No similar items found.")),n==="service_disabled"&&l(new Error(c)),s(n)}).fail(()=>{l(new Error(c))})})}};je(()=>tf.setup());var e3=Object.create,nf=Object.defineProperty,t3=Object.getOwnPropertyDescriptor,i3=Object.getOwnPropertyNames,r3=Object.getPrototypeOf,n3=Object.prototype.hasOwnProperty,o3=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),a3=(e,t)=>{for(var r in t)nf(e,r,{get:t[r],enumerable:!0})},rf=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of i3(t))!n3.call(e,l)&&l!==r&&nf(e,l,{get:()=>t[l],enumerable:!(s=t3(t,l))||s.enumerable});return e},s3=(e,t,r)=>(rf(e,t,"default"),r&&rf(r,t,"default")),G0=(e,t,r)=>(r=e!=null?e3(r3(e)):{},rf(t||!e||!e.__esModule?nf(r,"default",{value:e,enumerable:!0}):r,e)),Y0=o3((e,t)=>{(function(r,s){typeof e=="object"&&typeof t=="object"?t.exports=s():typeof define=="function"&&define.amd?define([],s):typeof e=="object"?e.ClipboardJS=s():r.ClipboardJS=s()})(e,function(){return function(){var r={686:function(o,c,n){"use strict";n.d(c,{default:function(){return de}});var u=n(279),h=n.n(u),g=n(370),m=n.n(g),y=n(817),_=n.n(y);function w(Z){try{return document.execCommand(Z)}catch(ye){return!1}}var k=function(Z){var ye=_()(Z);return w("cut"),ye},A=k;function L(Z){var ye=document.documentElement.getAttribute("dir")==="rtl",Y=document.createElement("textarea");Y.style.fontSize="12pt",Y.style.border="0",Y.style.padding="0",Y.style.margin="0",Y.style.position="absolute",Y.style[ye?"right":"left"]="-9999px";var ce=window.pageYOffset||document.documentElement.scrollTop;return Y.style.top="".concat(ce,"px"),Y.setAttribute("readonly",""),Y.value=Z,Y}var T=function(Z,ye){var Y=L(Z);ye.container.appendChild(Y);var ce=_()(Y);return w("copy"),Y.remove(),ce},E=function(Z){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},Y="";return typeof Z=="string"?Y=T(Z,ye):Z instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(Z==null?void 0:Z.type)?Y=T(Z.value,ye):(Y=_()(Z),w("copy")),Y},a=E;function p(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ye){return typeof ye}:p=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},p(Z)}var v=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=Z.action,Y=ye===void 0?"copy":ye,ce=Z.container,Ge=Z.target,ht=Z.text;if(Y!=="copy"&&Y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(Ge!==void 0)if(Ge&&p(Ge)==="object"&&Ge.nodeType===1){if(Y==="copy"&&Ge.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(Y==="cut"&&(Ge.hasAttribute("readonly")||Ge.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(ht)return a(ht,{container:ce});if(Ge)return Y==="cut"?A(Ge):a(Ge,{container:ce})},d=v;function x(Z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(ye){return typeof ye}:x=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},x(Z)}function C(Z,ye){if(!(Z instanceof ye))throw new TypeError("Cannot call a class as a function")}function N(Z,ye){for(var Y=0;Y<ye.length;Y++){var ce=ye[Y];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,ce.key,ce)}}function G(Z,ye,Y){return ye&&N(Z.prototype,ye),Y&&N(Z,Y),Z}function q(Z,ye){if(typeof ye!="function"&&ye!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ye&&ye.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),ye&&K(Z,ye)}function K(Z,ye){return K=Object.setPrototypeOf||function(Y,ce){return Y.__proto__=ce,Y},K(Z,ye)}function oe(Z){var ye=Oe();return function(){var Y=ge(Z),ce;if(ye){var Ge=ge(this).constructor;ce=Reflect.construct(Y,arguments,Ge)}else ce=Y.apply(this,arguments);return J(this,ce)}}function J(Z,ye){return ye&&(x(ye)==="object"||typeof ye=="function")?ye:Q(Z)}function Q(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function Oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Z){return!1}}function ge(Z){return ge=Object.setPrototypeOf?Object.getPrototypeOf:function(ye){return ye.__proto__||Object.getPrototypeOf(ye)},ge(Z)}function W(Z,ye){var Y="data-clipboard-".concat(Z);if(ye.hasAttribute(Y))return ye.getAttribute(Y)}var se=function(Z){q(Y,Z);var ye=oe(Y);function Y(ce,Ge){var ht;return C(this,Y),ht=ye.call(this),ht.resolveOptions(Ge),ht.listenClick(ce),ht}return G(Y,[{key:"resolveOptions",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ce.action=="function"?ce.action:this.defaultAction,this.target=typeof ce.target=="function"?ce.target:this.defaultTarget,this.text=typeof ce.text=="function"?ce.text:this.defaultText,this.container=x(ce.container)==="object"?ce.container:document.body}},{key:"listenClick",value:function(ce){var Ge=this;this.listener=m()(ce,"click",function(ht){return Ge.onClick(ht)})}},{key:"onClick",value:function(ce){var Ge=ce.delegateTarget||ce.currentTarget,ht=this.action(Ge)||"copy",st=d({action:ht,container:this.container,target:this.target(Ge),text:this.text(Ge)});this.emit(st?"success":"error",{action:ht,text:st,trigger:Ge,clearSelection:function(){Ge&&Ge.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ce){return W("action",ce)}},{key:"defaultTarget",value:function(ce){var Ge=W("target",ce);if(Ge)return document.querySelector(Ge)}},{key:"defaultText",value:function(ce){return W("text",ce)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ce){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return a(ce,Ge)}},{key:"cut",value:function(ce){return A(ce)}},{key:"isSupported",value:function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],Ge=typeof ce=="string"?[ce]:ce,ht=!!document.queryCommandSupported;return Ge.forEach(function(st){ht=ht&&!!document.queryCommandSupported(st)}),ht}}]),Y}(h()),de=se},828:function(o){var c=9;if(typeof Element<"u"&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function u(h,g){for(;h&&h.nodeType!==c;){if(typeof h.matches=="function"&&h.matches(g))return h;h=h.parentNode}}o.exports=u},438:function(o,c,n){var u=n(828);function h(y,_,w,k,A){var L=m.apply(this,arguments);return y.addEventListener(w,L,A),{destroy:function(){y.removeEventListener(w,L,A)}}}function g(y,_,w,k,A){return typeof y.addEventListener=="function"?h.apply(null,arguments):typeof w=="function"?h.bind(null,document).apply(null,arguments):(typeof y=="string"&&(y=document.querySelectorAll(y)),Array.prototype.map.call(y,function(L){return h(L,_,w,k,A)}))}function m(y,_,w,k){return function(A){A.delegateTarget=u(A.target,_),A.delegateTarget&&k.call(y,A)}}o.exports=g},879:function(o,c){c.node=function(n){return n!==void 0&&n instanceof HTMLElement&&n.nodeType===1},c.nodeList=function(n){var u=Object.prototype.toString.call(n);return n!==void 0&&(u==="[object NodeList]"||u==="[object HTMLCollection]")&&"length"in n&&(n.length===0||c.node(n[0]))},c.string=function(n){return typeof n=="string"||n instanceof String},c.fn=function(n){var u=Object.prototype.toString.call(n);return u==="[object Function]"}},370:function(o,c,n){var u=n(879),h=n(438);function g(w,k,A){if(!w&&!k&&!A)throw new Error("Missing required arguments");if(!u.string(k))throw new TypeError("Second argument must be a String");if(!u.fn(A))throw new TypeError("Third argument must be a Function");if(u.node(w))return m(w,k,A);if(u.nodeList(w))return y(w,k,A);if(u.string(w))return _(w,k,A);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(w,k,A){return w.addEventListener(k,A),{destroy:function(){w.removeEventListener(k,A)}}}function y(w,k,A){return Array.prototype.forEach.call(w,function(L){L.addEventListener(k,A)}),{destroy:function(){Array.prototype.forEach.call(w,function(L){L.removeEventListener(k,A)})}}}function _(w,k,A){return h(document.body,w,k,A)}o.exports=g},817:function(o){function c(n){var u;if(n.nodeName==="SELECT")n.focus(),u=n.value;else if(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA"){var h=n.hasAttribute("readonly");h||n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length),h||n.removeAttribute("readonly"),u=n.value}else{n.hasAttribute("contenteditable")&&n.focus();var g=window.getSelection(),m=document.createRange();m.selectNodeContents(n),g.removeAllRanges(),g.addRange(m),u=g.toString()}return u}o.exports=c},279:function(o){function c(){}c.prototype={on:function(n,u,h){var g=this.e||(this.e={});return(g[n]||(g[n]=[])).push({fn:u,ctx:h}),this},once:function(n,u,h){var g=this;function m(){g.off(n,m),u.apply(h,arguments)}return m._=u,this.on(n,m,h)},emit:function(n){var u=[].slice.call(arguments,1),h=((this.e||(this.e={}))[n]||[]).slice(),g=0,m=h.length;for(g;g<m;g++)h[g].fn.apply(h[g].ctx,u);return this},off:function(n,u){var h=this.e||(this.e={}),g=h[n],m=[];if(g&&u)for(var y=0,_=g.length;y<_;y++)g[y].fn!==u&&g[y].fn._!==u&&m.push(g[y]);return m.length?h[n]=m:delete h[n],this}},o.exports=c,o.exports.TinyEmitter=c}},s={};function l(o){if(s[o])return s[o].exports;var c=s[o]={exports:{}};return r[o](c,c.exports,l),c.exports}return function(){l.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(c,{a:c}),c}}(),function(){l.d=function(o,c){for(var n in c)l.o(c,n)&&!l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:c[n]})}}(),function(){l.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)}}(),l(686)}().default})}),K0={};a3(K0,{default:()=>Zc});var l3=G0(Y0());s3(K0,G0(Y0()));var W0=l3,{default:q0}=W0,c3=nn(W0,["default"]),Zc=q0!==void 0?q0:c3;function X0(e,t){let r=e.querySelector("output");r||(r=document.createElement("output"),r.setAttribute("role","alert"),e.appendChild(r)),r.textContent="",r.textContent=t}function u3(e){let t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target",`#${e.querySelector("input").id}`),t}function d3(e){e.querySelector("input")&&(e.appendChild(u3(e)),e.setAttribute("data-copyable-text-ready",""))}function h3(){let e=new Zc("[data-copyable-text] [data-clipboard-target]");e.on("success",t=>{let r=t.trigger.parentElement,s=r.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.";X0(r,s)}),e.on("error",t=>{let r=t.trigger.parentElement,s=r.getAttribute("data-copyable-text-error-message")||"Something went wrong.";X0(r,s)})}function p3(){let e=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");e.length<=0||Zc.isSupported()&&([...e].forEach(d3),h3())}je(p3);Oo();function Z0(e,t){let r=e.querySelector(t);return r?r.value:""}function f3(){Vi("setUpDisabilityEligibility()"),Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(e=>{let t=e.dataset.disabilityEligibilityType;e.addEventListener("submit",r=>{let s=Z0(e,".disability-eligibility-password"),l=Z0(e,".disability-eligibility-token"),o={type:t,password:s,token:l},c=/\?.*login=([^&]+)/,n=location.href.match(c);n&&([,o.login]=n);let u=document.createElement("img");u.src="/images/loading.gif",e.querySelector('input[type="submit"]').parentNode.appendChild(u),je.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:o,success:g=>{if(g.status==="success"){alert("Success! Your eligibility has been verified.");return}if(g.message==="not logged in"){alert("Please login first.");return}alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${g.status_code}, ${g.message}`)},error:(g,m,y)=>{alert("Sorry. We could not verify your eligibility at this time."),console.log(`Verification error: ${m}, ${y}`)},complete:()=>{u.remove()}}),r.preventDefault()})})}je(()=>f3());var m3=()=>{let e=window.location.search.substring(1),t={};return e.length>0&&e.split("&").forEach(r=>{let[s,l]=r.split("=");t[s]=decodeURIComponent(l)}),t},J0=m3;Oo();function En(e,t,r="false",s=null){if(typeof e!="string")throw new Error("first arg should be a string");je(e).on("click",s,l=>{let o=t(l);return r==="callback"&&o?o:r==="default"?!0:(l&&l.preventDefault&&l.preventDefault(),l&&l.stopPropagation&&l.stopPropagation(),!1)})}var So=class e{static css(){let t=document.createElement("style");t.textContent=`
#manage-ids {
  visibility: hidden;
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
}

#manage-help > div {
  display: inline-block;
  font-weight: bold;
  font-size: 125%;
  padding-right: 10px;
}

#manage-help .btn-info {
  background-color: #777;
  border-color: #666;
}


#manage-help > p {
  text-align: center;
}

.item-ia.manage-item  .item-img {
  opacity: .8;
}

.item-ia.manage-item  .item-img:hover {
  opacity: .9;
}

.manage-check {
  position: absolute;
  right: 0;
  top: 0;
  border-style: solid;
  border-color: black;
  border-width: 2px 4px;
  background-color: black;
  border-radius: 3px;
}

#confirm-remove-items .btn {
  display: block;
  margin: 0 auto 10px;
}

.task-pending {
  opacity: .20;
}

/* Bulk remove items modal */
#confirm-remove-items .modal-content {
  padding: 1rem;
}

#confirm-remove-items h2 {
  font-size: 2.4rem;
}
`,document.getElementsByTagName("head")[0].appendChild(t)}static get Context(){return{Favorites:"collection",SearchResults:"search results",Uploads:"uploads",Posts:"posts",Reviews:"reviews",Collections:"collections",Loans:"loans",WebArchives:"web archives"}}static manage_items(t){je("body").hasClass("lists")&&je(".tiles-button:visible").click();let r=je("body").hasClass("search-results-page")?e.Context.SearchResults:Lr.inTab();if(![e.Context.Favorites,e.Context.Uploads,e.Context.Collections,e.Context.WebArchives,e.Context.SearchResults].includes(r)){alert("Removal feature cannot be used here");return}let s=[".item-ia.new-item"];if(r===e.Context.Uploads||r===e.Context.Collections){let l=window.location.pathname.match(/^\/details\/@([^&/#?]+)/);l&&s.push(`.item-ia[data-id="fav-${l[1]}"]`)}if(je(s.join(", ")).toggleClass("hidden-tiles"),je(".columns-facets").toggleClass("opac30"),je(".item-ia .manage-check").length)je(".item-ia").removeClass("manage-item").unbind("click"),je(".columns-items .co-top-row > div").toggle(),je(".item-ia .manage-check, #manage-help").remove(),je(".item-ia").off("contextmenu");else{if(je("#manage-help").length&&!je(".item-ia .hov").length){je(".item-ia").removeClass("manage-item").unbind("click"),je(".columns-items .co-top-row > div").toggle(),je(".item-ia .manage-check, #manage-help").remove(),je(".item-ia").off("contextmenu");return}let l;switch(r){case e.Context.Favorites:l="Select items to un-favorite";break;case e.Context.SearchResults:l="Select items";break;default:l="Select items to remove"}je(".columns-items .co-top-row").prepend(`
<div id="manage-help" style="display:none">
  <div>
    ${l}
  </div>
  <div class="topinblock">
    <button id="manage-cancel" class="btn btn-small btn-info">
      Cancel
    </button>
    <button id="manage-remove" class="btn btn-small btn-danger">
      Remove selected items
    </button>
    ${t&&r===e.Context.SearchResults?`
      <button id="manage-item-mgr" class="btn btn-small btn-warning">
        Item Manager the items
      </button>
      `:""}
  </div>
    ${t?`
    <p class="topinblock">
      <a id="manage-toggle-all" href="#">
        Toggle</br>all
      </a>
    </p>
    `:""}
</div>`),je("#manage-cancel").bind("click",e.manage_items),je("#manage-remove").bind("click",()=>e.remove_items_modal(r)),je("#manage-item-mgr").bind("click",e.to_item_manager),je("#manage-toggle-all").bind("click",e.toggle_checkboxes),je(".columns-items .co-top-row > div").toggle(),je(".item-ia.task-pending").bind("click",e.tile_clicked),je(".item-ia:not(.mobile-header):not(.new-item):not(.task-pending)").addClass("manage-item").bind("click",e.tile_clicked).append(e.checkbox(r===e.Context.SearchResults?"include item for item management":"remove this item from list")),je(".item-ia").on("contextmenu",c=>{let n=je(c.target).find("a:first").attr("href")||je(c.target).parents("a").attr("href");Vi("right-click",n),window.open(n,"_blank")})}}static remove_favorite_item(t){let r=je(t),s=r.data("id"),l=r.data("fav-collection");if(!s||!l)return;let o=location.protocol.concat("//",location.host,"/details/",l).concat(`?remove_item=${encodeURIComponent(s)}&kind=favorite`);e.toggle_favorite_icon(r,!1),e.update_favorite_count(!1),je.get(o)}static checkbox(t){return`
<div class="manage-check">
  <input
    type="checkbox"
    alt="${t}"
    title="${t}"/>
</div>`}static tile_clicked(t){let r=je(t.target);if(r.attr("type")==="checkbox")return!0;t.stopPropagation(),t.preventDefault();let s=r.parents(".item-ia").find(".manage-check input");return s.prop("checked",!s.prop("checked")),!1}static toggle_checkboxes(){return je(".manage-check input").prop("checked",(t,r)=>!r),!1}static remove_items_modal(t){let r="";je(".item-ia[data-id]:has(:checked)").each((o,c)=>{let n=je(c),u=n.find(".C2 a").text().trim();r+=`
        <div>
          <div class="pull-right">
            ${n.find(".pubdate > :first").text()}
          </div>
          <div>
            ${u.length?u:"[untitled]"}
          </div>
          <hr/>
        </div>
      `});let s=r===""?"No items selected":"Are you sure you want to remove these items?",l;if(r==="")r=`
        <div class="alert alert-danger">
          Please select some items using checkboxes from the prior screen to remove.
        </div>`;else{switch(t){case e.Context.Favorites:l="confirmed_remove_favorites";break;case e.Context.WebArchives:l="confirmed_remove_web_archives";break;default:l="confirmed_dark_items"}r+=`
        <button class="btn btn-small btn-danger ${l}">
          Remove items
        </button>`}Lr.modal_add(e.modalID,{title:s,body:r,headerClass:""}).modal("show"),En(`.${l}`,()=>{e[l]()})}static checked_ids(){return je(".item-ia[data-id]:has(:checked)").toArray().reduce((t,r)=>{let{id:s}=je(r).data();return t.concat(t?",":"",s)},"")}static checked_ids_json(){let t=je(".item-ia[data-id]:has(:checked)").toArray().map(r=>je(r).data().id);return JSON.stringify(t)}static to_item_manager(){let t=e.checked_ids();if(Vi("to_item_manager:",t),t!==""){let r=je(`
        <form id="manage-ids" method="POST" action="/manage/">
          <input type="text" name="identifier" value="${t}"/>
        </form>`);je("body").append(r),r.submit()}return!1}static confirmed_remove_web_archives(){let t={action:"delete",identifiers:e.checked_ids_json()};je.ajax({type:"POST",url:"/services/web-archives/service.php",data:t,error:(r,s,l)=>{alert("Unable to complete the request. Our servers might be busy. Please try again later."),je(e.modalID).modal("hide")},success:e.update_tiles})}static confirmed_dark_items(){let t={identifier:e.checked_ids(),admin:"make_dark","curation[state]":"dark","curation[comment]":`from ${location.pathname}`};je.post("/manage/",t,e.update_tiles)}static confirmed_remove_favorites(){let t=e.checked_ids(),r=location.href.replace(/#.*$/,"").concat(`?kind=favorite&remove_item=${encodeURIComponent(t)}`);return je.get(r,e.update_tiles),!1}static update_tiles(){je(".item-ia[data-id]:has(:checked)").remove(),Lr.tiler(),je(e.modalID).modal("hide")}static decorate_pendings(t){t.length&&(Vi("pending",t),t.forEach(r=>je(`.item-ia[data-id=${r}]`).addClass("task-pending")))}static toggle_list_status(t){return je(t).hasClass("favorited")?e.remove_favorite_item(t,!0):Lr.modal_go(t,{favorite:1}),!1}static toggle_favorite_icon(t,r=!0){let s=je(t).find("span.icon-label");t.length&&(t.find("span:eq(0)").toggleClass("iconochive-No_Favorite iconochive-favorite"),r?(t.addClass("favorited"),t.attr({"data-original-title":"Unfavorite"}),s.text("Unfavorite")):(t.removeClass("favorited"),t.attr({"data-original-title":"Favorite"}),s.text("Favorite")))}static update_favorite_count(t=!0){let r=je(".favorite-count"),s=r.find(".item-stats-summary__label"),l=r.find(".item-stats-summary__count");l.length||(l=document.createElement("span"),l.className="item-stats-summary__count",r.append(l),s=document.createElement("span"),s.className="item-stats-summary__label",r.append(s));let o=Number(je(l).text().trim().replace(/,/g,""));t?o+=1:o-=1,je(s).text(o===1?" Favorite":" Favorites"),je(l).text(o.toLocaleString())}};je(()=>{if(window.location.hostname==="web.archive.org")return;So.modalID="#confirm-remove-items",So.css(),je("body").hasClass("manage")&&So.manage_items(1);let e=je(".js-manage-toggle_list_status");e.length&&e.bind("click",t=>{t.preventDefault(),So.toggle_list_status(e[0])}),En(".js-search-bar-manage",t=>So.manage_items(1)),En(".js-manage-share_button",t=>Lr.modal_go(t.currentTarget,{ignore_lnk:1,shown:Lr.embed_codes_adjust}))});window.Manage=So;var Q0={namespace:"banners",action:"ia-banner-close",selector:".ia-banner",dismiss(e){e.preventDefault();let t=e.currentTarget.closest(this.selector);this.isLocalStorageAvailable()&&this.writeStorage(t.getAttribute("data-campaign")),t.remove()},readStorage(){return JSON.parse(localStorage.getItem(this.namespace))||[]},writeStorage(e){let t=this.readStorage();localStorage.setItem(this.namespace,JSON.stringify([...t,e]))},bindEvents(){document.querySelectorAll(`${this.selector} [data-action=${this.action}]`).forEach(e=>{e.addEventListener("submit",t=>(this.dismiss(t),!1))})},checkVisibility(){let e=this.isLocalStorageAvailable()?this.readStorage():[];document.querySelectorAll(this.selector).forEach(t=>{t.classList.toggle("visible",!e.includes(t.getAttribute("data-campaign")))})},isLocalStorageAvailable(){try{return Object.keys(localStorage).length>=0}catch(e){return!1}},init(){this.bindEvents(),this.checkVisibility()}};Oo();function ey(e,t){let r=t&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let s=0;s<r.length;s++)if(r[s].slice(0,r[s].indexOf("="))===e){let l=r[s].slice(r[s].indexOf("=")+1);return l.length>0?unescape(l):""}return""}function ra(e){let t=`${e}`.split("."),r=t[0],s=t.length>1?`.${t[1]}`:"",l=/(\d+)(\d{3})/;for(;l.test(r);)r=r.replace(l,"$1,$2");return r+s}var ty=({$form:e,url:t,selector:r,element:s,conf:l})=>{let o={success(c){vo.get("logged-in-user")!==void 0?(je(r).on("hidden.bs.modal",()=>{je(r).remove(),Lr.modal_go(s,rn(Rr({},l),{postLogin:!0}))}),je(document.body).removeClass("blurry"),je(r).modal("hide")):c.status!=="ok"&&(c.status==="bad_login"&&je(".reset-password").hide(),je(".password-error").html(c.message))},error(c){let n=c.responseJSON;je(".reset-password").hide(),n?je(".password-error").html(n.message):je(".password-error").text("Whoops! Something didn't work quite right. Please try again in a bit.")}};e.on("submit",()=>{let c={},{success:n,error:u}=o;return e.find("input").each((h,g)=>{je(g).attr("name").length&&(c[je(g).attr("name")]=je(g).val())}),c.submit_by_js="true",e.find(".alert").remove(),je.ajax(t,{type:"POST",data:c,success:n,error:u}),!1})};var Jc=class e{static RegionsTable({caption:t="Regions",captionClass:r="",counts:s=[]}){return`
      <table class="stats-table">
        <caption class="${r}">${t}</caption>

        <thead>
          <tr>
            <th scope="col">Region</th>
            <th scope="col">Country</th>
            <th class="stats-table__numeric-column" scope="col">Views</th>
          </tr>
        </thead>

        <tbody>
          ${s.map(l=>`
            <tr key="${l.state.code}_${l.country.code}_${l.count}">
              <td>${l.state.formattedName}</td>
              <td>${l.country.formattedName}</td>
              <td class="stats-table__numeric-column">${l.formattedCount}</td>
            </tr>`).join("")}
        </tbody>
      </table>`}static setUpTopRegionsTable(){let t=je(".js-top-regions-table"),r=t.find(".js-top-regions-message"),s=r.text();if(!t||!r)return;r.html(Rs.LoadingMessage({message:"loading data"}));let l={uaKinds:["non_robot","unrecognized"]};t.data("days")&&(l.days=parseInt(t.data("days"),10)),t.data("limit")&&(l.limit=parseInt(t.data("limit"),10)),e.StatsApiClient.getGeoCounts(t.data("identifier"),l).then(o=>{t.html(e.RegionsTable({caption:t.data("caption"),captionClass:t.data("captionClass"),counts:o}))},()=>{r.text(s)})}};(function(){function t(n){return n.charAt(0).toUpperCase()+n.slice(1)}class r{constructor({code:u,name:h}){this.code=u,this.name=h}get formattedName(){return t(this.name)}}class s{constructor({count:u,country:h,state:g}){this.count=parseInt(u,10),this.country=h,this.state=g}get formattedCount(){return ra(this.count)}}function l(n){return new s({count:n.sum_count_value,country:new r({code:n.geo_country,name:n.country}),state:new r({code:n.geo_state,name:n.state})})}function o(n,{uaKinds:u=["robot","non_robot","unrecognized"]}={}){if(!n.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");function h(m){return u.indexOf(m)!==-1}let g={};for(let m=0;m<n.counts_geo.length;m++){let y=n.counts_geo[m];if(h(y.ua_kind)&&y.country!=="unknown"){let _=`${y.geo_country}_${y.geo_state}`;g[_]?g[_].count+=y.sum_count_value:g[_]=l(y)}}return Object.keys(g).map(m=>g[m])}let c="https://be-api.us.archive.org/views/v1";Jc.StatsApiClient=class{static getGeoCounts(u,{days:h=30,limit:g=100,uaKinds:m=["robot","non_robot","unrecognized"]}={}){let y=`${c}/detail/collection/${u}/${h}`;return je.get(y).then(_=>{try{return o(_,{uaKinds:m}).sort((w,k)=>w.count<k.count?1:-1).slice(0,g)}catch(w){return je.Deferred().reject(w)}})}}})();Oo();var Qc=class{static setup(){je(".js-search-bar").each(function(){let r=je(this),s=r.data("autocompleteFormat");s!=="off"&&Promise.resolve().then(()=>(uf(),cf)).then(()=>{let l={minLength:3,source:function(c,n){je.ajax({url:"https://be-api.us.archive.org/searches/complete",data:{q:c.term,limit:15},dataType:"json",success:n,error:function(h,g,m){Vi(`${g}: ${m}`),n([])}})},open:function(){let c=je(this).autocomplete("widget"),n=c.offset();n.left<0&&(c.width(c.width()-n.left),c.offset({top:n.top,left:0}))},classes:{"ui-autocomplete":"truncate"}};s==="inline"?(l.appendTo=r.data("autocompleteAppendTo"),l.position={using:je.noop}):(l.classes["ui-autocomplete"]+=" z-above-top-nav",s==="right"&&(l.position={my:"right top",at:"right bottom"})),r.autocomplete(l)})})}};je(()=>{let e=je(".search-form--inside");if(!e)return;let t=n=>n?encodeURIComponent(n.trim()).replace(/%20/g,"+"):"",r=(n,u,h)=>{h&&n.append(u,h)},s=(n,u,h)=>h?`${n?"&":""}${u}=${h}`:"",l=e.find(".searchlist").val(),o=e.find('[name="sin"]:checked').val(),c=new URLSearchParams(window.location.search.substring(1));e.submit(n=>{n.preventDefault();let u=e.find(".searchlist").val(),h=e.find('[name="sin"]:checked').val(),g=new URLSearchParams;r(g,"query",u),r(g,"sin",h);let m=g.toString();if(l===u&&o===h)for(let w of c.getAll("and[]"))m+=s(m,"and[]",t(w));let y=c.get("sort");m+=s(m,"sort",t(y)),m&&(m=`?${m}`);let _=window.location;window.location=`${_.origin}${_.pathname}${m}`})});function sy(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");je(e).on("change",s=>{let l=t(s);return r==="callback"&&l?l:r==="default"?!0:(s&&s.preventDefault&&s.preventDefault(),s&&s.stopPropagation&&s.stopPropagation(),!1)})}function ly(e,t,r="false"){if(typeof e!="string")throw new Error("first arg should be a string");je(e).on("submit",s=>{let l=t(s);return r==="callback"&&l?l:r==="default"?!0:(s&&s.preventDefault&&s.preventDefault(),s&&s.stopPropagation&&s.stopPropagation(),!1)})}function cy(e,t=100,r=!1){let s;return function(){let o=this,c=arguments;function n(){r||e.apply(o,...c),s=null}s?clearTimeout(s):r&&e.apply(o,...c),s=setTimeout(n,t)}}var df="";typeof window<"u"&&(df=Array.prototype.slice.call(window.getComputedStyle(document.documentElement,"")).join(",").search(/,animation/)>-1?"":"webkit");function Ds(e,t){Object.keys(t).forEach(r=>{let s=r;df&&r.search("animation")>-1&&(s=df+r[0].toUpperCase()+r.substr(1)),e.style[s]=t[r]})}function hy(e){Ds(e,{display:"block"})}function py(e){Ds(e,{display:"none"})}function C3(){let e=document.body,t=document.documentElement,r;return window.innerHeight?r=window.innerHeight:t&&t.clientHeight?r=t.clientHeight:e&&(r=e.clientHeight),r||0}function E3(){let e=document.body,t=document.documentElement,r;return window.innerWidth?r=window.innerWidth:t&&t.clientWidth?r=t.clientWidth:e&&(r=e.clientWidth),r||0}function T3(e,t){return t||(t=document.createElement("style"),document.body.appendChild(t)),t.textContent=e,t}function Cd(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function P3(e){return e===document.body}function Io(e,t){e.classList.add(t)}function uy(e,t){e.classList.remove(t)}var $3=typeof document<"u"&&"onanimationend"in document;function dy(e,t){return e+Math.floor(Math.random()*(t-e))}function hf(e,t,r,s,l){return s+(l-s)*(e-t)/(r-t)}var pf=20;function fy(e,t,r){return Math.floor(hf(e,0,pf,t,r))}var L3=class{constructor(e){this.size=0,this.sizeInner=0;let t=this.elem=document.createElement("div"),r=this.elemInner=document.createElement("div");this.update(e),Io(t,"snowflake"),Io(r,"snowflake__inner"),Io(t,"snowflake_animation"),$3?(Io(t,"snowflake_animation-end"),t.onanimationend=s=>{s.target===t&&(this.updateLeft(),this.reflow())}):Io(t,"snowflake_animation-infinity"),e.types&&Io(r,"snowflake__inner_type_"+dy(0,e.types)),e.wind&&Io(r,"snowflake__inner_wind"),e.rotation&&Io(r,"snowflake__inner_rotation"+(Math.random()>.5?"":"_reverse")),t.appendChild(r)}getLeft(){return Math.random()*99+"%"}updateLeft(){this.elem&&Ds(this.elem,{left:this.getLeft()})}update(e){if(!this.elem||!this.elemInner)return;let t=e.minSize===e.maxSize;this.sizeInner=t?0:dy(0,pf),this.size=fy(this.sizeInner,e.minSize,e.maxSize);let r=this.getAnimationProps(e),s={animationName:`snowflake_gid_${e.gid}_y`,animationDelay:r.animationDelay,animationDuration:r.animationDuration,left:this.getLeft(),top:-Math.sqrt(2)*this.size+"px",width:this.size+"px",height:this.size+"px"};t||(s.opacity=String(hf(this.size,e.minSize,e.maxSize,e.minOpacity,e.maxOpacity))),Ds(this.elem,s);let l=`snowflake_gid_${e.gid}_x_${this.sizeInner}`;Ds(this.elemInner,{animationName:l,animationDelay:Math.random()*4+"s"})}reflow(){this.elem&&(py(this.elem),this.elem.offsetHeight,hy(this.elem))}resize(e){if(!this.elem)return;let t=this.getAnimationProps(e);Ds(this.elem,{animationDuration:t.animationDuration})}appendTo(e){this.elem&&e.appendChild(this.elem)}destroy(){this.elem&&(this.elem.onanimationend=null,delete this.elem,delete this.elemInner)}getAnimationProps(e){let t=e.containerHeight/50/e.speed,r=t/3;return{animationDelay:Math.random()*t+"s",animationDuration:hf(this.size,e.minSize,e.maxSize,t,r)+"s"}}},M3='.snowflake{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:transform}.snowflake_animation{-webkit-animation:snowflake_unknown 10s linear;animation:snowflake_unknown 10s linear}.snowflake_animation-infinity{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.snowflake__inner,.snowflake__inner:before{bottom:0;left:0;position:absolute;right:0;top:0}.snowflake__inner:before{background-size:100% 100%;content:""}.snowflake__inner_wind{-webkit-animation:snowflake_unknown 2s ease-in-out infinite alternate;animation:snowflake_unknown 2s ease-in-out infinite alternate}.snowflake__inner_rotation:before{-webkit-animation:snowflake_rotation 10s linear infinite;animation:snowflake_rotation 10s linear infinite}.snowflake__inner_rotation_reverse:before{-webkit-animation:snowflake_rotation_reverse 10s linear infinite;animation:snowflake_rotation_reverse 10s linear infinite}@-webkit-keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes snowflake_rotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}@keyframes snowflake_rotation_reverse{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(-1turn);transform:rotate(-1turn)}}.snowflakes{pointer-events:none}.snowflakes_paused .snowflake,.snowflakes_paused .snowflake__inner,.snowflakes_paused .snowflake__inner:before{-webkit-animation-play-state:paused;animation-play-state:paused}.snowflakes_hidden{visibility:hidden}.snowflakes_body{height:1px;left:0;position:fixed;top:0;width:100%}',O3=`.snowflakes_gid_value .snowflake__inner_type_0:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36.283' height='36.283'%3E%3Cpath d='M35.531 17.391h-3.09l.845-1.464a.748.748 0 1 0-1.297-.75l-1.276 2.214H28.61l2.515-4.354a.751.751 0 0 0-.272-1.024.75.75 0 0 0-1.024.274l-2.948 5.104h-2.023a6.751 6.751 0 0 0-2.713-4.684l1.019-1.76 5.896-.002a.75.75 0 0 0 0-1.5l-5.029.002 1.051-1.82 2.557.002a.75.75 0 0 0 0-1.5l-1.689-.002 1.545-2.676a.75.75 0 1 0-1.302-.75l-1.547 2.676-.844-1.463a.749.749 0 1 0-1.297.75l1.278 2.213-1.051 1.818-2.514-4.354a.75.75 0 0 0-1.298.75l2.946 5.104-1.016 1.758a6.692 6.692 0 0 0-2.706-.57 6.74 6.74 0 0 0-2.707.568l-1.013-1.754 2.946-5.105a.75.75 0 0 0-1.298-.75L13.56 8.697l-1.05-1.818 1.278-2.217a.749.749 0 0 0-1.298-.75l-.845 1.465-1.551-2.678a.75.75 0 0 0-1.024-.273.748.748 0 0 0-.274 1.023l1.545 2.678H8.652a.75.75 0 0 0 0 1.5h2.556l1.05 1.818H7.231a.75.75 0 0 0 0 1.5h5.894l1.017 1.762a6.755 6.755 0 0 0-2.712 4.684H9.406l-2.95-5.104a.75.75 0 1 0-1.299.75l2.516 4.354H5.569l-1.277-2.213a.75.75 0 0 0-1.298.75l.845 1.463H.75a.75.75 0 0 0 0 1.5h3.09l-.845 1.465a.747.747 0 0 0 .275 1.022.75.75 0 0 0 .374.103.75.75 0 0 0 .65-.375l1.277-2.215h2.103l-2.516 4.354a.75.75 0 0 0 1.299.75l2.949-5.104h2.024a6.761 6.761 0 0 0 2.712 4.685l-1.017 1.762H7.232a.75.75 0 0 0 0 1.5h5.026l-1.05 1.818H8.651a.75.75 0 0 0 0 1.5h1.69l-1.545 2.676a.75.75 0 0 0 1.299.75l1.546-2.676.846 1.465a.755.755 0 0 0 .65.375.737.737 0 0 0 .375-.103.747.747 0 0 0 .274-1.022l-1.279-2.215 1.05-1.82 2.515 4.354a.75.75 0 0 0 1.299-.75l-2.947-5.104 1.013-1.756a6.72 6.72 0 0 0 5.415 0l1.014 1.756-2.947 5.104a.75.75 0 0 0 1.298.75l2.515-4.354 1.053 1.82-1.277 2.213a.75.75 0 0 0 1.298.75l.844-1.463 1.545 2.678c.141.24.393.375.65.375a.75.75 0 0 0 .649-1.125l-1.548-2.678h1.689a.75.75 0 0 0 0-1.5h-2.557l-1.051-1.82 5.029.002a.75.75 0 0 0 0-1.5l-5.896-.002-1.019-1.76a6.75 6.75 0 0 0 2.711-4.685h2.023l2.947 5.104a.753.753 0 0 0 1.025.273.749.749 0 0 0 .272-1.023l-2.515-4.354h2.104l1.279 2.215a.75.75 0 0 0 .649.375c.127 0 .256-.03.375-.103a.748.748 0 0 0 .273-1.022l-.848-1.465h3.092a.75.75 0 0 0 .003-1.5zm-12.136.75c0 .257-.041.502-.076.75a5.223 5.223 0 0 1-1.943 3.358 5.242 5.242 0 0 1-1.291.766 5.224 5.224 0 0 1-1.949.384 5.157 5.157 0 0 1-3.239-1.15 5.22 5.22 0 0 1-1.943-3.358c-.036-.247-.076-.493-.076-.75s.04-.503.076-.75a5.22 5.22 0 0 1 1.944-3.359c.393-.312.82-.576 1.291-.765a5.219 5.219 0 0 1 1.948-.384c.69 0 1.344.142 1.948.384.471.188.898.454 1.291.765a5.222 5.222 0 0 1 1.943 3.359c.035.247.076.493.076.75z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_1:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.813' height='32.813'%3E%3Cpath d='M29.106 24.424a.781.781 0 0 1-.781.781h-3.119v3.119a.782.782 0 0 1-1.562 0v-4.682h4.682c.43.001.78.351.78.782zM4.673 9.352h4.682V4.671a.781.781 0 0 0-1.563 0V7.79H4.673a.781.781 0 0 0 0 1.562zM3.708 24.24c0 .431.35.781.781.781H7.61v3.12a.78.78 0 1 0 1.562 0v-4.683H4.489a.782.782 0 0 0-.781.782zM28.923 8.39a.78.78 0 0 0-.781-.781h-3.121V4.488a.781.781 0 0 0-1.562 0v4.684h4.684a.783.783 0 0 0 .78-.782zm3.889 8.017c0 .431-.35.781-.781.781h-3.426l1.876 1.873a.784.784 0 0 1 0 1.107.791.791 0 0 1-.554.228.773.773 0 0 1-.55-.228l-2.979-2.98h-2.995a6.995 6.995 0 0 1-1.728 3.875h5.609a.781.781 0 0 1 0 1.562h-4.666v4.667a.782.782 0 0 1-1.562 0v-5.61a7 7 0 0 1-3.866 1.719v2.995l2.978 2.98c.306.305.306.8 0 1.104a.78.78 0 0 1-1.104 0l-1.874-1.876v3.427a.781.781 0 0 1-1.562 0v-3.427l-1.875 1.876a.78.78 0 1 1-1.105-1.104l2.979-2.98v-2.995a7.016 7.016 0 0 1-3.865-1.717v5.608a.781.781 0 0 1-1.562 0v-4.667H5.535a.781.781 0 0 1 0-1.562h5.607a7.022 7.022 0 0 1-1.728-3.875H6.417l-2.979 2.979a.784.784 0 0 1-1.104 0 .781.781 0 0 1 0-1.106l1.874-1.873H.782a.78.78 0 1 1-.001-1.563h3.426L2.333 13.75a.783.783 0 0 1 1.105-1.106l2.979 2.979h2.995a6.996 6.996 0 0 1 1.72-3.866H5.533a.781.781 0 0 1 0-1.562h4.666V5.528a.781.781 0 0 1 1.562 0v5.599a6.995 6.995 0 0 1 3.865-1.717V6.415l-2.978-2.979a.782.782 0 0 1 1.105-1.105l1.874 1.875V.781a.78.78 0 1 1 1.562 0v3.426l1.875-1.875a.777.777 0 0 1 1.104 0 .78.78 0 0 1 0 1.105l-2.978 2.98v2.996a7.021 7.021 0 0 1 3.866 1.718V5.532a.78.78 0 1 1 1.562 0v4.666h4.666a.78.78 0 1 1 0 1.562h-5.599a7 7 0 0 1 1.718 3.866h2.995l2.979-2.979a.783.783 0 0 1 1.106 1.106l-1.876 1.874h3.427a.777.777 0 0 1 .778.78zm-11.006-.782a5.457 5.457 0 0 0-4.618-4.617c-.257-.037-.514-.079-.781-.079-.268 0-.524.042-.781.079a5.458 5.458 0 0 0-4.618 4.617c-.038.257-.079.514-.079.781s.041.522.079.781a5.455 5.455 0 0 0 4.618 4.616c.257.036.514.079.781.079s.524-.043.781-.079a5.457 5.457 0 0 0 4.618-4.616c.037-.259.079-.515.079-.781s-.043-.524-.079-.781z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_2:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35.79' height='35.79'%3E%3Cpath d='M7.161 22.223l.026-.047.865.5-.026.047a.503.503 0 0 1-.434.25c-.019 0-.034-.013-.053-.016l-.355-.205a.493.493 0 0 1-.023-.529zM9.969 8.988l2.785.001 1.393-2.414a.502.502 0 0 0-.869-.499l-1.103 1.913-2.208-.001a.5.5 0 1 0 .002 1zm15.854 17.813h-2.785l-1.393 2.411a.499.499 0 0 0 .436.75c.172 0 .34-.09.434-.25l1.104-1.911h2.207c.274 0 .5-.224.5-.5a.505.505 0 0 0-.503-.5zM23.038 8.99h2.785a.5.5 0 0 0 0-1h-2.207l-1.105-1.913a.5.5 0 0 0-.868.5l1.395 2.413zM12.754 26.801H9.967a.5.5 0 0 0 0 1h2.209l1.105 1.912a.496.496 0 0 0 .682.184.5.5 0 0 0 .184-.684l-1.393-2.412zm-7.218-6.309a.502.502 0 0 0 .685-.184l1.391-2.413-1.394-2.413a.5.5 0 0 0-.867.5l1.104 1.913-1.104 1.913a.5.5 0 0 0 .185.684zM30.254 15.3a.505.505 0 0 0-.685.183l-1.392 2.412 1.395 2.414a.501.501 0 0 0 .867-.5l-1.104-1.914 1.104-1.912a.5.5 0 0 0-.185-.683zm3.138 11.542a.501.501 0 0 1-.683.184l-.98-.565-2.137 1.231a.516.516 0 0 1-.5 0l-2.385-1.377a.502.502 0 0 1-.25-.433v-.854h-4.441l-2.225 3.852.736.428c.154.088.25.254.25.432l.001 2.755a.5.5 0 0 1-.25.433l-2.133 1.229v1.136c0 .274-.225.5-.5.5s-.5-.226-.5-.5v-1.136l-2.136-1.23a.5.5 0 0 1-.25-.433l.001-2.755c0-.178.096-.344.25-.432l.738-.427-2.224-3.849H9.332l.002.851a.505.505 0 0 1-.25.435l-2.387 1.377a.5.5 0 0 1-.5 0L4.06 26.46l-.982.567a.5.5 0 0 1-.5-.867l.982-.567.001-2.465c0-.179.097-.344.25-.434l2.388-1.377a.497.497 0 0 1 .5 0l.736.426 2.221-3.848-2.222-3.849-.737.426a.51.51 0 0 1-.5 0l-2.386-1.377a.5.5 0 0 1-.25-.434l.002-2.464-.983-.567a.501.501 0 0 1-.184-.683.502.502 0 0 1 .684-.183l.983.568 2.134-1.233a.5.5 0 0 1 .5 0l2.385 1.379c.156.089.25.255.25.433v.85h4.443l2.223-3.846-.74-.427a.501.501 0 0 1-.25-.434l.002-2.755c0-.178.096-.343.25-.433l2.135-1.233V.5a.5.5 0 0 1 1 0v1.135l2.134 1.231c.154.089.25.254.25.434l-.002 2.755a.503.503 0 0 1-.25.433l-.733.425 2.224 3.849h4.44l-.002-.851c0-.179.096-.344.25-.434l2.388-1.378a.502.502 0 0 1 .5 0l2.136 1.233.982-.568a.5.5 0 1 1 .5.866l-.983.568v2.464a.503.503 0 0 1-.25.433l-2.388 1.378a.5.5 0 0 1-.5 0l-.735-.426-2.222 3.849 2.223 3.849.734-.425a.506.506 0 0 1 .5 0l2.389 1.375c.154.09.25.255.25.435l-.002 2.462.982.568c.24.137.321.444.182.682zm-2.165-1.828l.001-1.597-1.888-1.087-.734.424-.348.201-.301.173-.5.289v2.179l1.885 1.088 1.386-.802.498-.286.001-.582zm-3.736-11.467l-.531-.307-2.283 1.318-2.443 3.337 2.442 3.337 2.283 1.316.531-.306-2.514-4.348 2.515-4.347zm-7.712 16.478l-.762-.438-.339-.194-.283-.166-.5-.289-.5.289-.279.162-.349.2-.757.437-.001 2.177 1.386.797.501.289.499-.287 1.386-.798-.002-2.179zM16.008 5.767l.736.425.371.214.279.16.5.288.5-.289.281-.163.367-.212.732-.424.002-2.178-1.381-.797-.502-.289-.498.287-1.385.8-.002 2.178zm6.52 14.227l-1.535-2.099 1.535-2.098.732-1-1.232.134-2.585.281-1.048-2.379-.5-1.133-.5 1.134-1.049 2.379-2.585-.281-1.232-.134.732 1 1.536 2.097-1.536 2.098-.732 1 1.232-.134 2.585-.281 1.049 2.379.5 1.134.5-1.134 1.048-2.379 2.585.281 1.232.134-.732-.999zm8.2-10.084l-1.386-.8-1.887 1.089v1.279l.002.32v.577l.5.289.28.163.367.213.732.424 1.888-1.089v-2.178l-.496-.287zM18.927 7.413l-.532.307v2.637l1.667 3.784 4.111-.447 2.283-1.317-.002-.613h-5.02l-2.507-4.351zm-9.594 4.348v.614l2.283 1.318 4.111.447 1.668-3.785V7.719l-.531-.306-2.509 4.347-5.022.001zm-2.15 1.279l.37-.213.279-.162.5-.289V10.2L6.446 9.11l-1.384.8-.499.289v.578l-.002 1.599 1.885 1.088.737-.424zm1.119 9.205l.53.306 2.281-1.316 2.443-3.339-2.442-3.337-2.281-1.317-.531.307 2.511 4.348-2.511 4.348zm-1.115-.069l-.026.047a.493.493 0 0 0 .023.529l-.734-.424-1.887 1.089-.001 1.599v.578l.5.288 1.386.8 1.887-1.088v-1.278l-.002-.321v-.577l-.5-.289-.293-.169c.02.002.035.017.055.017a.5.5 0 0 0 .433-.25l.026-.047-.867-.504zm9.679 6.202l.529-.306v-2.637l-1.668-3.785-4.111.447-2.283 1.316.002.611 5.021.002 2.51 4.352zm9.591-4.349v-.612L24.174 22.1l-4.111-.447-1.667 3.783v2.639l.531.307 2.512-4.352h5.018v-.001z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_3:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32.815' height='32.815'%3E%3Cpath d='M4.581 23.55h4.681v4.681a.78.78 0 1 1-1.562 0v-3.118H4.581a.781.781 0 0 1 0-1.563zM29.016 8.481a.781.781 0 0 0-.781-.781h-3.119V4.582a.781.781 0 0 0-1.562 0v4.681h4.682c.429 0 .78-.35.78-.782zm-24.252.598l4.683-.001V4.395a.781.781 0 0 0-1.562 0v3.121l-3.121.001a.781.781 0 0 0 0 1.562zm23.655 14.287h-4.685l.002 4.684a.78.78 0 1 0 1.562 0l-.002-3.121h3.122a.781.781 0 0 0 .001-1.563zm4.394-6.96a.78.78 0 0 1-.781.781h-3.426l1.876 1.875a.782.782 0 0 1-1.104 1.105l-2.979-2.979h-1.986L17.19 24.41v1.987l2.977 2.979a.781.781 0 0 1-1.103 1.106l-1.874-1.875v3.426a.78.78 0 1 1-1.562 0v-3.426l-1.875 1.875a.782.782 0 0 1-1.105-1.105l2.978-2.979V24.41l-7.219-7.22H6.418l-2.98 2.98a.777.777 0 0 1-1.103 0 .781.781 0 0 1 0-1.106L4.21 17.19H.783a.78.78 0 1 1 0-1.562h3.426l-1.876-1.875a.782.782 0 1 1 1.106-1.105l2.979 2.979h1.989l7.219-7.218v-1.99L12.648 3.44a.782.782 0 1 1 1.106-1.105l1.874 1.874V.781a.782.782 0 0 1 1.563 0v3.426l1.875-1.875a.783.783 0 0 1 1.106 1.105l-2.979 2.979v1.99l7.216 7.218h1.992l2.979-2.979a.782.782 0 0 1 1.105 1.105l-1.876 1.874h3.427a.781.781 0 0 1 .777.782zm-10.613.782l.778-.78-.781-.782-5.009-5.008-.781-.781-.781.781-5.01 5.008-.781.781.781.781 5.01 5.011.782.781.78-.779 5.012-5.013zm5.863 4.646a.782.782 0 0 0-.781-.781h-6.229v6.228a.78.78 0 1 0 1.562 0v-4.665h4.666a.782.782 0 0 0 .782-.782zm-.001-10.855a.782.782 0 0 0-.781-.781h-4.664V5.532a.782.782 0 0 0-1.562 0v6.228h6.227a.78.78 0 0 0 .78-.781zm-23.318 0c0 .432.35.781.781.781h6.228V5.532a.781.781 0 0 0-1.562 0v4.666H5.525a.781.781 0 0 0-.781.781zm.002 10.855c0 .432.35.781.781.781h4.664v4.665a.78.78 0 1 0 1.562 0v-6.228H5.527a.783.783 0 0 0-.781.782z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_4:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='37.794' height='37.794'%3E%3Cpath d='M30.638 17.313l-.914 1.584.915 1.585a.78.78 0 1 1-1.352.78l-1.366-2.366 1.366-2.365a.782.782 0 0 1 1.067-.286c.372.215.5.692.284 1.068zM11.65 11.08l2.733.002 1.367-2.367a.78.78 0 0 0-1.352-.781l-.915 1.585-1.831-.002h-.001a.78.78 0 0 0-.001 1.563zm14.491 15.633h-2.733l-1.365 2.365a.78.78 0 1 0 1.352.78l.914-1.584h1.831a.781.781 0 0 0 .001-1.561zm-4.1-17.998l1.367 2.367h2.733a.78.78 0 1 0 0-1.562h-1.833l-.915-1.585a.78.78 0 0 0-1.352.78zM15.75 29.08l-1.368-2.366h-2.733a.781.781 0 0 0 0 1.562h1.832l.917 1.585c.146.25.409.391.677.391a.779.779 0 0 0 .675-1.172zm-8.313-7.531a.78.78 0 0 0 1.067-.284L9.87 18.9l-1.367-2.368a.781.781 0 0 0-1.351.781l.916 1.587-.914 1.584a.776.776 0 0 0 .283 1.065zm27.827 6.798a.784.784 0 0 1-1.067.285l-.89-.515-2.096 1.209a.793.793 0 0 1-.391.105.762.762 0 0 1-.391-.105l-2.484-1.435a.78.78 0 0 1-.391-.676l-.002-2.417-2.408-1.392a7.714 7.714 0 0 1-5.467 3.168v2.773l2.093 1.208a.78.78 0 0 1 .391.676l.001 2.868c0 .28-.149.537-.392.676l-2.093 1.205v1.032a.781.781 0 0 1-1.562 0V35.98l-2.095-1.207a.78.78 0 0 1-.391-.676l.001-2.868c0-.28.15-.537.391-.676l2.094-1.206v-2.773a7.718 7.718 0 0 1-5.468-3.168l-2.408 1.392.002 2.415c0 .281-.15.539-.391.676l-2.487 1.437a.785.785 0 0 1-.782 0l-2.095-1.209-.893.518a.782.782 0 0 1-.782-1.354l.893-.517.001-2.414a.78.78 0 0 1 .391-.677l2.487-1.434a.774.774 0 0 1 .781 0l2.093 1.208 2.407-1.39a7.655 7.655 0 0 1 0-6.317l-2.406-1.39-2.096 1.209a.772.772 0 0 1-.782 0l-2.485-1.434a.786.786 0 0 1-.391-.676l.002-2.416-.894-.517a.78.78 0 0 1-.285-1.066.788.788 0 0 1 1.07-.283l.893.514 2.093-1.208a.774.774 0 0 1 .781 0L9.851 9.91c.24.14.391.398.391.675L10.24 13l2.408 1.392a7.712 7.712 0 0 1 5.468-3.167V8.45L16.02 7.242a.78.78 0 0 1-.391-.676l.002-2.87c0-.279.15-.538.391-.675l2.094-1.208V.781a.781.781 0 0 1 1.562 0v1.032l2.093 1.206a.785.785 0 0 1 .391.677l-.002 2.87c0 .28-.149.536-.391.674l-2.091 1.208v2.772a7.708 7.708 0 0 1 5.467 3.167l2.409-1.392-.002-2.416c0-.28.149-.539.391-.676l2.487-1.436c.24-.14.539-.14.781 0l2.095 1.208.894-.514a.78.78 0 1 1 .781 1.352l-.894.516v2.417c0 .279-.15.538-.391.675l-2.487 1.436a.785.785 0 0 1-.782 0l-2.092-1.209-2.408 1.39c.436.967.684 2.032.684 3.158a7.65 7.65 0 0 1-.684 3.158l2.408 1.391 2.091-1.206a.782.782 0 0 1 .78 0l2.488 1.432c.24.141.392.398.392.677l-.002 2.414.893.517a.783.783 0 0 1 .287 1.068zm-6.147-16.251l.001.9.78.453.921.531 1.706-.982v-1.965l-.78-.451-.923-.533-1.707.983.002 1.064zm-20.443-.002l.002-1.063-1.706-.985-.922.535-.778.451-.001.902-.001 1.063 1.703.982.924-.533.779-.451v-.901zm0 13.604l-.001-.899-.781-.451-.919-.533-1.706.982-.001 1.064v.901l.781.451.923.533 1.707-.982-.003-1.066zm15.109-3.076c.315-.413.586-.864.789-1.351a6.121 6.121 0 0 0 0-4.748 6.175 6.175 0 0 0-.789-1.35 6.158 6.158 0 0 0-4.106-2.375 6.48 6.48 0 0 0-.781-.056c-.266 0-.525.022-.781.056a6.149 6.149 0 0 0-4.106 2.375 6.128 6.128 0 0 0-.789 1.35 6.104 6.104 0 0 0-.479 2.374 6.1 6.1 0 0 0 1.268 3.725 6.15 6.15 0 0 0 4.106 2.374c.256.031.516.056.781.056s.525-.022.781-.056a6.142 6.142 0 0 0 4.106-2.374zM17.19 6.113l.924.531.781.452.781-.452.919-.531.002-1.968-.921-.531-.784-.452-.779.451-.922.532-.001 1.968zm3.408 25.57l-.921-.532-.781-.452-.781.452-.922.532-.001 1.966.923.531.782.451.78-.449.922-.533-.001-1.966zm11.925-5.819l.001-1.063-1.707-.981-.919.529-.782.451v.901l.001 1.065 1.702.981.924-.533.778-.449.002-.901z' fill=':color:'/%3E%3C/svg%3E")}.snowflakes_gid_value .snowflake__inner_type_5:before{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='31.25' height='31.25'%3E%3Cpath d='M20.581 1.176l-3.914 3.915V0h1.041v2.576L19.845.439l.736.737zm-1.615 9.069l.351.217 6.623-6.625-.736-.737-6.048 6.051a7.141 7.141 0 0 0-1.449-.6v-.082l5.082-5.082-.737-.737-5.387 5.388v1.33l.402.093a6.213 6.213 0 0 1 1.899.784zm2.041 2.043c.368.585.63 1.224.786 1.893l.094.403h1.028l5.171-5.173-.736-.737-4.699 4.701a7.523 7.523 0 0 0-.549-1.28l6.048-6.05-.737-.735-6.622 6.625.216.353zm7.368 1.254l1.921-1.923-.736-.735-3.699 3.7h5.39v-1.042h-2.876zm1.185 6.826l.736-.736-1.923-1.923h2.877v-1.042h-5.389l3.699 3.701zm-6.915-2.498l4.705 4.707.736-.736-5.171-5.174h-1.03l-.096.4a6.24 6.24 0 0 1-.795 1.883l-.22.353 6.639 6.641.736-.736-6.061-6.062c.227-.414.414-.84.557-1.276zm-3.7 3.125a6.241 6.241 0 0 1-1.88.794l-.399.096v1.33l5.387 5.387.736-.736-5.082-5.082v-.089a7.322 7.322 0 0 0 1.434-.605l6.061 6.062.736-.736-6.641-6.641-.352.22zM16.667 31.25h1.041v-2.576l2.137 2.137.736-.737-3.914-3.914v5.09zm-5.26-.439l2.134-2.137v2.576h1.042v-5.093l-3.913 3.916.737.738zm.897-9.816l-.352-.222-6.642 6.641.736.736 6.062-6.062c.456.254.937.456 1.433.605v.089l-5.08 5.082.736.736 5.387-5.387v-1.33l-.4-.096a6.175 6.175 0 0 1-1.88-.792zm-2.046-2.047a6.315 6.315 0 0 1-.798-1.883l-.096-.4H8.335l-5.172 5.174.737.736 4.706-4.71c.145.441.329.865.556 1.276L3.1 25.202l.736.736 6.643-6.643-.221-.347zM0 16.667v1.042h2.876L.954 19.632l.736.736 3.698-3.701H0zm1.69-5.783l-.736.735 1.921 1.923H0v1.042h5.39l-3.7-3.7zm6.916 2.498L3.9 8.674l-.736.737 5.172 5.173h1.029l.096-.4a6.15 6.15 0 0 1 .798-1.881l.222-.352L3.837 5.31l-.736.736 6.062 6.06a7.268 7.268 0 0 0-.557 1.276zm-.145-9.996l5.08 5.082v.088c-.497.15-.977.352-1.433.606L6.047 3.101l-.736.737 6.643 6.643.352-.222a6.223 6.223 0 0 1 1.88-.797l.4-.095v-1.33L9.2 2.649l-.739.737zm5.081-.81L11.408.439l-.736.737 3.913 3.917V0h-1.042v2.576zm-1.757 14.831a4.2 4.2 0 0 0 2.06 2.058l.739.338v-3.136h-3.138l.339.74zm0-3.562l-.337.738h3.135v-3.136l-.739.338a4.223 4.223 0 0 0-2.059 2.06zm7.679 3.561l.338-.739h-3.135v3.136l.738-.338a4.204 4.204 0 0 0 2.059-2.059zm0-3.561a4.198 4.198 0 0 0-2.059-2.06l-.738-.34v3.138h3.135l-.338-.738z' fill=':color:'/%3E%3C/svg%3E")}`,eu=class ss{constructor(t){this.destroyed=!1,this.flakes=[],this.isBody=!1,this.handleResize=()=>{this.params.autoResize&&this.resize()},this.handleOrientationChange=()=>{this.resize()},this.params=this.setParams(t),this.isBody=P3(this.params.container),ss.gid++,this.gid=ss.gid,this.container=this.appendContainer(),this.params.stop&&this.stop(),this.appendStyles(),this.appendFlakes(),this.containerSize={width:this.width(),height:this.height()},window.addEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.addEventListener&&screen.orientation.addEventListener("change",this.handleOrientationChange)}start(){uy(this.container,"snowflakes_paused")}stop(){Io(this.container,"snowflakes_paused")}show(){uy(this.container,"snowflakes_hidden")}hide(){Io(this.container,"snowflakes_hidden")}resize(){let t=this.width(),r=this.height();if(r===this.containerSize.height)return;this.containerSize.width=t,this.containerSize.height=r;let s=this.getFlakeParams();this.flakes.forEach(l=>l.resize(s)),!this.isBody&&(py(this.container),this.updateAnimationStyle(),hy(this.container))}destroy(){this.destroyed||(this.destroyed=!0,ss.instanceCounter&&ss.instanceCounter--,this.removeStyles(),Cd(this.container),this.flakes.forEach(t=>t.destroy()),this.flakes=[],window.removeEventListener("resize",this.handleResize,!1),screen.orientation&&screen.orientation.removeEventListener&&screen.orientation.removeEventListener("change",this.handleOrientationChange,!1))}appendContainer(){let t=document.createElement("div");return Io(t,"snowflakes"),Io(t,`snowflakes_gid_${this.gid}`),this.isBody&&Io(t,"snowflakes_body"),Ds(t,{zIndex:String(this.params.zIndex)}),this.params.container.appendChild(t),t}appendStyles(){ss.instanceCounter||(this.mainStyleNode=this.injectStyle(M3)),ss.instanceCounter++,this.imagesStyleNode=this.injectStyle(O3.replace(/:color:/g,encodeURIComponent(this.params.color))),this.animationStyleNode=this.injectStyle(this.getAnimationStyle())}injectStyle(t,r){return T3(t.replace(/_gid_value/g,`_gid_${this.gid}`),r)}getFlakeParams(){let t=this.height(),r=this.params;return{containerHeight:t,gid:this.gid,count:r.count,speed:r.speed,rotation:r.rotation,minOpacity:r.minOpacity,maxOpacity:r.maxOpacity,minSize:r.minSize,maxSize:r.maxSize,types:r.types,wind:r.wind}}appendFlakes(){let t=this.getFlakeParams();this.flakes=[];for(let r=0;r<this.params.count;r++)this.flakes.push(new L3(t));this.flakes.sort((r,s)=>r.size-s.size).forEach(r=>{r.appendTo(this.container)})}setParams(t){let r=t||{},s={},l={color:"#5ECDEF",container:document.body,count:50,speed:1,stop:!1,rotation:!0,minOpacity:.6,maxOpacity:1,minSize:10,maxSize:25,types:6,width:void 0,height:void 0,wind:!0,zIndex:9999,autoResize:!0};return Object.keys(l).forEach(o=>{s[o]=typeof r[o]>"u"?l[o]:r[o]}),s}getAnimationStyle(){let t="0px",r=this.params.maxSize*Math.sqrt(2),s=this.isBody?`calc(100vh + ${r}px)`:`${this.height()+r}px`,l=this.gid,o=`@-webkit-keyframes snowflake_gid_${l}_y{from{-webkit-transform:translateY(${t})}to{-webkit-transform:translateY(${s});}}
@keyframes snowflake_gid_${l}_y{from{transform:translateY(${t})}to{transform:translateY(${s});}}`;for(let c=0;c<=pf;c++){let n=fy(c,this.params.minSize,this.params.maxSize)+"px";o+=`@-webkit-keyframes snowflake_gid_${l}_x_${c}{from{-webkit-transform:translateX(0px)}to{-webkit-transform:translateX(${n});}}
@keyframes snowflake_gid_${l}_x_${c}{from{transform:translateX(0px)}to{transform:translateX(${n})}}`}return o}updateAnimationStyle(){this.injectStyle(this.getAnimationStyle(),this.animationStyleNode)}removeStyles(){ss.instanceCounter||(Cd(this.mainStyleNode),delete this.mainStyleNode),Cd(this.imagesStyleNode),delete this.imagesStyleNode,Cd(this.animationStyleNode),delete this.animationStyleNode}width(){return this.params.width||(this.isBody?E3():this.params.container.offsetWidth)}height(){return this.params.height||(this.isBody?C3():this.params.container.offsetHeight+this.params.maxSize)}};eu.instanceCounter=0;eu.gid=0;vr();xi();Nr();var I3={symbol:"$",separator:",",decimal:".",errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#",format:N3,fromCents:!1},my=function(e){return Math.round(e)},ff=function(e){return Math.pow(10,e)},R3=function(e,t){return my(e/t)*t},D3=/(\d)(?=(\d{3})+\b)/g,j3=/(\d)(?=(\d\d)+\d\b)/g;function wa(e,t){var r=this;if(!(r instanceof wa))return new wa(e,t);var s=Object.assign({},I3,t),l=ff(s.precision),o=Ed(e,s);r.intValue=o,r.value=o/l,s.increment=s.increment||1/l,s.useVedic?s.groups=j3:s.groups=D3,this.s=s,this.p=l}function Ed(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=0,l=t.decimal,o=t.errorOnInvalid,c=t.precision,n=t.fromCents,u=ff(c),h=typeof e=="number",g=e instanceof wa;if(g&&n)return e.intValue;if(h||g)s=g?e.value:e;else if(typeof e=="string"){var m=new RegExp("[^-\\d"+l+"]","g"),y=new RegExp("\\"+l,"g");s=e.replace(/\((.*)\)/,"-$1").replace(m,"").replace(y,"."),s=s||0}else{if(o)throw Error("Invalid Input");s=0}return n||(s*=u,s=s.toFixed(4)),r?my(s):s}function N3(e,t){var r=t.pattern,s=t.negativePattern,l=t.symbol,o=t.separator,c=t.decimal,n=t.groups,u=(""+e).replace(/^-/,"").split("."),h=u[0],g=u[1];return(e.value>=0?r:s).replace("!",l).replace("#",h.replace(n,"$1"+o)+(g?c+g:""))}wa.prototype={add:function(e){var t=this.intValue,r=this.s,s=this.p;return wa((t+=Ed(e,r))/(r.fromCents?1:s),r)},subtract:function(e){var t=this.intValue,r=this.s,s=this.p;return wa((t-=Ed(e,r))/(r.fromCents?1:s),r)},multiply:function(e){var t=this.intValue,r=this.s;return wa((t*=e)/(r.fromCents?1:ff(r.precision)),r)},divide:function(e){var t=this.intValue,r=this.s;return wa(t/=Ed(e,r,!1),r)},distribute:function(e){for(var t=this.intValue,r=this.p,s=this.s,l=[],o=Math[t>=0?"floor":"ceil"](t/e),c=Math.abs(t-o*e),n=s.fromCents?1:r;e!==0;e--){var u=wa(o/n,s);c-- >0&&(u=u[t>=0?"add":"subtract"](1/n)),l.push(u)}return l},dollars:function(){return~~this.value},cents:function(){var e=this.intValue,t=this.p;return~~(e%t)},format:function(e){var t=this.s;return typeof e=="function"?e(this,t):t.format(this,Object.assign({},t,e))},toString:function(){var e=this.intValue,t=this.p,r=this.s;return R3(e/t,r.increment).toFixed(r.precision)},toJSON:function(){return this.value}};var mf=wa;var gy;(function(e){e.CreditCard="Credit Card",e.PayPal="PayPal",e.GooglePay="Google Pay",e.Venmo="Venmo",e.ApplePay="Apple Pay"})(gy||(gy={}));var Td=class gf{get feeAmountCovered(){return this.coverFees?this.fee:0}get fee(){return gf.calculateFeeAmount(this.amount)}get total(){return gf.calculateTotal(this.amount,this.coverFees)}static calculateTotal(t,r){let s=r?this.calculateFeeAmount(t):0,l=t+s;return isNaN(l)?0:this.roundAmount(l)}static calculateFeeAmount(t){let r=t*.02+.49;return isNaN(r)?0:this.roundAmount(r)}static roundAmount(t){return Math.round(t*100)/100}constructor(t){this.donationType=t.donationType,this.amount=t.amount,this.coverFees=t.coverFees}},na;(function(e){e.OneTime="one-time",e.Monthly="monthly",e.Upsell="up_sell"})(na||(na={}));var vy=[5,10,25,50,100,500,1e3],yy=new Td({donationType:na.OneTime,amount:10,coverFees:!1});var by=class{keydown(e){var t,r;let s=e.key;if(e.metaKey)return;switch(s){case"Tab":case"Delete":case"Backspace":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}let l=e.target,o=l.value,c=o.slice(0,(t=l.selectionStart)!==null&&t!==void 0?t:0),n=o.slice((r=l.selectionEnd)!==null&&r!==void 0?r:0),u=`${c}${s}${n}`,h=/^[0-9]+(\.[0-9]{0,2})?$/g;u.match(h)||e.preventDefault()}};vr();xi();Nr();var Gl;(function(e){e.HideBadge="hidebadge",e.ShowBadge="showbadge",e.HideBadgeLeaveSpacing="hidebadgeleavespacing"})(Gl||(Gl={}));var tu=class extends fi{constructor(){super(...arguments),this.sectionBadge="0",this.badgeMode=Gl.ShowBadge}render(){return ze`
      <div class="container ${this.badgeMode}">
        <div class="badge-container">
          <div class="badge">${this.sectionBadge}</div>
        </div>
        <div class="content-container">
          ${this.headline?ze` <div class="title">${this.headline}</div> `:""}
          <div class="content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}static get styles(){let e=dt`var(--formSectionBadgeTransition, 0.25s ease-out)`,t=dt`var(--formSectionBadgeMargin, 1rem)`,r=dt`var(--formSectionBadgeBackgroundColor, #333)`,s=dt`var(--formSectionBadgeRadius, 1.2rem)`,l=dt`calc(${s} * 2)`,o=dt`var(--formSectionBadgeFontSize, 1.8rem)`,c=dt`var(--formSectionBadgeFontWeight, bold)`,n=dt`var(--formSectionBadgeFontColor, #fff)`,u=dt`var(--formSectionTitleFontSize, 1.8rem)`,h=dt`var(--formSectionTitleFontWeight, bold)`,g=dt`var(--formSectionContentBackgroundColor, transparent)`,m=dt`var(--formSectionTextColor, #333)`,y=dt`calc(${s} * 2)`;return dt`
      :host {
        display: block;
        background-color: ${g};
        color: ${m};
      }
      .container {
        position: relative;
        padding: 0.5rem;
      }

      .content-container {
        position: relative;
        left: calc(${l} + ${t});
        width: calc(100% - (${l} + ${t}));
        transition: ${e};
        z-index: 1;
      }

      .hidebadge .content-container {
        left: 0;
        width: 100%;
      }

      .hidebadge .badge-container {
        display: none;
      }

      .hidebadgeleavespacing .badge {
        display: none;
      }

      .badge-container {
        position: absolute;
        width: ${l};
      }

      .badge {
        background-color: ${r};
        color: ${n};
        width: ${l};
        height: ${l};
        border-radius: ${s};
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: ${c};
        font-size: ${o};
      }

      .title {
        line-height: ${y};
        margin-bottom: 0.5rem;
        font-size: ${u};
        font-weight: ${h};
      }
    `}};ae([Kt({type:String})],tu.prototype,"sectionBadge",void 0);ae([Kt({type:String})],tu.prototype,"headline",void 0);ae([Kt({type:String})],tu.prototype,"badgeMode",void 0);tu=ae([lr("donation-form-section")],tu);vr();xi();Nr();var iu;(function(e){e.HideNumbers="hidenumbers",e.ShowNumbers="shownumbers"})(iu||(iu={}));var xa;(function(e){e.DonationType="donationType",e.Amount="amount"})(xa||(xa={}));var Uo;(function(e){e.ValidDonationAmount="valid_donation_amount",e.InvalidDonationAmount="invalid_donation_amount",e.DonationTooHigh="donation_too_high",e.DonationTooLow="donation_too_low"})(Uo||(Uo={}));var js;(function(e){e.Button="button",e.Checkbox="checkbox",e.Hide="hide"})(js||(js={}));var Pd;(function(e){e.SingleLine="single-line",e.MultiLine="multi-line"})(Pd||(Pd={}));var yo=class extends fi{constructor(){super(...arguments),this.donationInfo=yy,this.stepNumberMode=iu.ShowNumbers,this.amountOptions=vy,this.amountSelectionLayout=Pd.MultiLine,this.frequencySelectionMode=js.Button,this.customAmountMode="display",this.customFeesCheckboxMode="display",this.amountTitleDisplayMode="default",this.customAmountSelected=!1,this.currencyValidator=new by}render(){let e=this.amountTitleDisplayMode==="default"?"Choose an amount (USD)":"";return ze`
      ${this.frequencySelectionMode===js.Button?this.frequencyButtonsTemplate:Ai}

      <donation-form-section
        sectionBadge="${this.amountSelectionSectionNumber}"
        headline=${e}
        badgeMode=${this.formSectionNumberMode}
      >
        ${this.amountTitleDisplayMode==="slot"?ze`<slot name="edit-donation-amount-title"></slot>`:Ai}
        <ul class="amount-selector">
          ${this.presetAmountsTemplate}
          ${this.customAmountMode==="display"?ze`<li class="custom-amount">${this.customAmountTemplate}</li>`:Ai}
        </ul>

        <div class="errors">${this.error}</div>

        ${this.customFeesCheckboxMode==="display"?ze` <div class="checkbox-options">
              ${this.customFeesCheckboxTemplate}
              ${this.frequencySelectionMode===js.Checkbox?this.frequencyCheckboxTemplate:Ai}
            </div>`:Ai}
      </donation-form-section>
    `}updated(e){e.has("customAmountSelected")&&this.customAmountButton&&(this.customAmountButton.checked=this.customAmountSelected),e.has("amountOptions")&&(this.customAmountSelected=!1,this.updateSelectedDonationInfo(),this.setupAmountColumnsLayoutConfig()),e.has("amountSelectionLayout")&&this.setupAmountColumnsLayoutConfig(),e.has("donationInfo")&&this.updateSelectedDonationInfo(),e.has("defaultSelectedAmount")&&this.defaultSelectedAmount!==void 0&&(this.customAmountSelected=!1,this.donationInfo=new Td({donationType:this.donationInfo.donationType,amount:this.defaultSelectedAmount,coverFees:this.donationInfo.coverFees}))}get frequencyButtonsTemplate(){return ze`
      <donation-form-section
        sectionBadge="1"
        headline="Choose a frequency"
        badgeMode=${this.formSectionNumberMode}
      >
        <ul class="frequency-selector">
          ${this.frequencyTemplate}
        </ul>
      </donation-form-section>
    `}get frequencyCheckboxTemplate(){return ze`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="make-this-monthly"
          @input=${this.monthlyCheckboxChecked}
          .checked=${this.donationInfo.donationType===na.Monthly}
          tabindex="0"
        />
        <label for="make-this-monthly"> Make this monthly </label>
      </div>
    `}get customFeesCheckboxTemplate(){return ze`
      <div class="checkbox-option-container">
        <input
          type="checkbox"
          id="cover-fees"
          @input=${this.coverFeesChecked}
          .checked=${this.donationInfo.coverFees}
          tabindex="0"
        />
        <label for="cover-fees"> ${this.coverFeesTextTemplate} </label>
      </div>
    `}get amountSelectionSectionNumber(){return this.frequencySelectionMode===js.Button?2:1}get formSectionNumberMode(){switch(this.stepNumberMode){case iu.ShowNumbers:return Gl.ShowBadge;case iu.HideNumbers:return Gl.HideBadge}}setupAmountColumnsLayoutConfig(){let e=this.customAmountMode==="hide"&&this.customFeesCheckboxMode==="hide"&&this.frequencySelectionMode===js.Hide,t=this.amountOptions.length,r=5,s=3;switch(t){case 7:r=5,s=3;break;case 6:r=4,s=2;break;case 5:r=4,s=3;break;case 4:if(e){r=4,s=0;break}r=3,s=2;break;case 3:r=2,s=1;break}this.amountSelectionLayout===Pd.SingleLine&&(r=t+3,s=3),this.style.setProperty("--paymentSelectorAmountColumnCount",`${r}`),this.style.setProperty("--paymentSelectorCustomAmountColSpan",`${s}`)}updateSelectedDonationInfo(){var e,t;if(!this.customAmountSelected&&this.amountOptions.includes(this.donationInfo.amount)){let r=(e=this.shadowRoot)===null||e===void 0?void 0:e.querySelector(`input[type="radio"][name="${xa.Amount}"][value="${this.donationInfo.amount}"]`);r.checked=!0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value="")}else if(this.customAmountSelected=!0,((t=this.shadowRoot)===null||t===void 0?void 0:t.activeElement)!==this.customAmountInput){this.customAmountInput.value=`${this.donationInfo.amount}`;let r=this.getDonationInfoStatus(this.donationInfo.amount);this.handleDonationInfoStatus(r)}}get coverFeesTextTemplate(){let e=mf(this.donationInfo.fee,{symbol:"$"}).format();return ze` I'll generously add ${e} to cover fees. `}formatShortenedAmount(e){let t=e%1===0?0:2;return mf(e,{symbol:"$",precision:t}).format()}get frequencyTemplate(){return ze`
      <li>
        ${this.getRadioButton({group:xa.DonationType,value:na.OneTime,displayText:"One time",checked:this.donationInfo.donationType===na.OneTime})}
      </li>

      <li>
        ${this.getRadioButton({group:xa.DonationType,value:na.Monthly,displayText:"Monthly",checked:this.donationInfo.donationType===na.Monthly})}
      </li>
    `}get presetAmountsTemplate(){return ze`
      ${this.amountOptions.map(e=>{let t=!this.customAmountSelected&&e===this.donationInfo.amount,r=this.formatShortenedAmount(e);return ze`
          <li>
            ${this.getRadioButton({group:xa.Amount,value:`${e}`,displayText:`${r}`,checked:t})}
          </li>
        `})}
    `}getRadioButton(e){let t=`${e.group}-${e.value}-option`;return ze`
      <div class="selection-button">
        <input
          type="radio"
          name=${e.group}
          value=${e.value}
          id=${t}
          tabindex="0"
          .checked=${e.checked}
          @change=${this.radioSelected}
          @click=${r=>{e.group===xa.Amount&&parseFloat(e.value)===this.donationInfo.amount&&(console.log("SAME VALUE"),this.radioSelected(r))}}
        />
        <label for=${t}> ${e.displayText} </label>
      </div>
    `}get customAmountTemplate(){let e=this.amountOptions.includes(this.donationInfo.amount)?"":this.donationInfo.amount;return ze`
      <div class="selection-button">
        <input
          type="radio"
          name=${xa.Amount}
          value="custom"
          id="custom-amount-button"
          tabindex="0"
          @change=${this.customRadioSelected}
        />

        <label for="custom-amount-button">
          <span class="custom-amount-text">Custom: $</span
          ><input
            type="text"
            id="custom-amount-input"
            tabindex="-1"
            value=${e}
            @input=${this.customAmountChanged}
            @keydown=${this.currencyValidator.keydown}
            @focus=${this.customAmountFocused}
          />
        </label>
      </div>
    `}customRadioSelected(){this.customAmountInput.focus()}customAmountFocused(e){let t=e.target;this.customAmountSelected=!0,this.handleCustomAmountInput(t.value)}coverFeesChecked(e){let t=e.target.checked;this.updateDonationInfo({coverFees:t})}customAmountChanged(e){let t=e.target.value;this.customAmountSelected=!0,this.handleCustomAmountInput(t)}handleCustomAmountInput(e){let t=parseFloat(e);isNaN(t)?this.dispatchEditDonationError(Uo.InvalidDonationAmount):this.amountChanged(t)}handleDonationInfoStatus(e){switch(e){case Uo.ValidDonationAmount:this.error=void 0;break;case Uo.DonationTooHigh:this.error=ze`
          To make a donation of $10,000 or more, please contact our philanthropy
          department at
          <a href="mailto:donations@archive.org">donations@archive.org</a>
        `,this.dispatchEditDonationError(e);break;case Uo.DonationTooLow:this.customAmountInput.value.length>0&&(this.error=ze` Please select an amount (minimum $1) `),this.dispatchEditDonationError(e);break;case Uo.InvalidDonationAmount:this.error=ze` Please enter a valid donation amount `,this.dispatchEditDonationError(e);break}}amountChanged(e){let t=this.getDonationInfoStatus(e);this.handleDonationInfoStatus(t),t===Uo.ValidDonationAmount&&this.updateDonationInfo({amount:e})}getDonationInfoStatus(e){return isNaN(e)?Uo.InvalidDonationAmount:e>=1e4?Uo.DonationTooHigh:e<1?Uo.DonationTooLow:Uo.ValidDonationAmount}radioSelected(e){let t=e.target,r=t.name,{value:s}=t;switch(r){case xa.Amount:this.presetAmountChanged(parseFloat(s));break;case xa.DonationType:this.updateDonationInfo({donationType:s});break;default:break}}monthlyCheckboxChecked(e){let t=e.target.checked?na.Monthly:na.OneTime;this.updateDonationInfo({donationType:t})}dispatchEditDonationError(e){let t=new CustomEvent("editDonationError",{detail:{error:e}});this.dispatchEvent(t)}presetAmountChanged(e){this.error=void 0,this.customAmountSelected=!1,this.customAmountInput&&(this.customAmountInput.value=""),this.updateDonationInfo({amount:e})}updateDonationInfo(e){var t,r,s;let l=new Td({donationType:(t=e.donationType)!==null&&t!==void 0?t:this.donationInfo.donationType,amount:(r=e.amount)!==null&&r!==void 0?r:this.donationInfo.amount,coverFees:(s=e.coverFees)!==null&&s!==void 0?s:this.donationInfo.coverFees});this.donationInfo=l;let o=new CustomEvent("donationInfoChanged",{detail:{donationInfo:l}});this.dispatchEvent(o)}static get styles(){let e=dt`var(--paymentButtonBorderColor, #333)`,t=dt`var(--paymentButtonGridGap, 1rem)`,r=dt`var(--paymentButtonFontSize, 1.6rem)`,s=dt`var(--paymentButtonFontColor, #000)`,l=dt`var(--paymentButtonSelectedFontColor, #000)`,o=dt`var(--paymentButtonSelectedColor, #f9bf3b)`,c=dt`var(--paymentButtonFocusedOutlineColor, #7fb3f9)`,n=dt`var(--paymentButtonColor, #fff)`,u=dt`var(--coverFeesFontSize, 1.2rem)`,h=dt`var(--coverFeesFontWeight, bold)`,g=dt`var(--customAmountWidth, 4rem)`,m=dt`var(--inputFieldFontColor, #333)`,y=dt`var(--inputBorder, 1px solid #d9d9d9)`,_=dt`var(--paymentSelectorAmountColumnCount, 5)`,w=dt`var(--paymentSelectorCustomAmountColSpan, 3)`;return dt`
      :host {
        --formSectionContentBackgroundColor: var(
          --editFormBgColor,
          transparent
        );
        --formSectionBadgeBackgroundColor: var(--editFormBadgeBgColor, #333);
        --formSectionBadgeFontColor: var(--editFormBadgeFontColor, #fff);
        --formSectionTextColor: var(--editFormTextColor, #333);
      }
      .errors {
        color: red;
        font-size: 1.4rem;
        margin-top: 0.5rem;
      }

      ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: grid;
        grid-gap: ${t};
      }

      li {
        margin: 0;
        padding: 0;
        display: inline-block;
      }

      .frequency-selector {
        grid-template-columns: repeat(2, 1fr);
      }

      .amount-selector {
        grid-template-columns: repeat(${_}, 1fr);
      }

      .custom-amount {
        grid-column: span ${w};
      }

      .selection-button {
        height: 3rem;
      }

      .selection-button label {
        padding: 0 0.3rem;
        display: flex;
        cursor: pointer;
        text-align: center;
        font-size: ${r};
        font-weight: bold;
        border: 1px solid ${e};
        border-radius: 5px;
        background-color: #ccc;
        height: 100%;
        justify-content: center;
        align-items: center;
      }

      label[for='custom-amount-button'] {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .custom-amount-text {
        white-space: nowrap;
        margin-right: 0.5rem;
      }

      input[type='radio'] {
        opacity: 0;
        width: 0;
        height: 0;
        position: absolute;
      }

      input[type='radio'] + label {
        color: ${s};
        background-color: ${n};
      }

      input[type='radio']:checked + label {
        color: ${l};
        background-color: ${o};
      }

      input[type='radio']:focus + label {
        outline: 2px solid ${c};
      }

      .checkbox-options {
        margin-top: 1rem;
      }

      .checkbox-option-container {
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .checkbox-option-container input {
        width: 2rem;
      }

      .checkbox-option-container label {
        font-size: ${u};
        font-weight: ${h};
        flex: 1;
      }

      #custom-amount-input {
        width: ${g};
        font-size: 1.6rem;
        font-weight: bold;
        color: ${m};
        padding: 0.1rem;
        border: ${y};
        appearance: none;
        -moz-appearance: none;
        -webkit-appearance: none;
      }
    `}};ae([Kt({type:Object})],yo.prototype,"donationInfo",void 0);ae([Kt({type:String})],yo.prototype,"stepNumberMode",void 0);ae([Kt({type:Number})],yo.prototype,"defaultSelectedAmount",void 0);ae([Kt({type:Array})],yo.prototype,"amountOptions",void 0);ae([Kt({type:String})],yo.prototype,"amountSelectionLayout",void 0);ae([Kt({type:String,reflect:!0})],yo.prototype,"frequencySelectionMode",void 0);ae([Kt({type:String,reflect:!0})],yo.prototype,"customAmountMode",void 0);ae([Kt({type:String,reflect:!0})],yo.prototype,"customFeesCheckboxMode",void 0);ae([Kt({type:String,reflect:!0})],yo.prototype,"amountTitleDisplayMode",void 0);ae([Kt({type:Object})],yo.prototype,"error",void 0);ae([Kt({type:Boolean})],yo.prototype,"customAmountSelected",void 0);ae([on("#custom-amount-button")],yo.prototype,"customAmountButton",void 0);ae([on("#custom-amount-input")],yo.prototype,"customAmountInput",void 0);yo=ae([lr("donation-form-edit-donation")],yo);vr();xi();Nr();vr();xi();Nr();var Ro=class extends fi{constructor(){super(...arguments),this.goalMessageMode="amount",this.goalNearMessage="We\u2019ve almost reached our goal!",this.goalReachedMessage="We've reached our goal!",this.goalAmount=75e5,this.currentAmountMode="on",this.currentAmount=0,this.thermometerValueWidth=0,this.thermometerFillWidth=0}render(){return ze`
      <div
        class="container"
        role="progressbar"
        aria-valuemin="0"
        aria-valuemax="${this.goalAmount}"
        aria-valuenow="${this.currentAmount}"
        aria-valuetext="${this.currentAmountDisplayValue}"
      >
        <div class="thermometer-message-container">
          <div class="thermometer-container">
            <div
              class="thermometer-background ${this.thermometerValuePosition}"
            >
              <div
                class="thermometer-fill"
                style="width: ${this.percentComplete}%"
              >
                ${this.thermometerValuePosition==="value-left"?this.thermometerValueTemplate:Ai}
              </div>
              ${this.thermometerValuePosition==="value-right"?this.thermometerValueTemplate:Ai}
            </div>
          </div>
          ${this.goalMessageMode!=="off"?ze` <div class="donate-goal">${this.currentGoalMessage}</div> `:Ai}
        </div>
      </div>
    `}get thermometerValueTemplate(){return this.currentAmountMode==="off"?ze`${Ai}`:ze`
          <div class="thermometer-value">${this.currentAmountDisplayValue}</div>
        `}get thermometerValuePosition(){return this.thermometerValueWidth+10<this.thermometerFillWidth?"value-left":"value-right"}updated(e){if(e.has("resizeObserver")){let t=e.get("resizeObserver");this.disconnectResizeObserver(t),this.setupResizeObserver(this.resizeObserver)}e.has("currentAmountMode")&&(this.unobserveCurrentAmountResize(this.resizeObserver),this.observeCurrentAmountResize(this.resizeObserver))}disconnectedCallback(){this.disconnectResizeObserver(this.resizeObserver)}handleResize(e){var t;switch(e.target){case((t=this.shadowRoot)===null||t===void 0?void 0:t.host):this.style.setProperty("--bannerThermometerHeight",e.contentRect.height+"px");break;case this.thermometerValue:this.thermometerValueWidth=e.contentRect.width;break;case this.thermometerFill:this.thermometerFillWidth=e.contentRect.width;break}}setupResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.addObserver({handler:this,target:this.shadowRoot.host}),e.addObserver({handler:this,target:this.thermometerFill}),this.observeCurrentAmountResize(e))}disconnectResizeObserver(e){var t;!(!((t=this.shadowRoot)===null||t===void 0)&&t.host)||!e||(e.removeObserver({handler:this,target:this.shadowRoot.host}),e.removeObserver({handler:this,target:this.thermometerFill}),this.unobserveCurrentAmountResize(e))}observeCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.addObserver({handler:this,target:this.thermometerValue}))}unobserveCurrentAmountResize(e){!this.thermometerValue||!e||(e==null||e.removeObserver({handler:this,target:this.thermometerValue}))}get goalMessage(){return this.currentAmount>=this.goalAmount?this.goalReachedMessage:this.goalNearMessage}get currentAmountDisplayValue(){return this.formatNumber(this.currentAmount)}get goalAmountDisplayValue(){return this.formatNumber(this.goalAmount)}formatNumber(e){if(e===0)return"$0";let t="MM",r=e/1e6,s=r<10,l=0;return s?l=Math.round((r+Number.EPSILON)*10)/10:l=Math.round(r),`$${l}${t}`}get currentGoalMessage(){switch(this.goalMessageMode){case"amount":return`${this.goalAmountDisplayValue} goal`;case"message":return this.goalMessage;case"off":return""}}get percentComplete(){return Math.min(this.currentAmount/this.goalAmount*100,100)}static get styles(){let e=dt`var(--bannerThermometerHeight, 20px)`,t=dt`var(--bannerThermometerCurrentValueLeftColor, #fff)`,r=dt`var(--bannerThermometerProgressColor, #23765D)`,s=dt`var(--bannerThermometerCurrentValueRightColor, ${r})`,l=dt`var(--bannerThermometerBackgroundColor, #B8F5E2)`,o=dt`var(--bannerThermometerBorder, 1px solid ${r})`,c=dt`var(--bannerThermometerBorderRadius, calc(${e} / 2))`,n=dt`var(--bannerThermometerGoalMessagePadding, 0 10px)`,u=dt`var(--bannerThermometerGoalValueColor, #2c2c2c)`;return dt`
      :host {
        display: block;
      }

      .container {
        height: 100%;
      }

      .thermometer-message-container {
        height: 100%;
        display: flex;
        align-items: center;
      }

      .thermometer-container {
        height: 100%;
        flex: 1;
      }

      .thermometer-background {
        background-color: ${l};
        padding: 0;
        height: 100%;
        border-radius: ${c};
        border: ${o};
        overflow: hidden;
        display: flex;
        align-items: center;
      }

      .thermometer-fill {
        background-color: ${r};
        text-align: right;
        height: 100%;
        display: flex;
        justify-content: flex-end;
        align-items: center;
      }

      .thermometer-value {
        font-weight: bold;
      }

      .value-left .thermometer-value {
        color: ${t};
        padding: 0 0.5rem 0 1rem;
      }

      .value-right .thermometer-value {
        color: ${s};
        padding: 0 1rem 0 0.5rem;
      }

      .donate-goal {
        text-align: left;
        padding: ${n};
        text-transform: uppercase;
        font-weight: bold;
        color: ${u};
      }
    `}};ae([Kt({type:String})],Ro.prototype,"goalMessageMode",void 0);ae([Kt({type:String})],Ro.prototype,"goalNearMessage",void 0);ae([Kt({type:String})],Ro.prototype,"goalReachedMessage",void 0);ae([Kt({type:Number})],Ro.prototype,"goalAmount",void 0);ae([Kt({type:String})],Ro.prototype,"currentAmountMode",void 0);ae([Kt({type:Number})],Ro.prototype,"currentAmount",void 0);ae([Kt({type:Object})],Ro.prototype,"resizeObserver",void 0);ae([on(".thermometer-value")],Ro.prototype,"thermometerValue",void 0);ae([on(".thermometer-fill")],Ro.prototype,"thermometerFill",void 0);ae([dn()],Ro.prototype,"thermometerValueWidth",void 0);ae([dn()],Ro.prototype,"thermometerFillWidth",void 0);Ro=ae([lr("donation-banner-thermometer")],Ro);Id();Oo();var Rd=class e{static get_banner_height(){return je("#donate_banner").outerHeight()}static postMessage(t,r=0){Vi("postin",{event:t,incomingValue:r});let s=e.get_banner_height(),l=e.preventResizeEventResponse?e.calculateBannerWithReminderForm():0,o=Math.max(l,r);window.parent.postMessage(JSON.stringify({event:t,value:o,bannerHeight:s}),"*"),t==="close modal"&&e.adjust_height()}static openReminderForm(){e.preventResizeEventResponse=!0,e.postMessage("set height"),window.scrollTo(0,0)}static closeReminderForm(){e.preventResizeEventResponse=!1,e.postMessage("close modal"),window.scrollTo(0,0)}static onSubmitReminderForm(t=0){e.preventResizeEventResponse=!1,e.postMessage("set cookie",t)}static calculateBannerWithReminderForm(){let t=document.querySelector(".js-donate-banner"),r=document.querySelector(".js-donate-form"),s=document.querySelector(".js-donate-later-dropdown"),l=15,o=t.offsetHeight,c=s.offsetHeight,n=r.offsetHeight+r.offsetTop,u=o-n;return o-u+c+l}static adjust_height(t){let r=t!=null?t:e.get_banner_height();e.postMessage("set height",r),Vi({banner_height:r}),this.currentBannerHeight=r}static init(){Vi("donato tornado"),je(window).on("resize  orientationchange",()=>{e.fixBannerHeightIfNeeded(),clearTimeout(e.adjust_height_throttler),e.adjust_height_throttler=setTimeout(e.adjust_height,100)}),this.currentWindowWidth=window.innerWidth,this.currentBannerHeight=e.get_banner_height(),e.adjust_height()}static fixBannerHeightIfNeeded(){if(window.innerWidth===this.currentWindowWidth){let t=e.get_banner_height();t!==this.currentBannerHeight&&(Vi("Performing banner height correction: current, new",this.currentBannerHeight,t),e.adjust_height(t))}else this.currentWindowWidth=window.innerWidth}};Rd.preventResizeEventResponse=!1;var oa=Rd;xf();var a4=27,Dd="RemindForm",jd=class e{constructor(t,r,s){this.$form=t,this.$trigger=r,this.setDonationCookie=s||$.noop}static validateDonorEmail(t){return/.+@.+\..+/.test(t)}static validateNameField(t){return!/[<>&:?'"]/.test(t)}setup(){let t=$("#donate_dropdown"),r=$("#close_donate_dropdown"),s=this.$form.attr("data-base-url")||"https://archive.org";this.$trigger.on(`click.${Dd}`,l=>{t.hasClass("is-open")||t.addClass("is-open"),this.$form.find("input").filter((o,c)=>!c.value).eq(0).focus(),oa.openReminderForm(),l.preventDefault()}),r.on(`click.${Dd}`,()=>{t.removeClass("is-open"),oa.closeReminderForm(),this.$trigger.focus()}),$(window).on(`keydown.${Dd}`,l=>{t.hasClass("is-open")&&l.keyCode===a4&&r.click()}),this.$form.on(`submit.${Dd}`,l=>{if(l.preventDefault(),!e.validateDonorEmail(this.$form.find("[name=email]").val())){this.$form.find(".error-email").show();return}["first_name","last_name"].forEach(c=>{e.validateNameField(this.$form.find(`[name='${c}']`).val())||this.$form.find(`[name='${c}']`).val("")});let o=this.$trigger.attr("data-source-context")||"";typeof archive_analytics!="undefined"&&archive_analytics.send_event_no_sampling(`DonateBanner${o}`,"MaybeLaterFormSubmit",window.location.pathname),this.sendForm(s)})}sendForm(t){let r=$("#donate_reminder_success").addClass("hidden"),s=(l,o)=>`<h2>${l}</h2><p>${o}</p>`;$.ajax({type:"post",url:`${t}/donate/remindDonate.php`,data:this.$form.serialize(),success:()=>{this.$form.addClass("hidden"),r.html(s("Thank You!","We'll be in touch in the next few days with a reminder to donate to the Internet Archive.")).removeClass("hidden");let l=90;this.setDonationCookie(l),oa.onSubmitReminderForm(l)},error:()=>{r.html(s("Hmmm...","Something is amiss. Can you try again in a little while?")).removeClass("hidden")}})}};console==null||console.log("donation-banner loaded",{version:"1.1.1"});var _f=class e{addCloseSupport(){let t=function(l){l.stopPropagation();let o=42;oa.postMessage("hide banner",o),this.bannerElement.style.display="none",this.logEvent("CloseClicked",!0),this.setDonationCookie(o)},r=document.getElementById("donate-close-button");r&&r.addEventListener("click",t.bind(this))}initialize(){if(!this.bannerElement)return;this.donationInfoError=!1,this.addCloseSupport(),this.setupDonationForm(),this.setupThermometer(),this.setupMinimalDonateButton(),this.setupSnow(),oa.init(),new jd(je("#donate_reminder_form"),je("#donate_later"),this.setDonationCookie).setup(),this.logEvent("Viewed")}setDonationCookie(t){e.setDonationCookie(t),oa.postMessage("set cookie",t)}get bannerElement(){return document.querySelector("#donate_banner")}get donationFormElement(){return document.querySelector("donation-form-edit-donation")}get bannerThermometerElement(){return document.querySelector("donation-banner-thermometer")}get minimalDonateButtonElement(){return document.querySelector("#minimal-donate-button")}get donationOrigin(){let t=this.bannerElement,r=t.dataset.exp,s=t.dataset.variant,l;try{l=window.parent.innerWidth}catch(n){l=oa.currentWindowWidth}let o=l<768?"Mobile":"Desktop",c=`DonateBanner-${r}-${s}-${o}`;return console.log("PSA Donation Banner donationOrigin: ",{responsiveMode:o,currentWindowWidth:l,origin:c}),c}static setDonationCookie(t){let r=parseInt(t,10);if(!r)return;let s={path:"/",expires:r,domain:".archive.org"};vo.set("donation","x",s),vo.set("donation","x",je.extend(s,{domain:".openlibrary.org"}))}setupSnow(){if(this.bannerElement.dataset.snowfall!=="on")return;new eu({container:document.querySelector("#donate-body-background-layer2"),count:100,minOpacity:.08,maxOpacity:.15,minSize:4,maxSize:8,rotation:!0,speed:.15}).start()}setupMinimalDonateButton(){let t=this.minimalDonateButtonElement;t&&t.addEventListener("click",()=>{this.logEvent("MinimalDonateButtonClicked"),oa.postMessage("set cookie",30),window.top.location=this.baseDonatePageUrl})}get baseDonatePageUrl(){let t=this.bannerElement,r=t.dataset.baseurl,s=t.dataset.donationsourcedata,l=t.dataset.variantdollaramounts,o=t.dataset.variantamountlayout,c=t.dataset.variantfrequencymode,n=t.dataset.bannertemplate,{platform:u}=t.dataset,h=new URLSearchParams;return this.donationOrigin&&h.set("origin",this.donationOrigin),s&&h.set("referer",s),l&&h.set("dollarAmounts",l),o&&h.set("amountLayout",o),c&&h.set("frequencyMode",c),u&&h.set("platform",u),n&&h.set("bannerTemplate",n),`${r}/donate?${h.toString()}`}openPsaUrl(){let t=this.donationFormElement;if(!t)return;let{donationInfo:r}=t,s=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:s}),window.top.location=s}setupDonationForm(){let t=this.donationFormElement,{donationInfo:r}=t;if(this.bannerElement.classList.contains("formdesign-psa")){this.bannerElement.addEventListener("click",()=>{this.openPsaUrl()});let o=document.querySelectorAll(".psa-cta");if(console.log("PSA Donation Banner CTA: ",o),o.length===0)return;o.forEach(c=>{c.addEventListener("click",n=>{this.openPsaUrl()})});return}t.addEventListener("donationInfoChanged",o=>{this.donationInfoError=!1,r=o.detail.donationInfo;let c=this.bannerElement.classList.contains("formdesign-minimal");if(console==null||console.log("donationInfoChanged",Rr({isMinimalBanner:c},r)),c){let n=`${this.baseDonatePageUrl}&amt=${r.amount}`;this.logEvent("ContinueClicked"),this.setDonationCookie(3),console==null||console.log("donationInfoChanged - IN minimal banner check - post cookie",{url:n}),window.top.location=n}}),t.addEventListener("editDonationError",o=>{this.donationInfoError=!0});let l=document.querySelector("#continue-button");l&&l.addEventListener("click",()=>{if(this.donationInfoError)return;this.logEvent("ContinueClicked");let o=this.bannerElement.dataset,c=encodeURIComponent(o.selectedtextcolor),n=encodeURIComponent(o.selectedfillcolor),u=encodeURIComponent(o.donatepageselectedfillcolor),h=encodeURIComponent(o.donatepageselectedtextcolor),g=encodeURIComponent(o.formtextcolor),m=o.selectedtextcolor?`&selectedTextColor=${c}`:"",y=o.selectedfillcolor?`&selectedFillColor=${n}`:"";o.donatepageselectedfillcolor&&(y=`&selectedFillColor=${u}`),o.donatepageselectedtextcolor&&(m=`&selectedTextColor=${h}`);let _=o.formtextcolor?`&formTextColor=${g}`:"",w=`${this.baseDonatePageUrl}&amt=${r.amount}&contrib_type=${r.donationType}&coverFees=${r.coverFees}${m}${y}${_}`;oa.postMessage("set cookie",30),window.top.location=w})}setupThermometer(){let t=this.bannerThermometerElement;if(!t)return;let r=new Do;t.resizeObserver=r}logEvent(t,r=!1){let s=new Fs,l=this.bannerElement,o=l.dataset.debugmode==="true",{platform:c}=l.dataset,n=o?"DonateBannerDebug":"DonateBanner";r||t==="Viewed"&&(c==="ia"||c==="wb")?s.send_event(n,t,this.donationOrigin):s.send_event_no_sampling(n,t,this.donationOrigin)}};document.addEventListener("DOMContentLoaded",()=>{new _f().initialize()});vr();xi();Nr();var s4=e=>typeof e!="string"&&"strTag"in e,l4=(e,t,r)=>{let s=e[0];for(let l=1;l<e.length;l++)s+=t[r?r[l-1]:l-1],s+=e[l];return s},c4=e=>s4(e)?l4(e.strings,e.values):e,cn=c4;var u4=class{constructor(){this.settled=!1,this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}},d4=[];for(let e=0;e<256;e++)d4[e]=(e>>4&15).toString(16)+(e&15).toString(16);var h4=new u4;h4.resolve();var Hy=class{constructor(e){var t,r,s,l;this.ARCHIVE_ANALYTICS_VERSION=2,this.DEFAULT_SERVICE="ao_2",this.NO_SAMPLING_SERVICE="ao_no_sampling",this.DEFAULT_IMAGE_URL="https://athena.archive.org/0.gif",this.defaultService=(t=e==null?void 0:e.defaultService)!==null&&t!==void 0?t:this.DEFAULT_SERVICE,this.imageUrl=(r=e==null?void 0:e.imageUrl)!==null&&r!==void 0?r:this.DEFAULT_IMAGE_URL,this.imageContainer=(s=e==null?void 0:e.imageContainer)!==null&&s!==void 0?s:document.body,this.requireImagePing=(l=e==null?void 0:e.requireImagePing)!==null&&l!==void 0?l:!1}sendPing(e){let t=this.generateTrackingUrl(e).toString();if(this.requireImagePing){this.sendPingViaImage(t);return}let r=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);try{r(t)}catch(s){this.sendPingViaImage(t)}}sendEvent(e){let t=e.label&&e.label.trim().length>0?e.label:window.location.pathname,r=Rr({kind:"event",ec:e.category,ea:e.action,el:t,cache_bust:Math.random()},e.eventConfiguration);this.sendPing(r)}sendEventNoSampling(e){let t=e.eventConfiguration||{};t.service=this.NO_SAMPLING_SERVICE;let r=e;r.eventConfiguration=t,this.sendEvent(r)}sendPingViaImage(e){let t=new Image(1,1);t.src=e,t.alt="",this.imageContainer.appendChild(t)}generateTrackingUrl(e){var t;let r=e!=null?e:{};r.service=(t=r.service)!==null&&t!==void 0?t:this.defaultService;let s=new URL(this.imageUrl),l=Object.keys(r);return l.forEach(o=>{let c=r[o];s.searchParams.append(o,c)}),s.searchParams.append("version",`${this.ARCHIVE_ANALYTICS_VERSION}`),s.searchParams.append("count",`${l.length+2}`),s}},Fy=class{constructor(e){this.analyticsManager=e}trackIaxParameter(e){let t=new URL(e).searchParams.get("iax");if(!t)return;let r=t.split("|"),s=r.length>=1?r[1]:"",l=r.length>=2?r[2]:"";this.analyticsManager.sendEventNoSampling({category:r[0],action:s,label:l})}trackPageView(e){let t={};t.kind="pageview",t.timediff=new Date().getTimezoneOffset()/60*-1,t.locale=navigator.language,t.referrer=document.referrer===""?"-":document.referrer;let{domInteractive:r,defaultFontSize:s}=this;r&&(t.loadtime=r),s&&(t.iaprop_fontSize=s),"devicePixelRatio"in window&&(t.iaprop_devicePixelRatio=window.devicePixelRatio),e!=null&&e.mediaType&&(t.iaprop_mediaType=e.mediaType),e!=null&&e.mediaLanguage&&(t.iaprop_mediaLanguage=e.mediaLanguage),e!=null&&e.primaryCollection&&(t.iaprop_primaryCollection=e.primaryCollection),e!=null&&e.page&&(t.page=e.page),this.analyticsManager.sendPing(t)}get defaultFontSize(){let e=window.getComputedStyle(document.documentElement);if(!e)return null;let t=e.fontSize,r=parseFloat(t)*1.6,s=t.replace(/(\d*\.\d+)|\d+/,"");return`${r}${s}`}get domInteractive(){if(!window.performance||!window.performance.getEntriesByType)return;let e=window.performance.getEntriesByType("navigation");return e.length===0?void 0:e[0].domInteractive}};var p4=class{constructor(e){e.enableAnalytics&&(this.analyticsBackend=new Hy,this.analyticsHelpers=new Fy(this.analyticsBackend))}sendPing(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendPing(e)}sendEvent(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEvent(e)}send_event(e,t,r,s){this.sendEvent({category:e,action:t,label:r,eventConfiguration:s})}sendEventNoSampling(e){var t;(t=this.analyticsBackend)===null||t===void 0||t.sendEventNoSampling(e)}trackIaxParameter(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackIaxParameter(e)}trackPageView(e){var t;(t=this.analyticsHelpers)===null||t===void 0||t.trackPageView(e)}};function f4(e){return new Promise(t=>setTimeout(t,e))}var m4=class{constructor(e){this.analyticsHandler=new p4({enableAnalytics:!0}),this.sleep=f4,this.retryCount=2,this.retryDelay=1e3,this.eventCategory="offshootFetchRetry",e!=null&&e.analyticsHandler&&(this.analyticsHandler=e.analyticsHandler),e!=null&&e.retryCount&&(this.retryCount=e.retryCount),e!=null&&e.retryDelay&&(this.retryDelay=e.retryDelay),e!=null&&e.sleepFn&&(this.sleep=e.sleepFn)}fetchRetry(s,l){return vi(this,arguments,function*(e,t,r=this.retryCount){let o=typeof e=="string"?e:e.url,c=this.retryCount-r+1;try{let n=yield fetch(e,t);return n.ok?n:n.status===404?(this.log404Event(o),n):r>0?(yield this.sleep(this.retryDelay),this.logRetryEvent(o,c,n.statusText,n.status),this.fetchRetry(e,t,r-1)):(this.logFailureEvent(o,n.status),n)}catch(n){if(this.isContentBlockerError(n))throw this.logContentBlockingEvent(o,n),n;if(r>0)return yield this.sleep(this.retryDelay),this.logRetryEvent(o,c,n,n),this.fetchRetry(e,t,r-1);throw this.logFailureEvent(o,n),n}})}isContentBlockerError(e){return e instanceof TypeError?e.message.toLowerCase().includes("content blocker"):!1}logRetryEvent(e,t,r,s){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"retryingFetch",label:`retryNumber: ${t} / ${this.retryCount}, code: ${s}, status: ${r}, url: ${e}`})}logFailureEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"fetchFailed",label:`error: ${t}, url: ${e}`})}log404Event(e){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"status404NotRetrying",label:`url: ${e}`})}logContentBlockingEvent(e,t){this.analyticsHandler.sendEvent({category:this.eventCategory,action:"contentBlockerDetectedNotRetrying",label:`error: ${t}, url: ${e}`})}},zy=class{constructor(e){this.fetchRetrier=new m4,e!=null&&e.iaApiBaseUrl&&(this.iaApiBaseUrl=e.iaApiBaseUrl),e!=null&&e.fetchRetrier&&(this.fetchRetrier=e.fetchRetrier),e!=null&&e.searchParams?this.searchParams=e.searchParams:this.searchParams=window.location.search}fetchIAApiResponse(e,t){return vi(this,null,function*(){let r=`${this.iaApiBaseUrl}${e}`;return this.fetchApiResponse(r,t)})}fetchApiResponse(e,t){return vi(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield this.fetch(e,r)).json()})}fetch(e,t){return vi(this,null,function*(){let r=e;return new URLSearchParams(this.searchParams).get("reCache")==="1"&&(r=this.addSearchParams(e,{reCache:"1"})),this.fetchRetrier.fetchRetry(r,t)})}addSearchParams(e,t){let r=typeof e=="string"?e:e.url,s=new URL(r,window.location.href);for(let[l,o]of Object.entries(t))s.searchParams.set(l,o);return typeof e=="string"?s.href:new Request(s.href,e)}};xi();xi();var Uy=dt`var(--white, #fff)`,g4=dt`var(--ia-theme-link-color, #4b64ff)`,v4=dt`var(--primaryDisableCTAFill, #767676)`,y4=dt`var(--secondaryCTABorder, #999)`,b4=dt`var(--primaryCTAFill, #194880)`,kf=dt`var(--primaryCTAFillRGB, 25, 72, 128)`,w4=dt`var(--primaryCTABorder, #c5d1df)`,x4=dt`var(--primaryErrorCTAFill, #d9534f)`,Sf=dt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,_4=dt`var(--primaryErrorCTABorder, #d43f3a)`,k4=dt`var(--secondaryCTAFill, #333)`,Af=dt`var(--secondaryCTAFillRGB, 51, 51, 51)`,S4=dt`var(--primaryCTABorder, #979797)`,A4=dt`var(---primaryWarningFill, #ee8950)`,Cf=dt`var(--primaryWarningFillRGB, 238, 137, 80)`,C4=dt`var(--primaryWarningBorder, #ec7939)`,Nd=dt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${Uy};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${Uy};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${v4};
    border: 1px solid ${y4};
  }
  .ia-button.transparent {
    background-color: transparent;
  }

  .ia-button.primary:disabled,
  .ia-button.danger:disabled,
  .ia-button.warning:disabled,
  .ia-button.dark:disabled {
    opacity: 0.5;
  }

  .ia-button.primary {
    background-color: ${b4};
    border-color: ${w4};
  }
  .ia-button.primary:hover {
    background-color: rgba(${kf}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${kf}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${kf}, 0.7);
  }

  .ia-button.danger {
    background-color: ${x4};
    border-color: ${_4};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Sf}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Sf}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Sf}, 0.7);
  }

  .ia-button.warning {
    background-color: ${A4};
    border-color: ${C4};
  }
  .ia-button.warning:hover {
    background-color: rgba(${Cf}, 0.9);
  }
  .ia-button.warning:focus-visible {
    background-color: rgba(${Cf}, 0.8);
  }
  .ia-button.warning:active {
    background-color: rgba(${Cf}, 0.7);
  }

  .ia-button.dark {
    background-color: ${k4};
    border-color: ${S4};
  }
  .ia-button.dark:hover {
    background-color: rgba(${Af}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${Af}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${Af}, 0.7);
  }

  .ia-button.link {
    margin: 0;
    padding: 6px;
    border: 0;
    appearance: none;
    background: none;
    color: ${g4};
    text-decoration: none;
    cursor: pointer;
  }
  .ia-button.link:hover {
    text-decoration: underline;
  }
`,$M=dt`
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    margin: -1px !important;
    padding: 0 !important;
    border: 0 !important;
    overflow: hidden !important;
    white-space: nowrap !important;
    clip: rect(1px, 1px, 1px, 1px) !important;
    -webkit-clip-path: inset(50%) !important;
    clip-path: inset(50%) !important;
    user-select: none !important;
  }
`;ds();var{entries:fb,setPrototypeOf:ob,isFrozen:D4,getPrototypeOf:j4,getOwnPropertyDescriptor:N4}=Object,{freeze:wo,seal:Vo,create:mb}=Object,{apply:Nf,construct:Bf}=typeof Reflect<"u"&&Reflect;wo||(wo=function(e){return e});Vo||(Vo=function(e){return e});Nf||(Nf=function(e,t,r){return e.apply(t,r)});Bf||(Bf=function(e,t){return new e(...t)});var zd=xo(Array.prototype.forEach),B4=xo(Array.prototype.lastIndexOf),ab=xo(Array.prototype.pop),su=xo(Array.prototype.push),H4=xo(Array.prototype.splice),Vd=xo(String.prototype.toLowerCase),Of=xo(String.prototype.toString),sb=xo(String.prototype.match),lu=xo(String.prototype.replace),F4=xo(String.prototype.indexOf),z4=xo(String.prototype.trim),aa=xo(Object.prototype.hasOwnProperty),bo=xo(RegExp.prototype.test),cu=U4(TypeError);function xo(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,s=new Array(r>1?r-1:0),l=1;l<r;l++)s[l-1]=arguments[l];return Nf(e,t,s)}}function U4(e){return function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return Bf(e,r)}}function en(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vd;ob&&ob(e,null);let s=t.length;for(;s--;){let l=t[s];if(typeof l=="string"){let o=r(l);o!==l&&(D4(t)||(t[s]=o),l=o)}e[l]=!0}return e}function V4(e){for(let t=0;t<e.length;t++)aa(e,t)||(e[t]=null);return e}function Ua(e){let t=mb(null);for(let[r,s]of fb(e))aa(e,r)&&(Array.isArray(s)?t[r]=V4(s):s&&typeof s=="object"&&s.constructor===Object?t[r]=Ua(s):t[r]=s);return t}function uu(e,t){for(;e!==null;){let s=N4(e,t);if(s){if(s.get)return xo(s.get);if(typeof s.value=="function")return xo(s.value)}e=j4(e)}function r(){return null}return r}var lb=wo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),If=wo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rf=wo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),W4=wo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Df=wo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),q4=wo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),cb=wo(["#text"]),ub=wo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),jf=wo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),db=wo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ud=wo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),G4=Vo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Y4=Vo(/<%[\w\W]*|[\w\W]*%>/gm),K4=Vo(/\$\{[\w\W]*/gm),X4=Vo(/^data-[\-\w.\u00B7-\uFFFF]+$/),Z4=Vo(/^aria-[\-\w]+$/),gb=Vo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),J4=Vo(/^(?:\w+script|data):/i),Q4=Vo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vb=Vo(/^html$/i),e6=Vo(/^[a-z][.\w]*(-[.\w]+)+$/i),hb=Object.freeze({__proto__:null,ARIA_ATTR:Z4,ATTR_WHITESPACE:Q4,CUSTOM_ELEMENT:e6,DATA_ATTR:X4,DOCTYPE_NAME:vb,ERB_EXPR:Y4,IS_ALLOWED_URI:gb,IS_SCRIPT_OR_DATA:J4,MUSTACHE_EXPR:G4,TMPLIT_EXPR:K4}),du={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},t6=function(){return typeof window>"u"?null:window},i6=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,s="data-tt-policy-suffix";t&&t.hasAttribute(s)&&(r=t.getAttribute(s));let l="dompurify"+(r?"#"+r:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch(o){return console.warn("TrustedTypes policy "+l+" could not be created."),null}},pb=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t6(),t=We=>yb(We);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==du.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,s=r,l=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:c,Node:n,Element:u,NodeFilter:h,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:y,trustedTypes:_}=e,w=u.prototype,k=uu(w,"cloneNode"),A=uu(w,"remove"),L=uu(w,"nextSibling"),T=uu(w,"childNodes"),E=uu(w,"parentNode");if(typeof c=="function"){let We=r.createElement("template");We.content&&We.content.ownerDocument&&(r=We.content.ownerDocument)}let a,p="",{implementation:v,createNodeIterator:d,createDocumentFragment:x,getElementsByTagName:C}=r,{importNode:N}=s,G=pb();t.isSupported=typeof fb=="function"&&typeof E=="function"&&v&&v.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:q,ERB_EXPR:K,TMPLIT_EXPR:oe,DATA_ATTR:J,ARIA_ATTR:Q,IS_SCRIPT_OR_DATA:Oe,ATTR_WHITESPACE:ge,CUSTOM_ELEMENT:W}=hb,{IS_ALLOWED_URI:se}=hb,de=null,Z=en({},[...lb,...If,...Rf,...Df,...cb]),ye=null,Y=en({},[...ub,...jf,...db,...Ud]),ce=Object.seal(mb(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ge=null,ht=null,st=!0,qe=!0,Se=!1,Ie=!0,Re=!1,ot=!0,pt=!1,Pt=!1,Qe=!1,ne=!1,ie=!1,Ke=!1,Ct=!0,we=!1,$e="user-content-",at=!0,Ce=!1,Je={},tt=null,Vt=en({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ct=null,gt=en({},["audio","video","img","source","image","track"]),Rt=null,ti=en({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oi="http://www.w3.org/1998/Math/MathML",ui="http://www.w3.org/2000/svg",Ot="http://www.w3.org/1999/xhtml",It=Ot,At=!1,St=null,kt=en({},[oi,ui,Ot],Of),I=en({},["mi","mo","mn","ms","mtext"]),Ue=en({},["annotation-xml"]),_e=en({},["title","style","font","a","script"]),Ve=null,Xe=["application/xhtml+xml","text/html"],ut="text/html",re=null,Pe=null,He=r.createElement("form"),vt=function(We){return We instanceof RegExp||We instanceof Function},lt=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Pe&&Pe===We)){if((!We||typeof We!="object")&&(We={}),We=Ua(We),Ve=Xe.indexOf(We.PARSER_MEDIA_TYPE)===-1?ut:We.PARSER_MEDIA_TYPE,re=Ve==="application/xhtml+xml"?Of:Vd,de=aa(We,"ALLOWED_TAGS")?en({},We.ALLOWED_TAGS,re):Z,ye=aa(We,"ALLOWED_ATTR")?en({},We.ALLOWED_ATTR,re):Y,St=aa(We,"ALLOWED_NAMESPACES")?en({},We.ALLOWED_NAMESPACES,Of):kt,Rt=aa(We,"ADD_URI_SAFE_ATTR")?en(Ua(ti),We.ADD_URI_SAFE_ATTR,re):ti,ct=aa(We,"ADD_DATA_URI_TAGS")?en(Ua(gt),We.ADD_DATA_URI_TAGS,re):gt,tt=aa(We,"FORBID_CONTENTS")?en({},We.FORBID_CONTENTS,re):Vt,Ge=aa(We,"FORBID_TAGS")?en({},We.FORBID_TAGS,re):Ua({}),ht=aa(We,"FORBID_ATTR")?en({},We.FORBID_ATTR,re):Ua({}),Je=aa(We,"USE_PROFILES")?We.USE_PROFILES:!1,st=We.ALLOW_ARIA_ATTR!==!1,qe=We.ALLOW_DATA_ATTR!==!1,Se=We.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=We.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=We.SAFE_FOR_TEMPLATES||!1,ot=We.SAFE_FOR_XML!==!1,pt=We.WHOLE_DOCUMENT||!1,ne=We.RETURN_DOM||!1,ie=We.RETURN_DOM_FRAGMENT||!1,Ke=We.RETURN_TRUSTED_TYPE||!1,Qe=We.FORCE_BODY||!1,Ct=We.SANITIZE_DOM!==!1,we=We.SANITIZE_NAMED_PROPS||!1,at=We.KEEP_CONTENT!==!1,Ce=We.IN_PLACE||!1,se=We.ALLOWED_URI_REGEXP||gb,It=We.NAMESPACE||Ot,I=We.MATHML_TEXT_INTEGRATION_POINTS||I,Ue=We.HTML_INTEGRATION_POINTS||Ue,ce=We.CUSTOM_ELEMENT_HANDLING||{},We.CUSTOM_ELEMENT_HANDLING&&vt(We.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=We.CUSTOM_ELEMENT_HANDLING.tagNameCheck),We.CUSTOM_ELEMENT_HANDLING&&vt(We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=We.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),We.CUSTOM_ELEMENT_HANDLING&&typeof We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=We.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(qe=!1),ie&&(ne=!0),Je&&(de=en({},cb),ye=[],Je.html===!0&&(en(de,lb),en(ye,ub)),Je.svg===!0&&(en(de,If),en(ye,jf),en(ye,Ud)),Je.svgFilters===!0&&(en(de,Rf),en(ye,jf),en(ye,Ud)),Je.mathMl===!0&&(en(de,Df),en(ye,db),en(ye,Ud))),We.ADD_TAGS&&(de===Z&&(de=Ua(de)),en(de,We.ADD_TAGS,re)),We.ADD_ATTR&&(ye===Y&&(ye=Ua(ye)),en(ye,We.ADD_ATTR,re)),We.ADD_URI_SAFE_ATTR&&en(Rt,We.ADD_URI_SAFE_ATTR,re),We.FORBID_CONTENTS&&(tt===Vt&&(tt=Ua(tt)),en(tt,We.FORBID_CONTENTS,re)),at&&(de["#text"]=!0),pt&&en(de,["html","head","body"]),de.table&&(en(de,["tbody"]),delete Ge.tbody),We.TRUSTED_TYPES_POLICY){if(typeof We.TRUSTED_TYPES_POLICY.createHTML!="function")throw cu('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof We.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw cu('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');a=We.TRUSTED_TYPES_POLICY,p=a.createHTML("")}else a===void 0&&(a=i6(_,l)),a!==null&&typeof p=="string"&&(p=a.createHTML(""));wo&&wo(We),Pe=We}},Et=en({},[...If,...Rf,...W4]),Ut=en({},[...Df,...q4]),Jt=function(We){let ri=E(We);(!ri||!ri.tagName)&&(ri={namespaceURI:It,tagName:"template"});let ei=Vd(We.tagName),ki=Vd(ri.tagName);return St[We.namespaceURI]?We.namespaceURI===ui?ri.namespaceURI===Ot?ei==="svg":ri.namespaceURI===oi?ei==="svg"&&(ki==="annotation-xml"||I[ki]):!!Et[ei]:We.namespaceURI===oi?ri.namespaceURI===Ot?ei==="math":ri.namespaceURI===ui?ei==="math"&&Ue[ki]:!!Ut[ei]:We.namespaceURI===Ot?ri.namespaceURI===ui&&!Ue[ki]||ri.namespaceURI===oi&&!I[ki]?!1:!Ut[ei]&&(_e[ei]||!Et[ei]):!!(Ve==="application/xhtml+xml"&&St[We.namespaceURI]):!1},Lt=function(We){su(t.removed,{element:We});try{E(We).removeChild(We)}catch(ri){A(We)}},jt=function(We,ri){try{su(t.removed,{attribute:ri.getAttributeNode(We),from:ri})}catch(ei){su(t.removed,{attribute:null,from:ri})}if(ri.removeAttribute(We),We==="is")if(ne||ie)try{Lt(ri)}catch(ei){}else try{ri.setAttribute(We,"")}catch(ei){}},Ye=function(We){let ri=null,ei=null;if(Qe)We="<remove></remove>"+We;else{let ci=sb(We,/^[\r\n\t ]+/);ei=ci&&ci[0]}Ve==="application/xhtml+xml"&&It===Ot&&(We='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+We+"</body></html>");let ki=a?a.createHTML(We):We;if(It===Ot)try{ri=new y().parseFromString(ki,Ve)}catch(ci){}if(!ri||!ri.documentElement){ri=v.createDocument(It,"template",null);try{ri.documentElement.innerHTML=At?p:ki}catch(ci){}}let qt=ri.body||ri.documentElement;return We&&ei&&qt.insertBefore(r.createTextNode(ei),qt.childNodes[0]||null),It===Ot?C.call(ri,pt?"html":"body")[0]:pt?ri.documentElement:qt},Me=function(We){return d.call(We.ownerDocument||We,We,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},De=function(We){return We instanceof m&&(typeof We.nodeName!="string"||typeof We.textContent!="string"||typeof We.removeChild!="function"||!(We.attributes instanceof g)||typeof We.removeAttribute!="function"||typeof We.setAttribute!="function"||typeof We.namespaceURI!="string"||typeof We.insertBefore!="function"||typeof We.hasChildNodes!="function")},et=function(We){return typeof n=="function"&&We instanceof n};function Tt(We,ri,ei){zd(We,ki=>{ki.call(t,ri,ei,Pe)})}let Ht=function(We){let ri=null;if(Tt(G.beforeSanitizeElements,We,null),De(We))return Lt(We),!0;let ei=re(We.nodeName);if(Tt(G.uponSanitizeElement,We,{tagName:ei,allowedTags:de}),ot&&We.hasChildNodes()&&!et(We.firstElementChild)&&bo(/<[/\w!]/g,We.innerHTML)&&bo(/<[/\w!]/g,We.textContent)||We.nodeType===du.progressingInstruction||ot&&We.nodeType===du.comment&&bo(/<[/\w]/g,We.data))return Lt(We),!0;if(!de[ei]||Ge[ei]){if(!Ge[ei]&&wt(ei)&&(ce.tagNameCheck instanceof RegExp&&bo(ce.tagNameCheck,ei)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(ei)))return!1;if(at&&!tt[ei]){let ki=E(We)||We.parentNode,qt=T(We)||We.childNodes;if(qt&&ki){let ci=qt.length;for(let Ei=ci-1;Ei>=0;--Ei){let Mi=k(qt[Ei],!0);Mi.__removalCount=(We.__removalCount||0)+1,ki.insertBefore(Mi,L(We))}}}return Lt(We),!0}return We instanceof u&&!Jt(We)||(ei==="noscript"||ei==="noembed"||ei==="noframes")&&bo(/<\/no(script|embed|frames)/i,We.innerHTML)?(Lt(We),!0):(Re&&We.nodeType===du.text&&(ri=We.textContent,zd([q,K,oe],ki=>{ri=lu(ri,ki," ")}),We.textContent!==ri&&(su(t.removed,{element:We.cloneNode()}),We.textContent=ri)),Tt(G.afterSanitizeElements,We,null),!1)},Ze=function(We,ri,ei){if(Ct&&(ri==="id"||ri==="name")&&(ei in r||ei in He))return!1;if(!(qe&&!ht[ri]&&bo(J,ri))&&!(st&&bo(Q,ri))){if(!ye[ri]||ht[ri]){if(!(wt(We)&&(ce.tagNameCheck instanceof RegExp&&bo(ce.tagNameCheck,We)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(We))&&(ce.attributeNameCheck instanceof RegExp&&bo(ce.attributeNameCheck,ri)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(ri))||ri==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&bo(ce.tagNameCheck,ei)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(ei))))return!1}else if(!Rt[ri]&&!bo(se,lu(ei,ge,""))&&!((ri==="src"||ri==="xlink:href"||ri==="href")&&We!=="script"&&F4(ei,"data:")===0&&ct[We])&&!(Se&&!bo(Oe,lu(ei,ge,"")))&&ei)return!1}return!0},wt=function(We){return We!=="annotation-xml"&&sb(We,W)},_t=function(We){Tt(G.beforeSanitizeAttributes,We,null);let{attributes:ri}=We;if(!ri||De(We))return;let ei={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye,forceKeepAttr:void 0},ki=ri.length;for(;ki--;){let qt=ri[ki],{name:ci,namespaceURI:Ei,value:Mi}=qt,ir=re(ci),Yi=Mi,Gi=ci==="value"?Yi:z4(Yi);if(ei.attrName=ir,ei.attrValue=Gi,ei.keepAttr=!0,ei.forceKeepAttr=void 0,Tt(G.uponSanitizeAttribute,We,ei),Gi=ei.attrValue,we&&(ir==="id"||ir==="name")&&(jt(ci,We),Gi=$e+Gi),ot&&bo(/((--!?|])>)|<\/(style|title)/i,Gi)){jt(ci,We);continue}if(ei.forceKeepAttr)continue;if(!ei.keepAttr){jt(ci,We);continue}if(!Ie&&bo(/\/>/i,Gi)){jt(ci,We);continue}Re&&zd([q,K,oe],tr=>{Gi=lu(Gi,tr," ")});let Sr=re(We.nodeName);if(!Ze(Sr,ir,Gi)){jt(ci,We);continue}if(a&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!Ei)switch(_.getAttributeType(Sr,ir)){case"TrustedHTML":{Gi=a.createHTML(Gi);break}case"TrustedScriptURL":{Gi=a.createScriptURL(Gi);break}}if(Gi!==Yi)try{Ei?We.setAttributeNS(Ei,ci,Gi):We.setAttribute(ci,Gi),De(We)?Lt(We):ab(t.removed)}catch(tr){jt(ci,We)}}Tt(G.afterSanitizeAttributes,We,null)},Xt=function We(ri){let ei=null,ki=Me(ri);for(Tt(G.beforeSanitizeShadowDOM,ri,null);ei=ki.nextNode();)Tt(G.uponSanitizeShadowNode,ei,null),Ht(ei),_t(ei),ei.content instanceof o&&We(ei.content);Tt(G.afterSanitizeShadowDOM,ri,null)};return t.sanitize=function(We){let ri=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ei=null,ki=null,qt=null,ci=null;if(At=!We,At&&(We="<!-->"),typeof We!="string"&&!et(We))if(typeof We.toString=="function"){if(We=We.toString(),typeof We!="string")throw cu("dirty is not a string, aborting")}else throw cu("toString is not a function");if(!t.isSupported)return We;if(Pt||lt(ri),t.removed=[],typeof We=="string"&&(Ce=!1),Ce){if(We.nodeName){let ir=re(We.nodeName);if(!de[ir]||Ge[ir])throw cu("root node is forbidden and cannot be sanitized in-place")}}else if(We instanceof n)ei=Ye("<!---->"),ki=ei.ownerDocument.importNode(We,!0),ki.nodeType===du.element&&ki.nodeName==="BODY"||ki.nodeName==="HTML"?ei=ki:ei.appendChild(ki);else{if(!ne&&!Re&&!pt&&We.indexOf("<")===-1)return a&&Ke?a.createHTML(We):We;if(ei=Ye(We),!ei)return ne?null:Ke?p:""}ei&&Qe&&Lt(ei.firstChild);let Ei=Me(Ce?We:ei);for(;qt=Ei.nextNode();)Ht(qt),_t(qt),qt.content instanceof o&&Xt(qt.content);if(Ce)return We;if(ne){if(ie)for(ci=x.call(ei.ownerDocument);ei.firstChild;)ci.appendChild(ei.firstChild);else ci=ei;return(ye.shadowroot||ye.shadowrootmode)&&(ci=N.call(s,ci,!0)),ci}let Mi=pt?ei.outerHTML:ei.innerHTML;return pt&&de["!doctype"]&&ei.ownerDocument&&ei.ownerDocument.doctype&&ei.ownerDocument.doctype.name&&bo(vb,ei.ownerDocument.doctype.name)&&(Mi="<!DOCTYPE "+ei.ownerDocument.doctype.name+`>
`+Mi),Re&&zd([q,K,oe],ir=>{Mi=lu(Mi,ir," ")}),a&&Ke?a.createHTML(Mi):Mi},t.setConfig=function(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt(We),Pt=!0},t.clearConfig=function(){Pe=null,Pt=!1},t.isValidAttribute=function(We,ri,ei){Pe||lt({});let ki=re(We),qt=re(ri);return Ze(ki,qt,ei)},t.addHook=function(We,ri){typeof ri=="function"&&su(G[We],ri)},t.removeHook=function(We,ri){if(ri!==void 0){let ei=B4(G[We],ri);return ei===-1?void 0:H4(G[We],ei,1)[0]}return ab(G[We])},t.removeHooks=function(We){G[We]=[]},t.removeAllHooks=function(){G=pb()},t}var hu=yb();Jd();vr();xi();Nr();ds();Jd();xi();xi();vr();xi();Nr();ds();xi();xi();xi();vr();xi();Nr();var s6=An`
  <svg class="star-selected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#c2820a"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,l6=An`
  <svg class="star-unselected" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="#ffffff"
    stroke="#c2820a"
    stroke-width="3px"
  />
</svg>`,c6=An`
  <svg class="star-basic" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <path
    d="m81.0388846 100-30.9636029-22.5595033-30.7410319 22.5595033 10.6670595-37.3922042-30.0013093-25.2155916h37.5556428l12.5196389-37.3922042 12.3690754 37.3922042h37.5556429l-29.7034563 25.2155916z"
    fill="2C2C2C"
  />
</svg>`;function kb(e=""){if(e.length<=40)return e;let t=e.substring(0,40)+"...";return ze`<span title="${e}">${t}</span>`}var u6=["a"];function d6(e){return hu.addHook("afterSanitizeAttributes",t=>{t.nodeName.toLowerCase()==="a"&&(t.setAttribute("rel","ugc nofollow"),t.setAttribute("target","_blank"))}),hu.sanitize(e,{ALLOWED_TAGS:u6})}function h6(e,t=100,r=!0){if(e.length<t)return e;let s=t;if(r){let l=e.indexOf(" ",t),o=l-t<=20;if(o&&l===e.length-1)return e;l!==-1&&o&&(s=l)}return p6(e,s,t)}function p6(e,t,r){let s=e.slice(0,t),l=s.match(/<a/gi);if(l){let o=s.match(/<\/a/gi);if(!o||o.length<l.length){let c=e.indexOf("</a>",t),n=c-r<=20;if(n&&e.length===c+4)return e;if(c!==-1&&n)s=e.slice(0,c+4);else{let u=s.lastIndexOf("<a");s=e.slice(0,u)}}}return s.concat("...")}var f6=/(http(s)?)?(:\/\/)?([a-zA-Z][-a-z0-9]*(\.[-a-z0-9]+)+(\/[^\s\?#<]*)*(\?[^\s#]*)?(#[^\s]*)?)/;function m6(e){return e.replace(new RegExp('(?<=href=")[^"]+(?=")'),t=>t.replace(".","__DOT__")).replace(f6,t=>t=`<a href="${t.match(/^(https|http)/)?t:"https://"+t}" rel="ugc nofollow" target="_blank">${t}</a>`).replace("__DOT__",".")}function g6(e){return e.trim().replace(/[ |\t]+/g," ").replace(/[\n|\r\n]+/g,"<br />").replace(/(<br[^>]*>(<\/br>)?)+/g,"<br />")}var v6=An`
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="delete-icon">
    <rect width="24" height="24" fill="white"/>
    <path d="M5 7.5H19L18 21H6L5 7.5Z" stroke="#000000" stroke-linejoin="round"/>
    <path d="M15.5 9.5L15 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M12 9.5V19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M8.5 9.5L9 19" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16 5H19C20.1046 5 21 5.89543 21 7V7.5H3V7C3 5.89543 3.89543 5 5 5H8M16 5L15 3H9L8 5M16 5H8" stroke="#000000" stroke-linejoin="round"/>
  </svg>
`,la=class extends fi{constructor(){super(...arguments),this.maxSubjectLength=100,this.maxBodyLength=150,this.baseHost="https://archive.org",this.canDelete=!1,this.bypassTruncation=!1,this.showTruncatedContent=!1,this.deleteMsg=""}render(){return this.review?ze`
          <article class="review" id=${this.generateDomId()}>
            ${this.canDelete?ze`
                  <button
                    class="delete-btn"
                    title="Delete this review"
                    @click=${this.deleteReview}
                  >
                    ${v6}
                  </button>
                `:Ai}
            <div class="top-line">
              <b>${cn("Reviewer:")}</b> ${this.reviewerTemplate} -
              ${this.starsTemplate}${this.createDateTemplate}
            </div>
            <div class="subject">
              <b>${cn("Subject: ")}</b>${this.subjectTemplate}
            </div>
            <div class="body">
              ${this.deleteMsg?ze`<i>${cn(this.deleteMsg)}</i>`:this.bodyTemplate}
            </div>
            ${this.truncationButtonsTemplate}
          </article>
        `:ze`
          <div class="error">
            ${cn("This review cannot be displayed at this time.")}
          </div>
        `}get subjectTemplate(){var e;let t=(e=this.review)===null||e===void 0?void 0:e.reviewtitle;return this.truncateContent(t!=null?t:"",this.maxSubjectLength)}get bodyTemplate(){var e;let t=(e=this.review)===null||e===void 0?void 0:e.reviewbody;if(!t)return Ai;let r=d6(t),s=this.truncateContent(r,this.maxBodyLength);return ze`${us(this.prepReview(s))}`}get truncationButtonsTemplate(){var e,t,r,s,l,o;return this.bypassTruncation?Ai:((r=(t=(e=this.review)===null||e===void 0?void 0:e.reviewtitle)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0)<=this.maxSubjectLength&&((o=(l=(s=this.review)===null||s===void 0?void 0:s.reviewbody)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0)<=this.maxBodyLength?Ai:this.showTruncatedContent?this.lessButtonTemplate:this.moreButtonTemplate}get moreButtonTemplate(){return ze`
      <button
        class="simple-link more-btn"
        @click=${()=>this.showTruncatedContent=!0}
      >
        ${cn("More...")}
      </button>
    `}get lessButtonTemplate(){return ze`<button
      class="simple-link less-btn"
      @click=${()=>this.showTruncatedContent=!1}
    >
      ${cn("...Less")}
    </button>`}get reviewerTemplate(){return this.review?this.review.reviewer_itemname?ze`
            <a
              href="${this.baseHost}/details/${this.review.reviewer_itemname}"
              class="reviewer-link simple-link"
              data-event-click-tracking="ItemReviews|ReviewerLink"
            >
              ${kb(this.review.reviewer)}
            </a>
          `:ze`${kb(this.review.reviewer)}`:Ai}get starsTemplate(){return!this.review||!this.review.stars?Ai:ze`
      <div
        class="review-stars"
        title="${cn(`${this.review.stars} out of 5 stars`)}"
      >
        ${new Array(Number(this.review.stars)).fill(null).map(()=>ze`<div class="review-star">${c6}</div>`)}
      </div>
      -
    `}get createDateTemplate(){var e,t;if(!(!((e=this.review)===null||e===void 0)&&e.createdate)||!(!((t=this.review)===null||t===void 0)&&t.reviewdate))return Ai;let r=new Date(this.review.reviewdate),s=new Date(this.review.createdate),l=s.toLocaleString("en-us",{month:"long",day:"numeric",year:"numeric"}),o=r.getTime()!==s.getTime()?"(edited)":"";return cn(`${l} ${o}`)}generateDomId(){var e;return!((e=this.review)===null||e===void 0)&&e.createdate?`review-${Date.parse(this.review.createdate.toString())}`:""}truncateContent(e,t){return this.showTruncatedContent||this.bypassTruncation?e:h6(e,t)}prepReview(e){return g6(m6(e))}deleteReview(){return vi(this,null,function*(){if(!this.review||!this.identifier||!confirm(cn("Are you sure you want to delete this review?")))return;let e=`${this.baseHost}/edit-reviews.php?identifier=${this.identifier}&deleteReviewer=${this.review.reviewer}&deleteReviewerItemname=${this.review.reviewer_itemname}`;try{yield fetch(e,{method:"POST"}),this.deleteMsg="This review has been queued for deletion."}catch(t){this.deleteMsg="Sorry, we were unable to delete this review."}})}static get styles(){return dt`
      :host {
        font-family: var(
          --ia-font-stack,
          'Helvetica Neue',
          Helvetica,
          Arial,
          sans-serif
        );

        font-size: inherit;
        --container-bg-color: #fbfbfd;
        --container-border-color: #999999;
      }

      .review {
        position: relative;
        padding-right: 30px;
      }

      .error {
        color: var(--error-color, #cc0000);
      }

      .top-line {
        margin-bottom: 0.5rem;
      }

      .top-line > * {
        display: inline-block;
      }

      .review-star {
        width: 1rem;
        display: inline-block;
      }

      .simple-link,
      .body a {
        color: var(--link-color, #4b64ff);
        text-decoration: none;
        background: transparent;
        border: none;
        padding: 0px;
      }

      .simple-link:hover,
      .body a:hover {
        cursor: pointer;
        text-decoration: underline;
      }

      .subject {
        margin-bottom: 0.5rem;
      }

      .delete-btn {
        position: absolute;
        top: 0;
        right: 0;
        padding: 0;
        background: none;
        border: 0;
      }

      .delete-btn:hover {
        cursor: pointer;
      }

      .delete-icon {
        width: 20px;
        mix-blend-mode: multiply;
      }
    `}};ae([Kt({type:Object})],la.prototype,"review",void 0);ae([Kt({type:String})],la.prototype,"identifier",void 0);ae([Kt({type:Number})],la.prototype,"maxSubjectLength",void 0);ae([Kt({type:Number})],la.prototype,"maxBodyLength",void 0);ae([Kt({type:String})],la.prototype,"baseHost",void 0);ae([Kt({type:Boolean})],la.prototype,"canDelete",void 0);ae([Kt({type:Boolean})],la.prototype,"bypassTruncation",void 0);ae([dn()],la.prototype,"showTruncatedContent",void 0);ae([dn()],la.prototype,"deleteMsg",void 0);la=ae([lr("ia-review")],la);var zn=class extends fi{constructor(){super(...arguments),this.token="",this.baseHost="https://archive.org",this.endpointPath="/write-review.php",this.submitterScreenname="Anonymous",this.bypassRecaptcha=!1,this.currentStars=0,this.currentSubjectLength=0,this.currentBodyLength=0,this.formCanSubmit=!1,this.submissionInProgress=!1,this.RECAPTCHA_ERROR_MESSAGE="Could not validate review. Please try again later.",this.GENERIC_ERROR_MESSAGE="There's been a temporary error. Please wait a moment and try again."}render(){return ze`<form id="review-form" @submit=${this.handleSubmit}>
      ${this.unrecoverableError?this.unrecoverableErrorTemplate:ze`
            <span class="inputs">
              ${this.starsInputTemplate} ${this.subjectInputTemplate}
              ${this.bodyInputTemplate} ${this.hiddenInputsTemplate}
            </span>
          `}
      ${this.recaptchaMessageTemplate} ${this.recoverableErrorTemplate}
      ${this.actionButtonsTemplate}
    </form>`}willUpdate(e){var t,r,s,l,o,c,n,u;e.has("oldReview")&&(this.currentStars=(r=(t=this.oldReview)===null||t===void 0?void 0:t.stars)!==null&&r!==void 0?r:0,this.currentSubjectLength=(o=(l=(s=this.oldReview)===null||s===void 0?void 0:s.reviewtitle)===null||l===void 0?void 0:l.length)!==null&&o!==void 0?o:0,this.currentBodyLength=(u=(n=(c=this.oldReview)===null||c===void 0?void 0:c.reviewbody)===null||n===void 0?void 0:n.length)!==null&&u!==void 0?u:0),e.has("recaptchaManager")&&!this.bypassRecaptcha&&this.recaptchaManager&&this.setupRecaptcha(),e.has("unrecoverableError")&&(this.formCanSubmit=this.checkSubmissionAllowed()),(e.has("currentSubjectLength")||e.has("currentBodyLength")||e.has("maxSubjectLength")||e.has("maxBodyLength"))&&(this.formCanSubmit=this.checkSubmissionAllowed())}get unrecoverableErrorTemplate(){return this.unrecoverableError?ze`
          <div class="unrecoverable-error">
            <span class="error-msg">${cn(this.unrecoverableError)}</span>
          </div>
        `:Ai}get recoverableErrorTemplate(){return this.recoverableError?ze`
          <div class="recoverable-error">
            ${us(this.sanitizeErrorMsg(cn(this.recoverableError)))}
          </div>
        `:Ai}get recaptchaMessageTemplate(){return this.bypassRecaptcha?Ai:ze`
      <span class="recaptcha-disclaimer"
        >${cn(ze`This site is protected by reCAPTCHA and the Google
            <a
              target="_blank"
              class="inline-link"
              href="https://policies.google.com/privacy"
              >Privacy Policy</a
            >
            and
            <a
              target="_blank"
              class="inline-link"
              href="https://policies.google.com/terms"
              >Terms of Service</a
            >
            apply.`)}</span
      >
    `}get starsInputTemplate(){return ze`
      <div class="form-heading rating">
        <label for="stars-field">${cn("Rating (optional)")}</label>
      </div>
      <input
        type="hidden"
        name="field_stars"
        id="stars-input"
        .value=${this.currentStars.toString()}
        required
      />
      <div class="stars">
        ${[1,2,3,4,5].map(e=>this.renderStar(e))}
        <button
          type="button"
          class="clear-stars-btn"
          @click=${this.handleClearBtnClicked}
        >
          ${cn("Clear")}
        </button>
      </div>
    `}get subjectInputTemplate(){var e,t;return ze`
      <span id="subject-input" class="input-box ${this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength?"error":""}"
      ><div class="form-heading">
        <label for="field_reviewtitle">${cn("Subject")}</label>
        ${this.maxSubjectLength?ze`<div class="char-count subject">
                ${this.currentSubjectLength}/${this.maxSubjectLength}
              </div>`:Ai}
      </div>
      <input
        type="text"
        name="field_reviewtitle"
        id="field_reviewtitle"
        .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewtitle)!==null&&t!==void 0?t:""}
        @input=${this.handleSubjectChanged}
        required
    />${this.maxSubjectLength?ze`
            <div class="input-error">
              ${cn(`Subject may only have ${this.maxSubjectLength} characters`)}
            </div>
          `:Ai}</div></span>
    `}get bodyInputTemplate(){var e,t;return ze`
      <span
        id="body-input"
        class="input-box ${this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength?"error":""}"
        ><div class="form-heading">
          <label for="field_reviewbody">${cn("Review")}</label>
          ${this.maxBodyLength?ze`<div class="char-count body">
                ${this.currentBodyLength}/${this.maxBodyLength}
              </div>`:Ai}
        </div>
        <textarea
          name="field_reviewbody"
          id="field_reviewbody"
          .value=${(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewbody)!==null&&t!==void 0?t:""}
          rows="10"
          cols="50"
          required
          @input=${this.handleBodyChanged}
        ></textarea>
        ${this.maxBodyLength?ze`
              <div class="input-error">
                ${cn(`Review may only have ${this.maxBodyLength} characters`)}
              </div>
            `:Ai}
      </span>
    `}get hiddenInputsTemplate(){return ze`
      <input type="hidden" name="field_reviewtoken" .value=${this.token} />
      ${this.identifier?ze`<input
            type="hidden"
            name="identifier"
            .value=${this.identifier}
          />`:Ai}
    `}get actionButtonsTemplate(){return ze`<div class="action-btns">
      <button
        type="button"
        class="ia-button dark"
        data-testid="cancel-btn"
        @click=${this.cancelReviewEdit}
      >
        ${cn("Cancel")}
      </button>
      <button
        type="submit"
        class="ia-button primary"
        name="submit"
        ?disabled=${!this.formCanSubmit||this.submissionInProgress}
      >
        ${this.submissionInProgress?ze`
              <span class="loading-indicator" alt="Loading indicator">
                <ia-activity-indicator></ia-activity-indicator>
              </span>
            `:cn("Submit review")}
      </button>
    </div>`}renderStar(e){let t=e===this.currentStars,r=cn(`Rate ${e>1?`${e} stars`:"1 star"}`);return ze`
      <button
        class="star star-${e}"
        title=${t?cn("Clear rating"):r}
        @click=${s=>this.handleStarClicked(s,e)}
      >
        ${e<=this.currentStars?s6:l6}
      </button>
    `}setupRecaptcha(){return vi(this,null,function*(){var e;try{this.recaptchaWidget=yield(e=this.recaptchaManager)===null||e===void 0?void 0:e.getRecaptchaWidget()}catch(t){this.unrecoverableError=this.RECAPTCHA_ERROR_MESSAGE}})}sanitizeErrorMsg(e){return hu.sanitize(e,{ALLOWED_TAGS:["a","b","br"]})}handleSubmit(e){return vi(this,null,function*(){var t;if(e.preventDefault(),!(!this.formCanSubmit||this.submissionInProgress)){if(this.submissionInProgress=!0,this.recoverableError="",!this.reviewForm.reportValidity())return this.stopSubmission();if(!this.fetchHandler)return this.recoverableError=this.GENERIC_ERROR_MESSAGE,this.stopSubmission();try{let r=new URLSearchParams;if(!this.bypassRecaptcha){let l=yield this.getRecaptchaToken();if(!l)return this.handleRecaptchaError();r.append("g-recaptcha-response",l!=null?l:"")}for(let l of new FormData(this.reviewForm))r.append(l[0],l[1]);r.append("submitter","review-form");let s=yield this.fetchHandler.fetchApiResponse(`${this.baseHost}${this.endpointPath}`,{method:"POST",includeCredentials:!0,body:r});if((s==null?void 0:s.success)===!0){this.submissionInProgress=!1;let l=this.generateSubmittedReview(),o=new CustomEvent("reviewUpdated",{detail:l});this.dispatchEvent(o)}else this.recoverableError=(t=s.error)!==null&&t!==void 0?t:this.GENERIC_ERROR_MESSAGE,this.stopSubmission()}catch(r){console.error(r),this.recoverableError=this.GENERIC_ERROR_MESSAGE,this.stopSubmission()}}})}generateSubmittedReview(){var e,t,r,s,l,o;let c=new Date().toDateString();return new oc({reviewtitle:this.reviewForm.field_reviewtitle.value,reviewbody:this.reviewForm.field_reviewbody.value,stars:this.reviewForm.field_stars.value,reviewdate:c,reviewer:(t=(e=this.oldReview)===null||e===void 0?void 0:e.reviewer)!==null&&t!==void 0?t:this.submitterScreenname,reviewer_itemname:(s=(r=this.oldReview)===null||r===void 0?void 0:r.reviewer_itemname)!==null&&s!==void 0?s:this.submitterItemname,createdate:(o=this.dateToString((l=this.oldReview)===null||l===void 0?void 0:l.createdate))!==null&&o!==void 0?o:c})}dateToString(e){return e instanceof Date?e.toDateString():e}getRecaptchaToken(){return vi(this,null,function*(){if(!this.recaptchaWidget){this.handleRecaptchaError();return}try{return yield this.recaptchaWidget.execute()}catch(e){this.handleRecaptchaError();return}})}handleRecaptchaError(){this.recoverableError=this.RECAPTCHA_ERROR_MESSAGE,this.stopSubmission()}stopSubmission(){this.submissionInProgress&&(this.submissionInProgress=!1)}cancelReviewEdit(){let e=new CustomEvent("reviewEditCanceled");this.dispatchEvent(e)}handleStarClicked(e,t){e.preventDefault(),this.setStars(t)}handleClearBtnClicked(e){e.preventDefault(),this.currentStars=0}setStars(e){this.currentStars=e===this.currentStars?0:e}handleSubjectChanged(e){let t=e.target;this.currentSubjectLength=t.value.length}handleBodyChanged(e){let t=e.target;this.currentBodyLength=t.value.length}checkSubmissionAllowed(){return!(this.unrecoverableError||!this.currentBodyLength||!this.currentSubjectLength||this.maxSubjectLength&&this.currentSubjectLength>this.maxSubjectLength||this.maxBodyLength&&this.currentBodyLength>this.maxBodyLength)}static get styles(){return[Nd,dt`
        .form-heading {
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          padding-top: 15px;
        }

        .form-heading.rating {
          padding-top: 0;
        }

        .form-heading label {
          font-size: 1.6rem;
          font-weight: bold;
        }

        label {
          display: inline-block;
          margin-bottom: 5px;
        }

        textarea,
        input[type='text'],
        .unrecoverable-error {
          padding: 5px;
          width: calc(100% - 10px);
          font-family: inherit;
          border-radius: 5px;
          border: 1px solid var(--container-border-color, #999999);
        }

        .input-box.error input,
        .input-box.error textarea {
          border: 2px solid var(--container-error-color, #ea0202);
        }

        .input-box.error .char-count,
        .input-error,
        .unrecoverable-error,
        .recoverable-error {
          color: var(--container-error-color, #ea0202);
        }

        .input-error {
          display: none;
        }

        .input-box.error .input-error {
          display: block;
          text-align: right;
          padding-top: 5px;
        }

        .inline-link {
          color: var(--container-link-color, #4f65f5);
          text-decoration: none;
        }

        .inline-link:hover {
          text-decoration: underline;
        }

        .stars {
          display: flex;
          flex-direction: row;
          gap: 2px;
          align-items: center;
        }

        .star {
          all: unset;
          height: 30px;
          width: 30px;
        }

        .star:hover {
          cursor: pointer;
        }

        .clear-stars-btn,
        .recoverable-error a {
          padding: 0 5px;
          color: var(--container-link-color, #4f65f5);
          font-family: inherit;
          border: none;
          background: transparent;
          display: inline-block;
          padding-top: 5px;
        }

        .clear-stars-btn:hover,
        .recoverable-error a:hover {
          cursor: pointer;
          text-decoration: underline;
        }

        .action-btns {
          width: 100%;
          display: flex;
          justify-content: flex-end;
          gap: 10px;
          padding-top: 15px;
        }

        .ia-button:disabled {
          opacity: 0.75;
        }

        .ia-button:disabled:hover {
          cursor: not-allowed;
        }

        .unrecoverable-error {
          min-height: 50px;
          padding: 5px;
          text-align: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
          background-color: var(--container-bg-color, #fbfbfd);
        }

        .loading-indicator {
          display: block;
          width: 20px;
          height: 20px;
          margin-top: 2px;
          --activityIndicatorLoadingRingColor: #fff;
          --activityIndicatorLoadingDotColor: #fff;
        }

        .recaptcha-disclaimer {
          font-size: 1.2rem;
        }

        @media only screen and (max-width: 350px) {
          .action-btns {
            flex-direction: column-reverse;
            align-items: center;
          }
        }
      `]}};ae([Kt({type:String})],zn.prototype,"identifier",void 0);ae([Kt({type:String})],zn.prototype,"token",void 0);ae([Kt({type:String})],zn.prototype,"baseHost",void 0);ae([Kt({type:String})],zn.prototype,"endpointPath",void 0);ae([Kt({type:String})],zn.prototype,"submitterScreenname",void 0);ae([Kt({type:String})],zn.prototype,"submitterItemname",void 0);ae([Kt({type:Object})],zn.prototype,"oldReview",void 0);ae([Kt({type:String})],zn.prototype,"unrecoverableError",void 0);ae([Kt({type:Number})],zn.prototype,"maxSubjectLength",void 0);ae([Kt({type:Number})],zn.prototype,"maxBodyLength",void 0);ae([Kt({type:Object})],zn.prototype,"fetchHandler",void 0);ae([Kt({type:Object})],zn.prototype,"recaptchaManager",void 0);ae([Kt({type:Boolean})],zn.prototype,"bypassRecaptcha",void 0);ae([dn()],zn.prototype,"currentStars",void 0);ae([dn()],zn.prototype,"currentSubjectLength",void 0);ae([dn()],zn.prototype,"currentBodyLength",void 0);ae([dn()],zn.prototype,"recoverableError",void 0);ae([dn()],zn.prototype,"formCanSubmit",void 0);ae([dn()],zn.prototype,"submissionInProgress",void 0);ae([on("#review-form")],zn.prototype,"reviewForm",void 0);zn=ae([lr("ia-review-form")],zn);var Tn=class extends fi{constructor(){super(...arguments),this.reviews=[],this.reviewsDisabled=!1,this.reviewsFrozen=!1,this.canDelete=!1,this.displayReviewsByDefault=!1,this.baseHost="https://archive.org",this.token="",this.endpointPath="/write-review.php",this.submitterScreenname="Anonymous",this.bypassRecaptcha=!1,this.reviewAddEditRequested=!1,this.fetchHandler=new zy,this.displayReviewForm=!1,this.displayReviews=!1,this.filteredReviews=[],this.reviewsCount=0,this.recaptchaActivated=!1}render(){return this.reviewsDisabled?this.reviewsDisabledTemplate:this.reviewsCount===0&&!this.displayReviewForm?this.noReviewsMsgTemplate:this.displayReviews?ze`
      <div class="reviews-list">
        ${this.reviewsFrozen?ze`<div class="message">
              ${cn("Reviews can no longer be added to this item.")}
            </div>`:Ai}
        ${this.editableCurrentReviewTemplate}
        ${this.filteredReviews.map(e=>e.reviewer_itemname!==this.submitterItemname?this.renderReview(e):Ai)}
      </div>
    `:this.displayReviewsMsgTemplate}willUpdate(e){(e.has("reviews")||e.has("submitterItemname"))&&(this.reviewsCount=this.reviews.length,this.sortFilterReviews()),e.has("displayReviewForm")&&this.displayReviewForm===!0&&(!this.bypassRecaptcha&&!this.recaptchaActivated&&(this.recaptchaActivated=!0),this.displayReviews=!0),e.has("displayReviewsByDefault")&&this.displayReviewsByDefault&&(this.displayReviews=!0)}get reviewsDisabledTemplate(){return ze`<div class="message">
      ${cn("Reviews have been disabled for this item.")}
    </div>`}get noReviewsMsgTemplate(){return this.reviewsFrozen?ze`
        <div class="message">
          ${cn("Reviews cannot be added to this item.")}
        </div>
      `:ze`
      <div class="message">
        ${cn("There are no reviews yet.")}
        ${cn(ze`
          Be the first one to
          <button
            class="ia-button link no-reviews-btn"
            @click=${this.addEditReview}
          >
            write a review</button
          >.
        `)}
      </div>
    `}get displayReviewsMsgTemplate(){return ze`
      <div class="message">
        ${this.reviewsCount===1?cn("There is 1 review for this item."):cn(`There are ${this.reviewsCount} reviews for this item.`)}
        <button
          class="ia-button link display-reviews-btn"
          @click=${()=>this.displayReviews=!0}
        >
          ${cn(`Display ${this.reviewsCount===1?"review":"reviews"}`)}</button
        >.
      </div>
    `}get editableCurrentReviewTemplate(){return!this.displayReviewForm&&!this.currentReview?Ai:ze`<div class="own-review-container">
      ${this.displayReviewForm?ze`<ia-review-form
            .identifier=${this.identifier}
            .oldReview=${this.currentReview}
            .baseHost=${this.baseHost}
            .endpointPath=${this.endpointPath}
            .submitterItemname=${this.submitterItemname}
            .submitterScreenname=${this.submitterScreenname}
            .maxSubjectLength=${this.maxSubjectLength}
            .maxBodyLength=${this.maxBodyLength}
            .token=${this.token}
            .unrecoverableError=${this.reviewSubmissionError}
            .fetchHandler=${this.fetchHandler}
            .recaptchaManager=${this.recaptchaActivated?this.recaptchaManager:void 0}
            ?bypassRecaptcha=${this.bypassRecaptcha}
            @reviewUpdated=${this.handleReviewUpdate}
            @reviewEditCanceled=${this.handleEditCanceled}
          ></ia-review-form>`:this.renderReview(this.currentReview)}
    </div>`}sortFilterReviews(){let e,t=[];this.reviews.forEach(r=>{!e&&r.reviewer_itemname===this.submitterItemname?e=r:t.push(r)}),this.currentReview=e,this.filteredReviews=this.sortReviews(t)}sortReviews(e){return[...e].sort((t,r)=>t.createdate&&r.createdate?new Date(r.createdate).getTime()-new Date(t.createdate).getTime():0)}renderReview(e){return e?ze`<ia-review
      .review=${e}
      .identifier=${this.identifier}
      ?canDelete=${this.canDelete}
      ?bypassTruncation=${this.displayReviewsByDefault}
      .baseHost=${this.baseHost}
    ></ia-review>`:Ai}addEditReview(){this.bypassRecaptcha||(this.recaptchaActivated=!0),this.displayReviewForm=!0}handleReviewUpdate(e){!this.currentReview&&e.detail&&(this.dispatchEvent(new CustomEvent("newReviewAdded")),this.reviewsCount+=1),this.currentReview=e.detail,this.displayReviewForm=!1}handleEditCanceled(){this.displayReviewForm=!1,this.reviewsCount===0&&(this.displayReviews=!1)}static get styles(){return[Nd,dt`
        :host {
          font-family: var(
            --ia-font-stack,
            'Helvetica Neue',
            Helvetica,
            Arial,
            sans-serif
          );

          color: var(--ia-text-color, #2c2c2c);
        }

        .reviews-list {
          display: flex;
          flex-direction: column;
          gap: 2rem;
          width: 100%;
        }

        .own-review-container {
          --error-color: var(--container-error-color, #ea0202);
          --link-color: var(--container-link-color, #4f65f5);
          --container-error-color: #ea0202;
          --container-link-color: #4f65f5;
          --container-bg-color: #fbfbfd;
          --container-border-color: #999999;

          border: 2px solid var(--container-border-color, #999999);
          border-radius: 5px;
          background-color: var(--container-bg-color, #fbfbfd);
          padding: 10px;
        }

        .message {
          font-weight: 200;
        }

        .message .ia-button {
          display: inline;
          vertical-align: baseline;
          padding: 0;
          font-weight: 600;
        }
      `]}};ae([Kt({type:String})],Tn.prototype,"identifier",void 0);ae([Kt({type:Array})],Tn.prototype,"reviews",void 0);ae([Kt({type:Boolean})],Tn.prototype,"reviewsDisabled",void 0);ae([Kt({type:Boolean})],Tn.prototype,"reviewsFrozen",void 0);ae([Kt({type:Boolean})],Tn.prototype,"canDelete",void 0);ae([Kt({type:Boolean})],Tn.prototype,"displayReviewsByDefault",void 0);ae([Kt({type:Number})],Tn.prototype,"maxSubjectLength",void 0);ae([Kt({type:Number})],Tn.prototype,"maxBodyLength",void 0);ae([Kt({type:String})],Tn.prototype,"baseHost",void 0);ae([Kt({type:String})],Tn.prototype,"token",void 0);ae([Kt({type:String})],Tn.prototype,"endpointPath",void 0);ae([Kt({type:String})],Tn.prototype,"submitterScreenname",void 0);ae([Kt({type:String})],Tn.prototype,"submitterItemname",void 0);ae([Kt({type:Object})],Tn.prototype,"recaptchaManager",void 0);ae([Kt({type:Boolean})],Tn.prototype,"bypassRecaptcha",void 0);ae([Kt({type:String})],Tn.prototype,"reviewSubmissionError",void 0);ae([Kt({type:Boolean})],Tn.prototype,"reviewAddEditRequested",void 0);ae([Kt({type:Object})],Tn.prototype,"fetchHandler",void 0);ae([dn()],Tn.prototype,"displayReviewForm",void 0);ae([dn()],Tn.prototype,"displayReviews",void 0);ae([dn()],Tn.prototype,"filteredReviews",void 0);ae([dn()],Tn.prototype,"currentReview",void 0);ae([dn()],Tn.prototype,"reviewsCount",void 0);ae([dn()],Tn.prototype,"recaptchaActivated",void 0);Tn=ae([lr("ia-reviews")],Tn);vr();var Sb=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(r=>r(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(r=>r!==t)}});function y6(e){return new Promise(t=>setTimeout(t,e))}var Ta;(function(e){e.retryNumber="retryNumber",e.owner="owner",e.dynamicImportLoaded="dynamicImportLoaded",e.hasBeenRetried="hasBeenRetried"})(Ta||(Ta={}));var Ab="lazyLoaderService",Cb=class{constructor(e){var t,r,s;this.emitter=Sb(),this.container=(t=e==null?void 0:e.container)!==null&&t!==void 0?t:document.head,this.retryCount=(r=e==null?void 0:e.retryCount)!==null&&r!==void 0?r:2,this.retryInterval=(s=e==null?void 0:e.retryInterval)!==null&&s!==void 0?s:1}on(e,t){return this.emitter.on(e,t)}loadBundle(e){return Mo(this,void 0,void 0,function*(){let t,r;return e.module&&(t=this.loadScript({src:e.module,bundleType:"module"})),e.nomodule&&(r=this.loadScript({src:e.nomodule,bundleType:"nomodule"})),Promise.race([t,r])})}loadScript(e){return Mo(this,void 0,void 0,function*(){return this.doLoad(e)})}doLoad(e){var t;return Mo(this,void 0,void 0,function*(){let r=(t=e.retryNumber)!==null&&t!==void 0?t:0,s=`script[src='${e.src}'][async][${Ta.owner}='${Ab}'][${Ta.retryNumber}='${r}']`,l=this.container.querySelector(s);return l||(l=this.getScriptTag(Object.assign(Object.assign({},e),{retryNumber:r})),this.container.appendChild(l)),new Promise((o,c)=>{if(l.getAttribute(Ta.dynamicImportLoaded)){o();return}let n=e.scriptBeingRetried,u=l.onload||(n==null?void 0:n.onload);l.onload=g=>{u==null||u(g),l.setAttribute(Ta.dynamicImportLoaded,"true"),o()};let h=l.onerror||(n==null?void 0:n.onerror);l.onerror=g=>Mo(this,void 0,void 0,function*(){let m=l.getAttribute(Ta.hasBeenRetried);if(r<this.retryCount&&!m){l.setAttribute(Ta.hasBeenRetried,"true"),yield y6(this.retryInterval*1e3);let y=r+1;this.emitter.emit("scriptLoadRetried",e.src,y),this.doLoad(Object.assign(Object.assign({},e),{retryNumber:y,scriptBeingRetried:l}))}else m||this.emitter.emit("scriptLoadFailed",e.src,g),h==null||h(g),c(g)})})})}getScriptTag(e){var t;let r=e.src.replace("'",'"'),s=document.createElement("script"),l=e.retryNumber;s.setAttribute(Ta.owner,Ab),s.setAttribute("src",r),s.setAttribute(Ta.retryNumber,l.toString()),s.async=!0;let o=(t=e.attributes)!==null&&t!==void 0?t:{};switch(Object.keys(o).forEach(c=>{s.setAttribute(c,o[c])}),e.bundleType){case"module":s.setAttribute("type",e.bundleType);break;case"nomodule":s.setAttribute(e.bundleType,"");break;default:break}return s}};var b6=class{constructor(e,t){this.widgetId=null,this.isExecuting=!1,this.siteKey=e.siteKey,this.grecaptchaLibrary=e.grecaptchaLibrary;let r=this.createContainer();this.setup(r,t)}execute(){return vi(this,null,function*(){let{widgetId:e}=this;if(e===null)throw new Error("Recaptcha is not setup");return this.isExecuting&&this.finishExecution(),this.isExecuting=!0,new Promise((t,r)=>{this.executionSuccessBlock=s=>{this.finishExecution(),t(s)},this.executionExpiredBlock=()=>{this.finishExecution(),r(new Error("expired"))},this.executionErrorBlock=()=>{this.finishExecution(),r(new Error("error"))},this.grecaptchaLibrary.execute(e)})})}finishExecution(){this.isExecuting=!1;let{widgetId:e}=this;e!==null&&this.grecaptchaLibrary.reset(e)}setup(e,t){var r;this.widgetId=this.grecaptchaLibrary.render(e,{callback:this.responseHandler.bind(this),"expired-callback":this.expiredHandler.bind(this),"error-callback":this.errorHandler.bind(this),sitekey:this.siteKey,tabindex:t==null?void 0:t.tabindex,theme:t==null?void 0:t.theme,type:t==null?void 0:t.type,size:(r=t==null?void 0:t.size)!==null&&r!==void 0?r:"invisible",badge:t==null?void 0:t.badge})}createContainer(e){let t=`recaptchaManager-${this.siteKey}`,r=document.getElementById(t);return r||(r=document.createElement("div"),r.id=t,r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.zIndex=e?`${e}`:"10",document.body.appendChild(r)),r}responseHandler(e){this.executionSuccessBlock&&(this.executionSuccessBlock(e),this.executionSuccessBlock=void 0)}expiredHandler(){this.executionExpiredBlock&&(this.executionExpiredBlock(),this.executionExpiredBlock=void 0)}errorHandler(){this.executionErrorBlock&&(this.executionErrorBlock(),this.executionErrorBlock=void 0)}},Eb=class{constructor(e){var t;this.recaptchaCache={},this.defaultSiteKey=e==null?void 0:e.defaultSiteKey,this.lazyLoader=(t=e==null?void 0:e.lazyLoader)!==null&&t!==void 0?t:new Cb,this.grecaptchaLibraryCache=e==null?void 0:e.grecaptchaLibrary}getRecaptchaWidget(e){return vi(this,null,function*(){var t;let r=(t=e==null?void 0:e.siteKey)!==null&&t!==void 0?t:this.defaultSiteKey;if(!r)throw new Error("The reCaptcha widget requires a site key");let s=this.recaptchaCache[r];if(s)return s;let l=yield this.getRecaptchaLibrary(),o=new b6({siteKey:r,grecaptchaLibrary:l},e==null?void 0:e.recaptchaParams);return this.recaptchaCache[r]=o,o})}getRecaptchaLibrary(){return vi(this,null,function*(){return this.grecaptchaLibraryCache?this.grecaptchaLibraryCache:new Promise(e=>{window.grecaptchaLoadedCallback=()=>{setTimeout(()=>{delete window.grecaptchaLoadedCallback},10),this.grecaptchaLibraryCache=window.grecaptcha,e(window.grecaptcha)},this.lazyLoader.loadScript({src:"https://www.google.com/recaptcha/api.js?onload=grecaptchaLoadedCallback&render=explicit"})})})}};function w6(e){var l;let t=new Eb({defaultSiteKey:"6Ld64a8UAAAAAGbDwi1927ztGNw7YABQ-dqzvTN2"});e.recaptchaManager=t;let r=document.getElementById("reviews-list");if(!r)return;let s=JSON.parse((l=r.value)!=null?l:"[]");e.reviews=s}function x6(e){let t=document.querySelector(".reviews-placeholder");t&&(t.style.display="none");let r=document.querySelector(".js-reviews-addEditReview");r&&(r.style.display="block",r.addEventListener("click",()=>{e.displayReviewForm=!0})),e.style.display="block"}function _6(){let e=document.querySelector(".add-review-msg");e&&(e.innerText="Edit My Review");let t=document.querySelector(".review-count .item-stats-summary__count"),r=document.querySelector(".header-review-count");if(!t){r&&(r.innerText="(1)");return}let s=parseInt(t.innerText,10)+1;t.innerText=s,r&&(r.innerText=`(${s})`)}document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector("ia-reviews");e&&(w6(e),x6(e),e.addEventListener("newReviewAdded",t=>{_6()}))});var Lr=class e{static paramsToJSON(){return J0()}static isTouchDevice(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}static theatre_controls_position(t,r,s,l){let o=t,c=l&&!t;if(!c&&(t||(o=je("#canvas")),!o.length))return;let n=c?l:o.height()||0,u=c?s:o.width()||0;!c&&typeof r!="undefined"&&je("#theatre-controls").offset({top:r});let h=Math.round((je("#theatre-ia-wrap").width()-je("#theatre-controls").width()-u)/2);Vi("width",u),Vi("right_gutter_width",h),je("#theatre-controls").css({height:n,visibility:"visible",right:Math.max(20,h/2)})}static theatresize(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);let r=()=>{let o=Math.min(je(window).width(),400),c=je(window).height()-(je("#navwrap1").height()||0)-100;e.theatresize_maxheight&&(c=Math.min(c,e.theatresize_maxheight)),c=Math.max(c,o);let n=Math.min(c,1e3);je("#theatre-ia-wrap").addClass("resized").css("height",n),t&&t(je("#theatre-ia-wrap").height()||0)};r(),je(window).on("resize  orientationchange",()=>{clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(r,250)})}static carouselsize(t,r){let s=je(t),l=s.find("img.carousel-image").map((o,c)=>{let n=je.Deferred(),u;return c.complete?u=n.resolve(c.naturalHeight).promise():(c.addEventListener("load",()=>{n.resolve(c.naturalHeight)}),u=n),u}).get();je.when(...l).then((...o)=>{let c=s.height(),n=Math.max(...o);c>n&&(s.css("maxHeight",n),r&&(e.theatresize_maxheight=n,je(window).trigger("resize")))})}static popover_menu(t,r){let s={trigger:"hover focus click",container:t,content:r.content,html:!0};r.title&&(s.title=r.title),r.placement&&(s.placement=r.placement),r.trigger&&(s.trigger=r.trigger),je(t).popover(s)}static date_switcher(t){let r="#date_switcher";je(r).tooltip({html:!0,trigger:"manual",placement:"bottom",title:t}).on("mouseenter focusin",function(){je(r).parent().find(".tooltip").length||je(this).tooltip("show")}),je(".sortbar").on("mouseleave",()=>{Vi("not hovering sortbar anymore"),je(r).tooltip("hide")}),je(r).on("shown.bs.tooltip",()=>{je(r).parent().find(".date_switcher").on("click",function(){je(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),je(this).addClass("in")})})}static lists_v_tiles_setup(t){let r="tiles",s=vo.get(`view-${t}`),l=vo.get(`showdetails-${t}`),o=l==="showdetails"||l===void 0&&r==="lists";if(s==="lists"||!s&&r==="lists"){if(o)return;je("body").removeClass("showdetails")}else je("body").removeClass("lists".concat(o?"":" showdetails")).addClass("tiles")}static showdetails_toggle(t){let r=je("body"),s=r.hasClass("showdetails")?"":"showdetails";Vi("showdetails_toggle() going to: ",s),vo.set(`showdetails-${t}`,s,{path:"/",expires:30,domain:".archive.org"}),r.toggleClass("showdetails")}static tiles_toggle(t,r){let s=je("body"),l=s.hasClass("tiles")?"lists":"tiles";return Vi("tiles_toggle() going to",l),s.removeClass("lists tiles").addClass(l),e.tiler(),vo.set(`view-${r}`,l,{path:"/",expires:30,domain:".archive.org"}),!1}static inTab(){let t=je(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();return t.indexOf("forum")===0?t.split(" ").shift():t}static selector(){let t=e.inTab();if(t==="forum"||t==="posts"||t==="about")return!1;let r=!1;if(t){Vi("inTab",t);let s=`#tabby-${t.replace(" ","-")}`;if(t==="collection"||t==="collections"||t==="uploads"||t==="reviews"||t==="web archives")r="#".concat(je(s.concat(" div.ikind.in:first")).attr("id"));else{let l=je(s.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");r=`#ikind-${t}${l===""?"":"-"}${l}`}}else r="#ikind-".concat(je(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),je(r).length||(r="#ikind-search");return Vi("SELECTOR",r),r}static parent_hover(t){t.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(r=>je(r.currentTarget).find(".item-parent").addClass("hoverin")).mouseout(r=>je(r.currentTarget).find(".item-parent").removeClass("hoverin"))}static tiler(t,r){je("body").hasClass("tiles")||je("body").hasClass("showdetails")&&je(".sortbar input[name=showdetails]").prop("checked",!0);let s=t||e.selector();if(s===!1)return;let l=je(s).first();e.parent_hovered=e.parent_hovered||{},e.parent_hovered[s]||(e.parent_hover(l),e.parent_hovered[s]=!0)}static ikind(t,r){let s=`#${r}`;Vi("ikind",r),je(s).parent().find("div.ikind.in").hide(),je(s).removeClass("hidden").addClass("in").show(),je(s).parents(".tabby-data").find("a.ikind").removeClass("in"),je(t).addClass("in"),e.tiler(s);let l=je(s).parents(".tabby-data").find("select.ikind-mobile"),o=l.find("option:contains(".concat(je(t).text(),")")),c=l.find("option:selected");return o.text().trim()!==c.text().trim()&&(Vi("changing ikind mobile now to ",o.text()),e.ikind_mobile_change_ignore_next=!0,o.attr("selected","selected")),!1}static ikind_mobile_change(t){if(e.ikind_mobile_change_ignore_next){e.ikind_mobile_change_ignore_next=!1;return}let r=je(t).find("option:selected");Vi("ikind mobile changed to: ",r.text());let s=je(t).parents(".tabby-data").find("a.ikind");if(s.length||(s=je("body").find("a.ikind")),!s.length)return;let o=s.filter((c,n)=>je(n).text()===r.text()).attr("href");Vi("goto",o),o&&(o.substr(0,1)==="#"?je(`a.ikind[data-id=${o.substr(1)}]`).click():location.href=o)}static popState(t){if(e.pushState=typeof history.pushState!="undefined",Vi("popState(",t,") called, modern browser: ",e.pushState?"y":"n"),t)return;let r=s=>{let l=ey("tab",!0);l?l=`#tabby-${l}-finder`:s?l=`#tabby-${s}-finder`:l=".tabby-default-finder",e.pushState&&Vi("goto tab: ",l," ################################################### STATE"),e.tabby_no_pushState_next_click=!0,je(l).click()};e.pushState&&je(window).on("popstate",()=>r()),r()}static tabby(t,r){Vi("AJS.tabby()",r);let s=r.replace(/tabby-/,"").trim();if(!(s==="uploads"||s==="reviews"||s==="collections"||s==="loans"||s==="web archives")){if(je(".tabby-data.in").removeClass("in").hide(),je(`#${r}`).removeClass("hidden").addClass("in").show(),je(".tabby").removeClass("in"),je(t).parents(".tabby").addClass("in"),e.tabby_no_pushState_next_click)delete e.tabby_no_pushState_next_click;else if(e.pushState&&typeof history.pushState!="undefined"){let l=je(t).attr("href"),o=location.href,c=location.protocol.concat("//",location.host,l);o!==c&&(Vi("pushState: ",l," ################################################### STATE"),history.pushState({},"",c))}(s==="collection"||s==="about")&&(s==="about"&&e.grafs(),e.tiler()),e.pushState&&(event==null||event.preventDefault())}}static collectionSummaryMoreClicked(){return e.tabby("#tabby-about-finder","tabby-about")}static head_img_dragdrop_setup(t){e.head_img_dragdrop_setup_done||(Vi("head_img_dragdrop_setup"),e.head_img_dragdrop_setup_done=!0,je("#file-dropper-wrap").bind("mouseenter",()=>{Vi("enter"),e.head_img_replaceable(t),je("#file-dropper").show()}).bind("mouseleave",()=>{Vi("ouddie"),e.file_picked||je("#file-dropper").hide()}),je("body").bind("dragover",r=>(Vi("dragover"),r.stopPropagation(),r.preventDefault(),e.head_img_replaceable(t),je("#file-dropper").addClass("drag_over").show(),!1)),je("body").bind("dragleave",r=>{Vi("dragleave");let s=je("#file-dropper-wrap").is(":hover")||je("#file-dropper     ").is(":hover")||je("#file-dropper-img ").is(":hover"),l=r.pageX||r.originalEvent.pageX,o=r.pageY||r.originalEvent.pageY;if(!s){let c=je("#file-dropper-wrap"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(s=!0)}if(!s){let c=je("#file-dropper"),{left:n,top:u}=c.offset();l>=n&&l<=n+c.outerWidth()&&o>=u&&o<=u+c.outerHeight()&&(s=!0)}s||je("#file-dropper").removeClass("drag_over").hide()}))}static head_img_replaceable(t){if(je("#file-dropper").html().trim()!=="")return;je("#file-dropper").show().html(`
<div>
<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"
        title="cancel file upload" alt="cancel file upload">
  &times;
</button>
<b>
  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />
</b><br/>
<b>
  Drag & Drop an image file here or
</b>
<button id="file-picker" type="button" class="btn btn-info btn-xs">
  Pick image to upload
</button>
<form method="POST" action="/services/post-file.php?submit=1&identifier=${t}"
      enctype="multipart/form-data" id="poster">
  <div class="hidden">
    <input id="file-selector" name="file" type="file" accept="image/*"/>
  </div>
  <input type="hidden" name="identifier" value="${t}"/>
  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>
  <div id="file-uploading">
    Uploading your file..
  </div>
</form>
</div>`),En("#file-picker",()=>je("#file-selector").click()),je("#file-cancel").bind("click",u=>(e.cancelFile(),u.stopPropagation(),u.preventDefault(),!1));let r=()=>{Vi("success!")},s=()=>{let u=!1;typeof XMLHttpRequest=="undefined"&&(u="browser appears to not have HTML5 functionality"),u||(u=e.badFile());let h=new XMLHttpRequest;if(u||(Vi(e.file2post),h.upload||(u="browser submit setup failed")),u)return u;Vi("post");let g=Math.round(Date.now()/1e3);h.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",t,"&fname=",encodeURIComponent(e.file2post.name))),h.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),h.send(e.file2post),Vi("posted in background"),je("#file-dropper").html("waiting for your tasks to queue");let m=!1;return m=setInterval(()=>{Vi("STALKING..."),je.getJSON(`/metadata/${t}?rand=${Math.random()}`,_=>{let w=_.pending_tasks&&_.tasks?_.tasks.length:0;w?_.tasks.filter(A=>A.wait_admin===2).length?(je("#file-dropper").html(`
                  <div class="alert alert-danger">
                    status task failure -- an admin will need to resolve
                  </div>`),clearInterval(m)):je("#file-dropper").html(`waiting for your ${w} tasks to finish`):(Vi("last update",_.item_last_updated,"vs now",g),_.item_last_updated<g?je("#file-dropper").html("waiting for your tasks to queue"):(Vi("task(s) done!"),clearInterval(m),je("#file-dropper").html("reloading page with your image"),window.location.reload()))})},2e3),""};je("#file-selector").bind("click",()=>{e.file_picked="selected"}).bind("change",u=>{Vi("file dropdown selected!"),je("#file-submit, #file-cancel").show(),Vi(u),u.target&&u.target.files&&u.target.files.length&&([e.file2post]=u.target.files,e.previewFile())}),je("#file-dropper").bind("drop",u=>{var h,g;u.stopPropagation(),u.preventDefault(),je("#file-dropper").removeClass("drag_over"),je("#file-submit, #file-cancel").show(),(g=(h=u.originalEvent)==null?void 0:h.dataTransfer)!=null&&g.files&&(Vi(u.originalEvent.dataTransfer.files),e.file_picked="dropped",[e.file2post]=u.originalEvent.dataTransfer.files,e.previewFile(),je("#file-selector").files=u.originalEvent.dataTransfer.files)}),je("#poster").bind("focusin",u=>{Vi(u.type),je("#file-uploading").show()}).bind("submit",u=>{Vi("submit!"),je("#file-uploading").show();let h=s();return h===""?(r(),u.stopPropagation(),u.preventDefault(),!1):e.file_picked==="dropped"?(e.cancelFile(),alert(`Failure: ${h}`),u.stopPropagation(),u.preventDefault(),!1):!0});let l=je("#file-dropper-img").outerWidth(),o=je("#file-dropper-img").outerHeight(),c=je("#file-dropper").outerWidth(),n=je("#file-dropper").outerHeight();je("#file-dropper").css({left:Math.round((l-c)/2),top:Math.round((o-n)/2)}),ql&&(je("#file-dropper > form > div.hidden").removeClass("hidden"),je("#file-dropper > button").addClass("hidden"))}static previewFile(){if(je("#file-dropper .uppreview").remove(),e.badFile())return e.cancelFile(),!1;if(typeof FileReader=="undefined")return!1;let t=new FileReader;return t.onload=r=>{Vi(r.target);let s=new Image;s.src=r.target.result,je("#file-dropper").append(s),je(s).addClass("uppreview")},Vi(e.file2post),t.readAsDataURL(e.file2post),!0}static cancelFile(){je("#file-dropper .uppreview").remove(),je("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),e.file_picked&&delete e.file_picked,e.file2post&&delete e.file2post}static badFile(){let t=!1;if(!t&&!e.file2post&&(t="file is missing"),!t&&e.file2post.size>8e6&&(t="file is over 8MB in size"),!t){let r=e.file2post.type.toLowerCase();r!=="image/jpeg"&&r!=="image/png"&&r!=="image/gif"&&(t="file not required format of JPEG or PNG or GIF")}return t&&alert(t),t}static drawPDF(t,r){let s="/download/".concat(t,"/",t,"_pdf.zip/",t,"_pdf/",t,"_"),l=!1,o=!1;for(let h of Object.keys(r)){let g=h.slice(0,4);if(o===!1&&(o=g),o!==g){l=!0;break}}let n="",u=666;for(let h of Object.keys(r)){if(h==="yyyymmdd")continue;let g=r[h].split(","),m=h.slice(0,4),y=parseInt(h.slice(4,6),10),_=parseInt(h.slice(6,8),10),w=m.concat("-",y),k=!1,A="";w!==u&&(y===1?A="January":y===2?A="February":y===3?A="March":y===4?A="April":y===5?A="May":y===6?A="June":y===7?A="July":y===8?A="August":y===9?A="September":y===10?A="October":y===11?A="November":y===12?A="December":y===void 0?A="Single Page PDFs":A="Unknown_".concat(y),l&&(A=m.concat(" ",A)),n+=n?"</div><!--mo--><br/>":"",n+=`
<a href="#${A},${m}" class="year-month" data-toggle="#m${w}">
  <span class="iconochive-folder"></span> ${A}
</a>
<div class="mo" id="m${w}">`),(_===void 0||_==="")&&(k=!0),k?n+='<div class="day">':n+=`
<div class="day">
<a href="#${w}-${_}" class="year-month-day" data-toggle="#m${w}d${_}">
  <span class="iconochive-folder" /> ${_}
</a>
<div class="pages" id="m${w}d${_}">`;let L=1,T,E;for(let a=0;a<g.length;a++){if(T=g[a],!T)continue;L>0&&(L=1-T),E=parseInt(T,10)+L,T="0000".concat(T),T=T.substr(T.length-4,4);let p=s.concat(T,".pdf");n+=`<a href="${p}">[${E}]</a> `}k?n+="</div>":n+="</div><!--pages--></div><!--day-->",u=w}n+="</div><!--mo-->",je("#pdfs .replaced").html(n),En("#pdfs .year-month",h=>je(je(h.currentTarget).data().toggle).toggle()),En("#pdfs .year-month-day",h=>je(je(h.currentTarget).data().toggle).toggle())}static grafs(){let t=je("#grafs_views_api"),r=je("#grafs2"),s=r.attr("data-id");Vi("loading grafs"),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),r.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();let l="<h2>";je.get("/details/".concat(s,"&grafs=1&v=3"),o=>{let c=o.split(l);c.length>=3&&(je("#activity-reviewsN").html(c[1]).parents(".activity-box").show(),je("#activity-forumN  ").html(c[2]).parents(".activity-box").show()),c.length===6?(t.html(l+c[3]),r.html(l+c[5])):(t.html("(graph data not available)"),r.html("(graph data not available)")),e.plot_graphs()}),Jc.setUpTopRegionsTable()}static quick_down(t,r){let s=`#${t}`;if(je(".format-group.in").length)je(".format-group").slideDown(400),setTimeout(()=>{je(".format-group.in").removeClass("in"),je(".download-button").html("DOWNLOAD OPTIONS")},400),je(s).slideUp();else{let l=je(r).text(),o=je(s).parents(".format-group");je(".download-button").html(l.concat(" FILES")),o.addClass("in"),je(".format-group:not(.in)").slideUp(),je(s).slideDown()}return!1}static arg(t,r){let s=r&&location.search===""?location.href.slice(1).split("&"):location.search.slice(1).split("&");for(let l=0;l<s.length;l++)if(s[l].slice(0,s[l].indexOf("="))===t){let o=s[l].slice(s[l].indexOf("=")+1);return o.length>0?unescape(o):""}return""}static scrolled(){let t=je(window).scrollTop(),r=".more_search:visible",s=je(r);if(!s.length)return;let l=s.offset().top+s.outerHeight()-je(window).height()-40;t>l&&(Vi("hit rock bottom > ",l),e.more_searching||je(r.concat(" > a")).get(0).click())}static more_search(t,r,s){let l=e.selector();if(l===!1)return!1;let o=l.replace(/#ikind-/,""),c=je(l.concat(" .more_search")),n=l;if(typeof e.page_map=="undefined"&&(e.page_map={}),typeof e.page_map[n]=="undefined"&&(e.page_map[n]=s||1),e.page_map[n]<0)return!1;e.page_map[n]+=1;let u=e.page_map[n];c.find(".more-search-fetching").show(),e.more_searching=!0;let h=r+u,g=location.protocol.concat("//",location.host,h);return h+="&scroll=1",Vi("url: ",h),Vi("urlreplace",g),Vi("more_search(selector=",l,"sort=",o,"page=",u,"url=",h,")"),je.get(h,m=>{if(m.length<100&&je(m).find("div.no-results")){c.find(".more-search-fetching, a.btn").hide(),e.page_map[n]=-1,e.more_searching=!1;return}e.pushState&&typeof history.replaceState!="undefined"&&history.replaceState({},"",g);let y=je(l).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[y]&&delete e.tilerPREV.unsourced[y];let _=je(l.concat(" .results"));_.append(e.addNotes(e.addingNotesKind,m)),e.tiler(l),c.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(_),je(l.concat(" img")).on("load",()=>{clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),typeof archive_analytics!="undefined"&&archive_analytics.send_scroll_fetch_event(u)}),!1}static embed_codes_adjust(){Vi("showing embeds!");for(let t of["embedcodehere","embedcodehereWP"]){let r=je(`#${t}`);r.removeAttr("rows").css("height","");let s=r.text();je("body").prepend(je("<div/>").attr({id:`${t}Shadow`,class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:r.width(),"font-size":r.css("font-size")}).text(s));let l=je(`#${t}Shadow`).outerHeight()+15;Vi(t,"bestie height",l,"for current width",r.width()),je(`#${t}Shadow`).remove(),r.height(l)}}static modal_add(t,r){je(t).length&&je(t).remove();let s=t.replace(/#/,""),{prepended_el:l=document.body}=r;return je(l).prepend(`
<div id="${s}" class="modal fade" role="dialog" aria-hidden="true">
<div class="modal-dialog modal-lg">
  <div class="modal-content">
    <div class="modal-header ${r.headerClass!==void 0?r.headerClass:"modal-header-std"}">
      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
        <span class="iconochive-remove-circle"></span>
      </button>
      <h1 class="modal-title">
        ${typeof r.title=="undefined"?"Confirmed":r.title}
      </h1>
    </div>
    <div id="${s}-body">
      ${typeof r.body=="undefined"?"":r.body}
    </div>
  </div>
</div>
</div>`),je(t)}static isFavoriteSuccessful(t){return t.indexOf('<meta name="ia-favorite-success" content="1">')!==-1}static modal_go(t,r){let s=r,l=je(t);if(typeof je.fn.modal=="undefined"){if(r.recalling)throw Error("still cant modal -- are there two jquery on the page?");return r.recalling=1,Promise.resolve().then(()=>(Xf(),Kf)).then(()=>e.modal_go(t,r)),!1}s.favorite&&(s.login=!0,vo.get("logged-in-user")!==void 0&&(So.toggle_favorite_icon(l,!0),So.update_favorite_count(!0)));let o=l.attr("data-target"),c=s.favorite?l.attr("data-href"):l.attr("href");if((!s.ignore_lnk||s.add_modal)&&e.modal_add(o,s),s.shown&&je(o).on("shown.bs.modal",()=>{s.shown()}),s.follow_link_on_dismiss&&je(o).on("hidden.bs.modal",()=>{Vi("modal hidden, going to ",c,".."),je("body").removeClass("blurry"),location.href=c}),s.login&&vo.get("logged-in-user")===void 0){if(location.protocol!=="https:")return location.href="https://archive.org/account/login",!1;let n="/account/login";return je.get(n,u=>{let h=je(u).find(".container-ia > div").length?je(u).find(".container-ia > div").get(0):u;je(o).addClass("login-modal"),je(o.concat("-body")).html(h),je(o).modal("show");let g=je(o.concat("-body form:has(input[type=submit])"));if(!g.length)return;let m=je(".password_icon")[0];navigator.cookieEnabled===!0?(je(".cookie-warning").addClass("hidden"),je(".login-form :input").prop("disabled",!1),m.src="/images/eye-crossed.svg",m.alt="Show text",je(".password_icon").on("click",()=>{let y=je(".input-password")[0];y.type==="password"?(y.type="text",m.src="/images/eye.svg",m.alt="Hide text"):(y.type="password",m.src="/images/eye-crossed.svg",m.alt="Show text")}),je(".input-email, .input-password").on("focus",()=>{je(".password-error").html(""),je(".reset-password").show()})):(je(".cookie-warning").removeClass("hidden"),je(".login-form :input").prop("disabled",!0)),ty({$form:g,url:n,selector:o,element:t,conf:s})}),!1}return s.auto_remove&&(s.auto_close=!0,je(o).on("hidden.bs.modal",()=>{je(o).remove(),je("body").removeClass("blurry")})),s.ignore_lnk?je(o).modal("show"):(je.get(c,n=>{if(s.favorite)if(typeof archive_analytics!="undefined"&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(n))setTimeout(()=>{s.postLogin&&location.reload(!0)},e.modalInterval);else{So.toggle_favorite_icon(l,!1),So.update_favorite_count(!1);let u=je(o),h=`
              <center>
                <p class="favorite-failure-message">
                  There was an error adding the favorite. If the problem persists, please contact support.
                </p>
              </center>
            `;u.find(".modal-title").html("Failed"),u.find(`${o}-body`).html(h),je(o).modal("show")}else je(o).modal("show"),s.auto_close&&setTimeout(()=>je(o).modal("hide"),e.modalInterval)}),je(o).on("hidden.bs.modal",()=>{je(o).remove()})),s.center&&je(o.concat(" .modal-dialog")).center(),s.auto_close&&s.ignore_lnk&&setTimeout(()=>je(o).modal("hide"),e.modalInterval),!1}static suffixFmt(t,r){return r.min>=0&&r.max<=5?Math.round(t*10,1)/10:t>=1e6?(t/1e6).toFixed(0).concat(" M"):t>=1e3?(t/1e3).toFixed(0).concat(" K"):t.toFixed(0)}static suffixFmtPercent(t,r){return e.suffixFmt(t,r).concat("%")}static pluralize(t,r,s){return t===1?r:s}static viewMessage(t,r,s){let l=r.length,o="<table><tr>";o+=`<th class="tt-date" rowspan="${l}">${t[2]} ${t[3]}</th>`,o+=`<td class="tt-number">${ra(r[0])}</td>`,o+=`<td>${e.pluralize(r[0],"View","Views")} ${s[0]}</td></tr>`;for(let c=1;c<l;c++)o+=`<tr><td class="tt-number">${ra(r[c])}</td>`,o+=`<td>${e.pluralize(r[c],"View","Views")} ${s[c]}</td></tr>`;return o+="<table>",o}static plot_graphs(){je(".js-ajs-plotter").each((t,r)=>{let s=JSON.parse(je(r).val());e.plotter(()=>{var o,c,n;Vi("js-ajs-plotter",s);let l=JSON.parse(s.cfg);s.dayBarsNoPoints&&(l.dayBarsNoPoints=!0),s.dark&&(l.dark=!0),((o=l.yaxis)==null?void 0:o.tickFormatter)==="AJS.suffixFmt"&&(l.yaxis.tickFormatter=e.suffixFmt),s.fmt==="AJS.broadcastsTooltip"?s.fmt=e.broadcastsTooltip:s.fmt==="AJS.airedTooltip"?s.fmt=e.airedTooltip:((c=s.fmt)==null?void 0:c.length)===3&&s.fmt[0]==="AJS.graphsTooltip"?s.fmt=e.graphsTooltip(s.fmt[1],s.fmt[2]):((n=s.fmt)==null?void 0:n.length)===3&&s.fmt[0]==="AJS.statsTooltip"&&(s.fmt=e.statsTooltip(s.fmt[1],s.fmt[2])),e.plot(s.id,l,s.fmt,JSON.parse(s.pts),s.many)})})}static broadcastsTooltip(t,r){let s=new Date(t).toUTCString().split(" ");return`<nobr>${ra(r)} broadcasts on ${s[2]} ${s[3]}</nobr>`}static airedTooltip(t,r){let s=new Date(t).toDateString().split(" ");return`<nobr>Aired ${ra(r)} times on ${s[1]} ${s[2]}</nobr>`}static graphsTooltip(t,r){return(s,l)=>{let o=new Date(s).toDateString().split(" ");return`<nobr>${ra(l)} ${t} in ${o[1]} ${r==="day"?o[2]:""} ${o[3]}</nobr>`}}static statsTooltip(t,r=0){let s;switch(t){case"main":{s=({y:o,t:c})=>`${ra(o)} total items in <strong>${c[2]} ${c[3]}</strong>`;break}case"item":{s=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${ra(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Item","Items")}`;break}case"download":{s=({t:o,item:c})=>`<strong>${o[2]} ${o[3]}</strong>: ${ra(c.datapoint[1])} ${e.pluralize(c.datapoint[1],"Download","Downloads")}`;break}case"view":{s=({t:o,values:c,labels:n})=>e.viewMessage(o,c,n);break}default:break}return(o,c,n,u,h)=>{let g=new Date(o-r).toUTCString().split(" ");return`<span style="white-space: nowrap;">${s({x:o,y:c,item:n,t:g,values:u,labels:h})}</span>`}}static plotter(t){if(typeof e.plotters=="undefined"&&(e.plotters=[]),t)e.plotters.push(t),t();else{Vi("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(let r=0;r<e.plotters.length;r++)e.plotters[r]()}}static plot(t,r,s,l,o){let c=r;c.xaxis||(c.xaxis={mode:"time",color:c.dark?"#ccc":"#545454"}),c.yaxis||(c.yaxis={color:c.dark?"#ccc":"#545454"});let n;o&&c.barWidth?n=c.barWidth*1:c.barWidth?n=c.barWidth*86400*1e3:n=(c.dayBarsNoPoints?1:7)*86400*1e3,c.color||(c.color="#385C74"),c.stack?c.series={stack:!0,bars:{show:!0,barWidth:n,fill:!0},legend:{show:!0}}:c.series={bars:{show:!0,barWidth:n,fill:.6,color:c.color},color:c.color,points:{show:!c.dayBarsNoPoints}},typeof c.grid=="undefined"&&(c.grid={borderColor:c.dark?"#333":"#aaa",hoverable:!0}),c.dark&&(c.grid.backgroundColor="#002b36"),c.tip||(c.tip={}),c.tip.id||(c.tip.id=t),typeof window.GraphPriorIndex=="undefined"&&(window.GraphPriorIndex={});let u=[];c.series.stack?u=l:(u=o?l:typeof l.data=="undefined"?[{data:l}]:[l],c.dayBarsNoPoints&&!c.noLabel&&(u[0].label=t));let h=`#${t}`;Promise.resolve().then(()=>(Bb(),Nb)).then(()=>{Promise.all([Promise.resolve().then(()=>(qb(),Wb)),Promise.resolve().then(()=>(Qb(),Jb))]).then(()=>{let g=je.plot(je(h),u,c);s&&je(h).bind("plothover",(m,y,_)=>{if(!_){window.GraphPriorDatapoint=[0,0,0],je("#gtip").remove();return}if(window.GraphPriorDatapoint!==_.datapoint){window.GraphPriorDatapoint=_.datapoint,je("#gtip").remove();let w=[],k=[];if(c.stack){let p=g.getData();for(let v=0;v<p.length;v++){let d=p[v];k[v]=d.label;for(let x=0;x<d.data.length;x++)if(d.data[x][0]===_.datapoint[0]){w[v]=d.data[x][1];break}}}let A=s(_.datapoint[0],_.datapoint[1],_,w,k),L=je(h),T=L.offset(),{pegTo:E}=c.tip;E||(E=y.pageX-T.left>L.width()/2?"right":"left");let a=E==="right"?L.width()-(y.pageX-T.left-20):y.pageX-T.left+20;Vi(E,a),je(`#${c.tip.id}`).append(`<div id="gtip" class="roundbox5 grafs-tooltip" style="top:${y.pageY-T.top}px; ${E}:${a}px">${A}</div>`).fadeIn(200)}})})})}static makeMouseElementAccessible(t){je(t).attr("tabindex","0").on("keypress keydown",function(s){if(s.type!=="click"){let l=s.keyCode||s.which;[32,13].indexOf(l)!==-1&&je(this).click()}})}static autocomplete(t,r,s){Promise.resolve().then(()=>(uf(),cf)).then(()=>{je(t).autocomplete({appendTo:"#autocompletee",minLength:0,source:(l,o)=>{o(je.ui.autocomplete.filter(r,l.term.split(/,\s*/).pop()))},focus:()=>!1,select:function(o,c){if(s){let n=this.value.split(/,\s*/);n.pop(),n.push(c.item.value),n.push(""),this.value=n.join(", ")}else this.value=c.item.value;return!1}})})}static addNotes(t,r){if(t!=="favorite"&&t!=="list"||(!r&&je("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind))return r;if(e.addNoteHTM=je(`
<div class="note">
  <span class="edit">
    <a href="#" class="js-note-add">Add a Note</a>
  </span>
</div>`),Vi("addNotes"),r){let s=je(`<div>${r}</div>`);return s.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),s.html()}return je('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),En(".js-note-add",s=>e.editNote(s.currentTarget))}static editNote(t){let r=je(t);if(!r.parents(".details-ia").prev().attr("data-id"))return!1;let l=r.parents(".note"),o="";return r.text()==="edit"&&(o=l.find("span:first").text(),o=o.replace(/</g,"&lt;").replace(/>/g,"&gt;")),l.hide(),l.parent().append(je(`
<form class="js-note-submit form form-horizontal note" role="form">
  <div class="form-group">
    <div class="col-xs-2 col-md-1 col-lg-1">
      <b>Note:</b>
    </div>
    <div class="col-xs-10 col-md-6 col-lg-7">
      <textarea class="form-control" name="comments">${o}</textarea>
      <div class="clearfix visible-xs-block"></div>
    </div>
    <div class="clearfix visible-xs-block"></div>
    <div class="col-xs-12 col-md-5 col-lg-4 btns">
      <button type="button" class="js-note-edited btn btn-success btn-xs">Save</button>
      <button type="button" class="js-note-edited btn btn-info btn-cancel btn-xs">Cancel</button>
      <button type="button" class="js-note-edited btn btn-danger btn-xs ${o?"":"hidden"}">Remove</button>
    </div>
  </div>
</form>`)),En(".js-note-edited",c=>e.editedNote(c.currentTarget)),ly(".js-note-submit",c=>e.editedNote(c.currentTarget)),!1}static editedNote(t){let r=je(t),s=r.parents(".details-ia").prev().attr("data-id");if(!s)return;r.is("form")&&(r=r.find('button:contains("Save")'));let l=r.text(),o=r.parents(".note"),c=o.prev();if(l==="Save"||l==="Remove"){let n=l==="Save"?o.find("textarea").val():"",u="/bookmarks.php?identifier=".concat(s,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(n));Vi("get ",u),je.get(u,()=>{let h=n?`Note: "<span>${n.replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>"
          <span class="edit">(<a href="#" class="js-note">edit</a>)</span>`:e.addNoteHTM.html();c.html(h).show(),o.remove(),En(".js-note",g=>e.editNote(g.currentTarget))});return}c.show(),o.remove()}static thumbzilla(t=""){var o,c;let r=je("body").hasClass("tv");r&&(window!=null&&window.TV2)&&TV2.unplay("thumbzilla"),t||(t=(o=location.pathname.match(/\/details\/([^/&?]+)/))==null?void 0:o[1]);let s="",l=()=>{je("#opscreen1M").remove(),je("body").prepend(je("<div />").attr({id:"opscreen1M"})),je("<div/>").attr({id:"thumbzilla"}).html(`<div>${s}</div>`).appendTo("#opscreen1M"),je("#opscreen1M").css("visibility","hidden").show();let u=je(window).height()+(ql?60:0);for(let h=720;h>=10;h-=10){let g=Math.round(h*.6875);if(Vi("TRYING",h,"x",g),je("#thumbzilla img").css({width:h,height:g}),je("#thumbzilla img:last").offset().top+g<=u)break}je("#thumbzilla div").center(),je("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",()=>je("#opscreen1M").fadeOut("slow")),window!=null&&window.TV2&&En(".js-tvthumb",h=>{je("#opscreen1M").fadeOut("slow"),TV2.seekURL(je(h.currentTarget).href.replace(/^\/details\/[^/+]/,""))})};if(r&&je(".js-tv3-init").length){let n=JSON.parse((c=je(".js-tv3-init").val())!=null?c:"{}");je(n["TV3.thumbzillas"]).each((u,h)=>{let g=parseInt(h,10),m=`/details/${t}/start/${g}/end/${g+n["TV3.CLIP_SEC_MAX2"]}`;s+=`<a class="js-tvthumb" href="${m}">`,s+=`<img src="/download/${t}/${t}.thumbs/${t}_${h}.jpg"/></a>`}),l()}else je.getJSON(`/metadata/${t}/files`,n=>{for(let u of n.result){let h="original"in u&&u.name.match(/\.thumbs\/.*_([0-9]+)\.jpg$/);h&&(s+=`
              <a href="/details/${t}/${u.original}?start=${Number(h[1])}"><img src="/download/${t}/${u.name}"></a>
            `)}s&&l()});return!1}static setUpSearchForms(){let t=je(document.body),r=je(".js-search-form");function s(l){let o=je(l),c=o.find(".js-search-bar"),n=o.find(".js-search-options"),u=n.data("keepOpenWhenChanged"),h=!1;function g(w){let{waybackMachineSearchUrl:k}=this.dataset,A=je(this.elements),L=A.filter('[name="sin"]:checked'),T=A.filter('[name="search"]'),E=L.length?L[0].value:"",a=T.length?T[0].value:"";k&&E==="WEB"&&(w.preventDefault(),window.location=[k.replace(/\/$/,""),a].join("/"))}function m(){n.addClass("is-open").attr("aria-expanded",!0)}function y(){n.removeClass("is-open").attr("aria-expanded",!1)}function _(w){!w||o[0].contains(w)||u&&h||je(w).parents(".ui-autocomplete").length||y()}o.length&&(o.on("submit",g),n.hasClass("is-open")||(t.on("click",w=>{_(w.target)}),o.on("change",()=>{h=!0}).on("focusout",w=>{_(w.relatedTarget)}),c.on("focusin",()=>{m()})))}r.each((l,o)=>s(o))}static setUpAccordions(){function t(s,l){Array.from(s).forEach(o=>{o!==l&&(o.open=!1)})}function r(s){function l(o){o.target.open&&(t(s.querySelectorAll("details"),o.target),je("html, body").animate({scrollTop:je(o.target).offset().top},400))}Array.from(s.querySelectorAll("details")).forEach(o=>{o.addEventListener("toggle",l)}),s.setAttribute("data-accordion-ready","")}Array.from(document.querySelectorAll("[data-accordion]")).forEach(r)}static advanced_search(t){if(!e.is_advanced_TV_search(t))return!0;e.adv||(e.adv={mapping:!1});let r=new Date().toISOString().substr(0,10);je.ajaxSetup({cache:!0});let s=`https://${location.host}/includes/`;return je.when(typeof TVSearch!="undefined"||je.getScript(s.concat("build/js/tvsearch.min.js?",r)),e.adv.mapping||je.getJSON("/details/tv?mappings&output=json&".concat(r),l=>{e.adv.mapping=l})).then(()=>{if(e.adv.mapping.length!==2){alert("failed to get network and program mappings!");return}TVSearch.proPick(e.adv.mapping,t)}),!1}static is_advanced_TV_search(t){if(location.hostname==="web.archive.org"||je(document.body).hasClass("top"))return!1;let r=je(t).parents("form");return r.find(".js-search-options input[value=TV]").is(":checked")?r:!1}static isTextClamped(t){return t.clientHeight<t.scrollHeight}static bindClampCheckbox(t){let r=t.nextElementSibling;if(r&&r.type==="checkbox"){let s,l;je(r).on("click",()=>{if(je(r).is(":checked")){let o=window.visualViewport.pageTop;s=t.getBoundingClientRect().top+o,l=s<o?s-10:o}else s<window.visualViewport.pageTop&&window.scrollTo({top:l,behavior:"instant"})})}}static unbindClampCheckbox(t){let r=t.nextElementSibling;r&&r.type==="checkbox"&&r.checked&&je(r).off("click")}};je(()=>{je(".tabby a").click(n=>{let u=je(n.currentTarget).attr("data-tabby");Lr.tabby(n.currentTarget,`tabby-${u}`)}),je(".js-tiles-setup").each((n,u)=>{let h=JSON.parse(je(u).val());Lr.lists_v_tiles_setup(h.toggle_range),je("div.ikind").css({visibility:" visible"}),h.popState!==!1&&Lr.popState(h.popState),Lr.tiler(),je(window).on("resize  orientationchange",g=>{clearTimeout(Lr.tiles_wrap_throttler),Lr.tiles_wrap_throttler=setTimeout(Lr.tiler,250)}),je(window).scroll(Lr.scrolled)}),Lr.makeMouseElementAccessible(".accessible-link"),typeof archive_analytics!="undefined"&&archive_analytics.set_up_event_tracking(),je(".js-tiles-toggle").click(n=>{let u=je(n.currentTarget).attr("data-range");return Lr.tiles_toggle(n.currentTarget,u)}),je(".js-ikind-link").click(n=>{let u=je(n.currentTarget).attr("data-id");Lr.ikind(n.currentTarget,`ikind-${u}`)}),je(".js-more-search").click(n=>{let u=n.currentTarget,h=decodeURIComponent(je(u).attr("data-more-search")),g=parseInt(je(u).attr("data-page"),10);return Lr.more_search(u,h,g),!1}),je("#showdetails").on("change",n=>{let u=je(n.currentTarget).attr("data-toggle-range");Lr.showdetails_toggle(u)}),je(".ikind-mobile").on("change",n=>{Lr.ikind_mobile_change(n.currentTarget)}),Lr.setUpSearchForms(),Lr.setUpAccordions(),typeof archive_analytics!="undefined"&&archive_analytics.create_tracking_image("external_executes"),Lr.modalInterval=2e3,Q0.init(),Qc.setup(),je(".js-search-beta-opt-in").each((n,u)=>{je(u).on("click",()=>{window.localStorage.setItem("SearchBeta-opt-in",!0)})}),je(".js-collection-setup").each((n,u)=>{let h=JSON.parse(je(u).val());h.about&&Lr.grafs(),Lr.addNotes(h.is_list),je(window).on("resize  orientationchange",g=>{clearTimeout(Lr.plotter_throttler),Lr.plotter_throttler=setTimeout(Lr.plotter,250)})}),je(".js-collection-setup2").each((n,u)=>{let h=JSON.parse(je(u).val());h.editable&&(je("#editlink").show(),h.image!==""&&Lr.head_img_dragdrop_setup(h.image))}),je(".js-account-setup").each((n,u)=>{var g;let h=JSON.parse(je(u).val());Lr.head_img_dragdrop_setup(h.dragdrop),(g=h.darking_ids)!=null&&g.length&&So.decorate_pendings(h.darking_ids)}),Lr.plot_graphs(),je(".js-pages").each((n,u)=>{let h=JSON.parse(je(u).val());Lr.drawPDF(h.identifier,JSON.parse(h.pages))}),je(".js-carousel2").each(()=>{Lr.theatresize(),Lr.carouselsize("#ia-carousel",!0)}),je(".tablesorter").each((n,u)=>{let h={textExtraction:"complex"};je("body").hasClass("js-tv-programPageColumnSorting")?h.headers={0:{sorter:!1}}:je("body").hasClass("services-views")&&(h.ignoreCase=!0,h.sortList=[[1,0]],h.widgets=["saveSort"],h.widgetOptions={saveSort:!0}),typeof je.fn.tablesorter=="undefined"?Promise.resolve().then(()=>(a1(),o1)).then(()=>{je(u).tablesorter(h)}):je(u).tablesorter(h)}),En(".js-ebook-maker",n=>vi(void 0,null,function*(){let u=n.currentTarget;u.parentElement.textContent="Generating...";let{maker:h}=je(u).data();Vi({maker:h});let g=new URLSearchParams;for(let[y,_]of Object.entries(h))g.append(y,encodeURIComponent(_));let m=yield fetch("/services/make-ebook.php",{method:"POST",body:g});Vi({res:m})}));let e=je(".js-date_switcher"),t=!Lr.isTouchDevice()&&typeof je.fn.tooltip=="undefined"?je('.container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"], #cher-modal [data-toggle="tooltip"]'):[];(t.length||e.length)&&Promise.resolve().then(()=>(Xf(),Kf)).then(()=>{t.length&&t.tooltip({}),e.each((n,u)=>Lr.date_switcher(JSON.parse(je(u).val())))}),En(".js-createclick",n=>{location.href="/create/"}),En(".js-colclick",n=>{let u=je(n.currentTarget),h=u.attr("data-id"),g=h&&!h.startsWith("__id_")?`/details/${h}`:u.find("a").attr("href");h&&je("body").hasClass("tiles")&&!u.hasClass("manage-item")&&(location.href=g)}),En(".js-note",n=>Lr.editNote(n.currentTarget)),En(".js-inliner",n=>{if(window.inlined)return;window.inlined=!0;let u=`${n.currentTarget.href}&nochrome=1`,h=je(n.currentTarget).parent().parent().parent();h.append('<div id="loadin" style="padding:50px"><hr/><h4><img src="/images/loading.gif"/> loading...</h4><hr/></div>'),je.get(u,g=>{je("#loadin").remove(),h.append(`<hr/>${g}`)})}),En(".js-auto-submit-perpetual",()=>{document.getElementById("timeout_row").style.display="table-row",document.getElementById("loopsleep_row").style.display="table-row",document.getElementById("discard_itemlists_row").style.display="table-row",document.getElementById("timeout_row").classList.toggle("hidden"),document.getElementById("loopsleep_row").classList.toggle("hidden"),document.getElementById("discard_itemlists_row").classList.toggle("hidden")},"default"),sy(".js-auto-submit-cmd",n=>{n.currentTarget.value==="delete.php"&&alert(`
        WARNING: The "lost_item" arg is automatically
        added to delete.php tasks submitted through this form.
        That means the command can be used only to
        tidy our records for items that have already
        gotten lost, not to delete existing items.
        If run on an item that actually exists still,
        the task will redrow.`)}),En(".js-slide-toggle",n=>je(je(n.currentTarget).data().target).slideToggle()),En(".js-ajs-deadlists",n=>{let{href:u}=n.currentTarget;window.open(u,"popup","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,directories=no,location=no,menubar=no,status=no")}),En(".show-more-button",n=>{je(".metadata-hidden").slideToggle("fast"),je(n.currentTarget).find(".show-more-button__text").toggle()}),En(".js-archive-expand_files",n=>{let u=je(n.currentTarget),h=u.data("id");h&&Lr.quick_down(h,u)}),En(".js-archive-collapse_files",n=>{let h=je(n.currentTarget).data("id");h&&Lr.quick_down(h)}),En(".js-catalog-delete",n=>{confirm("Are you sure you want to *delete* these tasks?")||n.preventDefault()},"default"),En(".js-bookmark-removeBookmark",n=>{if(confirm("Are you sure you want to delete this favorite?")){let u=je(n.currentTarget).attr("href");u&&(window.location=u)}}),En(".js-bookmarks-addCommentForm",n=>{let u=je(n.currentTarget).attr("identifier"),h=je(n.currentTarget).attr("action"),g=()=>{let T=document.getElementById(`${u}_form`);T.parentNode.removeChild(T);let E=document.getElementById(`${u}_commentLink`);E.style.display="";let a=document.getElementById(`${u}_existingComment`);a&&(a.style.display="")},m=document.createElement("form");m.action=h,m.method="post",m.id=`${u}_form`,m.style.margin="0",m.style.fontSize="12px",m.appendChild(document.createTextNode("Comment: "));let y=document.createElement("input");y.name="add_comment",y.type="text",document.getElementById(`${u}_existingCommentText`)&&(y.value=document.getElementById(`${u}_existingCommentText`).innerHTML),m.appendChild(y);let _=document.createElement("input");_.name="identifier",_.type="hidden",_.value=u,m.appendChild(_);let w=document.createElement("input");w.name="submit",w.type="submit",w.value="Save",m.appendChild(w);let k=document.createElement("input");k.type="button",k.id=`${u}_cancelButton`,k.rel=u,k.onclick=g,k.value="Cancel",m.appendChild(k),document.getElementById(`${u}_formSpan`).appendChild(m);let A=document.getElementById(`${u}_commentLink`);A.style.display="none";let L=document.getElementById(`${u}_existingComment`);L&&(L.style.display="none")});let r=document.querySelector("#js-useradmin-clipboard");r&&r.addEventListener("click",n=>{let u=Array.from(document.querySelectorAll(".js-useradmin-username")).map(h=>h.textContent).join(" ");navigator.clipboard.writeText(u)});let s=document.querySelector(".js-useradmin-search");s&&(s.addEventListener("submit",n=>{n.preventDefault(),Array.from(s.querySelectorAll("input")).filter(u=>!u.value).forEach(u=>{let h=u;h.disabled=!0}),s.submit()}),Array.from(s.querySelectorAll("input")).forEach(n=>{let u=n;u.disabled=!1}));let l=je(".js-clamp"),o="clamped";l.length&&(l.each((n,u)=>{Lr.isTextClamped(u)&&(u.classList.add(o),Lr.bindClampCheckbox(u))}),window.addEventListener("resize",cy(()=>{l.each((n,u)=>{Lr.isTextClamped(u)?(u.classList.add(o),Lr.bindClampCheckbox(u)):(Lr.unbindClampCheckbox(u),u.classList.remove(o))})}),50));let c=document.getElementById("begin-play-section");if(c){let n=c.querySelector("#begin-play-at"),u=c.querySelector("#check-begin-play-at");if(n&&u){let h=E=>{if(!E.includes(":"))return Number(E);let a=E.split(":");if(a.length===2){let[x,C]=a.map(Number);return x*60+C}let[p,v,d]=a.map(Number);return p*3600+v*60+d},g=E=>{if(E>=3600){let v=Math.floor(E/3600),d=Math.floor(E%3600/60),x=E%60;return`${v}:${String(d).padStart(2,"0")}:${String(x).padStart(2,"0")}`}let a=Math.floor(E/60),p=E%60;return`${a}:${String(p).padStart(2,"0")}`},m=E=>{if(!E.includes(":"))return!isNaN(Number(E))&&Number(E)>=0;let a=E.split(":").map(Number);return a.length===2?a[0]>=0&&a[1]>=0&&a[1]<60:a.length===3?a[0]>=0&&a[1]>=0&&a[1]<60&&a[2]>=0&&a[2]<60:!1},y=E=>{let a=h(E);return g(a)},_=()=>{let E=document.querySelector("video");if(!E)return;let a=g(Math.floor(E.currentTime));n.value=a},w=(E,a)=>{u.checked&&a?E.searchParams.set("start",a):E.searchParams.delete("start")},k=()=>{let{value:E}=n;u.checked&&!m(E)||document.getElementById("sharer").querySelectorAll("a").forEach(a=>{let p=new URL(window.location.href),v=new URL(a.href),d=h(E);if(v.href.startsWith("mailto:")){let C=new URLSearchParams(v.href.split("?")[1]||"").get("subject")||"";w(p,d),a.setAttribute("href",`mailto:?body=${encodeURIComponent(p.href)}&subject=${encodeURIComponent(C)}`);return}for(let[x]of v.searchParams)["url","u","initialMedia","content","canonicalUrl"].includes(x)&&p.hostname.includes("archive.org")&&(w(p,d),v.searchParams.set(x,p.href));a.setAttribute("href",v.href)})},A=E=>{let a=document.getElementById("embedcodehere");if(!a)return;let v=new DOMParser().parseFromString(a.value,"text/html").querySelector("iframe");if(!v)return;let d=new URL(window.location.href);d.hostname="archive.org",d.pathname=d.pathname.replace("/details/","/embed/"),w(d,h(E)),v.src=d.href,a.value=v.outerHTML},L=E=>{let a=document.getElementById("embedcodehereWP"),p=a.value.replace(/(\?start=[^&\s]+)/g,""),d=new URL(window.location.href).pathname.split("/details/")[1];u.checked&&h(E)>0?p=p.replace(/(\[archiveorg\s+)([^\s]+)/,`$1${d}?start=${h(E)}`):p=p.replace(/(\[archiveorg\s+)([^\s]+)/,`$1${d}`),a.value=p},T=()=>{let{value:E}=n;u.checked&&!m(E)||(A(E),L(E))};u.addEventListener("change",E=>{k(),T()}),n.addEventListener("input",E=>{let{value:a}=E.target,p=a.replace(/[^0-9:]/g,"");p!==a&&(E.target.value=p),p&&(u.checked=!0),k(),T()}),n.addEventListener("blur",()=>{n.value=y(n.value),k(),T()}),je("#cher-modal").on("shown.bs.modal",()=>{_()}),je("#cher-modal").on("hidden.bs.modal",()=>{u.checked=!1,u.dispatchEvent(new Event("change"))})}}});window.AJS=Lr;Oo();function LS(){try{return document.cookie,!0}catch(e){return!1}}function s1(){let e=()=>{je("#theatre-ia-wrap").removeClass("flagged"),je(".bookreader-playlist-container").removeClass("hide")};je(".toggle-flag-overlay").on("click",t=>{t.preventDefault(),e()}),je("#flag-checkboxes a").on("click",function(r){r.preventDefault(),je(this).children(".my-checkbox").toggleClass("checked"),je.get(je(this).attr("href")),e()}),LS()&&vo.get("logged-in-user")!==void 0&&(je("#flag-popover li").on("click",function(){return je(this).find("a").trigger("click"),!1}),je("#flag-popover a").on("click",function(r){r.preventDefault();let s=je("#item-flags-popup"),l=je(this),o=je(l).parent();return je(o).toggleClass("selected"),je(s).removeClass("open"),je.getJSON(`${je(this).attr("href")}&no_chrome=1`,c=>{let n=je(c.button);je(s).replaceWith(n),je("#flag-button-container").html(c.button),je("#flag-overlay").html(c.overlay),c.has_flags?je("#theatre-ia-wrap").addClass("flagged"):je("#theatre-ia-wrap").removeClass("flagged"),s1()}),!1}))}je(document).ready(()=>{Vi("initialize item flags"),s1()});Oo();vr();xi();Nr();var Qd=globalThis,eh=Qd.ShadowRoot&&(Qd.ShadyCSS===void 0||Qd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c1=Symbol(),l1=new WeakMap,u1=class{constructor(e,t,r){if(this._$cssResult$=!0,r!==c1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(eh&&e===void 0){let r=t!==void 0&&t.length===1;r&&(e=l1.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&l1.set(t,e))}return e}toString(){return this.cssText}},d1=e=>new u1(typeof e=="string"?e:e+"",void 0,c1);var h1=(e,t)=>{if(eh)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let s=document.createElement("style"),l=Qd.litNonce;l!==void 0&&s.setAttribute("nonce",l),s.textContent=r.cssText,e.appendChild(s)}},pm=eh?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let s of t.cssRules)r+=s.cssText;return d1(r)})(e):e;var{is:MS,defineProperty:OS,getOwnPropertyDescriptor:IS,getOwnPropertyNames:RS,getOwnPropertySymbols:DS,getPrototypeOf:jS}=Object,hs=globalThis,p1=hs.trustedTypes,NS=p1?p1.emptyScript:"",fm=hs.reactiveElementPolyfillSupport,fu=(e,t)=>e,mm={toAttribute(e,t){switch(t){case Boolean:e=e?NS:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch(s){r=null}}return r}},th=(e,t)=>!MS(e,t),f1={attribute:!0,type:String,converter:mm,reflect:!1,useDefault:!1,hasChanged:th},m1,g1;(m1=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(g1=hs.litPropertyMetadata)!=null||(hs.litPropertyMetadata=new WeakMap);var pu=class extends HTMLElement{static addInitializer(e){var t;this._$Ei(),((t=this.l)!=null?t:this.l=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=f1){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let r=Symbol(),s=this.getPropertyDescriptor(e,r,t);s!==void 0&&OS(this.prototype,e,s)}}static getPropertyDescriptor(e,t,r){var o;let{get:s,set:l}=(o=IS(this.prototype,e))!=null?o:{get(){return this[t]},set(c){this[t]=c}};return{get:s,set(c){let n=s==null?void 0:s.call(this);l==null||l.call(this,c),this.requestUpdate(e,n,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){var t;return(t=this.elementProperties.get(e))!=null?t:f1}static _$Ei(){if(this.hasOwnProperty(fu("elementProperties")))return;let e=jS(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(fu("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(fu("properties"))){let t=this.properties,r=[...RS(t),...DS(t)];for(let s of r)this.createProperty(s,t[s])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[r,s]of t)this.elementProperties.set(r,s)}this._$Eh=new Map;for(let[t,r]of this.elementProperties){let s=this._$Eu(t,r);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let s of r)t.unshift(pm(s))}else e!==void 0&&t.push(pm(e));return t}static _$Eu(e,t){let r=t.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(t=>t(this))}addController(e){var t,r;((t=this._$EO)!=null?t:this._$EO=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)==null||r.call(e))}removeController(e){var t;(t=this._$EO)==null||t.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let r of t.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){var t;let e=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return h1(e,this.constructor.elementStyles),e}connectedCallback(){var e,t;(e=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(r=>{var s;return(s=r.hostConnected)==null?void 0:s.call(r)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(t=>{var r;return(r=t.hostDisconnected)==null?void 0:r.call(t)})}attributeChangedCallback(e,t,r){this._$AK(e,r)}_$ET(e,t){var l;let r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){let o=(((l=r.converter)==null?void 0:l.toAttribute)!==void 0?r.converter:mm).toAttribute(t,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,t){var l,o,c;let r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){let n=r.getPropertyOptions(s),u=typeof n.converter=="function"?{fromAttribute:n.converter}:((l=n.converter)==null?void 0:l.fromAttribute)!==void 0?n.converter:mm;this._$Em=s;let h=u.fromAttribute(t,n.type);this[s]=(c=h!=null?h:(o=this._$Ej)==null?void 0:o.get(s))!=null?c:h,this._$Em=null}}requestUpdate(e,t,r){var s,l;if(e!==void 0){let o=this.constructor,c=this[e];if(r!=null||(r=o.getPropertyOptions(e)),!(((s=r.hasChanged)!=null?s:th)(c,t)||r.useDefault&&r.reflect&&c===((l=this._$Ej)==null?void 0:l.get(e))&&!this.hasAttribute(o._$Eu(e,r))))return;this.C(e,t,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:r,reflect:s,wrapped:l},o){var c,n,u;r&&!((c=this._$Ej)!=null?c:this._$Ej=new Map).has(e)&&(this._$Ej.set(e,(n=o!=null?o:t)!=null?n:this[e]),l!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(t=void 0),this._$AL.set(e,t)),s===!0&&this._$Em!==e&&((u=this._$Eq)!=null?u:this._$Eq=new Set).add(e))}_$EP(){return vi(this,null,function*(){this.isUpdatePending=!0;try{yield this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&(yield e),!this.isUpdatePending})}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r,s;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((r=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[o,c]of this._$Ep)this[o]=c;this._$Ep=void 0}let l=this.constructor.elementProperties;if(l.size>0)for(let[o,c]of l){let{wrapped:n}=c,u=this[o];n!==!0||this._$AL.has(o)||u===void 0||this.C(o,void 0,c,u)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),(s=this._$EO)==null||s.forEach(l=>{var o;return(o=l.hostUpdate)==null?void 0:o.call(l)}),this.update(t)):this._$EM()}catch(l){throw e=!1,this._$EM(),l}e&&this._$AE(t)}willUpdate(e){}_$AE(e){var t;(t=this._$EO)==null||t.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}},v1;pu.elementStyles=[],pu.shadowRootOptions={mode:"open"},pu[fu("elementProperties")]=new Map,pu[fu("finalized")]=new Map,fm==null||fm({ReactiveElement:pu}),((v1=hs.reactiveElementVersions)!=null?v1:hs.reactiveElementVersions=[]).push("2.1.1");var ih={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},mu=Symbol(),gm=class{get taskComplete(){return this.t||(this.i===1?this.t=new Promise((e,t)=>{this.o=e,this.h=t}):this.i===3?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,t,r){var l,o,c;this.p=0,this.i=0,(this._=e).addController(this);let s=typeof t=="object"?t:{task:t,args:r};this.v=s.task,this.j=s.args,this.m=(l=s.argsEqual)!=null?l:y1,this.k=s.onComplete,this.A=s.onError,this.autoRun=(o=s.autoRun)!=null?o:!0,"initialValue"in s&&(this.u=s.initialValue,this.i=2,this.O=(c=this.T)==null?void 0:c.call(this))}hostUpdate(){this.autoRun===!0&&this.S()}hostUpdated(){this.autoRun==="afterUpdate"&&this.S()}T(){if(this.j===void 0)return;let e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}S(){return vi(this,null,function*(){let e=this.T(),t=this.O;this.O=e,e===t||e===void 0||t!==void 0&&this.m(t,e)||(yield this.run(e))})}run(e){return vi(this,null,function*(){var o,c,n,u,h;let t,r;e!=null||(e=this.T()),this.O=e,this.i===1?(o=this.q)==null||o.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,this.autoRun==="afterUpdate"?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();let s=++this.p;this.q=new AbortController;let l=!1;try{t=yield this.v(e,{signal:this.q.signal})}catch(g){l=!0,r=g}if(this.p===s){if(t===mu)this.i=0;else{if(l===!1){try{(c=this.k)==null||c.call(this,t)}catch(g){}this.i=2,(n=this.o)==null||n.call(this,t)}else{try{(u=this.A)==null||u.call(this,r)}catch(g){}this.i=3,(h=this.h)==null||h.call(this,r)}this.u=t,this.l=r}this._.requestUpdate()}})}abort(e){var t;this.i===1&&((t=this.q)==null||t.abort(e))}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){var t,r,s,l;switch(this.i){case 0:return(t=e.initial)==null?void 0:t.call(e);case 1:return(r=e.pending)==null?void 0:r.call(e);case 2:return(s=e.complete)==null?void 0:s.call(e,this.value);case 3:return(l=e.error)==null?void 0:l.call(e,this.error);default:throw Error("Unexpected status: "+this.i)}}},y1=(e,t)=>e===t||e.length===t.length&&e.every((r,s)=>!th(r,t[s]));vr();xi();Nr();var vm,rh=window,sc=rh.trustedTypes,b1=sc?sc.createPolicy("lit-html",{createHTML:e=>e}):void 0,wm="$lit$",ps=`lit$${(Math.random()+"").slice(9)}$`,A1="?"+ps,BS=`<${A1}>`,Ks=document,nh=()=>Ks.createComment(""),vu=e=>e===null||typeof e!="object"&&typeof e!="function",C1=Array.isArray,HS=e=>C1(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",ym=`[ 	
\f\r]`,gu=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,w1=/-->/g,x1=/>/g,Gs=RegExp(`>|${ym}(?:([^\\s"'>=/]+)(${ym}*=${ym}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),_1=/'/g,k1=/"/g,E1=/^(?:script|style|textarea|title)$/i,T1=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),yD=T1(1),bD=T1(2),yu=Symbol.for("lit-noChange"),Xn=Symbol.for("lit-nothing"),S1=new WeakMap,Ys=Ks.createTreeWalker(Ks,129,null,!1);function P1(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return b1!==void 0?b1.createHTML(t):t}var FS=(e,t)=>{let r=e.length-1,s=[],l,o=t===2?"<svg>":"",c=gu;for(let n=0;n<r;n++){let u=e[n],h,g,m=-1,y=0;for(;y<u.length&&(c.lastIndex=y,g=c.exec(u),g!==null);)y=c.lastIndex,c===gu?g[1]==="!--"?c=w1:g[1]!==void 0?c=x1:g[2]!==void 0?(E1.test(g[2])&&(l=RegExp("</"+g[2],"g")),c=Gs):g[3]!==void 0&&(c=Gs):c===Gs?g[0]===">"?(c=l!=null?l:gu,m=-1):g[1]===void 0?m=-2:(m=c.lastIndex-g[2].length,h=g[1],c=g[3]===void 0?Gs:g[3]==='"'?k1:_1):c===k1||c===_1?c=Gs:c===w1||c===x1?c=gu:(c=Gs,l=void 0);let _=c===Gs&&e[n+1].startsWith("/>")?" ":"";o+=c===gu?u+BS:m>=0?(s.push(h),u.slice(0,m)+wm+u.slice(m)+ps+_):u+ps+(m===-2?(s.push(void 0),n):_)}return[P1(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),s]},xm=class $1{constructor({strings:t,_$litType$:r},s){let l;this.parts=[];let o=0,c=0,n=t.length-1,u=this.parts,[h,g]=FS(t,r);if(this.el=$1.createElement(h,s),Ys.currentNode=this.el.content,r===2){let m=this.el.content,y=m.firstChild;y.remove(),m.append(...y.childNodes)}for(;(l=Ys.nextNode())!==null&&u.length<n;){if(l.nodeType===1){if(l.hasAttributes()){let m=[];for(let y of l.getAttributeNames())if(y.endsWith(wm)||y.startsWith(ps)){let _=g[c++];if(m.push(y),_!==void 0){let w=l.getAttribute(_.toLowerCase()+wm).split(ps),k=/([.?@])?(.*)/.exec(_);u.push({type:1,index:o,name:k[2],strings:w,ctor:k[1]==="."?US:k[1]==="?"?WS:k[1]==="@"?qS:oh})}else u.push({type:6,index:o})}for(let y of m)l.removeAttribute(y)}if(E1.test(l.tagName)){let m=l.textContent.split(ps),y=m.length-1;if(y>0){l.textContent=sc?sc.emptyScript:"";for(let _=0;_<y;_++)l.append(m[_],nh()),Ys.nextNode(),u.push({type:2,index:++o});l.append(m[y],nh())}}}else if(l.nodeType===8)if(l.data===A1)u.push({type:2,index:o});else{let m=-1;for(;(m=l.data.indexOf(ps,m+1))!==-1;)u.push({type:7,index:o}),m+=ps.length-1}o++}}static createElement(t,r){let s=Ks.createElement("template");return s.innerHTML=t,s}};function lc(e,t,r=e,s){var l,o,c,n;if(t===yu)return t;let u=s!==void 0?(l=r._$Co)===null||l===void 0?void 0:l[s]:r._$Cl,h=vu(t)?void 0:t._$litDirective$;return(u==null?void 0:u.constructor)!==h&&((o=u==null?void 0:u._$AO)===null||o===void 0||o.call(u,!1),h===void 0?u=void 0:(u=new h(e),u._$AT(e,r,s)),s!==void 0?((c=(n=r)._$Co)!==null&&c!==void 0?c:n._$Co=[])[s]=u:r._$Cl=u),u!==void 0&&(t=lc(e,u._$AS(e,t.values),u,s)),t}var zS=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;let{el:{content:r},parts:s}=this._$AD,l=((t=e==null?void 0:e.creationScope)!==null&&t!==void 0?t:Ks).importNode(r,!0);Ys.currentNode=l;let o=Ys.nextNode(),c=0,n=0,u=s[0];for(;u!==void 0;){if(c===u.index){let h;u.type===2?h=new L1(o,o.nextSibling,this,e):u.type===1?h=new u.ctor(o,u.name,u.strings,this,e):u.type===6&&(h=new GS(o,this,e)),this._$AV.push(h),u=s[++n]}c!==(u==null?void 0:u.index)&&(o=Ys.nextNode(),c++)}return Ys.currentNode=Ks,l}v(e){let t=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,t),t+=r.strings.length-2):r._$AI(e[t])),t++}},L1=class M1{constructor(t,r,s,l){var o;this.type=2,this._$AH=Xn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=s,this.options=l,this._$Cp=(o=l==null?void 0:l.isConnected)===null||o===void 0||o}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=lc(this,t,r),vu(t)?t===Xn||t==null||t===""?(this._$AH!==Xn&&this._$AR(),this._$AH=Xn):t!==this._$AH&&t!==yu&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):HS(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Xn&&vu(this._$AH)?this._$AA.nextSibling.data=t:this.$(Ks.createTextNode(t)),this._$AH=t}g(t){var r;let{values:s,_$litType$:l}=t,o=typeof l=="number"?this._$AC(t):(l.el===void 0&&(l.el=xm.createElement(P1(l.h,l.h[0]),this.options)),l);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===o)this._$AH.v(s);else{let c=new zS(o,this),n=c.u(this.options);c.v(s),this.$(n),this._$AH=c}}_$AC(t){let r=S1.get(t.strings);return r===void 0&&S1.set(t.strings,r=new xm(t)),r}T(t){C1(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,s,l=0;for(let o of t)l===r.length?r.push(s=new M1(this.k(nh()),this.k(nh()),this,this.options)):s=r[l],s._$AI(o),l++;l<r.length&&(this._$AR(s&&s._$AB.nextSibling,l),r.length=l)}_$AR(t=this._$AA.nextSibling,r){var s;for((s=this._$AP)===null||s===void 0||s.call(this,!1,!0,r);t&&t!==this._$AB;){let l=t.nextSibling;t.remove(),t=l}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}},oh=class{constructor(e,t,r,s,l){this.type=1,this._$AH=Xn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=l,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Xn}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,r,s){let l=this.strings,o=!1;if(l===void 0)e=lc(this,e,t,0),o=!vu(e)||e!==this._$AH&&e!==yu,o&&(this._$AH=e);else{let c=e,n,u;for(e=l[0],n=0;n<l.length-1;n++)u=lc(this,c[r+n],t,n),u===yu&&(u=this._$AH[n]),o||(o=!vu(u)||u!==this._$AH[n]),u===Xn?e=Xn:e!==Xn&&(e+=(u!=null?u:"")+l[n+1]),this._$AH[n]=u}o&&!s&&this.j(e)}j(e){e===Xn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e!=null?e:"")}},US=class extends oh{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Xn?void 0:e}},VS=sc?sc.emptyScript:"",WS=class extends oh{constructor(){super(...arguments),this.type=4}j(e){e&&e!==Xn?this.element.setAttribute(this.name,VS):this.element.removeAttribute(this.name)}},qS=class extends oh{constructor(e,t,r,s,l){super(e,t,r,s,l),this.type=5}_$AI(e,t=this){var r;if((e=(r=lc(this,e,t,0))!==null&&r!==void 0?r:Xn)===yu)return;let s=this._$AH,l=e===Xn&&s!==Xn||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==Xn&&(s===Xn||l);l&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,r;typeof this._$AH=="function"?this._$AH.call((r=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},GS=class{constructor(e,t,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){lc(this,e)}},bm=rh.litHtmlPolyfillSupport;bm==null||bm(xm,L1),((vm=rh.litHtmlVersions)!==null&&vm!==void 0?vm:rh.litHtmlVersions=[]).push("2.8.0");var _m=e=>e!=null?e:Xn;xi();xi();vr();xi();Nr();var YS=An`<svg class="caret-up-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499 3.51689722c.22976435.15317623.54019902.0910893.69337525-.13867505.13615665-.20423497.10222882-.47220946-.06836249-.63681849l-.07031256-.05655675-3.2773501-2.18490007-3.2773501 2.18490007c-.22976434.15317623-.29185128.4636109-.13867505.69337524.13615665.20423498.39656688.27598409.61412572.18182636l.07924953-.04315131 2.7226499-1.81402514z"
  fill=""></path>
</svg>`,KS=An`<svg class="caret-down-svg" viewBox="0 0 8 4" xmlns="http://www.w3.org/2000/svg">
<path d="m6.7226499.58397485c.22976435-.15317623.54019902-.09108929.69337525.13867505.13615665.20423498.10222882.47220947-.06836249.63681849l-.07031256.05655676-3.2773501 2.18490006-3.2773501-2.18490006c-.22976434-.15317623-.29185128-.4636109-.13867505-.69337525.13615665-.20423497.39656688-.27598409.61412572-.18182636l.07924953.04315131 2.7226499 1.81402515z"
fill=""></path>
</svg>`,lo=class extends fi{constructor(){super(...arguments),this.open=!1,this.isDisabled=!1,this.displayCaret=!1,this.closeOnSelect=!1,this.openViaButton=!0,this.openViaCaret=!0,this.includeSelectedOption=!1,this.selectedOption="",this.options=[],this.optionGroup="options",this.optionSelected=()=>{},this.isCustomList=!1,this.hasCustomClickHandler=!1,this.closeOnEscape=!1,this.closeOnBackdropClick=!1,this.boundKeyboardListener=e=>{switch(e.key){case"Escape":case"Esc":this.closeOptions();break;default:break}},this.closeOptions=e=>{e&&e.type==="click"&&e.stopPropagation(),this.open=!1},this.handlingCaretClick=!1}firstUpdated(){return vi(this,null,function*(){yield new Promise(e=>setTimeout(e,0)),this.addEventListener("closeDropdown",this.closeOptions)})}disconnectedCallback(){var e;(e=super.disconnectedCallback)===null||e===void 0||e.call(this),this.removeKeyboardListener()}setupKeyboardListener(){this.closeOnEscape&&document.addEventListener("keydown",this.boundKeyboardListener)}removeKeyboardListener(){this.closeOnEscape&&document.removeEventListener("keydown",this.boundKeyboardListener)}get dropdownState(){return this.open?(this.setupKeyboardListener(),"open"):(this.removeKeyboardListener(),"closed")}toggleOptions(){this.open=!this.open}mainButtonClicked(){if(this.handlingCaretClick){this.handlingCaretClick=!1;return}this.openViaButton&&this.toggleOptions()}caretInteracted(){this.openViaCaret&&this.toggleOptions()}caretClicked(){this.handlingCaretClick=!0,this.caretInteracted()}caretKeyDown(e){(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.caretInteracted())}renderOption(e){let{label:t,url:r=void 0,id:s}=e,l,o=this.selectedOption===s?"selected":"";return r?l=ze`<a
        href=${r}
        @click=${c=>this.optionClicked(c,e)}
        >${t}</a
      >`:l=ze`<button
        @click=${c=>this.optionClicked(c,e)}
      >
        ${t}
      </button>`,ze`<li class=${o}>${l}</li>`}optionClicked(e,t){var r;e.stopPropagation(),this.selectedOption!==t.id&&(this.selectedOption=t.id,this.dispatchEvent(new CustomEvent("optionSelected",{detail:{option:t}})),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)),this.closeOnSelect&&this.closeOptions()}get availableOptions(){return this.includeSelectedOption?this.options:this.options.filter(e=>this.selectedOption!==e.id)}get caretTemplate(){if(!this.displayCaret)return ze``;let e=this.openViaCaret&&!this.openViaButton?"0":void 0,t=this.openViaCaret?"button":void 0;return ze`
      <span
        class="caret"
        tabindex=${_m(e)}
        role=${_m(t)}
        @click=${this.isDisabled||this.hasCustomClickHandler?Ai:this.caretClicked}
        @keydown=${this.isDisabled||this.hasCustomClickHandler?Ai:this.caretKeyDown}
      >
        <span ?hidden=${!this.open} class="caret-up">
          <slot name="caret-up">${YS}</slot>
        </span>
        <span ?hidden=${this.open} class="caret-down">
          <slot name="caret-down">${KS}</slot>
        </span>
      </span>
    `}get dropdownTemplate(){return this.isCustomList?ze`<slot name="list"></slot>`:ze`${this.availableOptions.map(e=>this.renderOption(e))}`}get backdropTemplate(){return this.closeOnBackdropClick?this.open?ze`
      <div
        id="dropdown-backdrop"
        @keyup=${this.closeOptions}
        @click=${this.closeOptions}
      ></div>
    `:ze``:ze``}render(){return ze`
      <div class="ia-dropdown-group">
        <button
          class="click-main"
          @click=${this.isDisabled||this.hasCustomClickHandler?Ai:this.mainButtonClicked}
          ?disabled=${this.isDisabled}
        >
          <span class="sr-only">Toggle ${this.optionGroup}</span>
          <slot name="dropdown-label"></slot>
          ${this.caretTemplate}
        </button>

        <ul class="dropdown-main ${this.dropdownState}">
          ${this.dropdownTemplate}
        </ul>

        ${this.backdropTemplate}
      </div>
    `}static get styles(){let e=dt`var(--dropdownBorderWidth, 1px)`,t=dt`var(--dropdownBorderRadius, 4px)`,r=dt`var(--dropdownBorderColor, #fff)`,s=dt`var(--dropdownBgColor, #333)`,l=dt`var(--dropdownTextColor, #fff)`,o=dt`var(--dropdownHoverBgColor, rgba(255, 255, 255, 0.3))`,c=dt`var(--dropdownSelectedBgColor, #fff)`;return dt`
      :host {
        display: inline;
        color: ${l};
      }

      svg.caret-up-svg,
      svg.caret-down-svg,
      ::slotted(svg.caret-up-svg),
      ::slotted(svg.caret-down-svg) {
        fill: var(--dropdownCaretColor, #fff);
        vertical-align: middle;
      }

      button.click-main {
        background: transparent;
        color: inherit;
        padding: var(--dropdownMainButtonPadding, 0px);
        border: var(--dropdownMainButtonBorder, none);
        border-radius: var(--dropdownMainButtonBorderRadius, none);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        align-content: center;
        flex-wrap: nowrap;
        flex-direction: var(--dropdownMainButtonFlexDirection, row);
        z-index: var(--dropdownListZIndex, 2);
      }

      button.click-main:disabled {
        pointer-events: none;
        cursor: not-allowed;
        opacity: 0.5;
        /* Disable text selection on disabled button */
        -webkit-user-select: none; /* Safari */
        -ms-user-select: none; /* IE 10 and IE 11 */
        user-select: none; /* Standard syntax */
      }

      button.click-main:hover {
        background-color: var(--dropdownMainButtonHoverBgColor, inherit);
      }

      button.click-main:focus,
      button.click-main:focus-visible {
        background-color: var(--dropdownMainButtonFocusBgColor, inherit);
      }

      button.click-main:active {
        background-color: var(--dropdownMainButtonActiveBgColor, inherit);
      }

      button slot[name='dropdown-label'] {
        /* Set var to 0px for column layout */
        padding-right: var(--buttonSlotPaddingRight, 5px);
        display: inline-block;
      }

      .ia-dropdown-group {
        width: inherit;
        height: inherit;
        position: relative;
      }

      .sr-only {
        border: 0 !important;
        clip: rect(1px, 1px, 1px, 1px) !important;
        -webkit-clip-path: inset(50%) !important;
        clip-path: inset(50%) !important;
        height: 1px !important;
        margin: -1px !important;
        overflow: hidden !important;
        padding: 0 !important;
        position: absolute !important;
        width: 1px !important;
        white-space: nowrap !important;
        -webkit-user-select: none !important;
        user-select: none !important;
      }

      .caret {
        /* Maintain centered caret position but with a full-height clickable region */
        display: flex;
        align-self: stretch;
        align-items: center;
        padding: var(--caretPadding, 0px);
      }

      .caret svg {
        height: var(--caretHeight, 10px);
        width: var(--caretWidth, 20px);
      }

      #dropdown-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: transparent;
        z-index: 1;
      }

      ul {
        z-index: var(--dropdownListZIndex, 2);
      }

      ul.dropdown-main.closed {
        visibility: hidden;
        height: 1px;
        width: 1px;
      }

      ul.dropdown-main {
        position: var(--dropdownListPosition, absolute);
        list-style: none;
        margin: var(--dropdownOffsetTop, 5px) 0 0 0;
        padding: 0;
        color: ${l};
        background: ${s};

        font-size: var(--dropdownFontSize, inherit);

        border-top: var(--dropdownBorderTopWidth, ${e});
        border-right: var(--dropdownBorderRightWidth, ${e});
        border-bottom: var(--dropdownBorderBottomWidth, ${e});
        border-left: var(--dropdownBorderLeftWidth, ${e});
        /* Must be after border-width settings for specificity */
        border-style: solid;
        border-color: ${r};

        border-radius: var(
            --dropdownBorderTopLeftRadius,
            ${t}
          )
          var(--dropdownBorderTopRightRadius, ${t})
          var(--dropdownBorderBottomRightRadius, ${t})
          var(--dropdownBorderBottomLeftRadius, ${t});

        white-space: var(--dropdownWhiteSpace, normal);

        /* Prevent top/bottom inner li from overlapping inner border */
        overflow: hidden;
      }

      ul.dropdown-main li:hover {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
        list-style: none;
        cursor: pointer;
      }

      ul.dropdown-main li:hover:first-child {
        border-top-color: ${o};
      }

      ul.dropdown-main li:hover:last-child {
        border-bottom-color: ${o};
      }

      ul.dropdown-main li:hover:not(:first-child) {
        border-top: 0.5px solid var(--dropdownHoverTopBottomBorderColor, #333);
      }
      ul.dropdown-main li:hover:not(:last-child) {
        border-bottom: 0.5px solid
          var(--dropdownHoverTopBottomBorderColor, #333);
      }

      ul.dropdown-main li.selected:last-child {
        border-bottom-color: ${c};
      }

      ul.dropdown-main li.selected:first-child {
        border-top-color: ${c};
      }

      ul.dropdown-main li:hover > *,
      ul.dropdown-main li:focus-within > * {
        background-color: ${o};
        color: var(--dropdownHoverTextColor, #fff);
      }

      ul.dropdown-main li.selected > * {
        background-color: ${c};
        color: var(--dropdownSelectedTextColor, #2c2c2c);
      }

      ul.dropdown-main li {
        background: ${s};
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 0.5px solid ${s};
        border-top: 0.5px solid ${s};
      }

      ul.dropdown-main li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        outline: inherit;
      }

      ul.dropdown-main li a {
        text-decoration: none;
        display: block;
        box-sizing: border-box;
      }

      ul.dropdown-main li:first-child {
        border-top-left-radius: var(--dropdownBorderTopLeftRadius, 4px);
        border-top-right-radius: var(--dropdownBorderTopRightRadius, 4px);
      }

      ul.dropdown-main li:last-child {
        border-bottom-right-radius: var(--dropdownBorderBottomRightRadius, 4px);
        border-bottom-left-radius: var(--dropdownBorderBottomLeftRadius, 4px);
      }

      /* cover the list with the label */
      ul.dropdown-main li > * > :first-child {
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        align-content: center;
        flex-wrap: nowrap;
        height: 100%;
        padding: var(--dropdownItemPaddingTop, 5px)
          var(--dropdownItemPaddingRight, 10px)
          var(--dropdownItemPaddingBottom, 5px)
          var(--dropdownItemPaddingLeft, 10px);
        box-sizing: border-box;
      }

      ul.dropdown-main li > * {
        width: 100%;
        height: inherit;
        color: ${l};
        background: transparent;
        padding: 0;
      }
    `}};ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"open",void 0);ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"isDisabled",void 0);ae([Kt({type:Boolean})],lo.prototype,"displayCaret",void 0);ae([Kt({type:Boolean})],lo.prototype,"closeOnSelect",void 0);ae([Kt({type:Boolean})],lo.prototype,"openViaButton",void 0);ae([Kt({type:Boolean})],lo.prototype,"openViaCaret",void 0);ae([Kt({type:Boolean})],lo.prototype,"includeSelectedOption",void 0);ae([Kt({type:String})],lo.prototype,"selectedOption",void 0);ae([Kt({attribute:!1})],lo.prototype,"options",void 0);ae([Kt({type:String})],lo.prototype,"optionGroup",void 0);ae([Kt({attribute:!1})],lo.prototype,"optionSelected",void 0);ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"isCustomList",void 0);ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"hasCustomClickHandler",void 0);ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"closeOnEscape",void 0);ae([Kt({type:Boolean,reflect:!0})],lo.prototype,"closeOnBackdropClick",void 0);lo=ae([lr("ia-dropdown")],lo);var km=class extends fi{render(){return ze`
      <div class="icon-label-container">
        <slot name="icon"></slot>
        <slot></slot>
      </div>
    `}};km.styles=dt`
    :host {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
    }

    :host(.invert-icon-at-hover:hover) slot[name='icon'] {
      filter: invert(1);
    }

    :host(.selected) {
      background-color: var(--selectedBgColor, #fff);
      color: var(--selectedTextColor, #2c2c2c);
    }

    :host(.invert-icon-at-selected.selected) slot[name='icon'] {
      filter: invert(1);
    }

    div.icon-label-container {
      display: flex;
      width: 100%;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      flex-direction: var(--iconLabelFlexDirection, row);
      height: 100%;
    }

    slot[name='icon'] {
      width: var(--iconWidth, 20px);
      margin-right: var(--iconLabelGutterWidth, 10px);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      align-content: center;
      flex-wrap: nowrap;
      white-space: nowrap;
      height: 100%;
    }

    /* https://css-tricks.com/flexbox-truncated-text/ */
    ::slotted(div.truncate) {
      display: flex;
      width: var(--labelWidth, 100%);
      text-align: left;
      word-wrap: break-word; /* Important for long words! */
      overflow: hidden;
      text-overflow: ellipsis;
      min-width: 0;
    }

    @supports not (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
      }
    }
    @supports (-webkit-line-clamp: 2) {
      ::slotted(div.truncate) {
        min-width: 0;
        display: -webkit-box;
        overflow-wrap: break-word;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        /* Fixed line-height needed to fit unicode and emojis
          https://stackoverflow.com/a/67807146
        */
        line-height: 1.2em;
        /* max-height needed for Safari browser */
        max-height: var(--labelTruncateHeight, 30px);
        max-width: var(--labelWidth, 100%);
      }
    }
  `;km=ae([lr("ia-icon-label")],km);vr();xi();Nr();xi();vr();Va();vr();Va();In();In();vr();Va();Va();In();vr();In();vr();Va();Va();In();vr();Va();In();vr();In();var uo=class extends _r{get created_on(){return this.rawMetadata.created_on!=null?new Ao(this.rawMetadata.created_on):void 0}get file_creation_mtime(){return this.rawMetadata.file_creation_mtime!=null?new Kn(this.rawMetadata.file_creation_mtime):void 0}get filename(){return this.rawMetadata.filename!=null?new Fr(this.rawMetadata.filename):void 0}get file_basename(){return this.rawMetadata.file_basename!=null?new Fr(this.rawMetadata.file_basename):void 0}get result_in_subfile(){return this.rawMetadata.result_in_subfile!=null?new Ws(this.rawMetadata.result_in_subfile):void 0}get query(){return this.rawMetadata.query!=null?new Fr(this.rawMetadata.query):void 0}get date_favorited(){return this.rawMetadata.date_favorited!=null?new Ao(this.rawMetadata.date_favorited):void 0}get updated_on(){return this.rawMetadata.updated_on!=null?new Ao(this.rawMetadata.updated_on):void 0}get num_clips(){return this.rawMetadata.nclips!=null?new Kn(this.rawMetadata.nclips):void 0}get __href__(){return this.rawMetadata.__href__!=null?new Fr(this.rawMetadata.__href__):void 0}get __img__(){return this.rawMetadata.__img__!=null?new Fr(this.rawMetadata.__img__):void 0}};ae([xt()],uo.prototype,"created_on",null);ae([xt()],uo.prototype,"file_creation_mtime",null);ae([xt()],uo.prototype,"filename",null);ae([xt()],uo.prototype,"file_basename",null);ae([xt()],uo.prototype,"result_in_subfile",null);ae([xt()],uo.prototype,"query",null);ae([xt()],uo.prototype,"date_favorited",null);ae([xt()],uo.prototype,"updated_on",null);ae([xt()],uo.prototype,"num_clips",null);ae([xt()],uo.prototype,"__href__",null);ae([xt()],uo.prototype,"__img__",null);var ca=class{constructor(e){var t;this.rawMetadata=e,this.fields=new uo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get collection_files_count(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.collection_files_count)!=null?new Kn(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){return this.fields.collection_size}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get files_count(){return this.fields.files_count}get genre(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.genre)!=null?new Fr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.indexflag)!=null?new Fr(this.rawMetadata.fields.indexflag):void 0}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get lending___available_to_borrow(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_borrow)!=null?new Ws(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_browse)!=null?new Ws(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___available_to_waitlist)!=null?new Ws(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.lending___status)!=null?new Fr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.licenseurl)!=null?new Fr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){return this.fields.mediatype}get month(){return this.fields.month}get noindex(){return this.fields.noindex}get num_favorites(){return this.fields.num_favorites}get num_reviews(){return this.fields.num_reviews}get publicdate(){return this.fields.publicdate}get reviewdate(){return this.fields.reviewdate}get review(){let e=this.rawMetadata.review;return e?{body:e.reviewbody,title:e.reviewtitle,author:e.reviewer,authorItem:e.reviewer_itemname,updatedate:new Date(e.reviewdate),createdate:new Date(e.createdate),stars:Number(e.stars)||0,__href__:e.__href__}:void 0}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get type(){return this.fields.type}get volume(){return this.fields.volume}get week(){return this.fields.week}get year(){return this.fields.year}};ae([xt()],ca.prototype,"collection_files_count",null);ae([xt()],ca.prototype,"genre",null);ae([xt()],ca.prototype,"indexflag",null);ae([xt()],ca.prototype,"lending___available_to_borrow",null);ae([xt()],ca.prototype,"lending___available_to_browse",null);ae([xt()],ca.prototype,"lending___available_to_waitlist",null);ae([xt()],ca.prototype,"lending___status",null);ae([xt()],ca.prototype,"licenseurl",null);ae([xt()],ca.prototype,"review",null);var Am=class{constructor(e){var t;this.rawMetadata=e,this.fields=new uo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new Fr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get issue(){return this.fields.issue}get mediatype(){return this.fields.mediatype}get page_num(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.page_num)!=null?new Kn(this.rawMetadata.fields.page_num):void 0}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get year(){return this.fields.year}get __href__(){return this.fields.__href__}};ae([xt()],Am.prototype,"highlight",null);ae([xt()],Am.prototype,"page_num",null);var bu;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(bu||(bu={}));var R1=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case bu.ALPHABETICAL:return t.sort((s,l)=>r.compare(s.key.toString(),l.key.toString()));case bu.NUMERIC:return t.sort((s,l)=>Number(l.key)-Number(s.key));case bu.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};ae([xt()],R1.prototype,"getSortedBuckets",null);var XS=class{constructor(e){var t;this.rawMetadata=e,this.fields=new uo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.fields.query)===null||e===void 0?void 0:e.value}get title(){return this.fields.title}get query(){return this.fields.query}get date_favorited(){return this.fields.date_favorited}get __href__(){return this.fields.__href__}},Cm=class{constructor(e){var t;this.rawMetadata=e,this.fields=new uo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){var e;return(e=this.rawMetadata.fields)===null||e===void 0?void 0:e.url}get mediatype(){return new zf("web")}get title(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.url?new Fr((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.url):void 0}get capture_dates(){var e,t;return!((e=this.rawMetadata.fields)===null||e===void 0)&&e.capture_dates?new Ao((t=this.rawMetadata.fields)===null||t===void 0?void 0:t.capture_dates):void 0}get __href__(){return this.fields.__href__}};ae([xt()],Cm.prototype,"title",null);ae([xt()],Cm.prototype,"capture_dates",null);var Em=class{constructor(e){var t;this.rawMetadata=e,this.fields=new uo((t=e.fields)!==null&&t!==void 0?t:{})}get identifier(){return this.fields.identifier}get highlight(){var e;return!((e=this.rawMetadata.highlight)===null||e===void 0)&&e.text?new Fr(this.rawMetadata.highlight.text):void 0}get addeddate(){return this.fields.addeddate}get avg_rating(){return this.fields.avg_rating}get collection(){return this.fields.collection}get created_on(){return this.fields.created_on}get creator(){return this.fields.creator}get date(){return this.fields.date}get description(){return this.fields.description}get downloads(){return this.fields.downloads}get filename(){return this.fields.filename}get file_basename(){return this.fields.file_basename}get file_creation_mtime(){return this.fields.file_creation_mtime}get files_count(){return this.fields.files_count}get issue(){return this.fields.issue}get item_count(){return this.fields.item_count}get item_size(){return this.fields.item_size}get language(){return this.fields.language}get mediatype(){return this.fields.mediatype}get num_clips(){return this.fields.num_clips}get num_favorites(){return this.fields.num_favorites}get publicdate(){return this.fields.publicdate}get result_in_subfile(){return this.fields.result_in_subfile}get reviewdate(){return this.fields.reviewdate}get source(){return this.fields.source}get subject(){return this.fields.subject}get title(){return this.fields.title}get updated_on(){return this.fields.updated_on}get week(){return this.fields.week}get year(){return this.fields.year}get start(){var e;return((e=this.rawMetadata.fields)===null||e===void 0?void 0:e.start)!=null?new Fr(this.rawMetadata.fields.start):void 0}get __href__(){return this.fields.__href__}get __img__(){return this.fields.__img__}};ae([xt()],Em.prototype,"highlight",null);ae([xt()],Em.prototype,"start",null);var ZS=["loans","waitlist","loan_history"];function JS(e){let t=e.slice(0,4),r=e.slice(4,6),s=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${s}T${l}:${o}:${c}Z`}function QS(e){var t;let r=[];for(let s of e){if(!(!((t=s.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(s.url),o=`https://web.archive.org/web/${s.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:s.url,capture_dates:s.captures.map(c=>JS(c)),__href__:o}})}return r}var eA=class D1{constructor(t,r){var s,l,o,c,n,u,h,g,m,y,_,w,k,A;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let L;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,L=Object.values(this.pageElements)[0]);let T=(s=t==null?void 0:t.hits)===null||s===void 0?void 0:s.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(T!=null&&T.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(T!=null&&T.length)&&!((h=L==null?void 0:L.hits)===null||h===void 0)&&h.hits?(T=L.hits.hits,this.totalResults=(g=L.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=L.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?T=this.handleLendingPageElement():!((_=this.pageElements)===null||_===void 0)&&_.web_archives&&(T=this.handleWebArchivesPageElement()),this.results=this.formatHits(T);let E=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(L!=null&&L.aggregations)&&(E=L.aggregations),E&&this.buildAggregations(E),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(A=t.account_extra_info)!==null&&A!==void 0?A:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(s=>{var l;return D1.createResult((l=s.hit_type)!==null&&l!==void 0?l:this.schemaHitType,s)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[s,l])=>(r[s]=new R1(l),r),{})}handleLendingPageElement(){var t,r;let s=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=s.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of ZS)s[o]=this.formatHits(s[o]);return l}handleWebArchivesPageElement(){var t;let r=QS((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,s,l;let o=["service___fts","service___tvs","service___rcs","service___whisper","metadata___mediatype___texts","metadata___mediatype___movies","metadata___mediatype___audio","metadata___mediatype___software","metadata___mediatype___image","metadata___mediatype___etree"];for(let c of o){let n=this.removePageElementPrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(s=u==null?void 0:u.total)!==null&&s!==void 0?s:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removePageElementPrefix(t){return t.split("___").pop()}static createResult(t,r){switch(t){case"item":return new ca(r);case"text":case"asr_text":return new Am(r);case"favorited_search":return new XS(r);case"web_archive":return new Cm(r);case"tv_clip":return new Em(r);default:return new ca(r)}}},tA=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},iA=class{constructor(e){var t,r,s;this.rawResponse=e,this.request=new tA(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new eA((r=e.response)===null||r===void 0?void 0:r.body,(s=e.response)===null||s===void 0?void 0:s.hit_schema)}},cc=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let s=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",s)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let s=this.filterParamsAsString(e.filters);s&&s!=="{}"&&t.append("filter_map",s)}if(e.sort&&e.sort.length>0){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("aggregations",s)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let s=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",s)}return t}},wu;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(wu||(wu={}));var rA=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},O1={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},uc=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let s=new URL(window.location.href).searchParams,l=s.get("scope"),o=s.get("verbose"),c=s.get("debugging"),n=s.get("cacheDebug"),u="";for(let h of Object.keys(O1))if(s.get(h)){u=O1[h];break}u=(r=s.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return vi(this,null,function*(){var r,s;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(wu.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(s=c.response)===null||s===void 0?void 0:s.error;return n?this.getErrorResult(wu.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(wu.decodingError,n)}})}getErrorResult(e,t,r){return{error:new rA(e,t,r)}}printResponse(e){var t,r,s,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(s=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||s===void 0?void 0:s.hits;if(Array.isArray(n)&&n.length>1){let h=[];h.push(n[0]),h.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=h}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([h,g])=>{var m,y,_,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(_=k.buckets)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[h]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let s=e.debugging,l=(t=s.messages)!==null&&t!==void 0?t:[],o=(r=s.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},nA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=metadata&${t}`;return this.fetchUrl(r)})}},oA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},aA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Pa;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.METADATA=1]="METADATA",e[e.FULLTEXT=2]="FULLTEXT",e[e.TV=3]="TV",e[e.RADIO=4]="RADIO",e[e.FEDERATED=5]="FEDERATED"})(Pa||(Pa={}));var sA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=tvs&${t}`;return this.fetchUrl(r)})}},lA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},cA=class extends uc{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=cc.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},Sm=class j1{constructor(t={}){this.backendOptions=t}search(s){return vi(this,arguments,function*(t,r=Pa.METADATA){let l=yield j1.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new iA(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Pa.METADATA:return new nA(r);case Pa.FULLTEXT:return new oA(r);case Pa.RADIO:return new aA(r);case Pa.TV:return new sA(r);case Pa.FEDERATED:return new lA(r);default:return new cA(r)}}};Sm.default=new Sm;ae([xt((e,t={})=>{let{includeCredentials:r=!1,verbose:s=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${s};${l};${o}`})],Sm,"getBackendForSearchType",null);var I1;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(I1||(I1={}));var N1=dt`var(--white, #fff)`,uA=dt`var(--primaryDisableCTAFill, #767676)`,dA=dt`var(--secondaryCTABorder, #999)`,hA=dt`var(--primaryCTAFill, #194880)`,Tm=dt`var(--primaryCTAFillRGB, 25, 72, 128)`,pA=dt`var(--primaryCTABorder, #c5d1df)`,fA=dt`var(--primaryErrorCTAFill, #d9534f)`,Pm=dt`var(--primaryErrorCTAFillRGB, 229, 28, 38)`,mA=dt`var(--primaryErrorCTABorder, #d43f3a)`,gA=dt`var(--secondaryCTAFill, #333)`,$m=dt`var(--secondaryCTAFillRGB, 51, 51, 51)`,vA=dt`var(--primaryCTABorder, #979797)`,yA=dt`#ee8950`,bA=dt`#ec7939`,wA=dt`
  .ia-button {
    min-height: 3rem;
    cursor: pointer;
    color: ${N1};
    line-height: normal;
    border-radius: 0.4rem;
    font-size: 1.4rem;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
    border: 1px solid transparent;
    white-space: nowrap;
    appearance: auto;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    transition: all 0.1s ease 0s;
    vertical-align: middle;
    padding: 0 3rem;
    outline-color: ${N1};
    outline-offset: -4px;
    user-select: none;
    text-decoration: none;
    width: fit-content;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -o-user-select: none;
  }
  .ia-button:focus-visible {
    outline-style: double;
  }
  .ia-button:disabled {
    cursor: not-allowed;
    background-color: ${uA};
    border: 1px solid ${dA};
  }
  .ia-button.transparent {
    background-color: transparent;
  }
  .ia-button.warning {
    background-color: ${yA}
    border-color: ${bA};
  }

  .ia-button.primary {
    background-color: ${hA};
    border-color: ${pA};
  }
  .ia-button.primary:hover {
    background-color: rgba(${Tm}, 0.9);
  }
  .ia-button.primary:focus-visible {
    background-color: rgba(${Tm}, 0.8);
  }
  .ia-button.primary:active {
    background-color: rgba(${Tm}, 0.7);
  }

  .ia-button.danger {
    background-color: ${fA};
    border-color: ${mA};
  }
  .ia-button.danger:hover {
    background-color: rgba(${Pm}, 0.9);
  }
  .ia-button.danger:focus-visible {
    background-color: rgba(${Pm}, 0.8);
  }
  .ia-button.danger:active {
    background-color: rgba(${Pm}, 0.7);
  }

  .ia-button.dark {
    background-color: ${gA};
    border-color: ${vA};
  }
  .ia-button.dark:hover {
    background-color: rgba(${$m}, 0.9);
  }
  .ia-button.dark:focus-visible {
    background-color: rgba(${$m}, 0.8);
  }
  .ia-button.dark:active {
    background-color: rgba(${$m}, 0.7);
  }
`,xu;(function(e){e.NETWORK="failed to connect to user lists backend service",e.BAD_RESPONSE="malformed response from backend",e.USER_NOT_FOUND="user with the given id was not found",e.LIST_NOT_FOUND="user list with the given id was not found",e.LIST_MEMBER_NOT_FOUND="user list member with the given id was not found",e.ITEM_NOT_TOUND="item with the given id was not found"})(xu||(xu={}));var xA=class extends Error{constructor(e,t,r){super(t,r),this.reason=e}},ah="application/json; charset=utf-8",sh=class dc{constructor({fetchHandler:t,searchService:r,userService:s,baseUrl:l=dc.DEFAULT_BASE_URL}){this.fetchHandler=t,this.searchService=r,this.userService=s,this.baseUrl=l}fetchEndpoint(t,r,s,l){return vi(this,null,function*(){try{let o=yield this.fetchHandler.fetchApiResponse(t,{method:r,body:s,headers:l,includeCredentials:!0});return o.success?{success:o.value}:{error:dc.getErrorResult(xu.LIST_NOT_FOUND,o.error)}}catch(o){return{error:dc.getErrorResult(xu.NETWORK,o)}}})}fetchListsForUser(t){return vi(this,null,function*(){var r;let s=(r=yield this.userService.getLoggedInUser())===null||r===void 0?void 0:r.success,l=(s==null?void 0:s.itemname)===t?"me":t;return this.fetchEndpoint(`${this.baseUrl}/services/users/${l}/lists`)})}fetchList(t,r){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/${t}/lists/${r}`)})}fetchOwnListsContainingItem(t){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists?item=${t}`)})}fetchListMembers(t,r){return vi(this,null,function*(){let s=yield this.fetchList(t,r);if(!s.success)return s;let{members:l}=s.success;if(!l)throw dc.getErrorResult(xu.BAD_RESPONSE);return{success:l}})}fetchListMemberSearchResults(t,r){return vi(this,null,function*(){let s=yield this.fetchListMembers(t,r);if(!s.success)return s;let l=s.success;if(l.length===0)return{success:[]};let o=`identifier:(${l.map(n=>n.identifier).join(" OR ")})`,c=yield this.searchService.search({query:o,rows:l.length,aggregations:{omit:!0}},Pa.METADATA);return c.success?{success:c.success.response.results}:{error:c.error}})}createList(t){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists`,"POST",JSON.stringify(t),{"Content-Type":ah})})}updateList(t,r){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"PATCH",JSON.stringify(r),{"Content-Type":ah})})}deleteList(t){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}`,"DELETE")})}addMemberToList(t,r){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"POST",JSON.stringify(r),{"Content-Type":ah})})}removeMemberFromList(t,r){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members/${r}`,"DELETE")})}removeBulkMembersFromList(t,r){return vi(this,null,function*(){return this.fetchEndpoint(`${this.baseUrl}/services/users/me/lists/${t}/members`,"PATCH",JSON.stringify({remove:r}),{"Content-Type":ah})})}static getErrorResult(t,r){return new xA(t,dc.getErrorMessage(r),{cause:r})}static getErrorMessage(t){return t instanceof Error?t.message:typeof t=="string"?t:"Unknown error"}};sh.DEFAULT_BASE_URL="https://archive.org";var Wa=class extends fi{saveListDetails(e){return vi(this,null,function*(){var t,r,s,l;e.preventDefault();let o=(t=e.target)===null||t===void 0?void 0:t.querySelector("button#save-list-settings");o==null||o.setAttribute("disabled","true"),this.dispatchEvent(new Event("userListSaving"));try{let c={list_name:this.listName.value,description:this.listDescription.value,is_private:this.listPrivate.checked},n;if(!((r=this.userList)===null||r===void 0)&&r.id?n=yield(s=this.userListsService)===null||s===void 0?void 0:s.updateList(this.userList.id,c):n=yield(l=this.userListsService)===null||l===void 0?void 0:l.createList(c),n.success)this.dispatchEvent(new CustomEvent("userListSaved",{detail:n.success}));else throw n.error}catch(c){this.dispatchEvent(new CustomEvent("userListError",{detail:{error:c}})),console.log("error",c),o==null||o.removeAttribute("disabled")}})}emitCloseModalEvent(e){e.preventDefault(),this.dispatchEvent(new Event("listModalClosed"))}render(){var e,t,r,s,l,o,c,n;return ze`
      <section class="new-list">
        <form id="user-list-form" @submit=${this.saveListDetails}>
          <div class="field">
            <input type="hidden" id="id" .value=${(t=(e=this.userList)===null||e===void 0?void 0:e.id)!==null&&t!==void 0?t:""} />
            <label for="name">List name*</label>
            <input
              type="text"
              id="name"
              .value=${(s=(r=this.userList)===null||r===void 0?void 0:r.list_name)!==null&&s!==void 0?s:""}
              required
            />
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea
              id="description"
              .value=${(o=(l=this.userList)===null||l===void 0?void 0:l.description)!==null&&o!==void 0?o:""}
            ></textarea>
          </div>
          <div class="field">
            <label for="private">Private list</label>
            <input
              type="checkbox"
              id="private"
              .checked="${(n=(c=this.userList)===null||c===void 0?void 0:c.is_private)!==null&&n!==void 0?n:!1}"
            />
          </div>
          <div class="footer field">
            <button
              type="button"
              class="ia-button dark"
              id="cancel"
              @click=${this.emitCloseModalEvent}
            >
              Cancel
            </button>
            <button
              type="submit"
              id="save-list-settings"
              class="ia-button primary"
            >
              Save
            </button>
          </div>
        </form>
      </section>
    `}};Wa.styles=[wA,dt`
      :host {
        display: block;
        padding: 15px 0 0 0;
        font-size: 14px;
        position: relative;
      }

      .field {
        margin-bottom: 10px;
        display: flex;
        align-items: center;
      }

      label {
        display: inline-block;
        width: 90px;
        text-align: left;
        margin-right: 10px;
        font-weight: 700;
      }

      input[type='text'],
      textarea {
        line-height: 20px;
        padding: 5px;
        border-radius: 5px;
        width: 270px;
        font-family: inherit;
        font-size: inherit;
        resize: none;
        border-style: solid;
        outline: none;
        border-radius: 4px;
        border-width: 1px;
        border-color: #999;
      }

      input[type='checkbox'] {
        cursor: pointer;
        margin: 0;
      }

      label[for='private'] {
        cursor: pointer;
      }

      .footer {
        display: block;
        text-align: center;
        margin: 10px 0 0 0;
      }

      .ia-button {
        display: initial;
        padding: 0 15px;
        height: 3.5rem;
      }
    `];ae([Kt({type:Object}),As("design:type",Object)],Wa.prototype,"userList",void 0);ae([Kt({type:Object}),As("design:type",sh)],Wa.prototype,"userListsService",void 0);ae([on("#id"),As("design:type",HTMLInputElement)],Wa.prototype,"listId",void 0);ae([on("#name"),As("design:type",HTMLInputElement)],Wa.prototype,"listName",void 0);ae([on("#description"),As("design:type",HTMLInputElement)],Wa.prototype,"listDescription",void 0);ae([on("#private"),As("design:type",HTMLInputElement)],Wa.prototype,"listPrivate",void 0);Wa=ae([lr("iaux-userlist-settings")],Wa);vr();In();Bn();vr();In();Bn();Bn();Bn();Bn();Bn();Bn();Bn();Bn();vr();In();vr();In();vr();In();vr();In();vr();In();vr();In();vr();In();var ua=class{constructor(e,t){this.parser=e,this.rawValue=t}get values(){return this.parseRawValue()}get value(){return this.values[0]}parseRawValue(){if(this.rawValue===void 0)return[];let e=Array.isArray(this.rawValue)?this.rawValue:[this.rawValue],t=[];return e.forEach(r=>{let s=this.parser.parseValue(r);Array.isArray(s)?t.push(...s):s!==void 0&&t.push(s)}),t}};ae([xt()],ua.prototype,"values",null);ae([xt()],ua.prototype,"value",null);var Zs=class extends ua{constructor(e){super(tc.shared,e)}},vn=class extends ua{constructor(e){super(qo.shared,e)}},Lm=class extends ua{constructor(e){super(Ca.shared,e)}},hn=class extends ua{constructor(e){super(Wn.shared,e)}},pr=class extends ua{constructor(e){super(Ea.shared,e)}},_A=class extends ua{constructor(e){super(rc.shared,e)}},lh=class extends ua{constructor(e){super(Wo.shared,e)}},Au=class extends ua{constructor(e){super(ic.shared,e)}},kA=class extends ua{constructor(e,t){super(t,e)}},SA=class extends kA{constructor(e){let t=new Zd(Ea.shared);super(e,t)}},Ar=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.identifier}get addeddate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.addeddate?new vn(this.rawMetadata.addeddate):void 0}get audio_codec(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_codec?new pr(this.rawMetadata.audio_codec):void 0}get audio_sample_rate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.audio_sample_rate?new hn(this.rawMetadata.audio_sample_rate):void 0}get avg_rating(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.avg_rating?new hn(this.rawMetadata.avg_rating):void 0}get collection(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection?new pr(this.rawMetadata.collection):void 0}get collections_raw(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collections_raw?new pr(this.rawMetadata.collections_raw):void 0}get collection_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.collection_size?new lh(this.rawMetadata.collection_size):void 0}get contributor(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.contributor?new pr(this.rawMetadata.contributor):void 0}get coverage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.coverage?new pr(this.rawMetadata.coverage):void 0}get creator(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.creator?new pr(this.rawMetadata.creator):void 0}get date(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.date?new vn(this.rawMetadata.date):void 0}get description(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.description?new pr(this.rawMetadata.description):void 0}get downloads(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.downloads?new hn(this.rawMetadata.downloads):void 0}get duration(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.duration?new Lm(this.rawMetadata.duration):void 0}get"external-identifier"(){var e,t;return!((e=this.rawMetadata)===null||e===void 0)&&e["external-identifier"]?new pr((t=this.rawMetadata)===null||t===void 0?void 0:t["external-identifier"]):void 0}get files_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.files_count?new hn(this.rawMetadata.files_count):void 0}get indexdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.indexdate?new vn(this.rawMetadata.indexdate):void 0}get isbn(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.isbn?new pr(this.rawMetadata.isbn):void 0}get issue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.issue?new pr(this.rawMetadata.issue):void 0}get item_count(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_count?new hn(this.rawMetadata.item_count):void 0}get item_size(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.item_size?new lh(this.rawMetadata.item_size):void 0}get language(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.language?new pr(this.rawMetadata.language):void 0}get length(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.length?new Lm(this.rawMetadata.length):void 0}get lineage(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.lineage?new pr(this.rawMetadata.lineage):void 0}get month(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.month?new hn(this.rawMetadata.month):void 0}get mediatype(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.mediatype?new Au(this.rawMetadata.mediatype):void 0}get noindex(){var e;return((e=this.rawMetadata)===null||e===void 0?void 0:e.noindex)!=null?new Zs(this.rawMetadata.noindex):void 0}get notes(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.notes?new pr(this.rawMetadata.notes):void 0}get num_favorites(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_favorites?new hn(this.rawMetadata.num_favorites):void 0}get num_reviews(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.num_reviews?new hn(this.rawMetadata.num_reviews):void 0}get openlibrary_edition(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_edition?new pr(this.rawMetadata.openlibrary_edition):void 0}get openlibrary_work(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.openlibrary_work?new pr(this.rawMetadata.openlibrary_work):void 0}get page_progression(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.page_progression?new _A(this.rawMetadata.page_progression):void 0}get partner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.partner?new pr(this.rawMetadata.partner):void 0}get ppi(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.ppi?new hn(this.rawMetadata.ppi):void 0}get publicdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publicdate?new vn(this.rawMetadata.publicdate):void 0}get publisher(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.publisher?new pr(this.rawMetadata.publisher):void 0}get reviewdate(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.reviewdate?new vn(this.rawMetadata.reviewdate):void 0}get runtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.runtime?new Lm(this.rawMetadata.runtime):void 0}get scanner(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.scanner?new pr(this.rawMetadata.scanner):void 0}get source(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.source?new pr(this.rawMetadata.source):void 0}get start_localtime(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_localtime?new vn(this.rawMetadata.start_localtime):void 0}get start_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.start_time?new vn(this.rawMetadata.start_time):void 0}get stop_time(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.stop_time?new vn(this.rawMetadata.stop_time):void 0}get subject(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.subject?new SA(this.rawMetadata.subject):void 0}get taper(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.taper?new pr(this.rawMetadata.taper):void 0}get title(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.title?new pr(this.rawMetadata.title):void 0}get transferer(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.transferer?new pr(this.rawMetadata.transferer):void 0}get track(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.track?new hn(this.rawMetadata.track):void 0}get type(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.type?new pr(this.rawMetadata.type):void 0}get uploader(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.uploader?new pr(this.rawMetadata.uploader):void 0}get utc_offset(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.utc_offset?new hn(this.rawMetadata.utc_offset):void 0}get venue(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.venue?new pr(this.rawMetadata.venue):void 0}get volume(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.volume?new pr(this.rawMetadata.volume):void 0}get week(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.week?new hn(this.rawMetadata.week):void 0}get year(){var e;return!((e=this.rawMetadata)===null||e===void 0)&&e.year?new vn(this.rawMetadata.year):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new pr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new vn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};ae([xt()],Ar.prototype,"addeddate",null);ae([xt()],Ar.prototype,"audio_codec",null);ae([xt()],Ar.prototype,"audio_sample_rate",null);ae([xt()],Ar.prototype,"avg_rating",null);ae([xt()],Ar.prototype,"collection",null);ae([xt()],Ar.prototype,"collections_raw",null);ae([xt()],Ar.prototype,"collection_size",null);ae([xt()],Ar.prototype,"contributor",null);ae([xt()],Ar.prototype,"coverage",null);ae([xt()],Ar.prototype,"creator",null);ae([xt()],Ar.prototype,"date",null);ae([xt()],Ar.prototype,"description",null);ae([xt()],Ar.prototype,"downloads",null);ae([xt()],Ar.prototype,"duration",null);ae([xt()],Ar.prototype,"external-identifier",null);ae([xt()],Ar.prototype,"files_count",null);ae([xt()],Ar.prototype,"indexdate",null);ae([xt()],Ar.prototype,"isbn",null);ae([xt()],Ar.prototype,"issue",null);ae([xt()],Ar.prototype,"item_count",null);ae([xt()],Ar.prototype,"item_size",null);ae([xt()],Ar.prototype,"language",null);ae([xt()],Ar.prototype,"length",null);ae([xt()],Ar.prototype,"lineage",null);ae([xt()],Ar.prototype,"month",null);ae([xt()],Ar.prototype,"mediatype",null);ae([xt()],Ar.prototype,"noindex",null);ae([xt()],Ar.prototype,"notes",null);ae([xt()],Ar.prototype,"num_favorites",null);ae([xt()],Ar.prototype,"num_reviews",null);ae([xt()],Ar.prototype,"openlibrary_edition",null);ae([xt()],Ar.prototype,"openlibrary_work",null);ae([xt()],Ar.prototype,"page_progression",null);ae([xt()],Ar.prototype,"partner",null);ae([xt()],Ar.prototype,"ppi",null);ae([xt()],Ar.prototype,"publicdate",null);ae([xt()],Ar.prototype,"publisher",null);ae([xt()],Ar.prototype,"reviewdate",null);ae([xt()],Ar.prototype,"runtime",null);ae([xt()],Ar.prototype,"scanner",null);ae([xt()],Ar.prototype,"source",null);ae([xt()],Ar.prototype,"start_localtime",null);ae([xt()],Ar.prototype,"start_time",null);ae([xt()],Ar.prototype,"stop_time",null);ae([xt()],Ar.prototype,"subject",null);ae([xt()],Ar.prototype,"taper",null);ae([xt()],Ar.prototype,"title",null);ae([xt()],Ar.prototype,"transferer",null);ae([xt()],Ar.prototype,"track",null);ae([xt()],Ar.prototype,"type",null);ae([xt()],Ar.prototype,"uploader",null);ae([xt()],Ar.prototype,"utc_offset",null);ae([xt()],Ar.prototype,"venue",null);ae([xt()],Ar.prototype,"volume",null);ae([xt()],Ar.prototype,"week",null);ae([xt()],Ar.prototype,"year",null);ae([xt()],Ar.prototype,"query",null);ae([xt()],Ar.prototype,"date_favorited",null);ae([xt()],Ar.prototype,"__href__",null);var Zr=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new vn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new hn(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get collection_files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_files_count)!=null?new hn(this.rawMetadata.fields.collection_files_count):void 0}get collection_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.collection_size)!=null?new lh(this.rawMetadata.fields.collection_size):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new vn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new hn(this.rawMetadata.fields.downloads):void 0}get files_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.files_count)!=null?new hn(this.rawMetadata.fields.files_count):void 0}get genre(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.genre?new pr(this.rawMetadata.fields.genre):void 0}get indexflag(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.indexflag?new pr(this.rawMetadata.fields.indexflag):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get item_count(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_count)!=null?new hn(this.rawMetadata.fields.item_count):void 0}get item_size(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.item_size)!=null?new lh(this.rawMetadata.fields.item_size):void 0}get language(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.language?new pr(this.rawMetadata.fields.language):void 0}get lending___available_to_borrow(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_borrow)!=null?new Zs(this.rawMetadata.fields.lending___available_to_borrow):void 0}get lending___available_to_browse(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_browse)!=null?new Zs(this.rawMetadata.fields.lending___available_to_browse):void 0}get lending___available_to_waitlist(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.lending___available_to_waitlist)!=null?new Zs(this.rawMetadata.fields.lending___available_to_waitlist):void 0}get lending___status(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.lending___status?new pr(this.rawMetadata.fields.lending___status):void 0}get licenseurl(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.licenseurl?new pr(this.rawMetadata.fields.licenseurl):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Au(this.rawMetadata.fields.mediatype):void 0}get month(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.month)!=null?new hn(this.rawMetadata.fields.month):void 0}get noindex(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.noindex)!=null?new Zs(this.rawMetadata.fields.noindex):void 0}get num_favorites(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_favorites)!=null?new hn(this.rawMetadata.fields.num_favorites):void 0}get num_reviews(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.num_reviews)!=null?new hn(this.rawMetadata.fields.num_reviews):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new vn(this.rawMetadata.fields.publicdate):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new vn(this.rawMetadata.fields.reviewdate):void 0}get review(){var e;let t=(e=this.rawMetadata)===null||e===void 0?void 0:e.review;return t?{body:t.reviewbody,title:t.reviewtitle,author:t.reviewer,authorItem:t.reviewer_itemname,updatedate:new Date(t.reviewdate),createdate:new Date(t.createdate),stars:Number(t.stars)||0,__href__:t.__href__}:void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get type(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.type?new pr(this.rawMetadata.fields.type):void 0}get volume(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.volume?new pr(this.rawMetadata.fields.volume):void 0}get week(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.week)!=null?new hn(this.rawMetadata.fields.week):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new hn(this.rawMetadata.fields.year):void 0}};ae([xt()],Zr.prototype,"addeddate",null);ae([xt()],Zr.prototype,"avg_rating",null);ae([xt()],Zr.prototype,"collection",null);ae([xt()],Zr.prototype,"collection_files_count",null);ae([xt()],Zr.prototype,"collection_size",null);ae([xt()],Zr.prototype,"creator",null);ae([xt()],Zr.prototype,"date",null);ae([xt()],Zr.prototype,"description",null);ae([xt()],Zr.prototype,"downloads",null);ae([xt()],Zr.prototype,"files_count",null);ae([xt()],Zr.prototype,"genre",null);ae([xt()],Zr.prototype,"indexflag",null);ae([xt()],Zr.prototype,"issue",null);ae([xt()],Zr.prototype,"item_count",null);ae([xt()],Zr.prototype,"item_size",null);ae([xt()],Zr.prototype,"language",null);ae([xt()],Zr.prototype,"lending___available_to_borrow",null);ae([xt()],Zr.prototype,"lending___available_to_browse",null);ae([xt()],Zr.prototype,"lending___available_to_waitlist",null);ae([xt()],Zr.prototype,"lending___status",null);ae([xt()],Zr.prototype,"licenseurl",null);ae([xt()],Zr.prototype,"mediatype",null);ae([xt()],Zr.prototype,"month",null);ae([xt()],Zr.prototype,"noindex",null);ae([xt()],Zr.prototype,"num_favorites",null);ae([xt()],Zr.prototype,"num_reviews",null);ae([xt()],Zr.prototype,"publicdate",null);ae([xt()],Zr.prototype,"reviewdate",null);ae([xt()],Zr.prototype,"review",null);ae([xt()],Zr.prototype,"source",null);ae([xt()],Zr.prototype,"subject",null);ae([xt()],Zr.prototype,"title",null);ae([xt()],Zr.prototype,"type",null);ae([xt()],Zr.prototype,"volume",null);ae([xt()],Zr.prototype,"week",null);ae([xt()],Zr.prototype,"year",null);var Rn=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new pr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new vn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating)!=null?new hn(this.rawMetadata.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new vn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new vn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads)!=null?new hn(this.rawMetadata.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new pr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new pr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime)!=null?new hn(this.rawMetadata.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Au(this.rawMetadata.fields.mediatype):void 0}get page_num(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.page_num)!=null?new hn(this.rawMetadata.fields.page_num):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new vn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile)!=null?new Zs(this.rawMetadata.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new vn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new vn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t;return((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year)!=null?new hn(this.rawMetadata.fields.year):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};ae([xt()],Rn.prototype,"highlight",null);ae([xt()],Rn.prototype,"addeddate",null);ae([xt()],Rn.prototype,"avg_rating",null);ae([xt()],Rn.prototype,"collection",null);ae([xt()],Rn.prototype,"created_on",null);ae([xt()],Rn.prototype,"creator",null);ae([xt()],Rn.prototype,"date",null);ae([xt()],Rn.prototype,"description",null);ae([xt()],Rn.prototype,"downloads",null);ae([xt()],Rn.prototype,"filename",null);ae([xt()],Rn.prototype,"file_basename",null);ae([xt()],Rn.prototype,"file_creation_mtime",null);ae([xt()],Rn.prototype,"issue",null);ae([xt()],Rn.prototype,"mediatype",null);ae([xt()],Rn.prototype,"page_num",null);ae([xt()],Rn.prototype,"publicdate",null);ae([xt()],Rn.prototype,"result_in_subfile",null);ae([xt()],Rn.prototype,"reviewdate",null);ae([xt()],Rn.prototype,"source",null);ae([xt()],Rn.prototype,"subject",null);ae([xt()],Rn.prototype,"title",null);ae([xt()],Rn.prototype,"updated_on",null);ae([xt()],Rn.prototype,"year",null);ae([xt()],Rn.prototype,"__href__",null);var _u;(function(e){e[e.COUNT=0]="COUNT",e[e.ALPHABETICAL=1]="ALPHABETICAL",e[e.NUMERIC=2]="NUMERIC"})(_u||(_u={}));var F1=class{constructor(e){this.buckets=e.buckets,this.doc_count_error_upper_bound=e.doc_count_error_upper_bound,this.sum_other_doc_count=e.sum_other_doc_count,this.first_bucket_key=e.first_bucket_key,this.last_bucket_key=e.last_bucket_key,this.number_buckets=e.number_buckets,this.interval=e.interval}getSortedBuckets(e){let t=[...this.buckets];if(this.isRawNumberBuckets(t))return t;let r=new Intl.Collator;switch(e){case _u.ALPHABETICAL:return t.sort((s,l)=>r.compare(s.key.toString(),l.key.toString()));case _u.NUMERIC:return t.sort((s,l)=>Number(l.key)-Number(s.key));case _u.COUNT:default:return t}}isRawNumberBuckets(e){return typeof this.buckets[0]=="number"}};ae([xt()],F1.prototype,"getSortedBuckets",null);var Cu=class{constructor(e){this.rawMetadata=e}get identifier(){var e;return(e=this.rawMetadata)===null||e===void 0?void 0:e.fields.query}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get query(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.query?new pr(this.rawMetadata.fields.query):void 0}get date_favorited(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date_favorited?new vn(this.rawMetadata.fields.date_favorited):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};ae([xt()],Cu.prototype,"title",null);ae([xt()],Cu.prototype,"query",null);ae([xt()],Cu.prototype,"date_favorited",null);ae([xt()],Cu.prototype,"__href__",null);var ch=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.url}get mediatype(){return new Au("web")}get title(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.url?new pr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.url):void 0}get capture_dates(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.capture_dates?new vn((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.capture_dates):void 0}get __href__(){var e,t,r;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr((r=this.rawMetadata.fields)===null||r===void 0?void 0:r.__href__):void 0}};ae([xt()],ch.prototype,"title",null);ae([xt()],ch.prototype,"capture_dates",null);ae([xt()],ch.prototype,"__href__",null);var Dn=class{constructor(e){this.rawMetadata=e}get identifier(){var e,t;return(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.identifier}get highlight(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.highlight)===null||t===void 0)&&t.text?new pr(this.rawMetadata.highlight.text):void 0}get addeddate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.addeddate?new vn(this.rawMetadata.fields.addeddate):void 0}get avg_rating(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.avg_rating;return s||s===0?new hn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.avg_rating):void 0}get collection(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.collection?new pr(this.rawMetadata.fields.collection):void 0}get created_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.created_on?new vn(this.rawMetadata.fields.created_on):void 0}get creator(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.creator?new pr(this.rawMetadata.fields.creator):void 0}get date(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.date?new vn(this.rawMetadata.fields.date):void 0}get description(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.description?new pr(this.rawMetadata.fields.description):void 0}get downloads(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.downloads;return s||s===0?new hn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.downloads):void 0}get filename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.filename?new pr(this.rawMetadata.fields.filename):void 0}get file_basename(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.file_basename?new pr(this.rawMetadata.fields.file_basename):void 0}get file_creation_mtime(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.file_creation_mtime;return s||s===0?new hn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.file_creation_mtime):void 0}get issue(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.issue?new pr(this.rawMetadata.fields.issue):void 0}get mediatype(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.mediatype?new Au(this.rawMetadata.fields.mediatype):void 0}get publicdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.publicdate?new vn(this.rawMetadata.fields.publicdate):void 0}get result_in_subfile(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.result_in_subfile;return s||s===!1?new Zs((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.result_in_subfile):void 0}get reviewdate(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.reviewdate?new vn(this.rawMetadata.fields.reviewdate):void 0}get source(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.source?new pr(this.rawMetadata.fields.source):void 0}get subject(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.subject?new pr(this.rawMetadata.fields.subject):void 0}get title(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.title?new pr(this.rawMetadata.fields.title):void 0}get updated_on(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.updated_on?new vn(this.rawMetadata.fields.updated_on):void 0}get year(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.year;return s||s===0?new hn((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.year):void 0}get start(){var e,t,r;let s=(t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.start;return s||s===0?new pr((r=this.rawMetadata)===null||r===void 0?void 0:r.fields.start):void 0}get __href__(){var e,t;return!((t=(e=this.rawMetadata)===null||e===void 0?void 0:e.fields)===null||t===void 0)&&t.__href__?new pr(this.rawMetadata.fields.__href__):void 0}};ae([xt()],Dn.prototype,"highlight",null);ae([xt()],Dn.prototype,"addeddate",null);ae([xt()],Dn.prototype,"avg_rating",null);ae([xt()],Dn.prototype,"collection",null);ae([xt()],Dn.prototype,"created_on",null);ae([xt()],Dn.prototype,"creator",null);ae([xt()],Dn.prototype,"date",null);ae([xt()],Dn.prototype,"description",null);ae([xt()],Dn.prototype,"downloads",null);ae([xt()],Dn.prototype,"filename",null);ae([xt()],Dn.prototype,"file_basename",null);ae([xt()],Dn.prototype,"file_creation_mtime",null);ae([xt()],Dn.prototype,"issue",null);ae([xt()],Dn.prototype,"mediatype",null);ae([xt()],Dn.prototype,"publicdate",null);ae([xt()],Dn.prototype,"result_in_subfile",null);ae([xt()],Dn.prototype,"reviewdate",null);ae([xt()],Dn.prototype,"source",null);ae([xt()],Dn.prototype,"subject",null);ae([xt()],Dn.prototype,"title",null);ae([xt()],Dn.prototype,"updated_on",null);ae([xt()],Dn.prototype,"year",null);ae([xt()],Dn.prototype,"start",null);ae([xt()],Dn.prototype,"__href__",null);var AA=["loans","waitlist","loan_history"];function CA(e){let t=e.slice(0,4),r=e.slice(4,6),s=e.slice(6,8),l=e.slice(8,10),o=e.slice(10,12),c=e.slice(12,14);return`${t}-${r}-${s}T${l}:${o}:${c}Z`}function EA(e){var t;let r=[];for(let s of e){if(!(!((t=s.captures)===null||t===void 0)&&t.length))continue;let l=encodeURIComponent(s.url),o=`https://web.archive.org/web/${s.captures[0]}/${l}`;r.push({hit_type:"web_archive",fields:{url:s.url,capture_dates:s.captures.map(c=>CA(c)),__href__:o}})}return r}var TA=class z1{constructor(t,r){var s,l,o,c,n,u,h,g,m,y,_,w,k,A;this.schema=r,this.schemaHitType=r==null?void 0:r.hit_type;let L;t!=null&&t.page_elements&&(this.pageElements=t.page_elements,L=Object.values(this.pageElements)[0]);let T=(s=t==null?void 0:t.hits)===null||s===void 0?void 0:s.hits;this.totalResults=(o=(l=t==null?void 0:t.hits)===null||l===void 0?void 0:l.total)!==null&&o!==void 0?o:0,this.returnedCount=(n=(c=t==null?void 0:t.hits)===null||c===void 0?void 0:c.returned)!==null&&n!==void 0?n:0,!(T!=null&&T.length)&&!((u=this.pageElements)===null||u===void 0)&&u.service___fts?(this.totalResults=0,this.returnedCount=0,this.handleFederatedPageElements()):!(T!=null&&T.length)&&!((h=L==null?void 0:L.hits)===null||h===void 0)&&h.hits?(T=L.hits.hits,this.totalResults=(g=L.hits.total)!==null&&g!==void 0?g:0,this.returnedCount=(m=L.hits.returned)!==null&&m!==void 0?m:0):!((y=this.pageElements)===null||y===void 0)&&y.lending?T=this.handleLendingPageElement():!((_=this.pageElements)===null||_===void 0)&&_.web_archives&&(T=this.handleWebArchivesPageElement()),this.results=this.formatHits(T);let E=t==null?void 0:t.aggregations;!(this.aggregations&&Object.keys(this.aggregations).length>0)&&(L!=null&&L.aggregations)&&(E=L.aggregations),E&&this.buildAggregations(E),t!=null&&t.collection_titles&&(this.collectionTitles=(w=t.collection_titles)!==null&&w!==void 0?w:{}),t!=null&&t.collection_extra_info&&(this.collectionExtraInfo=(k=t.collection_extra_info)!==null&&k!==void 0?k:null),t!=null&&t.account_extra_info&&(this.accountExtraInfo=(A=t.account_extra_info)!==null&&A!==void 0?A:null)}formatHits(t){var r;return(r=t==null?void 0:t.map(s=>{var l;return z1.createResult((l=s.hit_type)!==null&&l!==void 0?l:this.schemaHitType,s)}))!==null&&r!==void 0?r:[]}buildAggregations(t){this.aggregations=Object.entries(t).reduce((r,[s,l])=>(r[s]=new F1(l),r),{})}handleLendingPageElement(){var t,r;let s=(t=this.pageElements)===null||t===void 0?void 0:t.lending,l=(r=s.loans)!==null&&r!==void 0?r:[];this.totalResults=l.length,this.returnedCount=this.totalResults;for(let o of AA)s[o]=this.formatHits(s[o]);return l}handleWebArchivesPageElement(){var t;let r=EA((t=this.pageElements)===null||t===void 0?void 0:t.web_archives);return this.totalResults=r.length,this.returnedCount=this.totalResults,r}handleFederatedPageElements(){var t,r,s,l;let o=["service___fts","service___tvs","service___rcs","service___whisper"];for(let c of o){let n=this.removeServicePrefix(c);this.federatedResults?this.federatedResults[c]=[]:this.federatedResults={[n]:[]};let u=(r=(t=this.pageElements)===null||t===void 0?void 0:t[c])===null||r===void 0?void 0:r.hits;u!=null&&u.hits&&(this.federatedResults[n]=this.formatHits(u==null?void 0:u.hits)),this.totalResults+=(s=u==null?void 0:u.total)!==null&&s!==void 0?s:0,this.returnedCount+=(l=u==null?void 0:u.returned)!==null&&l!==void 0?l:0}}removeServicePrefix(t){return t.split("___")[1]}static createResult(t,r){switch(t){case"item":return new Zr(r);case"text":case"asr_text":return new Rn(r);case"favorited_search":return new Cu(r);case"web_archive":return new ch(r);case"tv_clip":return new Dn(r);default:return new Zr(r)}}},PA=class{constructor(e){this.clientParameters=e.client_parameters,this.backendRequests=e.backend_requests,this.kind=e.kind}},$A=class{constructor(e){var t,r,s;this.rawResponse=e,this.request=new PA(e.request),this.responseHeader=(t=e.response)===null||t===void 0?void 0:t.header,this.sessionContext=e.session_context,this.response=new TA((r=e.response)===null||r===void 0?void 0:r.body,(s=e.response)===null||s===void 0?void 0:s.hit_schema)}},uh=class{static aggregateSearchParamsAsString(e){if(e.omit)return"false";if(e.advancedParams){let t=e.advancedParams.map(r=>({terms:r}));return JSON.stringify(t)}if(e.simpleParams)return e.simpleParams.join(",")}static sortParamsAsString(e){return`${e.field}:${e.direction}`}static filterParamsAsString(e){return JSON.stringify(e)}static generateURLSearchParams(e){let t=new URLSearchParams;if(t.append("user_query",e.query),e.pageType&&t.append("page_type",String(e.pageType)),e.pageTarget&&t.append("page_target",String(e.pageTarget)),e.pageElements&&e.pageElements.length>0){let s=`[${e.pageElements.map(l=>`"${l}"`).join(",")}]`;t.append("page_elements",s)}if(e.rows!=null&&t.append("hits_per_page",String(e.rows)),e.page!=null&&t.append("page",String(e.page)),e.fields&&e.fields.length>0&&t.append("fields",e.fields.join(",")),e.filters&&Object.keys(e.filters).length>0){let s=this.filterParamsAsString(e.filters);s&&s!=="{}"&&t.append("filter_map",s)}if(e.sort&&e.sort.length>0){let s=e.sort.map(l=>this.sortParamsAsString(l));t.append("sort",s.join(","))}let r=e.aggregations;if(r){let s=this.aggregateSearchParamsAsString(r);s&&t.append("aggregations",s)}if(e.aggregationsSize!=null&&t.append("aggregations_size",String(e.aggregationsSize)),e.debugging&&t.append("debugging","true"),e.uid&&t.append("uid",e.uid),e.includeClientUrl!==!1){let s=window.location.href.slice(0,400);e.query.length<=1e3&&t.append("client_url",s)}return t}},ku;(function(e){e.networkError="SearchService.NetworkError",e.itemNotFound="SearchService.ItemNotFound",e.decodingError="SearchService.DecodingError",e.searchEngineError="SearchService.SearchEngineError"})(ku||(ku={}));var LA=class extends Error{constructor(e,t,r){super(t),this.name=e,this.type=e,this.details=r}},B1={reCache:JSON.stringify({recompute:!0}),noCache:JSON.stringify({bypass:!0}),dontCache:JSON.stringify({no_compute:!0})},dh=class{constructor(e){var t,r;this.baseUrl=(t=e==null?void 0:e.baseUrl)!==null&&t!==void 0?t:"archive.org",(e==null?void 0:e.includeCredentials)!==void 0?this.includeCredentials=e.includeCredentials:this.includeCredentials=window.location.href.match(/^https?:\/\/.*archive\.org(:[0-9]+)?/)!==null;let s=new URL(window.location.href).searchParams,l=s.get("scope"),o=s.get("verbose"),c=s.get("debugging"),n=s.get("cacheDebug"),u="";for(let h of Object.keys(B1))if(s.get(h)){u=B1[h];break}u=(r=s.get("caching"))!==null&&r!==void 0?r:u,(e==null?void 0:e.caching)!==void 0?this.cachingFlags=e.caching:u&&(this.cachingFlags=u),(e==null?void 0:e.debuggingEnabled)!==void 0?this.debuggingEnabled=e.debuggingEnabled:(c||n)&&(this.debuggingEnabled=!0),(e==null?void 0:e.scope)!==void 0?this.requestScope=e.scope:l&&(this.requestScope=l),(e==null?void 0:e.verbose)!==void 0?this.verbose=e.verbose:o&&(this.verbose=!!o)}fetchUrl(e,t){return vi(this,null,function*(){var r,s;let l=new URL(e);this.requestScope&&l.searchParams.set("scope",this.requestScope),this.cachingFlags&&l.searchParams.set("caching",this.cachingFlags);let o;try{let c=(r=t==null?void 0:t.requestOptions)!==null&&r!==void 0?r:{credentials:this.includeCredentials?"include":"same-origin"};o=yield fetch(l.href,c)}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(ku.networkError,n)}try{let c=yield o.json();this.verbose&&this.printResponse(c),c.debugging&&this.printDebuggingInfo(c);let n=(s=c.response)===null||s===void 0?void 0:s.error;return n?this.getErrorResult(ku.searchEngineError,n.message,n.forensics):{success:c}}catch(c){let n=c instanceof Error?c.message:typeof c=="string"?c:"Unknown error";return this.getErrorResult(ku.decodingError,n)}})}getErrorResult(e,t,r){return{error:new LA(e,t,r)}}printResponse(e){var t,r,s,l,o;try{let c=JSON.parse(JSON.stringify(e)),n=(s=(r=(t=c==null?void 0:c.response)===null||t===void 0?void 0:t.body)===null||r===void 0?void 0:r.hits)===null||s===void 0?void 0:s.hits;if(Array.isArray(n)&&n.length>1){let h=[];h.push(n[0]),h.push(`*** ${n.length-1} hits omitted ***`),c.response.body.hits.hits=h}let u=(o=(l=c==null?void 0:c.response)===null||l===void 0?void 0:l.body)===null||o===void 0?void 0:o.aggregations;u&&Object.entries(u).forEach(([h,g])=>{var m,y,_,w;if(((y=(m=g)===null||m===void 0?void 0:m.buckets)===null||y===void 0?void 0:y.length)>0){let k=JSON.parse(JSON.stringify(g));k.buckets=`*** ${(w=(_=k.buckets)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0} buckets omitted ***`,c.response.body.aggregations[h]=k}}),console.log("***** RESPONSE RECEIVED *****"),console.groupCollapsed("Response"),console.log(JSON.stringify(c,null,2)),console.groupEnd()}catch(c){console.error("Error printing search response:",c)}}printDebuggingInfo(e){var t,r;let s=e.debugging,l=(t=s.messages)!==null&&t!==void 0?t:[],o=(r=s.data)!==null&&r!==void 0?r:{};console.log("***** BEGIN DEBUGGING *****"),console.log("Full response:"),console.log(JSON.stringify(e,null,2)),console.group("Debug messages");for(let c of l)console.log(c);console.groupEnd(),console.group("Debug data");for(let[c,n]of Object.entries(o))console.log(c,n);console.groupEnd(),console.log("***** END DEBUGGING *****")}},MA=class extends dh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=uh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?${t}`;return this.fetchUrl(r)})}},OA=class extends dh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=uh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=fts&${t}`;return this.fetchUrl(r)})}},IA=class extends dh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=uh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?service_backend=rcs&${t}`;return this.fetchUrl(r)})}},Xs;(function(e){e[e.METADATA=0]="METADATA",e[e.FULLTEXT=1]="FULLTEXT",e[e.RADIO=3]="RADIO",e[e.FEDERATED=4]="FEDERATED"})(Xs||(Xs={}));var RA=class extends dh{constructor(e){var t;super(e),this.servicePath=(t=e==null?void 0:e.servicePath)!==null&&t!==void 0?t:"/services/search/beta/page_production"}performSearch(e){return vi(this,null,function*(){this.debuggingEnabled&&e.debugging===void 0&&(e.debugging=!0);let t=uh.generateURLSearchParams(e).toString(),r=`https://${this.baseUrl}${this.servicePath}/?page_type=simple_federation&${t}`;return this.fetchUrl(r)})}},Su=class U1{constructor(t={}){this.backendOptions=t}search(s){return vi(this,arguments,function*(t,r=Xs.METADATA){let l=yield U1.getBackendForSearchType(r,this.backendOptions).performSearch(t);return l.error?l:{success:new $A(l.success)}})}static getBackendForSearchType(t,r={}){switch(t){case Xs.FULLTEXT:return new OA(r);case Xs.RADIO:return new IA(r);case Xs.FEDERATED:return new RA(r);case Xs.METADATA:default:return new MA(r)}}};Su.default=new Su;ae([xt((e,t={})=>{let{includeCredentials:r=!1,verbose:s=!1,scope:l="",baseUrl:o=""}=t;return`${e};${r};${s};${l};${o}`})],Su,"getBackendForSearchType",null);var H1;(function(e){e.INCLUDE="inc",e.EXCLUDE="exc",e.GREATER_THAN="gt",e.GREATER_OR_EQUAL="gte",e.LESS_THAN="lt",e.LESS_OR_EQUAL="lte"})(H1||(H1={}));function DA(e){var t=[],r="";for(r in e)t.push(r);return t}function Mm(e){return e=JSON.stringify(e),!(typeof e!="string"||!/^\{[\s\S]*\}$/.test(e))}function jA(e){return e instanceof Array}function NA(e){return Array.prototype.slice.call(e)}function hc(){if(!(this instanceof hc))return new hc}hc.prototype={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),s=0;s<r.length;s++){for(var l=r[s];l.charAt(0)==" ";)l=l.substring(1,l.length);if(l.indexOf(t)==0)return decodeURI(l.substring(t.length,l.length))}return!1},set:function(e,t,r){if(Mm(e))for(let s in e)this.set(s,e[s],t,r);else if(typeof e=="string"){let s=Mm(r)?r:{expires:r},l=s.path!==void 0?`;path=${s.path};path=/`:";path=/",o=s.domain?`;domain=${s.domain}`:"",c=s.secure?";secure":"",n=s.expires!==void 0?s.expires:"";typeof n=="string"&&n!==""?n=new Date(n):typeof n=="number"&&(n=new Date(+new Date+1e3*60*60*24*n)),n!==""&&"toGMTString"in n&&(n=`;expires=${n.toGMTString()}`);let u=s.sameSite?`;SameSite=${s.sameSite}`:"";document.cookie=`${e}=${encodeURI(t)+n+l+o+c+u}`}},remove:function(e){e=jA(e)?e:NA(arguments);for(var t=0,r=e.length;t<r;t++)this.set(e[t],"",-1);return e},clear:function(e){return e?this.remove(e):this.remove(DA(this.all()))},all:function(){if(document.cookie==="")return{};for(var e=document.cookie.split("; "),t={},r=0,s=e.length;r<s;r++){var l=e[r].split("=");t[decodeURI(l[0])]=decodeURI(l[1])}return t}};var Js=null,Om=function(e,t,r){let s=arguments;if(Js||(Js=hc()),s.length===0)return Js.all();if(s.length===1&&e===null)return Js.clear();if(s.length===2&&!t)return Js.clear(e);if(typeof e=="string"&&!t)return Js.get(e);if(typeof e=="string"&&t||Mm(e))return Js.set(e,t,r)};for(let e in hc.prototype)Om[e]=hc.prototype[e];Bn();var BA=class W1{constructor(t){this.name=t.name,this.source=t.source,this.mtime=t.mtime,this.size=t.size,this.md5=t.md5,this.crc32=t.crc32,this.sha1=t.sha1,this.format=t.format,this.rotation=t.rotation}static fromResponse(t){let r=Wn.shared,s=Wo.shared,l,o,c;return t.mtime&&(l=r.parseValue(t.mtime)),t.size&&(o=s.parseValue(t.size)),t.rotation&&(c=r.parseValue(t.rotation)),new W1({name:t.name,source:t.source,mtime:l,size:o,md5:t.md5,crc32:t.crc32,sha1:t.sha1,format:t.format,rotation:c})}},V1=class q1{constructor(t){this.username=t.username,this.itemname=t.itemname,this.screenname=t.screenname,this.privs=t.privs,this.image_info=t.image_info,this.isArchiveOrgUser=this.username.endsWith("@archive.org");let{itemname:r}=t;this.userid=r.startsWith("@")?r.substring(1):r}static fromUserResponse(t){return new q1({username:t.username,itemname:t.itemname,screenname:t.screenname,privs:t.privs,image_info:BA.fromResponse(t.image_info)})}},pc;(function(e){e.userNotLoggedIn="UserService.userNotLoggedIn",e.networkError="UserService.networkError",e.decodingError="UserService.decodingError"})(pc||(pc={}));var hh=class extends Error{constructor(e,t){super(t),this.name=e,this.type=e}},G1=class{constructor(e){var t,r;this.userServiceEndpoint=(t=e==null?void 0:e.userServiceEndpoint)!==null&&t!==void 0?t:"https://archive.org/services/user.php?op=whoami",this.cache=e==null?void 0:e.cache,this.cacheTTL=e==null?void 0:e.cacheTTL,this.userCacheKey=(r=e==null?void 0:e.userCacheKey)!==null&&r!==void 0?r:"loggedInUserInfo"}getLoggedInUser(){return vi(this,null,function*(){let e=Om.get("logged-in-user");if(e===!1)return{error:new hh(pc.userNotLoggedIn)};let t=yield this.getPersistedUser();if(t){let s=V1.fromUserResponse(t);if(e===s.username)return{success:s}}if(this.fetchPromise)return this.fetchPromise=this.fetchPromise.then(s=>s),this.fetchPromise;this.fetchPromise=this.fetchUser();let r=yield this.fetchPromise;return this.fetchPromise=void 0,r})}fetchUser(){return vi(this,null,function*(){let e;try{e=yield fetch(this.userServiceEndpoint,{credentials:"include"})}catch(l){return{error:new hh(pc.networkError,l.message)}}let t;try{t=yield e.json()}catch(l){return{error:new hh(pc.decodingError,l.message)}}if(!t.success||!t.value)return{error:new hh(pc.userNotLoggedIn,t.error)};let r=t.value,s=V1.fromUserResponse(r);return yield this.persistUser(r),{success:s}})}getPersistedUser(){return vi(this,null,function*(){var e;return(e=this.cache)===null||e===void 0?void 0:e.get(this.userCacheKey)})}persistUser(e){return vi(this,null,function*(){var t;yield(t=this.cache)===null||t===void 0?void 0:t.set({key:this.userCacheKey,value:e,ttl:this.cacheTTL})})}};vr();xi();Nr();vr();xi();Nr();xi();xi();xi();xi();var HA=class{fetchApiResponse(e,t){return vi(this,null,function*(){let r={};return t!=null&&t.includeCredentials&&(r.credentials="include"),t!=null&&t.method&&(r.method=t.method),t!=null&&t.body&&(r.body=t.body),t!=null&&t.headers&&(r.headers=t.headers),yield(yield fetch(e,r)).json()})}},FA="https://archive.org",Y1={create(e){let{serviceUrl:t,serviceProtocol:r="https://"}=e,s=t?`${r}${t}`:FA;return new sh({fetchHandler:new HA,searchService:Su.default,userService:new G1,baseUrl:s})}};function zA(e,t,r){return vi(this,null,function*(){let s=document.querySelector("modal-manager");if(!s){let o=document.querySelector("body");s=document.createElement("modal-manager"),o==null||o.appendChild(s)}let l=()=>{let o=s!=null?s:document.querySelector("modal-manager");o==null||o.showModal({config:new Yc,customModalContent:void 0,userClosedModalCallback:void 0}),o==null||o.closeModal(),s==null||s.removeAttribute("id")};s==null||s.setAttribute("id","create-user-list-modal"),s.showModal({config:new Yc({title:ze`List settings`,headerColor:"#194880",showCloseButton:!0,showHeaderLogo:!1,closeOnBackdropClick:!0}),userClosedModalCallback:()=>l(),customModalContent:ze`
      <iaux-userlist-settings
        .userList=${{id:void 0,list_name:"",description:"",is_private:!1}}
        .userListsService=${e}
        @listModalClosed=${()=>l()}
        @userListError=${o=>{var c,n,u,h;let g=(h=(n=(c=o.detail.error)===null||c===void 0?void 0:c.reason)!==null&&n!==void 0?n:(u=o.detail.error)===null||u===void 0?void 0:u.message)!==null&&h!==void 0?h:"Unknown error from iaux-userlist-settings";console==null||console.error("userListSettingsError",g)}}
        @userListSaving=${()=>vi(this,null,function*(){t==null||t()})}
        @userListSaved=${o=>vi(this,null,function*(){yield r==null?void 0:r(o.detail.id),l()})}
      ></iaux-userlist-settings>
    `})})}var X1=An`<svg
      viewBox="0 0 100 100"
      xmlns="http://www.w3.org/2000/svg"
      >
    <g fill="currentColor" fill-rule="nonzero">
      <path d="m49.9459358 0c13.7978412 0 25.5896453 4.88776371 35.3754122 14.6632911 9.7857669 9.7755275 14.678652 21.554993 14.678652 35.3383967 0 13.7800281-4.8928851 25.5594936-14.678652 35.3350211-9.7857669 9.7755274-21.577571 14.6632911-35.3754122 14.6632911s-25.5716235-4.8877637-35.3213471-14.6632911c-9.74972353-9.7755275-14.6245887-21.554993-14.6245887-35.3383967-.00224931-9.0014064 2.23243779-17.3524613 6.70406469-25.0531645 4.47162691-7.7007033 10.54380341-13.7834037 18.21652941-18.24810129 7.6727261-4.46469761 16.0145067-6.69704641 25.0253417-6.69704641zm0 6c-7.9548389 0-15.2549008 1.95357387-22.0076943 5.8829701-6.7720278 3.9405885-12.0963254 9.2741139-16.0455165 16.0751171-3.93842488 6.7824623-5.89471047 14.0931257-5.89272481 22.040225 0 12.1941053 4.24437231 22.4500702 12.87283241 31.1013666 8.6242501 8.6470752 18.8695883 12.9003212 31.0731032 12.9003212 12.2065273 0 22.4734846-4.2557068 31.1349929-12.9081521 8.6603017-8.6512398 12.9190715-18.9040965 12.9190715-31.0935357l-.0036695-.6147591c-.1419586-11.9183989-4.4018851-21.9707923-12.915402-30.475401-8.6615083-8.6524453-18.9284656-12.9081521-31.1349929-12.9081521z" />
      <path d="m56 23v22h22v11h-22v22h-11l-.001-22h-21.999v-11h21.999l.001-22z" />
    </g>
  </svg>`,Z1=An`<svg viewBox="0 0 100 100"
xmlns="http://www.w3.org/2000/svg"
>
<path
  d="m33.3333333 90-33.3333333-33.3333333 13.3333333-13.3333334 20 20 53.3333334-53.3333333 13.3333333 13.3333333z"
  fill-rule="evenodd" fill="currentColor"
/>
</svg>`,Eu=class extends fi{constructor(){super(...arguments),this.itemId="",this.lists=[],this.closeDropdown=()=>{this.dispatchEvent(new CustomEvent("closeDropdown",{bubbles:!0,composed:!0}))},this.selectDropdown=()=>{this.dispatchEvent(new CustomEvent("selectDropdown",{bubbles:!0,composed:!0}))},this.updateDropdown=()=>{this.dispatchEvent(new CustomEvent("updateDropdown",{bubbles:!0,composed:!0}))},this.optionClicked=(e,t)=>{var r;e.stopPropagation(),(r=t.selectedHandler)===null||r===void 0||r.call(t,t)},this.onSelected=e=>vi(this,null,function*(){this.selectDropdown();let t=this.lists.find(r=>e.id===r.id)||{};t.item_is_member?yield this.removeMember(t.id,t.member_id):yield this.addMember(t.id),this.updateDropdown()}),this.addCreatedList=e=>vi(this,null,function*(){yield this.addMember(e),this.dispatchEvent(new CustomEvent("listCreated",{detail:{totalLists:this.lists.length}})),this.updateDropdown()}),this.createList=()=>{this.closeDropdown(),zA(this.userListsService,this.selectDropdown,this.addCreatedList)},this.userListOptions=()=>{let e=[];return e=this.lists.map(t=>this.listOption(t)),e.push(this.newListOption),e}}listOption(e){return{id:e.id,label:this.labelTemplate(e),isSelected:e.item_is_member,selectedHandler:t=>this.onSelected(t)}}get newListOption(){return{id:"create-new-list",label:ze` <ia-icon-label>
        <div slot="icon" class="icon-size">${X1}</div>
        Create new list
      </ia-icon-label>`,selectedHandler:()=>this.createList()}}addMember(e){return vi(this,null,function*(){var t;yield(t=this.userListsService)===null||t===void 0?void 0:t.addMemberToList(e,{identifier:this.itemId}),this.dispatchEvent(new CustomEvent("addMember",{detail:{listId:e,itemId:this.itemId}}))})}removeMember(e,t){return vi(this,null,function*(){var r;yield(r=this.userListsService)===null||r===void 0?void 0:r.removeMemberFromList(e,t),this.dispatchEvent(new CustomEvent("removeMember",{detail:{listId:e,itemId:this.itemId}}))})}labelTemplate(e){let{item_is_member:t,list_name:r}=e;return ze`
      <ia-icon-label>
        <div slot="icon" class="icon-size">
          ${t?Z1:Ai}
        </div>
        <div class="truncate">${r}</div>
      </ia-icon-label>
    `}optionTemplate(e){return ze` <li class="${e.isSelected?"selected":""}">
      ${this.buttonTemplate(e)}
    </li>`}buttonTemplate(e){return ze`
      <button @click=${t=>this.optionClicked(t,e)}>
        ${e.label}
      </button>
    `}render(){return ze` ${this.userListOptions().map(e=>this.optionTemplate(e))} `}static get styles(){return dt`
      :host {
        display: inline;
        background-color: #fff;
      }

      li:hover {
        list-style: none;
        cursor: pointer;
      }

      li {
        background: #fff;
        list-style: none;
        height: 30px;
        cursor: pointer;
        border-bottom: 1px #f1f1f1 solid;
        color: #2c2c2c;
        width: 140px;
        text-overflow: ellipsis;
      }

      li button {
        background: none;
        color: inherit;
        border: none;
        font: inherit;
        cursor: pointer;
        width: 100%;
        padding: 0px 10px;
        font-size: 12px;
        --iconLabelGutterWidth: 8px;
        --iconWidth: 12px;
        margin: 0;
      }

      /* cover the list with the label */
      li > * > :first-child {
        margin: 0;
        display: inline-block;
        height: 30px;
        box-sizing: border-box;
        text-align: left;
        line-height: initial;
      }

      /* color opacity calculator: https://codepen.io/quyenvsp/pen/jOLBBmX
        foreground: #2c2c2c 44;
        background: #fff;
      */
      button:hover {
        /* 10% 234 */
        background-color: #eaeaea;
      }

      button:focus,
      button:focus-visible {
        /* 20% 213 */
        background-color: #d5d5d5;
      }

      button:active {
        /* 30% 192 */
        background-color: #c0c0c0;
      }

      .icon-size {
        width: 12px;
        height: 12px;
      }
    `}};ae([Kt({type:String})],Eu.prototype,"itemId",void 0);ae([Kt({type:Array})],Eu.prototype,"lists",void 0);ae([Kt({type:Object})],Eu.prototype,"userListsService",void 0);Eu=ae([lr("item-user-lists")],Eu);var K1=ze`<img
  src="https://archive.org/images/loading.gif"
  alt="Loading..."
/>`,$a=class extends fi{constructor(){super(...arguments),this.baseHost="archive.org",this.item="",this.selectedCount=0,this.userListData=[],this.dataAction="initial",this.userListsService=Y1.create({serviceUrl:this.baseHost}),this.listID="",this.closeListener=()=>{this.dropdown.open=!1},this.selectListener=()=>{this.dropdown.open=!1,this.dataActionTask.run(["initial"])},this.updateListener=()=>{this.dataActionTask.run(["load"])},this.dataActionTask=new gm(this,{task:t=>vi(this,[t],function*([e]){if(!this.item||!this.userListsService)return mu;switch(e){case"load":return this.updateSelectedCount();default:return mu}}),args:()=>[this.dataAction],autoRun:!1})}dropdownClicked(e){return vi(this,null,function*(){e.preventDefault(),this.dropdown.open?this.dropdown.open=!1:(yield this.dataActionTask.run(["load"]),this.dropdown.open=!0)})}firstUpdated(){return vi(this,null,function*(){var e;yield new Promise(t=>setTimeout(t,0)),this.addEventListener("closeDropdown",this.closeListener),this.addEventListener("selectDropdown",this.selectListener),this.addEventListener("updateDropdown",this.updateListener),(e=this.dataActionTask.run(["load"]))===null||e===void 0||e.then(()=>{this.dispatchEvent(new CustomEvent("userItemListDataReceived",{detail:{total_lists:this.userListData.length}}))})})}updated(e){e.has("baseHost")&&this.baseHost&&e.get("baseHost")&&this.reloadService()}reloadService(){this.userListsService=Y1.create({serviceUrl:this.baseHost}),this.dataActionTask.run(["load"])}updateItemUserList(){return vi(this,null,function*(){var e;let t=yield this.userListsService.fetchOwnListsContainingItem(this.item);if(!t.success)throw new Error((e=t.error)===null||e===void 0?void 0:e.message);return this.userListData=t.success,this.userListData})}updateSelectedCount(){return vi(this,null,function*(){let e=yield this.updateItemUserList();return this.selectedCount=e.filter(t=>t.item_is_member).length,this.selectedCount})}renderIcon(e){return ze`
      <div slot="icon" class="icon-img">${e}</div>
      <div class="label">
        <div class="def">Add to list</div>
        <div class="sm">Lists</div>
      </div>
    `}renderError(){return ze`
      <div class="label">User Lists<br />Load Error</div>
      <div class="label-sm">Load<br />Error</div>
    `}mainButton(e){return ze`
      <div class="action-bar-text">
        <ia-icon-label>
          ${e?this.renderIcon(e):this.renderError()}
        </ia-icon-label>
      </div>
    `}get isFetched(){return this.dataActionTask.status===ih.COMPLETE}get isDisabled(){return this.dataActionTask.status!==ih.COMPLETE}get itemUserListsTemplate(){return ze`
      <item-user-lists
        slot="list"
        .itemId=${this.item}
        .lists=${this.userListData}
        .userListsService=${this.userListsService}
        @addMember=${e=>this.dispatchEvent(new CustomEvent("memberAdded",{detail:rn(Rr({},e.detail),{total_items:this.selectedCount})}))}
        @removeMember=${e=>this.dispatchEvent(new CustomEvent("memberRemoved",{detail:rn(Rr({},e.detail),{total_items:this.selectedCount})}))}
        @userListError=${e=>{this.dispatchEvent(new CustomEvent("userListError",{detail:Rr({},e.detail)}))}}
        @listCreated=${e=>{this.dispatchEvent(new CustomEvent("listCreated",{detail:rn(Rr({},e.detail),{total_lists:this.selectedCount})}))}}
      >
      </item-user-lists>
    `}render(){return ze`
      <div class="list-container">
        <ia-dropdown
          class="list-dropdown"
          ?isDisabled=${this.isDisabled}
          ?openViaCaret=${!1}
          ?isCustomList=${!0}
          ?closeOnEscape=${!0}
          ?closeOnBackdropClick=${!0}
          ?hasCustomClickHandler=${!0}
          @click=${this.isDisabled?Ai:this.dropdownClicked}
        >
          <div class="list-title" slot="dropdown-label">
            ${this.dataActionTask.render({initial:()=>this.mainButton(K1),pending:()=>this.mainButton(K1),complete:e=>this.mainButton(e===0?X1:Z1),error:()=>this.mainButton(void 0)})}
          </div>
          ${this.itemUserListsTemplate}
        </ia-dropdown>
      </div>
    `}};$a.styles=dt`
    :host {
      display: block;
    }

    ia-icon-label {
      cursor: pointer;
      display: flex;
    }

    .icon-img {
      height: 16px;
      width: 16px;
      padding-bottom: 2px;
    }

    div.list-title {
      font-weight: 600;
      color: #2c2c2c;
    }

    ia-dropdown {
      --dropdownBgColor: #fff;
      --dropdownItemPaddingRight: 0;
      --dropdownItemPaddingLeft: 2px;
      --dropdownBorderColor: #2c2c2c;
      --dropdownBorderWidth: 2px;
      --iconLabelGutterWidth: 4px;
      --iconWidth: 10px;
      --dropdownOffsetTop: 2px;
      --buttonSlotPaddingRight: 0;
      --dropdownMainButtonFlexDirection: column;
      --dropdownMainButtonPadding: 6px 4px;
      --dropdownMainButtonHoverBgColor: rgba(44, 44, 44, 0.1);
      --dropdownMainButtonActiveBgColor: rgba(44, 44, 44, 0.3);
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      --dropdownMainButtonBorder: 2px solid #2c2c2c;
      --dropdownMainButtonBorderRadius: 3px;
    }

    .action-bar-text {
      font-size: 14px;
      font-weight: normal;
      -webkit-user-select: none;
      user-select: none;
      --iconLabelFlexDirection: column;
      --iconLabelGutterWidth: 0;
      --iconWidth: 16px;
      font-family: inherit;
    }

    .action-bar-text .label {
      display: flex;
      align-items: center;
    }

    /* inside button.click-main, classname from details.inc buttons */
    @media (min-width: 992px) {
      .action-bar-text .label {
        height: 20px;
      }
      .action-bar-text .label .sm {
        display: none;
      }
    }

    /* List button */
    @media (max-width: 991px) {
      .action-bar-text .label {
        height: 15px;
      }
      .action-bar-text .label .def {
        display: none;
      }
      .action-bar-text .label .sm {
        font-size: 13px;
      }
    }

    .click-backdrop {
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100vw;
      height: 100vh;
      z-index: 1;
      background-color: transparent;
    }
  `;ae([Kt({type:String})],$a.prototype,"baseHost",void 0);ae([Kt({type:String})],$a.prototype,"item",void 0);ae([dn()],$a.prototype,"selectedCount",void 0);ae([dn({hasChanged(e,t){if((e==null?void 0:e.length)!==(t==null?void 0:t.length))return!0;for(let r=0;r<e.length;r+=1)if(e[r].item_is_member!==t[r].item_is_member)return!0;return!1}})],$a.prototype,"userListData",void 0);ae([dn()],$a.prototype,"dataAction",void 0);ae([dn()],$a.prototype,"userListsService",void 0);ae([on("ia-dropdown")],$a.prototype,"dropdown",void 0);$a=ae([lr("ia-item-user-lists")],$a);Oo();document.addEventListener("DOMContentLoaded",()=>{var o;let e=document.querySelector("ia-item-user-lists");if(!e)return;if(window.archive_analytics){let c=(o=archive_analytics.mediaType)!=null?o:"unknown mediatype",n="DetailsPageUserLists";e.addEventListener("userItemListDataReceived",u=>{var g,m;let h=(m=(g=u.detail)==null?void 0:g.listCount)!=null?m:0;Vi("UserLists - onload, we send total lists",u.detail),archive_analytics.send_event(n,"onload",h)}),e.addEventListener("memberAdded",u=>{Vi("UserLists - memberAdded, we send mediatype",c),archive_analytics.send_event(n,"memberAdded",c)}),e.addEventListener("memberRemoved",u=>{Vi("UserLists - memberRemoved, we send mediatype",c),archive_analytics.send_event(n,"memberRemoved",c)}),e.addEventListener("listCreated",()=>{Vi("UserLists - listCreated, we send mediatype",c),archive_analytics.send_event(n,"listCreated",c)})}let t="UserLists-itemBtnCalloutDismissed",r=document.querySelector("#item-user-lists > .callout");function s(){var c;(c=window.localStorage)==null||c.setItem(t,!0),r==null||r.remove(),e==null||e.setAttribute("aria-label","Add to list"),e==null||e.removeEventListener("click",s)}function l(){var n;!!((n=window.localStorage)!=null&&n.getItem(t))||(e==null||e.setAttribute("aria-label","New feature: Add to list"),r==null||r.toggleAttribute("hidden",!1),e==null||e.addEventListener("click",s),r==null||r.addEventListener("click",s))}l()});window.$=je;(function(){if(!window.archive_analytics)return;let t=document.head.querySelector('meta[property="mediatype"]');if(!t||t.getAttribute("content")!=="texts")return;function s(l){return!!(l.offsetWidth||l.offsetHeight||l.getClientRects().length)}setTimeout(()=>{let l=document.getElementsByClassName("BRpagecontainer")||[];for(let o=0;o<l.length;o++)if(s(l[o]))return;window.archive_analytics.send_event("BookReader","SlowLoad8s")},8e3)})();je(function(){return vi(this,null,function*(){var r;let t=!je(".js-bookreader").length;if(yield Promise.resolve().then(()=>(iw(),tw)),yield Promise.all([Promise.resolve().then(()=>(sw(),aw)),Promise.resolve().then(()=>(hw(),dw))]),!t){let s=/_brExperiments=true/.test(window.location);yield Promise.resolve().then(()=>(vw(),gw)),yield Promise.all([Promise.resolve().then(()=>(_w(),xw)),Promise.resolve().then(()=>(Ew(),Cw)),Promise.resolve().then(()=>(Mw(),Lw)),Promise.resolve().then(()=>(jw(),Dw)),Promise.resolve().then(()=>(zw(),Fw)),s&&Promise.resolve().then(()=>(Gw(),qw))])}yield Promise.resolve().then(()=>(Yw(),u7)),yield Promise.resolve().then(()=>(ix(),tx)),Vi("** BR Resources loaded **",(r=window.BookReader)==null?void 0:r.version),t?(yield Promise.resolve().then(()=>(kk(),_k)),Vi("** Liner Notes loaded **")):(yield Promise.all([Promise.resolve().then(()=>(Bk(),Nk)),Promise.resolve().then(()=>(Hk(),_E)),Promise.resolve().then(()=>(Fk(),kE))]),Vi("** BR Resources loaded **")),je(".js-bookreader").each((s,l)=>{let o=JSON.parse(je(l).val());je.ajax({url:o.url,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0}).then(c=>{let n=Lr.paramsToJSON(),u={el:"#BookReader",urlHistoryBasePath:o.urlHistoryBasePath,urlMode:"history",urlTrackedParams:["page","search","mode"],enableBookTitleLink:!1,bookUrlText:null,startFullscreen:n.view==="theater",onePage:{autofit:o.autofit},showToolbar:!1,autoResize:!1,enableFSLogoShortcut:!0,enableBookmarks:!0,enableMultipleBooks:!1,purchaseUrl:o.purchase_url,plugins:{resume:{cookiePath:o.resumeCookiePath},search:{initialSearchTerm:o.initialSearchTerm}}};o.br_ui==="embed"&&(u.mode=1,u.ui="embed",u.enableFSLogoShortcut=!1),o.has_multiple_readable_files&&(u.enableMultipleBooks=!0,u.multipleBooksList=o.multipleBooksList),window.BookReaderJSIAinit(c.data,u);let h=decodeURIComponent(n.options).split("|");(n.wrapper==="false"||h.indexOf("view-only")>-1)&&u.ui!=="embed"&&je("#IABookReaderMessageWrapper").remove(),window.archive_analytics&&(window.archive_analytics.values.bookreader="open")})})})});})();
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/custom-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/property.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/state.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/base.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/event-options.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-all.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-async.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

@lit/reactive-element/decorators/query-assigned-nodes.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.6.1
   * https://jquery.com/
   *
   * Includes Sizzle.js
   * https://sizzlejs.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2022-08-26T17:52Z
   *)
*/
/*!
JW Player version 8.22.0
Copyright (c) 2021, JW Player, All Rights Reserved 
https://github.com/jwplayer/jwplayer/blob/v8.22.0/README.md

This source code and its use and distribution is subject to the terms and conditions of the applicable license agreement. 
https://www.jwplayer.com/tos/

This product includes portions of other software. For the full text of licenses, see below:

JW Player Third Party Software Notices and/or Additional Terms and Conditions

**************************************************************************************************
The following software is used under Apache License 2.0
**************************************************************************************************

vtt.js v0.13.0
Copyright (c) 2021 Mozilla (http://mozilla.org)
https://github.com/mozilla/vtt.js/blob/v0.13.0/LICENSE

* * *

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.

You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and
limitations under the License.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under MIT license
**************************************************************************************************

Underscore.js v1.6.0
Copyright (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative
https://github.com/jashkenas/underscore/blob/1.6.0/LICENSE

Backbone backbone.events.js v1.1.2
Copyright (c) 2010-2014 Jeremy Ashkenas, DocumentCloud
https://github.com/jashkenas/backbone/blob/1.1.2/LICENSE

Promise Polyfill v7.1.1
Copyright (c) 2014 Taylor Hakes and Forbes Lindesay
https://github.com/taylorhakes/promise-polyfill/blob/v7.1.1/LICENSE

can-autoplay.js v3.0.0
Copyright (c) 2017 video-dev
https://github.com/video-dev/can-autoplay/blob/v3.0.0/LICENSE

focus-options-polyfill v1.5.0
Copyright (c) 2018 Juan Valencia
https://github.com/calvellido/focus-options-polyfill/blob/v1.5.0/LICENSE

* * *

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

**************************************************************************************************
The following software is used under W3C license
**************************************************************************************************

Intersection Observer v0.5.0
Copyright (c) 2016 Google Inc. (http://google.com)
https://github.com/w3c/IntersectionObserver/blob/v0.5.0/LICENSE.md

* * *

W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE
Status: This license takes effect 13 May, 2015.

This work is being provided by the copyright holders under the following license.

License
By obtaining and/or copying this work, you (the licensee) agree that you have read, understood, and will comply with the following terms and conditions.

Permission to copy, modify, and distribute this work, with or without modification, for any purpose and without fee or royalty is hereby granted, provided that you include the following on ALL copies of the work or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the redistributed or derivative work.

Any pre-existing intellectual property disclaimers, notices, or terms and conditions. If none exist, the W3C Software and Document Short Notice should be included.

Notice of any changes or modifications, through a copyright statement on the new code or document such as "This software or document includes material copied from or derived from [title and URI of the W3C document]. Copyright  [YEAR] W3C (MIT, ERCIM, Keio, Beihang)."

Disclaimers
THIS WORK IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE OR DOCUMENT WILL NOT INFRINGE ANY THIRD PARTY PATENTS, COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENT.

The name and trademarks of copyright holders may NOT be used in advertising or publicity pertaining to the work without specific, written prior permission. Title to copyright in this work will at all times remain with copyright holders.
*/
/*! Bundled license information:

jqueryui/jquery-ui.min.js:
  (*! jQuery UI - v1.11.1 - 2014-08-13
  * http://jqueryui.com
  * Includes: core.js, widget.js, mouse.js, position.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, draggable.js, droppable.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js, menu.js, progressbar.js, resizable.js, selectable.js, selectmenu.js, slider.js, sortable.js, spinner.js, tabs.js, tooltip.js
  * Copyright 2014 jQuery Foundation and other contributors; Licensed MIT *)
*/
/*! Bundled license information:

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

tablesorter/dist/js/jquery.tablesorter.combined.js:
  (*! tablesorter (FORK) - updated 2024-08-13 (v2.32.0)*)
  (*! TableSorter (FORK) v2.32.0 *)
  (*! Widget: storage - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: uitheme - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: columns - updated 5/24/2017 (v2.28.11) *)
  (*! Widget: filter - updated 2018-03-18 (v2.30.0) *)
  (*! Widget: stickyHeaders - updated 9/27/2017 (v2.29.0) *)
  (*! Widget: resizable - updated 2018-03-26 (v2.30.2) *)
  (*! Widget: saveSort - updated 2018-03-19 (v2.30.1) *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/BookReader.js:
  (*! For license information please see BookReader.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.search.js:
  (*! For license information please see plugin.search.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.tts.js:
  (*! For license information please see plugin.tts.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.chapters.js:
  (*! For license information please see plugin.chapters.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.text_selection.js:
  (*! For license information please see plugin.text_selection.js.LICENSE.txt *)
*/
/*! Bundled license information:

@internetarchive/bookreader/BookReader/plugins/plugin.experiments.js:
  (*! For license information please see plugin.experiments.js.LICENSE.txt *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/cache.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT  Zeno Rocha
   *)
*/
/*! Bundled license information:

magic-snowflakes/dist/snowflakes.esm.js:
  (*! Snowflakes |  2023 Denis Seleznev | MIT License | https://github.com/hcodes/snowflakes/ *)
*/
/*! Bundled license information:

currency.js/dist/currency.es.js:
  (*!
   * currency.js - v2.0.4
   * http://scurker.github.io/currency.js
   *
   * Copyright (c) 2021 Jason Wilson
   * Released under MIT license
   *)
*/
/*! Bundled license information:

@lit/localize/internal/locale-status-event.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/str-tag.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/types.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/default-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-controller.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/localized-decorator.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/deferred.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/fnv1a64.js:
  (**
   * @license
   * Copyright 2014 Travis Webb
   * SPDX-License-Identifier: MIT
   *)

@lit/localize/internal/id-generation.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/internal/runtime-msg.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/runtime.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/init/transform.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/localize/lit-localize.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)
*/
/*! Bundled license information:

@lit/task/task.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
/*! Bundled license information:

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
// @license-end
//# sourceMappingURL=details-bookreader.min.js.map
